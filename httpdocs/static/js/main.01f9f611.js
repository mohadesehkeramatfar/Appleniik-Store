/*! For license information please see main.01f9f611.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,r){var n=r(7228);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,r){var n=r(9489),o=r(7067);function i(t,r,a){return o()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,r){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return r&&n(i,r.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,r){var n=r(379);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,r){var n=r(9754),o=r(7067),i=r(8585);e.exports=function(e){var t=o();return function(){var r,o=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(o,arguments,a)}else r=o.apply(this,arguments);return i(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},6525:function(e,t,r){var n=r(8331);function o(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=o=Reflect.get,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,r){var o=n(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(arguments.length<3?e:r):i.value}},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,r){var n=r(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},3622:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,r){var n=r(8).default,o=r(1506);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,r){var n=r(2858),o=r(3884),i=r(379),a=r(521);e.exports=function(e,t){return n(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8331:function(e,t,r){var n=r(9754);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},8551:function(e,t,r){var n=r(2858),o=r(3622),i=r(379),a=r(521);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,r){var n=r(3646),o=r(3622),i=r(379),a=r(8206);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,r){var n=r(9754),o=r(9489),i=r(430),a=r(9100);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,r){e.exports=r(9727)},7069:function(e,t,r){"use strict";r.r(t),r.d(t,{CacheProvider:function(){return I},ClassNames:function(){return ee},Global:function(){return X},ThemeContext:function(){return A},createElement:function(){return H},css:function(){return Z},jsx:function(){return H},keyframes:function(){return K},withEmotionCache:function(){return M}});var n=r(4578),o=r(2791);var i=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,r=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,t),this.tags.push(r)}var n=this.tags[this.tags.length-1];if(this.isSpeedy){var o=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{var i=105===e.charCodeAt(1)&&64===e.charCodeAt(0);o.insertRule(e,i?0:o.cssRules.length)}catch(a){0}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var a=function(e){function t(e,n,l,u,d){for(var h,p,v,m,_,w=0,k=0,E=0,T=0,S=0,O=0,R=v=h=0,L=0,j=0,F=0,N=0,B=l.length,V=B-1,U="",G="",q="",W="";L<B;){if(p=l.charCodeAt(L),L===V&&0!==k+T+E+w&&(0!==k&&(p=47===k?10:47),T=E=w=0,B++,V++),0===k+T+E+w){if(L===V&&(0<j&&(U=U.replace(f,"")),0<U.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(L)}p=59}switch(p){case 123:for(h=(U=U.trim()).charCodeAt(0),v=1,N=++L;L<B;){switch(p=l.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=l.charCodeAt(L+1)){case 42:case 47:e:{for(R=L+1;R<V;++R)switch(l.charCodeAt(R)){case 47:if(42===p&&42===l.charCodeAt(R-1)&&L+2!==R){L=R+1;break e}break;case 10:if(47===p){L=R+1;break e}}L=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<V&&l.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=l.substring(N,L),0===h&&(h=(U=U.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<j&&(U=U.replace(f,"")),p=U.charCodeAt(1)){case 100:case 109:case 115:case 45:j=n;break;default:j=P}if(N=(v=t(n,j,v,p,d+1)).length,0<z&&(_=s(3,v,j=r(P,U,F),n,A,C,N,p,d,u),U=j.join(""),void 0!==_&&0===(N=(v=_.trim()).length)&&(p=0,v="")),0<N)switch(p){case 115:U=U.replace(x,a);case 100:case 109:case 45:v=U+"{"+v+"}";break;case 107:v=(U=U.replace(y,"$1 $2"))+"{"+v+"}",v=1===M||2===M&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=U+v,112===u&&(G+=v,v="")}else v=""}else v=t(n,r(n,U,F),v,u,d+1);q+=v,v=F=j=R=h=0,U="",p=l.charCodeAt(++L);break;case 125:case 59:if(1<(N=(U=(0<j?U.replace(f,""):U).trim()).length))switch(0===R&&(h=U.charCodeAt(0),45===h||96<h&&123>h)&&(N=(U=U.replace(" ",":")).length),0<z&&void 0!==(_=s(1,U,n,e,A,C,G.length,u,d,u))&&0===(N=(U=_.trim()).length)&&(U="\0\0"),h=U.charCodeAt(0),p=U.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){W+=U+l.charAt(L);break}default:58!==U.charCodeAt(N-1)&&(G+=o(U,h,p,U.charCodeAt(2)))}F=j=R=h=0,U="",p=l.charCodeAt(++L)}}switch(p){case 13:case 10:47===k?k=0:0===1+h&&107!==u&&0<U.length&&(j=1,U+="\0"),0<z*D&&s(0,U,n,e,A,C,G.length,u,d,u),C=1,A++;break;case 59:case 125:if(0===k+T+E+w){C++;break}default:switch(C++,m=l.charAt(L),p){case 9:case 32:if(0===T+w+k)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+k+w&&(j=F=1,m="\f"+m);break;case 108:if(0===T+k+w+I&&0<R)switch(L-R){case 2:112===S&&58===l.charCodeAt(L-3)&&(I=S);case 8:111===O&&(I=O)}break;case 58:0===T+k+w&&(R=L);break;case 44:0===k+E+T+w&&(j=1,m+="\r");break;case 34:case 39:0===k&&(T=T===p?0:0===T?p:T);break;case 91:0===T+k+E&&w++;break;case 93:0===T+k+E&&w--;break;case 41:0===T+k+w&&E--;break;case 40:if(0===T+k+w){if(0===h)if(2*S+3*O===533);else h=1;E++}break;case 64:0===k+E+T+w+R+v&&(v=1);break;case 42:case 47:if(!(0<T+w+E))switch(k){case 0:switch(2*p+3*l.charCodeAt(L+1)){case 235:k=47;break;case 220:N=L,k=42}break;case 42:47===p&&42===S&&N+2!==L&&(33===l.charCodeAt(N+2)&&(G+=l.substring(N,L+1)),m="",k=0)}}0===k&&(U+=m)}O=S,S=p,L++}if(0<(N=G.length)){if(j=n,0<z&&(void 0!==(_=s(2,G,j,e,A,C,N,u,d,u))&&0===(G=_).length))return W+G+q;if(G=j.join(",")+"{"+G+"}",0!==M*I){switch(2!==M||i(G,2)||(I=0),I){case 111:G=G.replace(b,":-moz-$1")+G;break;case 112:G=G.replace(g,"::-webkit-input-$1")+G.replace(g,"::-moz-$1")+G.replace(g,":-ms-input-$1")+G}I=0}}return W+G+q}function r(e,t,r){var o=t.trim().split(v);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=n(e,t[s],r).trim();break;default:var l=s=0;for(t=[];s<i;++s)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",o[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function o(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===M||2===M&&i(l,1)?"-webkit-"+l+l:l}if(0===M||2===M&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(_,"tb");break;case 232:l=a.replace(_,"tb-rl");break;case 220:l=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?o(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function i(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),R(2!==t?n:n.replace(E,"$1"),r,t)}function a(e,t){var r=o(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,o,i,a,s,l,c){for(var f,d=0,h=t;d<z;++d)switch(f=O[d].call(u,e,h,r,n,o,i,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function l(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?M=1:(M=2,R=e):M=0),l}function u(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<z){var o=s(-1,r,n,n,A,C,0,0,0,0);void 0!==o&&"string"===typeof o&&(r=o)}var i=t(P,n,r,0,0);return 0<z&&(void 0!==(o=s(-2,i,n,n,A,C,i.length,0,0,0))&&(i=o)),"",I=0,C=A=1,i}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,k=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,C=1,A=1,I=0,M=1,P=[],O=[],z=0,R=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:z=O.length=0;break;default:if("function"===typeof t)O[z++]=t;else if("object"===typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=l,void 0!==e&&l(e),u},s="/*|*/";function l(e){e&&u.current.insert(e+"}")}var u={current:null},c=function(e,t,r,n,o,i,a,c,f,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return u.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===c)return t+s;break;case 3:switch(c){case 102:case 112:return u.current.insert(r[0]+t),"";default:return t+(0===d?s:"")}case-2:t.split("/*|*/}").forEach(l)}},f=function(e){void 0===e&&(e={});var t,r=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var n=new a(t);var o,s={};o=e.container||document.head;var l,f=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+r).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==o&&o.appendChild(e)})),n.use(e.stylisPlugins)(c),l=function(e,t,r,o){var i=t.name;u.current=r,n(e,t.styles),o&&(d.inserted[i]=!0)};var d={key:r,sheet:new i({key:r,container:o,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:l};return d};function d(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]):n+=r+" "})),n}var h=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var o=t;do{e.insert("."+n,o,e.sheet,!0);o=o.next}while(void 0!==o)}};var p=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},v={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var m=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,g=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!==typeof e},_=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return g(e)?e:e.replace(m,"-$&").toLowerCase()})),x=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(y,(function(e,t,r){return k={name:t,styles:r,next:k},t}))}return 1===v[e]||g(e)||"number"!==typeof t||0===t?t:t+"px"};function w(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return k={name:r.name,styles:r.styles,next:k},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)k={name:o.name,styles:o.styles,next:k},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=w(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":b(a)&&(n+=_(i)+":"+x(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=w(e,t,a,!1);switch(i){case"animation":case"animationName":n+=_(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var l=0;l<a.length;l++)b(a[l])&&(n+=_(i)+":"+x(i,a[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=k,a=r(e);return k=i,w(e,t,a,n)}}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var k,E=/label:\s*([^\s;\n{]+)\s*;/g;var T=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";k=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,o+=w(r,t,i,!1)):o+=i[0];for(var a=1;a<e.length;a++)o+=w(r,t,e[a],46===o.charCodeAt(o.length-1)),n&&(o+=i[a]);E.lastIndex=0;for(var s,l="";null!==(s=E.exec(o));)l+="-"+s[1];return{name:p(o)+l,styles:o,next:k}},S=Object.prototype.hasOwnProperty,C=(0,o.createContext)("undefined"!==typeof HTMLElement?f():null),A=(0,o.createContext)({}),I=C.Provider,M=function(e){var t=function(t,r){return(0,o.createElement)(C.Consumer,null,(function(n){return e(t,n,r)}))};return(0,o.forwardRef)(t)},P="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",O=function(e,t){var r={};for(var n in t)S.call(t,n)&&(r[n]=t[n]);return r[P]=e,r},z=function(){return null},R=function(e,t,r,n){var i=null===r?t.css:t.css(r);"string"===typeof i&&void 0!==e.registered[i]&&(i=e.registered[i]);var a=t[P],s=[i],l="";"string"===typeof t.className?l=d(e.registered,s,t.className):null!=t.className&&(l=t.className+" ");var u=T(s);h(e,u,"string"===typeof a);l+=e.key+"-"+u.name;var c={};for(var f in t)S.call(t,f)&&"css"!==f&&f!==P&&(c[f]=t[f]);c.ref=n,c.className=l;var p=(0,o.createElement)(a,c),v=(0,o.createElement)(z,null);return(0,o.createElement)(o.Fragment,null,v,p)},D=M((function(e,t,r){return"function"===typeof e.css?(0,o.createElement)(A.Consumer,null,(function(n){return R(t,e,n,r)})):R(t,e,null,r)}));var L=/[A-Z]|^ms/g,j=/_EMO_([^_]+?)_([^]*?)_EMO_/g,F=function(e){return 45===e.charCodeAt(1)},N=function(e){return null!=e&&"boolean"!==typeof e},B=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return F(e)?e:e.replace(L,"-$&").toLowerCase()})),V=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(j,(function(e,t,r){return G={name:t,styles:r,next:G},t}))}return 1===v[e]||F(e)||"number"!==typeof t||0===t?t:t+"px"};function U(e,t,r,n){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return G={name:r.name,styles:r.styles,next:G},r.name;if(void 0!==r.styles){var o=r.next;if(void 0!==o)for(;void 0!==o;)G={name:o.name,styles:o.styles,next:G},o=o.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=U(e,t,r[o],!1);else for(var i in r){var a=r[i];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":N(a)&&(n+=B(i)+":"+V(i,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=U(e,t,a,!1);switch(i){case"animation":case"animationName":n+=B(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var l=0;l<a.length;l++)N(a[l])&&(n+=B(i)+":"+V(i,a[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=G,a=r(e);return G=i,U(e,t,a,n)}}if(null==t)return r;var s=t[r];return void 0===s||n?r:s}var G,q=/label:\s*([^\s;\n{]+)\s*;/g;var W=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";G=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,o+=U(r,t,i,!1)):o+=i[0];for(var a=1;a<e.length;a++)o+=U(r,t,e[a],46===o.charCodeAt(o.length-1)),n&&(o+=i[a]);q.lastIndex=0;for(var s,l="";null!==(s=q.exec(o));)l+="-"+s[1];return{name:p(o)+l,styles:o,next:G}};var Z=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return W(t)},H=function(e,t){var r=arguments;if(null==t||!S.call(t,"css"))return o.createElement.apply(void 0,r);var n=r.length,i=new Array(n);i[0]=D,i[1]=O(e,t);for(var a=2;a<n;a++)i[a]=r[a];return o.createElement.apply(null,i)},X=M((function(e,t){var r=e.styles;if("function"===typeof r)return(0,o.createElement)(A.Consumer,null,(function(e){var n=T([r(e)]);return(0,o.createElement)($,{serialized:n,cache:t})}));var n=T([r]);return(0,o.createElement)($,{serialized:n,cache:t})})),$=function(e){function t(t,r,n){return e.call(this,t,r,n)||this}(0,n.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.sheet=new i({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},r.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},r.insertStyles=function(){if(void 0!==this.props.serialized.next&&h(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},r.componentWillUnmount=function(){this.sheet.flush()},r.render=function(){return null},t}(o.Component),K=function(){var e=Z.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Y=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function J(e,t,r){var n=[],o=d(e,n,r);return n.length<2?r:o+t(n)}var Q=function(){return null},ee=M((function(e,t){return(0,o.createElement)(A.Consumer,null,(function(r){var n=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=T(r,t.registered);return h(t,o,!1),t.key+"-"+o.name},i={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return J(t.registered,n,Y(r))},theme:r},a=e.children(i);var s=(0,o.createElement)(Q,null);return(0,o.createElement)(o.Fragment,null,s,a)}))}))},7945:function(e){e.exports=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="dist/",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=(n(r(1)),r(6)),a=n(i),s=n(r(7)),l=n(r(8)),u=n(r(9)),c=n(r(10)),f=n(r(11)),d=n(r(14)),h=[],p=!1,v={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},m=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return h=(0,f.default)(h,v),(0,c.default)(h,v.once),h},y=function(){h=(0,d.default)(),m()},g=function(){h.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&u.default.mobile()||"phone"===e&&u.default.phone()||"tablet"===e&&u.default.tablet()||"function"==typeof e&&!0===e()},_=function(e){v=o(v,e),h=(0,d.default)();var t=document.all&&!window.atob;return b(v.disable)||t?g():(v.disableMutationObserver||l.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),v.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",v.easing),document.querySelector("body").setAttribute("data-aos-duration",v.duration),document.querySelector("body").setAttribute("data-aos-delay",v.delay),"DOMContentLoaded"===v.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?m(!0):"load"===v.startEvent?window.addEventListener(v.startEvent,(function(){m(!0)})):document.addEventListener(v.startEvent,(function(){m(!0)})),window.addEventListener("resize",(0,s.default)(m,v.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(m,v.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,c.default)(h,v.once)}),v.throttleDelay)),v.disableMutationObserver||l.default.ready("[data-aos]",y),h)};e.exports={init:_,refresh:m,refreshHard:y}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function r(e,t,r){function n(t){var r=v,n=m;return v=m=void 0,E=t,g=e.apply(n,r)}function i(e){return E=e,b=setTimeout(c,t),T?n(e):g}function a(e){var r=t-(e-_);return S?w(r,y-(e-E)):r}function l(e){var r=e-_;return void 0===_||r>=t||r<0||S&&e-E>=y}function c(){var e=k();return l(e)?f(e):void(b=setTimeout(c,a(e)))}function f(e){return b=void 0,C&&v?n(e):(v=m=void 0,g)}function d(){void 0!==b&&clearTimeout(b),E=0,v=_=m=b=void 0}function h(){return void 0===b?g:f(k())}function p(){var e=k(),r=l(e);if(v=arguments,m=this,_=e,r){if(void 0===b)return i(_);if(S)return b=setTimeout(c,t),n(_)}return void 0===b&&(b=setTimeout(c,t)),g}var v,m,y,g,b,_,E=0,T=!1,S=!1,C=!0;if("function"!=typeof e)throw new TypeError(u);return t=s(t)||0,o(r)&&(T=!!r.leading,y=(S="maxWait"in r)?x(s(r.maxWait)||0,t):y,C="trailing"in r?!!r.trailing:C),p.cancel=d,p.flush=h,p}function n(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError(u);return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}function o(e){var t="undefined"==typeof e?"undefined":l(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":l(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":l(e))||i(e)&&_.call(e)==f}function s(e){if("number"==typeof e)return e;if(a(e))return c;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var r=p.test(e);return r||v.test(e)?m(e.slice(2),r?2:8):h.test(e)?c:+e}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="Expected a function",c=NaN,f="[object Symbol]",d=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,m=parseInt,y="object"==("undefined"==typeof t?"undefined":l(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,b=y||g||Function("return this")(),_=Object.prototype.toString,x=Math.max,w=Math.min,k=function(){return b.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function r(e,t,r){function o(t){var r=v,n=m;return v=m=void 0,E=t,g=e.apply(n,r)}function i(e){return E=e,b=setTimeout(c,t),T?o(e):g}function s(e){var r=t-(e-k);return S?x(r,y-(e-E)):r}function u(e){var r=e-k;return void 0===k||r>=t||r<0||S&&e-E>=y}function c(){var e=w();return u(e)?f(e):void(b=setTimeout(c,s(e)))}function f(e){return b=void 0,C&&v?o(e):(v=m=void 0,g)}function d(){void 0!==b&&clearTimeout(b),E=0,v=k=m=b=void 0}function h(){return void 0===b?g:f(w())}function p(){var e=w(),r=u(e);if(v=arguments,m=this,k=e,r){if(void 0===b)return i(k);if(S)return b=setTimeout(c,t),o(k)}return void 0===b&&(b=setTimeout(c,t)),g}var v,m,y,g,b,k,E=0,T=!1,S=!1,C=!0;if("function"!=typeof e)throw new TypeError(l);return t=a(t)||0,n(r)&&(T=!!r.leading,y=(S="maxWait"in r)?_(a(r.maxWait)||0,t):y,C="trailing"in r?!!r.trailing:C),p.cancel=d,p.flush=h,p}function n(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function i(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||o(e)&&b.call(e)==c}function a(e){if("number"==typeof e)return e;if(i(e))return u;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var r=h.test(e);return r||p.test(e)?v(e.slice(2),r?2:8):d.test(e)?u:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l="Expected a function",u=NaN,c="[object Symbol]",f=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,m="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,g=m||y||Function("return this")(),b=Object.prototype.toString,_=Math.max,x=Math.min,w=function(){return g.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";function r(e){var t=void 0,n=void 0;for(t=0;t<e.length;t+=1){if((n=e[t]).dataset&&n.dataset.aos)return!0;if(n.children&&r(n.children))return!0}return!1}function n(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!n()}function i(e,t){var r=window.document,o=new(n())(a);s=t,o.observe(r.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);if(r(t.concat(n)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:o,ready:i}},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=function(){function e(){r(this,e)}return o(e,[{key:"phone",value:function(){var e=n();return!(!i.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=n();return!(!s.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){var n=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof n&&("false"===n||!r&&"true"!==n)&&e.node.classList.remove("aos-animate")},n=function(e,t){var n=window.pageYOffset,o=window.innerHeight;e.forEach((function(e,i){r(e,o+n,t)}))};t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(12)),i=function(e,t){return e.forEach((function(e,r){e.node.classList.add("aos-init"),e.position=(0,o.default)(e.node,t.offset)})),e};t.default=i},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(13)),i=function(e,t){var r=0,n=0,i=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(n=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),r=(0,o.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":r+=e.offsetHeight/2;break;case"bottom-bottom":r+=e.offsetHeight;break;case"top-center":r+=i/2;break;case"bottom-center":r+=i/2+e.offsetHeight;break;case"center-center":r+=i/2+e.offsetHeight/2;break;case"top-top":r+=i;break;case"bottom-top":r+=e.offsetHeight+i;break;case"center-top":r+=e.offsetHeight/2+i}return a.anchorPlacement||a.offset||isNaN(t)||(n=t),r+n};t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=0,r=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),r+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:r,left:t}};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=r}])},4569:function(e,t,r){e.exports=r(8036)},3381:function(e,t,r){"use strict";var n=r(3589),o=r(7297),i=r(9301),a=r(9774),s=r(1804),l=r(9145),u=r(5411),c=r(6467),f=r(221),d=r(9346);e.exports=function(e){return new Promise((function(t,r){var h,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}n.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+_)}var x=s(e.baseURL,e.url);function w(){if(g){var n="getAllResponseHeaders"in g?l(g.getAllResponseHeaders()):null,i={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g};o((function(e){t(e),y()}),(function(e){r(e),y()}),i),g=null}}if(g.open(e.method.toUpperCase(),a(x,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(w)},g.onabort=function(){g&&(r(c("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){r(c("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||f.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(c(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var k=(e.withCredentials||u(x))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;k&&(v[e.xsrfHeaderName]=k)}"setRequestHeader"in g&&n.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){g&&(r(!e||e&&e.type?new d("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),g.send(p)}))}},8036:function(e,t,r){"use strict";var n=r(3589),o=r(4049),i=r(3773),a=r(777);var s=function e(t){var r=new i(t),s=o(i.prototype.request,r);return n.extend(s,i.prototype,r),n.extend(s,r),s.create=function(r){return e(a(t,r))},s}(r(221));s.Axios=i,s.Cancel=r(9346),s.CancelToken=r(6857),s.isCancel=r(5517),s.VERSION=r(7600).version,s.all=function(e){return Promise.all(e)},s.spread=r(8089),s.isAxiosError=r(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,r){"use strict";var n=r(9346);function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,r){"use strict";var n=r(3589),o=r(9774),i=r(7470),a=r(2733),s=r(777),l=r(7835),u=l.validators;function c(e){this.defaults=e,this.interceptors={request:new i,response:new i}}c.prototype.request=function(e,t){if("string"===typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&l.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!o){var f=[a,void 0];for(Array.prototype.unshift.apply(f,n),f=f.concat(c),i=Promise.resolve(t);f.length;)i=i.then(f.shift(),f.shift());return i}for(var d=t;n.length;){var h=n.shift(),p=n.shift();try{d=h(d)}catch(v){p(v);break}}try{i=a(d)}catch(v){return Promise.reject(v)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},c.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(s(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(s(n||{},{method:e,url:t,data:r}))}})),e.exports=c},7470:function(e,t,r){"use strict";var n=r(3589);function o(){this.handlers=[]}o.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},1804:function(e,t,r){"use strict";var n=r(4044),o=r(9549);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},6467:function(e,t,r){"use strict";var n=r(6460);e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},2733:function(e,t,r){"use strict";var n=r(3589),o=r(2693),i=r(5517),a=r(221),s=r(9346);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(l(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){t=t||{};var r={};function o(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function i(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(e[r],t[r])}function a(e){if(!n.isUndefined(t[e]))return o(void 0,t[e])}function s(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:o(void 0,e[r]):o(void 0,t[r])}function l(r){return r in t?o(e[r],t[r]):r in e?o(void 0,e[r]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);n.isUndefined(o)&&t!==l||(r[e]=o)})),r}},7297:function(e,t,r){"use strict";var n=r(6467);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},2693:function(e,t,r){"use strict";var n=r(3589),o=r(221);e.exports=function(e,t,r){var i=this||o;return n.forEach(r,(function(r){e=r.call(i,e,t)})),e}},221:function(e,t,r){"use strict";var n=r(3589),o=r(4341),i=r(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=r(3381)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,r=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw i(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(a)})),e.exports=l},7600:function(e){e.exports={version:"0.25.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},9774:function(e,t,r){"use strict";var n=r(3589);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,r){"use strict";var n=r(3589);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},4341:function(e,t,r){"use strict";var n=r(3589);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},9145:function(e,t,r){"use strict";var n=r(3589),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,r){"use strict";var n=r(7600).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var i={};o.transitional=function(e,t,r){function o(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,a){if(!1===e)throw new Error(o(n," has been removed"+(t?" in "+t:"")));return t&&!i[n]&&(i[n]=!0,console.warn(o(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,a)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],a=t[i];if(a){var s=e[i],l=void 0===s||a(s,i,e);if(!0!==l)throw new TypeError("option "+i+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:o}},3589:function(e,t,r){"use strict";var n=r(4049),o=Object.prototype.toString;function i(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===o.call(e)}function l(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:l,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):i(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)f(arguments[n],r);return t},extend:function(e,t,r){return f(t,(function(t,o){e[o]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1694:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},9412:function(e){"use strict";var t="%[a-f0-9]{2}",r=new RegExp(t,"gi"),n=new RegExp("("+t+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],o(r),o(n))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var r={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},o=n.exec(e);o;){try{r[o[0]]=decodeURIComponent(o[0])}catch(t){var a=i(o[0]);a!==o[0]&&(r[o[0]]=a)}o=n.exec(e)}r["%C2"]="\ufffd";for(var s=Object.keys(r),l=0;l<s.length;l++){var u=s[l];e=e.replace(new RegExp(u,"g"),r[u])}return e}(e)}}},9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===r}(e)}(e)};var r="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function o(e,t,r){return e.concat(t).map((function(e){return n(e,r)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(r){return!1}}function s(e,t,r){var o={};return r.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=n(e[t],r)})),i(t).forEach((function(i){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(a(e,i)&&r.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return l;var r=t.customMerge(e);return"function"===typeof r?r:l}(i,r)(e[i],t[i],r):o[i]=n(t[i],r))})),o}function l(e,r,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=n;var a=Array.isArray(r);return a===Array.isArray(e)?a?i.arrayMerge(e,r,i):s(e,r,i):n(r,i)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return l(e,r,t)}),{})};var u=l;e.exports=u},2683:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),o=Array.isArray(t),i=0;i<n.length;i++){var a=n[i],s=e[a];(o?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},2110:function(e,t,r){"use strict";var n=r(8309),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(p){var o=h(r);o&&o!==p&&e(t,o,n)}var a=c(r);f&&(a=a.concat(f(r)));for(var s=l(t),v=l(r),m=0;m<a.length;++m){var y=a[m];if(!i[y]&&(!n||!n[y])&&(!v||!v[y])&&(!s||!s[y])){var g=d(r,y);try{u(t,y,g)}catch(b){}}}}return t}},746:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,_=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case f:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case v:case l:return e;default:return t}}case o:return t}}}function w(e){return x(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=u,t.ContextProvider=l,t.Element=n,t.ForwardRef=d,t.Fragment=i,t.Lazy=m,t.Memo=v,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===_||e.$$typeof===y)},t.typeOf=x},8309:function(e,t,r){"use strict";e.exports=r(746)},908:function(e,t,r){var n=r(8136)(r(7009),"DataView");e.exports=n},9676:function(e,t,r){var n=r(5403),o=r(2747),i=r(6037),a=r(4154),s=r(7728);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8384:function(e,t,r){var n=r(3894),o=r(8699),i=r(4957),a=r(7184),s=r(7109);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},5797:function(e,t,r){var n=r(8136)(r(7009),"Map");e.exports=n},8059:function(e,t,r){var n=r(4086),o=r(9255),i=r(9186),a=r(3423),s=r(3739);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8319:function(e,t,r){var n=r(8136)(r(7009),"Promise");e.exports=n},3924:function(e,t,r){var n=r(8136)(r(7009),"Set");e.exports=n},692:function(e,t,r){var n=r(8059),o=r(5774),i=r(1596);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},2854:function(e,t,r){var n=r(8384),o=r(511),i=r(835),a=r(707),s=r(8832),l=r(5077);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},7197:function(e,t,r){var n=r(7009).Symbol;e.exports=n},6219:function(e,t,r){var n=r(7009).Uint8Array;e.exports=n},7091:function(e,t,r){var n=r(8136)(r(7009),"WeakMap");e.exports=n},4903:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},7538:function(e,t,r){var n=r(6478),o=r(4963),i=r(3629),a=r(5174),s=r(6800),l=r(9102),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),c=!r&&o(e),f=!r&&!c&&a(e),d=!r&&!c&&!f&&l(e),h=r||c||f||d,p=h?n(e.length,String):[],v=p.length;for(var m in e)!t&&!u.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},8950:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},1705:function(e){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},2095:function(e){e.exports=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}},7897:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,r){var n=r(9231);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},2526:function(e,t,r){var n=r(8528);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},5099:function(e,t,r){var n=r(372)();e.exports=n},5358:function(e,t,r){var n=r(5099),o=r(2742);e.exports=function(e,t){return e&&n(e,t,o)}},8667:function(e,t,r){var n=r(3082),o=r(9793);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},1986:function(e,t,r){var n=r(1705),o=r(3629);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},9066:function(e,t,r){var n=r(7197),o=r(1587),i=r(3581),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,r){var n=r(9066),o=r(3141);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},1848:function(e,t,r){var n=r(3355),o=r(3141);e.exports=function e(t,r,i,a,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!==t&&r!==r:n(t,r,i,a,e,s))}},3355:function(e,t,r){var n=r(2854),o=r(5305),i=r(2206),a=r(8078),s=r(8383),l=r(3629),u=r(5174),c=r(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,v,m,y){var g=l(e),b=l(t),_=g?d:s(e),x=b?d:s(t),w=(_=_==f?h:_)==h,k=(x=x==f?h:x)==h,E=_==x;if(E&&u(e)){if(!u(t))return!1;g=!0,w=!1}if(E&&!w)return y||(y=new n),g||c(e)?o(e,t,r,v,m,y):i(e,t,_,r,v,m,y);if(!(1&r)){var T=w&&p.call(e,"__wrapped__"),S=k&&p.call(t,"__wrapped__");if(T||S){var C=T?e.value():e,A=S?t.value():t;return y||(y=new n),m(C,A,r,v,y)}}return!!E&&(y||(y=new n),a(e,t,r,v,m,y))}},8856:function(e,t,r){var n=r(2854),o=r(1848);e.exports=function(e,t,r,i){var a=r.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=r[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=r[a])[0],f=e[c],d=u[1];if(l&&u[2]){if(void 0===f&&!(c in e))return!1}else{var h=new n;if(i)var p=i(f,d,c,e,t,h);if(!(void 0===p?o(d,f,3,i,h):p))return!1}}return!0}},6703:function(e,t,r){var n=r(4786),o=r(257),i=r(8092),a=r(7907),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?d:s).test(a(e))}},8150:function(e,t,r){var n=r(9066),o=r(4635),i=r(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},6025:function(e,t,r){var n=r(7080),o=r(4322),i=r(2100),a=r(3629),s=r(38);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):n(e):s(e)}},3654:function(e,t,r){var n=r(2936),o=r(8836),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},7080:function(e,t,r){var n=r(8856),o=r(9091),i=r(284);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},4322:function(e,t,r){var n=r(1848),o=r(6181),i=r(5658),a=r(5823),s=r(5072),l=r(284),u=r(9793);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(r){var a=o(r,e);return void 0===a&&a===t?i(r,e):n(t,a,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,r){var n=r(8667);e.exports=function(e){return function(t){return n(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}},6478:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},2446:function(e,t,r){var n=r(7197),o=r(8950),i=r(3629),a=r(152),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,r){var n=r(3629),o=r(5823),i=r(170),a=r(3518);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},9813:function(e,t,r){var n=r(2646);e.exports=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:n(e,t,r)}},5525:function(e,t,r){var n=r(7009)["__core-js_shared__"];e.exports=n},372:function(e){e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===r(i[l],l,i))break}return t}}},322:function(e,t,r){var n=r(9813),o=r(7302),i=r(7580),a=r(3518);e.exports=function(e){return function(t){t=a(t);var r=o(t)?i(t):void 0,s=r?r[0]:t.charAt(0),l=r?n(r,1).join(""):t.slice(1);return s[e]()+l}}},7810:function(e,t,r){var n=r(2095),o=r(4857),i=r(5660),a=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return n(i(o(t).replace(a,"")),e,"")}}},5868:function(e,t,r){var n=r(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n},8528:function(e,t,r){var n=r(8136),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5305:function(e,t,r){var n=r(692),o=r(7897),i=r(75);e.exports=function(e,t,r,a,s,l){var u=1&r,c=e.length,f=t.length;if(c!=f&&!(u&&f>c))return!1;var d=l.get(e),h=l.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++p<c;){var y=e[p],g=t[p];if(a)var b=u?a(g,y,p,t,e,l):a(y,g,p,e,t,l);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||s(y,e,r,a,l)))return m.push(t)}))){v=!1;break}}else if(y!==g&&!s(y,g,r,a,l)){v=!1;break}}return l.delete(e),l.delete(t),v}},2206:function(e,t,r){var n=r(7197),o=r(6219),i=r(9231),a=r(5305),s=r(234),l=r(2230),u=n?n.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,f,d){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=l),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;n|=2,d.set(e,t);var m=a(h(e),h(t),n,u,f,d);return d.delete(e),m;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,r){var n=r(8248),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var l=1&r,u=n(e),c=u.length;if(c!=n(t).length&&!l)return!1;for(var f=c;f--;){var d=u[f];if(!(l?d in t:o.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=l;++f<c;){var y=e[d=u[f]],g=t[d];if(i)var b=l?i(g,y,d,t,e,s):i(y,g,d,e,t,s);if(!(void 0===b?y===g||a(y,g,r,i,s):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var _=e.constructor,x=t.constructor;_==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},8248:function(e,t,r){var n=r(1986),o=r(5918),i=r(2742);e.exports=function(e){return n(e,i,o)}},2799:function(e,t,r){var n=r(5964);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},9091:function(e,t,r){var n=r(5072),o=r(2742);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],a=e[i];t[r]=[i,a,n(a)]}return t}},8136:function(e,t,r){var n=r(6703),o=r(40);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},1587:function(e,t,r){var n=r(7197),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(l){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},5918:function(e,t,r){var n=r(4903),o=r(8174),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},8383:function(e,t,r){var n=r(908),o=r(5797),i=r(8319),a=r(3924),s=r(7091),l=r(9066),u=r(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=u(n),m=u(o),y=u(i),g=u(a),b=u(s),_=l;(n&&_(new n(new ArrayBuffer(1)))!=p||o&&_(new o)!=c||i&&_(i.resolve())!=f||a&&_(new a)!=d||s&&_(new s)!=h)&&(_=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case v:return p;case m:return c;case y:return f;case g:return d;case b:return h}return t}),e.exports=_},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,r){var n=r(3082),o=r(4963),i=r(3629),a=r(6800),s=r(4635),l=r(9793);e.exports=function(e,t,r){for(var u=-1,c=(t=n(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(i(e)||o(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,r){var n=r(9620);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,r){var n=r(9620),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},4154:function(e,t,r){var n=r(9620),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},7728:function(e,t,r){var n=r(9620);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},5823:function(e,t,r){var n=r(3629),o=r(152),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,r){var n=r(5525),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},5072:function(e,t,r){var n=r(8092);e.exports=function(e){return e===e&&!n(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,r){var n=r(7112),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},4957:function(e,t,r){var n=r(7112);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7184:function(e,t,r){var n=r(7112);e.exports=function(e){return n(this.__data__,e)>-1}},7109:function(e,t,r){var n=r(7112);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},4086:function(e,t,r){var n=r(9676),o=r(8384),i=r(5797);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},9255:function(e,t,r){var n=r(2799);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,r){var n=r(2799);e.exports=function(e){return n(this,e).get(e)}},3423:function(e,t,r){var n=r(2799);e.exports=function(e){return n(this,e).has(e)}},3739:function(e,t,r){var n=r(2799);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},234:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},284:function(e){e.exports=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}},4634:function(e,t,r){var n=r(9151);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},9620:function(e,t,r){var n=r(8136)(Object,"create");e.exports=n},8836:function(e,t,r){var n=r(2709)(Object.keys,Object);e.exports=n},9494:function(e,t,r){e=r.nmd(e);var n=r(1032),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},7009:function(e,t,r){var n=r(1032),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},511:function(e,t,r){var n=r(8384);e.exports=function(){this.__data__=new n,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,r){var n=r(8384),o=r(5797),i=r(8059);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},7580:function(e,t,r){var n=r(4622),o=r(7302),i=r(2129);e.exports=function(e){return o(e)?i(e):n(e)}},170:function(e,t,r){var n=r(4634),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},9793:function(e,t,r){var n=r(152);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}},2129:function(e){var t="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",o="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+n+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+s+("(?:\\u200d(?:"+[o,i,a].join("|")+")"+l+s+")*"),c="(?:"+[o+r+"?",r,i,a,t].join("|")+")",f=RegExp(n+"(?="+n+")|"+c+u,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",n="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+o+"]",a="\\d+",s="[\\u2700-\\u27bf]",l="["+r+"]",u="[^\\ud800-\\udfff"+o+a+t+r+n+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+n+"]",h="(?:"+l+"|"+u+")",p="(?:"+d+"|"+u+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",m="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",b=g+y+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",c,f].join("|")+")"+g+y+")*"),_="(?:"+[s,c,f].join("|")+")"+b,x=RegExp([d+"?"+l+"+"+v+"(?="+[i,d,"$"].join("|")+")",p+"+"+m+"(?="+[i,d+h,"$"].join("|")+")",d+"?"+h+"+"+v,d+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,_].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},567:function(e,t,r){var n=r(3131),o=r(7810)((function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)}));e.exports=o},3131:function(e,t,r){var n=r(3518),o=r(2085);e.exports=function(e){return o(n(e).toLowerCase())}},4857:function(e,t,r){var n=r(5868),o=r(3518),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,n).replace(a,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,r){var n=r(8667);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},7805:function(e,t,r){var n=r(7852),o=r(6417);e.exports=function(e,t){return null!=e&&o(e,t,n)}},5658:function(e,t,r){var n=r(529),o=r(6417);e.exports=function(e,t){return null!=e&&o(e,t,n)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,r){var n=r(4906),o=r(3141),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,r){var n=r(4786),o=r(4635);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},5174:function(e,t,r){e=r.nmd(e);var n=r(7009),o=r(9488),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},4786:function(e,t,r){var n=r(9066),o=r(8092);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,r){var n=r(9066),o=r(3141);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},9102:function(e,t,r){var n=r(8150),o=r(6194),i=r(9494),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},2742:function(e,t,r){var n=r(7538),o=r(3654),i=r(1473);e.exports=function(e){return i(e)?n(e):o(e)}},763:function(e,t,r){var n;e=r.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,m=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],g="[object Arguments]",b="[object Array]",_="[object Boolean]",x="[object Date]",w="[object Error]",k="[object Function]",E="[object GeneratorFunction]",T="[object Map]",S="[object Number]",C="[object Object]",A="[object Promise]",I="[object RegExp]",M="[object Set]",P="[object String]",O="[object Symbol]",z="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",N="[object Int16Array]",B="[object Int32Array]",V="[object Uint8Array]",U="[object Uint8ClampedArray]",G="[object Uint16Array]",q="[object Uint32Array]",W=/\b__p \+= '';/g,Z=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,K=RegExp(X.source),Y=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Se="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Me="['\u2019]",Pe="[\\ud800-\\udfff]",Oe="["+Ie+"]",ze="["+Ee+"]",Re="\\d+",De="[\\u2700-\\u27bf]",Le="["+Se+"]",je="[^\\ud800-\\udfff"+Ie+Re+Te+Se+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ne="[^\\ud800-\\udfff]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Ce+"]",Ge="(?:"+Le+"|"+je+")",qe="(?:"+Ue+"|"+je+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+ze+"|"+Fe+")"+"?",Xe="[\\ufe0e\\ufe0f]?",$e=Xe+He+("(?:\\u200d(?:"+[Ne,Be,Ve].join("|")+")"+Xe+He+")*"),Ke="(?:"+[De,Be,Ve].join("|")+")"+$e,Ye="(?:"+[Ne+ze+"?",ze,Be,Ve,Pe].join("|")+")",Je=RegExp(Me,"g"),Qe=RegExp(ze,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Ye+$e,"g"),tt=RegExp([Ue+"?"+Le+"+"+We+"(?="+[Oe,Ue,"$"].join("|")+")",qe+"+"+Ze+"(?="+[Oe,Ue+Ge,"$"].join("|")+")",Ue+"?"+Ge+"+"+We,Ue+"+"+Ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Ke].join("|"),"g"),rt=RegExp("[\\u200d\\ud800-\\udfff"+Ee+Ae+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[L]=at[j]=at[F]=at[N]=at[B]=at[V]=at[U]=at[G]=at[q]=!0,at[g]=at[b]=at[R]=at[_]=at[D]=at[x]=at[w]=at[k]=at[T]=at[S]=at[C]=at[I]=at[M]=at[P]=at[z]=!1;var st={};st[g]=st[b]=st[R]=st[D]=st[_]=st[x]=st[L]=st[j]=st[F]=st[N]=st[B]=st[T]=st[S]=st[C]=st[I]=st[M]=st[P]=st[O]=st[V]=st[U]=st[G]=st[q]=!0,st[w]=st[k]=st[z]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ut=parseFloat,ct=parseInt,ft="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,gt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),bt=gt&&gt.isArrayBuffer,_t=gt&&gt.isDate,xt=gt&&gt.isMap,wt=gt&&gt.isRegExp,kt=gt&&gt.isSet,Et=gt&&gt.isTypedArray;function Tt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function St(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function At(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function It(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Mt(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function Pt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function Ot(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function zt(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}function Rt(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}function Dt(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function Lt(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function jt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Ft=Wt("length");function Nt(e,t,r){var n;return r(e,(function(e,r,o){if(t(e,r,o))return n=r,!1})),n}function Bt(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Vt(e,t,r){return t===t?function(e,t,r){var n=r-1,o=e.length;for(;++n<o;)if(e[n]===t)return n;return-1}(e,t,r):Bt(e,Gt,r)}function Ut(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}function Gt(e){return e!==e}function qt(e,t){var r=null==e?0:e.length;return r?Xt(e,t)/r:v}function Wt(e){return function(t){return null==t?o:t[e]}}function Zt(e){return function(t){return null==e?o:e[t]}}function Ht(e,t,r,n,o){return o(e,(function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)})),r}function Xt(e,t){for(var r,n=-1,i=e.length;++n<i;){var a=t(e[n]);a!==o&&(r=r===o?a:r+a)}return r}function $t(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Kt(e){return e?e.slice(0,pr(e)+1).replace(ae,""):e}function Yt(e){return function(t){return e(t)}}function Jt(e,t){return zt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function er(e,t){for(var r=-1,n=e.length;++r<n&&Vt(t,e[r],0)>-1;);return r}function tr(e,t){for(var r=e.length;r--&&Vt(t,e[r],0)>-1;);return r}function rr(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var nr=Zt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),or=Zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ir(e){return"\\"+lt[e]}function ar(e){return rt.test(e)}function sr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lr(e,t){return function(r){return e(t(r))}}function ur(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,i[o++]=r)}return i}function cr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dr(e){return ar(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function hr(e){return ar(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function pr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vr=Zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function e(t){var r=(t=null==t?ht:mr.defaults(ht.Object(),t,mr.pick(ht,ot))).Array,n=t.Date,se=t.Error,Ee=t.Function,Te=t.Math,Se=t.Object,Ce=t.RegExp,Ae=t.String,Ie=t.TypeError,Me=r.prototype,Pe=Ee.prototype,Oe=Se.prototype,ze=t["__core-js_shared__"],Re=Pe.toString,De=Oe.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Oe.toString,Ne=Re.call(Se),Be=ht._,Ve=Ce("^"+Re.call(De).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=mt?t.Buffer:o,Ge=t.Symbol,qe=t.Uint8Array,We=Ue?Ue.allocUnsafe:o,Ze=lr(Se.getPrototypeOf,Se),He=Se.create,Xe=Oe.propertyIsEnumerable,$e=Me.splice,Ke=Ge?Ge.isConcatSpreadable:o,Ye=Ge?Ge.iterator:o,et=Ge?Ge.toStringTag:o,rt=function(){try{var e=hi(Se,"defineProperty");return e({},"",{}),e}catch(t){}}(),lt=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=n&&n.now!==ht.Date.now&&n.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Te.ceil,vt=Te.floor,yt=Se.getOwnPropertySymbols,gt=Ue?Ue.isBuffer:o,Ft=t.isFinite,Zt=Me.join,yr=lr(Se.keys,Se),gr=Te.max,br=Te.min,_r=n.now,xr=t.parseInt,wr=Te.random,kr=Me.reverse,Er=hi(t,"DataView"),Tr=hi(t,"Map"),Sr=hi(t,"Promise"),Cr=hi(t,"Set"),Ar=hi(t,"WeakMap"),Ir=hi(Se,"create"),Mr=Ar&&new Ar,Pr={},Or=Bi(Er),zr=Bi(Tr),Rr=Bi(Sr),Dr=Bi(Cr),Lr=Bi(Ar),jr=Ge?Ge.prototype:o,Fr=jr?jr.valueOf:o,Nr=jr?jr.toString:o;function Br(e){if(ns(e)&&!Za(e)&&!(e instanceof qr)){if(e instanceof Gr)return e;if(De.call(e,"__wrapped__"))return Vi(e)}return new Gr(e)}var Vr=function(){function e(){}return function(t){if(!rs(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=o,r}}();function Ur(){}function Gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Hr;++t<r;)this.add(e[t])}function $r(e){var t=this.__data__=new Zr(e);this.size=t.size}function Kr(e,t){var r=Za(e),n=!r&&Wa(e),o=!r&&!n&&Ka(e),i=!r&&!n&&!o&&fs(e),a=r||n||o||i,s=a?$t(e.length,Ae):[],l=s.length;for(var u in e)!t&&!De.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_i(u,l))||s.push(u);return s}function Yr(e){var t=e.length;return t?e[$n(0,t-1)]:o}function Jr(e,t){return ji(Po(e),ln(t,0,e.length))}function Qr(e){return ji(Po(e))}function en(e,t,r){(r!==o&&!Ua(e[t],r)||r===o&&!(t in e))&&an(e,t,r)}function tn(e,t,r){var n=e[t];De.call(e,t)&&Ua(n,r)&&(r!==o||t in e)||an(e,t,r)}function rn(e,t){for(var r=e.length;r--;)if(Ua(e[r][0],t))return r;return-1}function nn(e,t,r,n){return hn(e,(function(e,o,i){t(n,e,r(e),i)})),n}function on(e,t){return e&&Oo(t,zs(t),e)}function an(e,t,r){"__proto__"==t&&rt?rt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:As(e,t[n]);return a}function ln(e,t,r){return e===e&&(r!==o&&(e=e<=r?e:r),t!==o&&(e=e>=t?e:t)),e}function un(e,t,r,n,i,a){var s,l=1&t,u=2&t,c=4&t;if(r&&(s=i?r(e,n,i,a):r(e)),s!==o)return s;if(!rs(e))return e;var f=Za(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!l)return Po(e,s)}else{var d=mi(e),h=d==k||d==E;if(Ka(e))return To(e,l);if(d==C||d==g||h&&!i){if(s=u||h?{}:gi(e),!l)return u?function(e,t){return Oo(e,vi(e),t)}(e,function(e,t){return e&&Oo(t,Rs(t),e)}(s,e)):function(e,t){return Oo(e,pi(e),t)}(e,on(s,e))}else{if(!st[d])return i?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case R:return So(e);case _:case x:return new n(+e);case D:return function(e,t){var r=t?So(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case L:case j:case F:case N:case B:case V:case U:case G:case q:return Co(e,r);case T:return new n;case S:case P:return new n(e);case I:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return new n;case O:return o=e,Fr?Se(Fr.call(o)):{}}var o}(e,d,l)}}a||(a=new $r);var p=a.get(e);if(p)return p;a.set(e,s),ls(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):os(e)&&e.forEach((function(n,o){s.set(o,un(n,t,r,o,e,a))}));var v=f?o:(c?u?ai:ii:u?Rs:zs)(e);return Ct(v||e,(function(n,o){v&&(n=e[o=n]),tn(s,o,un(n,t,r,o,e,a))})),s}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Se(e);n--;){var i=r[n],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function fn(e,t,r){if("function"!=typeof e)throw new Ie(i);return zi((function(){e.apply(o,r)}),t)}function dn(e,t,r,n){var o=-1,i=Pt,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;r&&(t=zt(t,Yt(r))),n?(i=Ot,a=!1):t.length>=200&&(i=Qt,a=!1,t=new Xr(t));e:for(;++o<s;){var c=e[o],f=null==r?c:r(c);if(c=n||0!==c?c:0,a&&f===f){for(var d=u;d--;)if(t[d]===f)continue e;l.push(c)}else i(t,f,n)||l.push(c)}return l}Br.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Br}},Br.prototype=Ur.prototype,Br.prototype.constructor=Br,Gr.prototype=Vr(Ur.prototype),Gr.prototype.constructor=Gr,qr.prototype=Vr(Ur.prototype),qr.prototype.constructor=qr,Wr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Wr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wr.prototype.get=function(e){var t=this.__data__;if(Ir){var r=t[e];return r===a?o:r}return De.call(t,e)?t[e]:o},Wr.prototype.has=function(e){var t=this.__data__;return Ir?t[e]!==o:De.call(t,e)},Wr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ir&&t===o?a:t,this},Zr.prototype.clear=function(){this.__data__=[],this.size=0},Zr.prototype.delete=function(e){var t=this.__data__,r=rn(t,e);return!(r<0)&&(r==t.length-1?t.pop():$e.call(t,r,1),--this.size,!0)},Zr.prototype.get=function(e){var t=this.__data__,r=rn(t,e);return r<0?o:t[r][1]},Zr.prototype.has=function(e){return rn(this.__data__,e)>-1},Zr.prototype.set=function(e,t){var r=this.__data__,n=rn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Wr,map:new(Tr||Zr),string:new Wr}},Hr.prototype.delete=function(e){var t=fi(this,e).delete(e);return this.size-=t?1:0,t},Hr.prototype.get=function(e){return fi(this,e).get(e)},Hr.prototype.has=function(e){return fi(this,e).has(e)},Hr.prototype.set=function(e,t){var r=fi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Xr.prototype.add=Xr.prototype.push=function(e){return this.__data__.set(e,a),this},Xr.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.clear=function(){this.__data__=new Zr,this.size=0},$r.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},$r.prototype.get=function(e){return this.__data__.get(e)},$r.prototype.has=function(e){return this.__data__.has(e)},$r.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Zr){var n=r.__data__;if(!Tr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(e,t),this.size=r.size,this};var hn=Do(xn),pn=Do(wn,!0);function vn(e,t){var r=!0;return hn(e,(function(e,n,o){return r=!!t(e,n,o)})),r}function mn(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(null!=s&&(l===o?s===s&&!cs(s):r(s,l)))var l=s,u=a}return u}function yn(e,t){var r=[];return hn(e,(function(e,n,o){t(e,n,o)&&r.push(e)})),r}function gn(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=bi),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?gn(s,t-1,r,n,o):Rt(o,s):n||(o[o.length]=s)}return o}var bn=Lo(),_n=Lo(!0);function xn(e,t){return e&&bn(e,t,zs)}function wn(e,t){return e&&_n(e,t,zs)}function kn(e,t){return Mt(t,(function(t){return Qa(e[t])}))}function En(e,t){for(var r=0,n=(t=xo(t,e)).length;null!=e&&r<n;)e=e[Ni(t[r++])];return r&&r==n?e:o}function Tn(e,t,r){var n=t(e);return Za(e)?n:Rt(n,r(e))}function Sn(e){return null==e?e===o?"[object Undefined]":"[object Null]":et&&et in Se(e)?function(e){var t=De.call(e,et),r=e[et];try{e[et]=o;var n=!0}catch(a){}var i=Fe.call(e);n&&(t?e[et]=r:delete e[et]);return i}(e):function(e){return Fe.call(e)}(e)}function Cn(e,t){return e>t}function An(e,t){return null!=e&&De.call(e,t)}function In(e,t){return null!=e&&t in Se(e)}function Mn(e,t,n){for(var i=n?Ot:Pt,a=e[0].length,s=e.length,l=s,u=r(s),c=1/0,f=[];l--;){var d=e[l];l&&t&&(d=zt(d,Yt(t))),c=br(d.length,c),u[l]=!n&&(t||a>=120&&d.length>=120)?new Xr(l&&d):o}d=e[0];var h=-1,p=u[0];e:for(;++h<a&&f.length<c;){var v=d[h],m=t?t(v):v;if(v=n||0!==v?v:0,!(p?Qt(p,m):i(f,m,n))){for(l=s;--l;){var y=u[l];if(!(y?Qt(y,m):i(e[l],m,n)))continue e}p&&p.push(m),f.push(v)}}return f}function Pn(e,t,r){var n=null==(e=Ii(e,t=xo(t,e)))?e:e[Ni(Ji(t))];return null==n?o:Tt(n,e,r)}function On(e){return ns(e)&&Sn(e)==g}function zn(e,t,r,n,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!==e&&t!==t:function(e,t,r,n,i,a){var s=Za(e),l=Za(t),u=s?b:mi(e),c=l?b:mi(t),f=(u=u==g?C:u)==C,d=(c=c==g?C:c)==C,h=u==c;if(h&&Ka(e)){if(!Ka(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new $r),s||fs(e)?ni(e,t,r,n,i,a):function(e,t,r,n,o,i,a){switch(r){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case _:case x:case S:return Ua(+e,+t);case w:return e.name==t.name&&e.message==t.message;case I:case P:return e==t+"";case T:var s=sr;case M:var l=1&n;if(s||(s=cr),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=ni(s(e),s(t),n,o,i,a);return a.delete(e),c;case O:if(Fr)return Fr.call(e)==Fr.call(t)}return!1}(e,t,u,r,n,i,a);if(!(1&r)){var p=f&&De.call(e,"__wrapped__"),v=d&&De.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,y=v?t.value():t;return a||(a=new $r),i(m,y,r,n,a)}}if(!h)return!1;return a||(a=new $r),function(e,t,r,n,i,a){var s=1&r,l=ii(e),u=l.length,c=ii(t).length;if(u!=c&&!s)return!1;var f=u;for(;f--;){var d=l[f];if(!(s?d in t:De.call(t,d)))return!1}var h=a.get(e),p=a.get(t);if(h&&p)return h==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);var m=s;for(;++f<u;){var y=e[d=l[f]],g=t[d];if(n)var b=s?n(g,y,d,t,e,a):n(y,g,d,e,t,a);if(!(b===o?y===g||i(y,g,r,n,a):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var _=e.constructor,x=t.constructor;_==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,n,i,a)}(e,t,r,n,zn,i))}function Rn(e,t,r,n){var i=r.length,a=i,s=!n;if(null==e)return!a;for(e=Se(e);i--;){var l=r[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var u=(l=r[i])[0],c=e[u],f=l[1];if(s&&l[2]){if(c===o&&!(u in e))return!1}else{var d=new $r;if(n)var h=n(c,f,u,e,t,d);if(!(h===o?zn(f,c,3,n,d):h))return!1}}return!0}function Dn(e){return!(!rs(e)||(t=e,je&&je in t))&&(Qa(e)?Ve:ge).test(Bi(e));var t}function Ln(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Za(e)?Un(e[0],e[1]):Vn(e):pl(e)}function jn(e){if(!Ti(e))return yr(e);var t=[];for(var r in Se(e))De.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Fn(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=Ti(e),r=[];for(var n in e)("constructor"!=n||!t&&De.call(e,n))&&r.push(n);return r}function Nn(e,t){return e<t}function Bn(e,t){var n=-1,o=Xa(e)?r(e.length):[];return hn(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Vn(e){var t=di(e);return 1==t.length&&t[0][2]?Ci(t[0][0],t[0][1]):function(r){return r===e||Rn(r,e,t)}}function Un(e,t){return wi(e)&&Si(t)?Ci(Ni(e),t):function(r){var n=As(r,e);return n===o&&n===t?Is(r,e):zn(t,n,3)}}function Gn(e,t,r,n,i){e!==t&&bn(t,(function(a,s){if(i||(i=new $r),rs(a))!function(e,t,r,n,i,a,s){var l=Pi(e,r),u=Pi(t,r),c=s.get(u);if(c)return void en(e,r,c);var f=a?a(l,u,r+"",e,t,s):o,d=f===o;if(d){var h=Za(u),p=!h&&Ka(u),v=!h&&!p&&fs(u);f=u,h||p||v?Za(l)?f=l:$a(l)?f=Po(l):p?(d=!1,f=To(u,!0)):v?(d=!1,f=Co(u,!0)):f=[]:as(u)||Wa(u)?(f=l,Wa(l)?f=bs(l):rs(l)&&!Qa(l)||(f=gi(u))):d=!1}d&&(s.set(u,f),i(f,u,n,a,s),s.delete(u));en(e,r,f)}(e,t,s,r,Gn,n,i);else{var l=n?n(Pi(e,s),a,s+"",e,t,i):o;l===o&&(l=a),en(e,s,l)}}),Rs)}function qn(e,t){var r=e.length;if(r)return _i(t+=t<0?r:0,r)?e[t]:o}function Wn(e,t,r){t=t.length?zt(t,(function(e){return Za(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[il];var n=-1;t=zt(t,Yt(ci()));var o=Bn(e,(function(e,r,o){var i=zt(t,(function(t){return t(e)}));return{criteria:i,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(o,(function(e,t){return function(e,t,r){var n=-1,o=e.criteria,i=t.criteria,a=o.length,s=r.length;for(;++n<a;){var l=Ao(o[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Zn(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=En(e,a);r(s,a)&&eo(i,xo(a,e),s)}return i}function Hn(e,t,r,n){var o=n?Ut:Vt,i=-1,a=t.length,s=e;for(e===t&&(t=Po(t)),r&&(s=zt(e,Yt(r)));++i<a;)for(var l=0,u=t[i],c=r?r(u):u;(l=o(s,c,l,n))>-1;)s!==e&&$e.call(s,l,1),$e.call(e,l,1);return e}function Xn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;_i(o)?$e.call(e,o,1):ho(e,o)}}return e}function $n(e,t){return e+vt(wr()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=vt(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return Ri(Ai(e,t,il),e+"")}function Jn(e){return Yr(Us(e))}function Qn(e,t){var r=Us(e);return ji(r,ln(t,0,r.length))}function eo(e,t,r,n){if(!rs(e))return e;for(var i=-1,a=(t=xo(t,e)).length,s=a-1,l=e;null!=l&&++i<a;){var u=Ni(t[i]),c=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=s){var f=l[u];(c=n?n(f,u,l):o)===o&&(c=rs(f)?f:_i(t[i+1])?[]:{})}tn(l,u,c),l=l[u]}return e}var to=Mr?function(e,t){return Mr.set(e,t),e}:il,ro=rt?function(e,t){return rt(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:il;function no(e){return ji(Us(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var r;return hn(e,(function(e,n,o){return!(r=t(e,n,o))})),!!r}function ao(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t===t&&o<=2147483647){for(;n<o;){var i=n+o>>>1,a=e[i];null!==a&&!cs(a)&&(r?a<=t:a<t)?n=i+1:o=i}return o}return so(e,t,il,r)}function so(e,t,r,n){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!==t,l=null===t,u=cs(t),c=t===o;i<a;){var f=vt((i+a)/2),d=r(e[f]),h=d!==o,p=null===d,v=d===d,m=cs(d);if(s)var y=n||v;else y=c?v&&(n||h):l?v&&h&&(n||!p):u?v&&h&&!p&&(n||!m):!p&&!m&&(n?d<=t:d<t);y?i=f+1:a=f}return br(a,4294967294)}function lo(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ua(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function uo(e){return"number"==typeof e?e:cs(e)?v:+e}function co(e){if("string"==typeof e)return e;if(Za(e))return zt(e,co)+"";if(cs(e))return Nr?Nr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,r){var n=-1,o=Pt,i=e.length,a=!0,s=[],l=s;if(r)a=!1,o=Ot;else if(i>=200){var u=t?null:Yo(e);if(u)return cr(u);a=!1,o=Qt,l=new Xr}else l=t?[]:s;e:for(;++n<i;){var c=e[n],f=t?t(c):c;if(c=r||0!==c?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),s.push(c)}else o(l,f,r)||(l!==s&&l.push(f),s.push(c))}return s}function ho(e,t){return null==(e=Ii(e,t=xo(t,e)))||delete e[Ni(Ji(t))]}function po(e,t,r,n){return eo(e,t,r(En(e,t)),n)}function vo(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?oo(e,n?0:i,n?i+1:o):oo(e,n?i+1:0,n?o:i)}function mo(e,t){var r=e;return r instanceof qr&&(r=r.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function yo(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],l=-1;++l<o;)l!=i&&(a[i]=dn(a[i]||s,e[l],t,n));return fo(gn(a,1),t,n)}function go(e,t,r){for(var n=-1,i=e.length,a=t.length,s={};++n<i;){var l=n<a?t[n]:o;r(s,e[n],l)}return s}function bo(e){return $a(e)?e:[]}function _o(e){return"function"==typeof e?e:il}function xo(e,t){return Za(e)?e:wi(e,t)?[e]:Fi(_s(e))}var wo=Yn;function ko(e,t,r){var n=e.length;return r=r===o?n:r,!t&&r>=n?e:oo(e,t,r)}var Eo=lt||function(e){return ht.clearTimeout(e)};function To(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function So(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Co(e,t){var r=t?So(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var r=e!==o,n=null===e,i=e===e,a=cs(e),s=t!==o,l=null===t,u=t===t,c=cs(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||n&&s&&u||!r&&u||!i)return 1;if(!n&&!a&&!c&&e<t||c&&r&&i&&!n&&!a||l&&r&&i||!s&&i||!u)return-1}return 0}function Io(e,t,n,o){for(var i=-1,a=e.length,s=n.length,l=-1,u=t.length,c=gr(a-s,0),f=r(u+c),d=!o;++l<u;)f[l]=t[l];for(;++i<s;)(d||i<a)&&(f[n[i]]=e[i]);for(;c--;)f[l++]=e[i++];return f}function Mo(e,t,n,o){for(var i=-1,a=e.length,s=-1,l=n.length,u=-1,c=t.length,f=gr(a-l,0),d=r(f+c),h=!o;++i<f;)d[i]=e[i];for(var p=i;++u<c;)d[p+u]=t[u];for(;++s<l;)(h||i<a)&&(d[p+n[s]]=e[i++]);return d}function Po(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function Oo(e,t,r,n){var i=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=n?n(r[l],e[l],l,r,e):o;u===o&&(u=e[l]),i?an(r,l,u):tn(r,l,u)}return r}function zo(e,t){return function(r,n){var o=Za(r)?St:nn,i=t?t():{};return o(r,e,ci(n,2),i)}}function Ro(e){return Yn((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:o,s=i>2?r[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&xi(r[0],r[1],s)&&(a=i<3?o:a,i=1),t=Se(t);++n<i;){var l=r[n];l&&e(t,l,n,a)}return t}))}function Do(e,t){return function(r,n){if(null==r)return r;if(!Xa(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Se(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}function Lo(e){return function(t,r,n){for(var o=-1,i=Se(t),a=n(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===r(i[l],l,i))break}return t}}function jo(e){return function(t){var r=ar(t=_s(t))?hr(t):o,n=r?r[0]:t.charAt(0),i=r?ko(r,1).join(""):t.slice(1);return n[e]()+i}}function Fo(e){return function(t){return Dt(Qs(Ws(t).replace(Je,"")),e,"")}}function No(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Vr(e.prototype),n=e.apply(r,t);return rs(n)?n:r}}function Bo(e){return function(t,r,n){var i=Se(t);if(!Xa(t)){var a=ci(r,3);t=zs(t),r=function(e){return a(i[e],e,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:o}}function Vo(e){return oi((function(t){var r=t.length,n=r,a=Gr.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ie(i);if(a&&!l&&"wrapper"==li(s))var l=new Gr([],!0)}for(n=l?n:r;++n<r;){var u=li(s=t[n]),c="wrapper"==u?si(s):o;l=c&&ki(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[li(c[0])].apply(l,c[3]):1==s.length&&ki(s)?l[u]():l.thru(s)}return function(){var e=arguments,n=e[0];if(l&&1==e.length&&Za(n))return l.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}}))}function Uo(e,t,n,i,a,s,l,u,c,d){var h=t&f,p=1&t,v=2&t,m=24&t,y=512&t,g=v?o:No(e);return function o(){for(var f=arguments.length,b=r(f),_=f;_--;)b[_]=arguments[_];if(m)var x=ui(o),w=rr(b,x);if(i&&(b=Io(b,i,a,m)),s&&(b=Mo(b,s,l,m)),f-=w,m&&f<d){var k=ur(b,x);return $o(e,t,Uo,o.placeholder,n,b,k,u,c,d-f)}var E=p?n:this,T=v?E[e]:e;return f=b.length,u?b=Mi(b,u):y&&f>1&&b.reverse(),h&&c<f&&(b.length=c),this&&this!==ht&&this instanceof o&&(T=g||No(T)),T.apply(E,b)}}function Go(e,t){return function(r,n){return function(e,t,r,n){return xn(e,(function(e,o,i){t(n,r(e),o,i)})),n}(r,e,t(n),{})}}function qo(e,t){return function(r,n){var i;if(r===o&&n===o)return t;if(r!==o&&(i=r),n!==o){if(i===o)return n;"string"==typeof r||"string"==typeof n?(r=co(r),n=co(n)):(r=uo(r),n=uo(n)),i=e(r,n)}return i}}function Wo(e){return oi((function(t){return t=zt(t,Yt(ci())),Yn((function(r){var n=this;return e(t,(function(e){return Tt(e,n,r)}))}))}))}function Zo(e,t){var r=(t=t===o?" ":co(t)).length;if(r<2)return r?Kn(t,e):t;var n=Kn(t,pt(e/dr(t)));return ar(t)?ko(hr(n),0,e).join(""):n.slice(0,e)}function Ho(e){return function(t,n,i){return i&&"number"!=typeof i&&xi(t,n,i)&&(n=i=o),t=vs(t),n===o?(n=t,t=0):n=vs(n),function(e,t,n,o){for(var i=-1,a=gr(pt((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:vs(i),e)}}function Xo(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=gs(t),r=gs(r)),e(t,r)}}function $o(e,t,r,n,i,a,s,l,f,d){var h=8&t;t|=h?u:c,4&(t&=~(h?c:u))||(t&=-4);var p=[e,t,i,h?a:o,h?s:o,h?o:a,h?o:s,l,f,d],v=r.apply(o,p);return ki(e)&&Oi(v,p),v.placeholder=n,Di(v,e,t)}function Ko(e){var t=Te[e];return function(e,r){if(e=gs(e),(r=null==r?0:br(ms(r),292))&&Ft(e)){var n=(_s(e)+"e").split("e");return+((n=(_s(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Yo=Cr&&1/cr(new Cr([,-0]))[1]==h?function(e){return new Cr(e)}:cl;function Jo(e){return function(t){var r=mi(t);return r==T?sr(t):r==M?fr(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,h,p,v,m){var y=2&t;if(!y&&"function"!=typeof e)throw new Ie(i);var g=a?a.length:0;if(g||(t&=-97,a=h=o),v=v===o?v:gr(ms(v),0),m=m===o?m:ms(m),g-=h?h.length:0,t&c){var b=a,_=h;a=h=o}var x=y?o:si(e),w=[e,t,n,a,h,b,_,p,v,m];if(x&&function(e,t){var r=e[1],n=t[1],o=r|n,i=o<131,a=n==f&&8==r||n==f&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!i&&!a)return e;1&n&&(e[2]=t[2],o|=1&r?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Io(u,l,t[4]):l,e[4]=u?ur(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Mo(u,l,t[6]):l,e[6]=u?ur(e[5],s):t[6]);(l=t[7])&&(e[7]=l);n&f&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(w,x),e=w[0],t=w[1],n=w[2],a=w[3],h=w[4],!(m=w[9]=w[9]===o?y?0:e.length:gr(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,n){var i=No(e);return function a(){for(var s=arguments.length,l=r(s),u=s,c=ui(a);u--;)l[u]=arguments[u];var f=s<3&&l[0]!==c&&l[s-1]!==c?[]:ur(l,c);return(s-=f.length)<n?$o(e,t,Uo,a.placeholder,o,l,f,o,o,n-s):Tt(this&&this!==ht&&this instanceof a?i:e,this,l)}}(e,t,m):t!=u&&33!=t||h.length?Uo.apply(o,w):function(e,t,n,o){var i=1&t,a=No(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=o.length,f=r(c+l),d=this&&this!==ht&&this instanceof t?a:e;++u<c;)f[u]=o[u];for(;l--;)f[u++]=arguments[++s];return Tt(d,i?n:this,f)}}(e,t,n,a);else var k=function(e,t,r){var n=1&t,o=No(e);return function t(){return(this&&this!==ht&&this instanceof t?o:e).apply(n?r:this,arguments)}}(e,t,n);return Di((x?to:Oi)(k,w),e,t)}function ei(e,t,r,n){return e===o||Ua(e,Oe[r])&&!De.call(n,r)?t:e}function ti(e,t,r,n,i,a){return rs(e)&&rs(t)&&(a.set(t,e),Gn(e,t,o,ti,a),a.delete(t)),e}function ri(e){return as(e)?o:e}function ni(e,t,r,n,i,a){var s=1&r,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&r?new Xr:o;for(a.set(e,t),a.set(t,e);++d<l;){var v=e[d],m=t[d];if(n)var y=s?n(m,v,d,t,e,a):n(v,m,d,e,t,a);if(y!==o){if(y)continue;h=!1;break}if(p){if(!jt(t,(function(e,t){if(!Qt(p,t)&&(v===e||i(v,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!i(v,m,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function oi(e){return Ri(Ai(e,o,Hi),e+"")}function ii(e){return Tn(e,zs,pi)}function ai(e){return Tn(e,Rs,vi)}var si=Mr?function(e){return Mr.get(e)}:cl;function li(e){for(var t=e.name+"",r=Pr[t],n=De.call(Pr,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function ui(e){return(De.call(Br,"placeholder")?Br:e).placeholder}function ci(){var e=Br.iteratee||al;return e=e===al?Ln:e,arguments.length?e(arguments[0],arguments[1]):e}function fi(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function di(e){for(var t=zs(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Si(o)]}return t}function hi(e,t){var r=function(e,t){return null==e?o:e[t]}(e,t);return Dn(r)?r:o}var pi=yt?function(e){return null==e?[]:(e=Se(e),Mt(yt(e),(function(t){return Xe.call(e,t)})))}:yl,vi=yt?function(e){for(var t=[];e;)Rt(t,pi(e)),e=Ze(e);return t}:yl,mi=Sn;function yi(e,t,r){for(var n=-1,o=(t=xo(t,e)).length,i=!1;++n<o;){var a=Ni(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&ts(o)&&_i(a,o)&&(Za(e)||Wa(e))}function gi(e){return"function"!=typeof e.constructor||Ti(e)?{}:Vr(Ze(e))}function bi(e){return Za(e)||Wa(e)||!!(Ke&&e&&e[Ke])}function _i(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,r){if(!rs(r))return!1;var n=typeof t;return!!("number"==n?Xa(r)&&_i(t,r.length):"string"==n&&t in r)&&Ua(r[t],e)}function wi(e,t){if(Za(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!cs(e))||(re.test(e)||!te.test(e)||null!=t&&e in Se(t))}function ki(e){var t=li(e),r=Br[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=si(r);return!!n&&e===n[0]}(Er&&mi(new Er(new ArrayBuffer(1)))!=D||Tr&&mi(new Tr)!=T||Sr&&mi(Sr.resolve())!=A||Cr&&mi(new Cr)!=M||Ar&&mi(new Ar)!=z)&&(mi=function(e){var t=Sn(e),r=t==C?e.constructor:o,n=r?Bi(r):"";if(n)switch(n){case Or:return D;case zr:return T;case Rr:return A;case Dr:return M;case Lr:return z}return t});var Ei=ze?Qa:gl;function Ti(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function Si(e){return e===e&&!rs(e)}function Ci(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==o||e in Se(r)))}}function Ai(e,t,n){return t=gr(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=gr(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var l=r(t+1);++i<t;)l[i]=o[i];return l[t]=n(s),Tt(e,this,l)}}function Ii(e,t){return t.length<2?e:En(e,oo(t,0,-1))}function Mi(e,t){for(var r=e.length,n=br(t.length,r),i=Po(e);n--;){var a=t[n];e[n]=_i(a,r)?i[a]:o}return e}function Pi(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Oi=Li(to),zi=dt||function(e,t){return ht.setTimeout(e,t)},Ri=Li(ro);function Di(e,t,r){var n=t+"";return Ri(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ct(y,(function(r){var n="_."+r[0];t&r[1]&&!Pt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(n),r)))}function Li(e){var t=0,r=0;return function(){var n=_r(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function ji(e,t){var r=-1,n=e.length,i=n-1;for(t=t===o?n:t;++r<t;){var a=$n(r,i),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Fi=function(e){var t=La(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,o){t.push(n?o.replace(he,"$1"):r||e)})),t}));function Ni(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return Re.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vi(e){if(e instanceof qr)return e.clone();var t=new Gr(e.__wrapped__,e.__chain__);return t.__actions__=Po(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ui=Yn((function(e,t){return $a(e)?dn(e,gn(t,1,$a,!0)):[]})),Gi=Yn((function(e,t){var r=Ji(t);return $a(r)&&(r=o),$a(e)?dn(e,gn(t,1,$a,!0),ci(r,2)):[]})),qi=Yn((function(e,t){var r=Ji(t);return $a(r)&&(r=o),$a(e)?dn(e,gn(t,1,$a,!0),o,r):[]}));function Wi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ms(r);return o<0&&(o=gr(n+o,0)),Bt(e,ci(t,3),o)}function Zi(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n-1;return r!==o&&(i=ms(r),i=r<0?gr(n+i,0):br(i,n-1)),Bt(e,ci(t,3),i,!0)}function Hi(e){return(null==e?0:e.length)?gn(e,1):[]}function Xi(e){return e&&e.length?e[0]:o}var $i=Yn((function(e){var t=zt(e,bo);return t.length&&t[0]===e[0]?Mn(t):[]})),Ki=Yn((function(e){var t=Ji(e),r=zt(e,bo);return t===Ji(r)?t=o:r.pop(),r.length&&r[0]===e[0]?Mn(r,ci(t,2)):[]})),Yi=Yn((function(e){var t=Ji(e),r=zt(e,bo);return(t="function"==typeof t?t:o)&&r.pop(),r.length&&r[0]===e[0]?Mn(r,o,t):[]}));function Ji(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Qi=Yn(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hn(e,t):e}var ta=oi((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Xn(e,zt(t,(function(e){return _i(e,r)?+e:e})).sort(Ao)),n}));function ra(e){return null==e?e:kr.call(e)}var na=Yn((function(e){return fo(gn(e,1,$a,!0))})),oa=Yn((function(e){var t=Ji(e);return $a(t)&&(t=o),fo(gn(e,1,$a,!0),ci(t,2))})),ia=Yn((function(e){var t=Ji(e);return t="function"==typeof t?t:o,fo(gn(e,1,$a,!0),o,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Mt(e,(function(e){if($a(e))return t=gr(e.length,t),!0})),$t(t,(function(t){return zt(e,Wt(t))}))}function sa(e,t){if(!e||!e.length)return[];var r=aa(e);return null==t?r:zt(r,(function(e){return Tt(t,o,e)}))}var la=Yn((function(e,t){return $a(e)?dn(e,t):[]})),ua=Yn((function(e){return yo(Mt(e,$a))})),ca=Yn((function(e){var t=Ji(e);return $a(t)&&(t=o),yo(Mt(e,$a),ci(t,2))})),fa=Yn((function(e){var t=Ji(e);return t="function"==typeof t?t:o,yo(Mt(e,$a),o,t)})),da=Yn(aa);var ha=Yn((function(e){var t=e.length,r=t>1?e[t-1]:o;return r="function"==typeof r?(e.pop(),r):o,sa(e,r)}));function pa(e){var t=Br(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ma=oi((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,i=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof qr&&_i(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:va,args:[i],thisArg:o}),new Gr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var ya=zo((function(e,t,r){De.call(e,r)?++e[r]:an(e,r,1)}));var ga=Bo(Wi),ba=Bo(Zi);function _a(e,t){return(Za(e)?Ct:hn)(e,ci(t,3))}function xa(e,t){return(Za(e)?At:pn)(e,ci(t,3))}var wa=zo((function(e,t,r){De.call(e,r)?e[r].push(t):an(e,r,[t])}));var ka=Yn((function(e,t,n){var o=-1,i="function"==typeof t,a=Xa(e)?r(e.length):[];return hn(e,(function(e){a[++o]=i?Tt(t,e,n):Pn(e,t,n)})),a})),Ea=zo((function(e,t,r){an(e,r,t)}));function Ta(e,t){return(Za(e)?zt:Bn)(e,ci(t,3))}var Sa=zo((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&xi(e,t[0],t[1])?t=[]:r>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Wn(e,gn(t,1),[])})),Aa=ft||function(){return ht.Date.now()};function Ia(e,t,r){return t=r?o:t,t=e&&null==t?e.length:t,Qo(e,f,o,o,o,o,t)}function Ma(e,t){var r;if("function"!=typeof t)throw new Ie(i);return e=ms(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=o),r}}var Pa=Yn((function(e,t,r){var n=1;if(r.length){var o=ur(r,ui(Pa));n|=u}return Qo(e,n,t,r,o)})),Oa=Yn((function(e,t,r){var n=3;if(r.length){var o=ur(r,ui(Oa));n|=u}return Qo(t,n,e,r,o)}));function za(e,t,r){var n,a,s,l,u,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ie(i);function v(t){var r=n,i=a;return n=a=o,f=t,l=e.apply(i,r)}function m(e){return f=e,u=zi(g,t),d?v(e):l}function y(e){var r=e-c;return c===o||r>=t||r<0||h&&e-f>=s}function g(){var e=Aa();if(y(e))return b(e);u=zi(g,function(e){var r=t-(e-c);return h?br(r,s-(e-f)):r}(e))}function b(e){return u=o,p&&n?v(e):(n=a=o,l)}function _(){var e=Aa(),r=y(e);if(n=arguments,a=this,c=e,r){if(u===o)return m(c);if(h)return Eo(u),u=zi(g,t),v(c)}return u===o&&(u=zi(g,t)),l}return t=gs(t)||0,rs(r)&&(d=!!r.leading,s=(h="maxWait"in r)?gr(gs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),_.cancel=function(){u!==o&&Eo(u),f=0,n=c=a=u=o},_.flush=function(){return u===o?l:b(Aa())},_}var Ra=Yn((function(e,t){return fn(e,1,t)})),Da=Yn((function(e,t,r){return fn(e,gs(t)||0,r)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(i);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(La.Cache||Hr),r}function ja(e){if("function"!=typeof e)throw new Ie(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Hr;var Fa=wo((function(e,t){var r=(t=1==t.length&&Za(t[0])?zt(t[0],Yt(ci())):zt(gn(t,1),Yt(ci()))).length;return Yn((function(n){for(var o=-1,i=br(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return Tt(e,this,n)}))})),Na=Yn((function(e,t){var r=ur(t,ui(Na));return Qo(e,u,o,t,r)})),Ba=Yn((function(e,t){var r=ur(t,ui(Ba));return Qo(e,c,o,t,r)})),Va=oi((function(e,t){return Qo(e,d,o,o,o,t)}));function Ua(e,t){return e===t||e!==e&&t!==t}var Ga=Xo(Cn),qa=Xo((function(e,t){return e>=t})),Wa=On(function(){return arguments}())?On:function(e){return ns(e)&&De.call(e,"callee")&&!Xe.call(e,"callee")},Za=r.isArray,Ha=bt?Yt(bt):function(e){return ns(e)&&Sn(e)==R};function Xa(e){return null!=e&&ts(e.length)&&!Qa(e)}function $a(e){return ns(e)&&Xa(e)}var Ka=gt||gl,Ya=_t?Yt(_t):function(e){return ns(e)&&Sn(e)==x};function Ja(e){if(!ns(e))return!1;var t=Sn(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Qa(e){if(!rs(e))return!1;var t=Sn(e);return t==k||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==ms(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var os=xt?Yt(xt):function(e){return ns(e)&&mi(e)==T};function is(e){return"number"==typeof e||ns(e)&&Sn(e)==S}function as(e){if(!ns(e)||Sn(e)!=C)return!1;var t=Ze(e);if(null===t)return!0;var r=De.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Re.call(r)==Ne}var ss=wt?Yt(wt):function(e){return ns(e)&&Sn(e)==I};var ls=kt?Yt(kt):function(e){return ns(e)&&mi(e)==M};function us(e){return"string"==typeof e||!Za(e)&&ns(e)&&Sn(e)==P}function cs(e){return"symbol"==typeof e||ns(e)&&Sn(e)==O}var fs=Et?Yt(Et):function(e){return ns(e)&&ts(e.length)&&!!at[Sn(e)]};var ds=Xo(Nn),hs=Xo((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Xa(e))return us(e)?hr(e):Po(e);if(Ye&&e[Ye])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ye]());var t=mi(e);return(t==T?sr:t==M?cr:Us)(e)}function vs(e){return e?(e=gs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ms(e){var t=vs(e),r=t%1;return t===t?r?t-r:t:0}function ys(e){return e?ln(ms(e),0,m):0}function gs(e){if("number"==typeof e)return e;if(cs(e))return v;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var r=ye.test(e);return r||be.test(e)?ct(e.slice(2),r?2:8):me.test(e)?v:+e}function bs(e){return Oo(e,Rs(e))}function _s(e){return null==e?"":co(e)}var xs=Ro((function(e,t){if(Ti(t)||Xa(t))Oo(t,zs(t),e);else for(var r in t)De.call(t,r)&&tn(e,r,t[r])})),ws=Ro((function(e,t){Oo(t,Rs(t),e)})),ks=Ro((function(e,t,r,n){Oo(t,Rs(t),e,n)})),Es=Ro((function(e,t,r,n){Oo(t,zs(t),e,n)})),Ts=oi(sn);var Ss=Yn((function(e,t){e=Se(e);var r=-1,n=t.length,i=n>2?t[2]:o;for(i&&xi(t[0],t[1],i)&&(n=1);++r<n;)for(var a=t[r],s=Rs(a),l=-1,u=s.length;++l<u;){var c=s[l],f=e[c];(f===o||Ua(f,Oe[c])&&!De.call(e,c))&&(e[c]=a[c])}return e})),Cs=Yn((function(e){return e.push(o,ti),Tt(Ls,o,e)}));function As(e,t,r){var n=null==e?o:En(e,t);return n===o?r:n}function Is(e,t){return null!=e&&yi(e,t,In)}var Ms=Go((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),rl(il)),Ps=Go((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(r):e[t]=[r]}),ci),Os=Yn(Pn);function zs(e){return Xa(e)?Kr(e):jn(e)}function Rs(e){return Xa(e)?Kr(e,!0):Fn(e)}var Ds=Ro((function(e,t,r){Gn(e,t,r)})),Ls=Ro((function(e,t,r,n){Gn(e,t,r,n)})),js=oi((function(e,t){var r={};if(null==e)return r;var n=!1;t=zt(t,(function(t){return t=xo(t,e),n||(n=t.length>1),t})),Oo(e,ai(e),r),n&&(r=un(r,7,ri));for(var o=t.length;o--;)ho(r,t[o]);return r}));var Fs=oi((function(e,t){return null==e?{}:function(e,t){return Zn(e,t,(function(t,r){return Is(e,r)}))}(e,t)}));function Ns(e,t){if(null==e)return{};var r=zt(ai(e),(function(e){return[e]}));return t=ci(t),Zn(e,r,(function(e,r){return t(e,r[0])}))}var Bs=Jo(zs),Vs=Jo(Rs);function Us(e){return null==e?[]:Jt(e,zs(e))}var Gs=Fo((function(e,t,r){return t=t.toLowerCase(),e+(r?qs(t):t)}));function qs(e){return Js(_s(e).toLowerCase())}function Ws(e){return(e=_s(e))&&e.replace(xe,nr).replace(Qe,"")}var Zs=Fo((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Hs=Fo((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Xs=jo("toLowerCase");var $s=Fo((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ks=Fo((function(e,t,r){return e+(r?" ":"")+Js(t)}));var Ys=Fo((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Js=jo("toUpperCase");function Qs(e,t,r){return e=_s(e),(t=r?o:t)===o?function(e){return nt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var el=Yn((function(e,t){try{return Tt(e,o,t)}catch(r){return Ja(r)?r:new se(r)}})),tl=oi((function(e,t){return Ct(t,(function(t){t=Ni(t),an(e,t,Pa(e[t],e))})),e}));function rl(e){return function(){return e}}var nl=Vo(),ol=Vo(!0);function il(e){return e}function al(e){return Ln("function"==typeof e?e:un(e,1))}var sl=Yn((function(e,t){return function(r){return Pn(r,e,t)}})),ll=Yn((function(e,t){return function(r){return Pn(e,r,t)}}));function ul(e,t,r){var n=zs(t),o=kn(t,n);null!=r||rs(t)&&(o.length||!n.length)||(r=t,t=e,e=this,o=kn(t,zs(t)));var i=!(rs(r)&&"chain"in r)||!!r.chain,a=Qa(e);return Ct(o,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__),o=r.__actions__=Po(this.__actions__);return o.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function cl(){}var fl=Wo(zt),dl=Wo(It),hl=Wo(jt);function pl(e){return wi(e)?Wt(Ni(e)):function(e){return function(t){return En(t,e)}}(e)}var vl=Ho(),ml=Ho(!0);function yl(){return[]}function gl(){return!1}var bl=qo((function(e,t){return e+t}),0),_l=Ko("ceil"),xl=qo((function(e,t){return e/t}),1),wl=Ko("floor");var kl=qo((function(e,t){return e*t}),1),El=Ko("round"),Tl=qo((function(e,t){return e-t}),0);return Br.after=function(e,t){if("function"!=typeof t)throw new Ie(i);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},Br.ary=Ia,Br.assign=xs,Br.assignIn=ws,Br.assignInWith=ks,Br.assignWith=Es,Br.at=Ts,Br.before=Ma,Br.bind=Pa,Br.bindAll=tl,Br.bindKey=Oa,Br.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Za(e)?e:[e]},Br.chain=pa,Br.chunk=function(e,t,n){t=(n?xi(e,t,n):t===o)?1:gr(ms(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,l=r(pt(i/t));a<i;)l[s++]=oo(e,a,a+=t);return l},Br.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o},Br.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Rt(Za(n)?Po(n):[n],gn(t,1))},Br.cond=function(e){var t=null==e?0:e.length,r=ci();return e=t?zt(e,(function(e){if("function"!=typeof e[1])throw new Ie(i);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var o=e[n];if(Tt(o[0],this,r))return Tt(o[1],this,r)}}))},Br.conforms=function(e){return function(e){var t=zs(e);return function(r){return cn(r,e,t)}}(un(e,1))},Br.constant=rl,Br.countBy=ya,Br.create=function(e,t){var r=Vr(e);return null==t?r:on(r,t)},Br.curry=function e(t,r,n){var i=Qo(t,8,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Br.curryRight=function e(t,r,n){var i=Qo(t,l,o,o,o,o,o,r=n?o:r);return i.placeholder=e.placeholder,i},Br.debounce=za,Br.defaults=Ss,Br.defaultsDeep=Cs,Br.defer=Ra,Br.delay=Da,Br.difference=Ui,Br.differenceBy=Gi,Br.differenceWith=qi,Br.drop=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,(t=r||t===o?1:ms(t))<0?0:t,n):[]},Br.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,0,(t=n-(t=r||t===o?1:ms(t)))<0?0:t):[]},Br.dropRightWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!0,!0):[]},Br.dropWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!0):[]},Br.fill=function(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&xi(e,t,r)&&(r=0,n=i),function(e,t,r,n){var i=e.length;for((r=ms(r))<0&&(r=-r>i?0:i+r),(n=n===o||n>i?i:ms(n))<0&&(n+=i),n=r>n?0:ys(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Br.filter=function(e,t){return(Za(e)?Mt:yn)(e,ci(t,3))},Br.flatMap=function(e,t){return gn(Ta(e,t),1)},Br.flatMapDeep=function(e,t){return gn(Ta(e,t),h)},Br.flatMapDepth=function(e,t,r){return r=r===o?1:ms(r),gn(Ta(e,t),r)},Br.flatten=Hi,Br.flattenDeep=function(e){return(null==e?0:e.length)?gn(e,h):[]},Br.flattenDepth=function(e,t){return(null==e?0:e.length)?gn(e,t=t===o?1:ms(t)):[]},Br.flip=function(e){return Qo(e,512)},Br.flow=nl,Br.flowRight=ol,Br.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n},Br.functions=function(e){return null==e?[]:kn(e,zs(e))},Br.functionsIn=function(e){return null==e?[]:kn(e,Rs(e))},Br.groupBy=wa,Br.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},Br.intersection=$i,Br.intersectionBy=Ki,Br.intersectionWith=Yi,Br.invert=Ms,Br.invertBy=Ps,Br.invokeMap=ka,Br.iteratee=al,Br.keyBy=Ea,Br.keys=zs,Br.keysIn=Rs,Br.map=Ta,Br.mapKeys=function(e,t){var r={};return t=ci(t,3),xn(e,(function(e,n,o){an(r,t(e,n,o),e)})),r},Br.mapValues=function(e,t){var r={};return t=ci(t,3),xn(e,(function(e,n,o){an(r,n,t(e,n,o))})),r},Br.matches=function(e){return Vn(un(e,1))},Br.matchesProperty=function(e,t){return Un(e,un(t,1))},Br.memoize=La,Br.merge=Ds,Br.mergeWith=Ls,Br.method=sl,Br.methodOf=ll,Br.mixin=ul,Br.negate=ja,Br.nthArg=function(e){return e=ms(e),Yn((function(t){return qn(t,e)}))},Br.omit=js,Br.omitBy=function(e,t){return Ns(e,ja(ci(t)))},Br.once=function(e){return Ma(2,e)},Br.orderBy=function(e,t,r,n){return null==e?[]:(Za(t)||(t=null==t?[]:[t]),Za(r=n?o:r)||(r=null==r?[]:[r]),Wn(e,t,r))},Br.over=fl,Br.overArgs=Fa,Br.overEvery=dl,Br.overSome=hl,Br.partial=Na,Br.partialRight=Ba,Br.partition=Sa,Br.pick=Fs,Br.pickBy=Ns,Br.property=pl,Br.propertyOf=function(e){return function(t){return null==e?o:En(e,t)}},Br.pull=Qi,Br.pullAll=ea,Br.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,ci(r,2)):e},Br.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hn(e,t,o,r):e},Br.pullAt=ta,Br.range=vl,Br.rangeRight=ml,Br.rearg=Va,Br.reject=function(e,t){return(Za(e)?Mt:yn)(e,ja(ci(t,3)))},Br.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=ci(t,3);++n<i;){var a=e[n];t(a,n,e)&&(r.push(a),o.push(n))}return Xn(e,o),r},Br.rest=function(e,t){if("function"!=typeof e)throw new Ie(i);return Yn(e,t=t===o?t:ms(t))},Br.reverse=ra,Br.sampleSize=function(e,t,r){return t=(r?xi(e,t,r):t===o)?1:ms(t),(Za(e)?Jr:Qn)(e,t)},Br.set=function(e,t,r){return null==e?e:eo(e,t,r)},Br.setWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:eo(e,t,r,n)},Br.shuffle=function(e){return(Za(e)?Qr:no)(e)},Br.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&xi(e,t,r)?(t=0,r=n):(t=null==t?0:ms(t),r=r===o?n:ms(r)),oo(e,t,r)):[]},Br.sortBy=Ca,Br.sortedUniq=function(e){return e&&e.length?lo(e):[]},Br.sortedUniqBy=function(e,t){return e&&e.length?lo(e,ci(t,2)):[]},Br.split=function(e,t,r){return r&&"number"!=typeof r&&xi(e,t,r)&&(t=r=o),(r=r===o?m:r>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=co(t))&&ar(e)?ko(hr(e),0,r):e.split(t,r):[]},Br.spread=function(e,t){if("function"!=typeof e)throw new Ie(i);return t=null==t?0:gr(ms(t),0),Yn((function(r){var n=r[t],o=ko(r,0,t);return n&&Rt(o,n),Tt(e,this,o)}))},Br.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},Br.take=function(e,t,r){return e&&e.length?oo(e,0,(t=r||t===o?1:ms(t))<0?0:t):[]},Br.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?oo(e,(t=n-(t=r||t===o?1:ms(t)))<0?0:t,n):[]},Br.takeRightWhile=function(e,t){return e&&e.length?vo(e,ci(t,3),!1,!0):[]},Br.takeWhile=function(e,t){return e&&e.length?vo(e,ci(t,3)):[]},Br.tap=function(e,t){return t(e),e},Br.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new Ie(i);return rs(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),za(e,t,{leading:n,maxWait:t,trailing:o})},Br.thru=va,Br.toArray=ps,Br.toPairs=Bs,Br.toPairsIn=Vs,Br.toPath=function(e){return Za(e)?zt(e,Ni):cs(e)?[e]:Po(Fi(_s(e)))},Br.toPlainObject=bs,Br.transform=function(e,t,r){var n=Za(e),o=n||Ka(e)||fs(e);if(t=ci(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:rs(e)&&Qa(i)?Vr(Ze(e)):{}}return(o?Ct:xn)(e,(function(e,n,o){return t(r,e,n,o)})),r},Br.unary=function(e){return Ia(e,1)},Br.union=na,Br.unionBy=oa,Br.unionWith=ia,Br.uniq=function(e){return e&&e.length?fo(e):[]},Br.uniqBy=function(e,t){return e&&e.length?fo(e,ci(t,2)):[]},Br.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},Br.unset=function(e,t){return null==e||ho(e,t)},Br.unzip=aa,Br.unzipWith=sa,Br.update=function(e,t,r){return null==e?e:po(e,t,_o(r))},Br.updateWith=function(e,t,r,n){return n="function"==typeof n?n:o,null==e?e:po(e,t,_o(r),n)},Br.values=Us,Br.valuesIn=function(e){return null==e?[]:Jt(e,Rs(e))},Br.without=la,Br.words=Qs,Br.wrap=function(e,t){return Na(_o(t),e)},Br.xor=ua,Br.xorBy=ca,Br.xorWith=fa,Br.zip=da,Br.zipObject=function(e,t){return go(e||[],t||[],tn)},Br.zipObjectDeep=function(e,t){return go(e||[],t||[],eo)},Br.zipWith=ha,Br.entries=Bs,Br.entriesIn=Vs,Br.extend=ws,Br.extendWith=ks,ul(Br,Br),Br.add=bl,Br.attempt=el,Br.camelCase=Gs,Br.capitalize=qs,Br.ceil=_l,Br.clamp=function(e,t,r){return r===o&&(r=t,t=o),r!==o&&(r=(r=gs(r))===r?r:0),t!==o&&(t=(t=gs(t))===t?t:0),ln(gs(e),t,r)},Br.clone=function(e){return un(e,4)},Br.cloneDeep=function(e){return un(e,5)},Br.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:o)},Br.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:o)},Br.conformsTo=function(e,t){return null==t||cn(e,t,zs(t))},Br.deburr=Ws,Br.defaultTo=function(e,t){return null==e||e!==e?t:e},Br.divide=xl,Br.endsWith=function(e,t,r){e=_s(e),t=co(t);var n=e.length,i=r=r===o?n:ln(ms(r),0,n);return(r-=t.length)>=0&&e.slice(r,i)==t},Br.eq=Ua,Br.escape=function(e){return(e=_s(e))&&Y.test(e)?e.replace($,or):e},Br.escapeRegExp=function(e){return(e=_s(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},Br.every=function(e,t,r){var n=Za(e)?It:vn;return r&&xi(e,t,r)&&(t=o),n(e,ci(t,3))},Br.find=ga,Br.findIndex=Wi,Br.findKey=function(e,t){return Nt(e,ci(t,3),xn)},Br.findLast=ba,Br.findLastIndex=Zi,Br.findLastKey=function(e,t){return Nt(e,ci(t,3),wn)},Br.floor=wl,Br.forEach=_a,Br.forEachRight=xa,Br.forIn=function(e,t){return null==e?e:bn(e,ci(t,3),Rs)},Br.forInRight=function(e,t){return null==e?e:_n(e,ci(t,3),Rs)},Br.forOwn=function(e,t){return e&&xn(e,ci(t,3))},Br.forOwnRight=function(e,t){return e&&wn(e,ci(t,3))},Br.get=As,Br.gt=Ga,Br.gte=qa,Br.has=function(e,t){return null!=e&&yi(e,t,An)},Br.hasIn=Is,Br.head=Xi,Br.identity=il,Br.includes=function(e,t,r,n){e=Xa(e)?e:Us(e),r=r&&!n?ms(r):0;var o=e.length;return r<0&&(r=gr(o+r,0)),us(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&Vt(e,t,r)>-1},Br.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:ms(r);return o<0&&(o=gr(n+o,0)),Vt(e,t,o)},Br.inRange=function(e,t,r){return t=vs(t),r===o?(r=t,t=0):r=vs(r),function(e,t,r){return e>=br(t,r)&&e<gr(t,r)}(e=gs(e),t,r)},Br.invoke=Os,Br.isArguments=Wa,Br.isArray=Za,Br.isArrayBuffer=Ha,Br.isArrayLike=Xa,Br.isArrayLikeObject=$a,Br.isBoolean=function(e){return!0===e||!1===e||ns(e)&&Sn(e)==_},Br.isBuffer=Ka,Br.isDate=Ya,Br.isElement=function(e){return ns(e)&&1===e.nodeType&&!as(e)},Br.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Za(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||fs(e)||Wa(e)))return!e.length;var t=mi(e);if(t==T||t==M)return!e.size;if(Ti(e))return!jn(e).length;for(var r in e)if(De.call(e,r))return!1;return!0},Br.isEqual=function(e,t){return zn(e,t)},Br.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:o)?r(e,t):o;return n===o?zn(e,t,o,r):!!n},Br.isError=Ja,Br.isFinite=function(e){return"number"==typeof e&&Ft(e)},Br.isFunction=Qa,Br.isInteger=es,Br.isLength=ts,Br.isMap=os,Br.isMatch=function(e,t){return e===t||Rn(e,t,di(t))},Br.isMatchWith=function(e,t,r){return r="function"==typeof r?r:o,Rn(e,t,di(t),r)},Br.isNaN=function(e){return is(e)&&e!=+e},Br.isNative=function(e){if(Ei(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dn(e)},Br.isNil=function(e){return null==e},Br.isNull=function(e){return null===e},Br.isNumber=is,Br.isObject=rs,Br.isObjectLike=ns,Br.isPlainObject=as,Br.isRegExp=ss,Br.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Br.isSet=ls,Br.isString=us,Br.isSymbol=cs,Br.isTypedArray=fs,Br.isUndefined=function(e){return e===o},Br.isWeakMap=function(e){return ns(e)&&mi(e)==z},Br.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==Sn(e)},Br.join=function(e,t){return null==e?"":Zt.call(e,t)},Br.kebabCase=Zs,Br.last=Ji,Br.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=n;return r!==o&&(i=(i=ms(r))<0?gr(n+i,0):br(i,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,i):Bt(e,Gt,i,!0)},Br.lowerCase=Hs,Br.lowerFirst=Xs,Br.lt=ds,Br.lte=hs,Br.max=function(e){return e&&e.length?mn(e,il,Cn):o},Br.maxBy=function(e,t){return e&&e.length?mn(e,ci(t,2),Cn):o},Br.mean=function(e){return qt(e,il)},Br.meanBy=function(e,t){return qt(e,ci(t,2))},Br.min=function(e){return e&&e.length?mn(e,il,Nn):o},Br.minBy=function(e,t){return e&&e.length?mn(e,ci(t,2),Nn):o},Br.stubArray=yl,Br.stubFalse=gl,Br.stubObject=function(){return{}},Br.stubString=function(){return""},Br.stubTrue=function(){return!0},Br.multiply=kl,Br.nth=function(e,t){return e&&e.length?qn(e,ms(t)):o},Br.noConflict=function(){return ht._===this&&(ht._=Be),this},Br.noop=cl,Br.now=Aa,Br.pad=function(e,t,r){e=_s(e);var n=(t=ms(t))?dr(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return Zo(vt(o),r)+e+Zo(pt(o),r)},Br.padEnd=function(e,t,r){e=_s(e);var n=(t=ms(t))?dr(e):0;return t&&n<t?e+Zo(t-n,r):e},Br.padStart=function(e,t,r){e=_s(e);var n=(t=ms(t))?dr(e):0;return t&&n<t?Zo(t-n,r)+e:e},Br.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),xr(_s(e).replace(ae,""),t||0)},Br.random=function(e,t,r){if(r&&"boolean"!=typeof r&&xi(e,t,r)&&(t=r=o),r===o&&("boolean"==typeof t?(r=t,t=o):"boolean"==typeof e&&(r=e,e=o)),e===o&&t===o?(e=0,t=1):(e=vs(e),t===o?(t=e,e=0):t=vs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var i=wr();return br(e+i*(t-e+ut("1e-"+((i+"").length-1))),t)}return $n(e,t)},Br.reduce=function(e,t,r){var n=Za(e)?Dt:Ht,o=arguments.length<3;return n(e,ci(t,4),r,o,hn)},Br.reduceRight=function(e,t,r){var n=Za(e)?Lt:Ht,o=arguments.length<3;return n(e,ci(t,4),r,o,pn)},Br.repeat=function(e,t,r){return t=(r?xi(e,t,r):t===o)?1:ms(t),Kn(_s(e),t)},Br.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Br.result=function(e,t,r){var n=-1,i=(t=xo(t,e)).length;for(i||(i=1,e=o);++n<i;){var a=null==e?o:e[Ni(t[n])];a===o&&(n=i,a=r),e=Qa(a)?a.call(e):a}return e},Br.round=El,Br.runInContext=e,Br.sample=function(e){return(Za(e)?Yr:Jn)(e)},Br.size=function(e){if(null==e)return 0;if(Xa(e))return us(e)?dr(e):e.length;var t=mi(e);return t==T||t==M?e.size:jn(e).length},Br.snakeCase=$s,Br.some=function(e,t,r){var n=Za(e)?jt:io;return r&&xi(e,t,r)&&(t=o),n(e,ci(t,3))},Br.sortedIndex=function(e,t){return ao(e,t)},Br.sortedIndexBy=function(e,t,r){return so(e,t,ci(r,2))},Br.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ao(e,t);if(n<r&&Ua(e[n],t))return n}return-1},Br.sortedLastIndex=function(e,t){return ao(e,t,!0)},Br.sortedLastIndexBy=function(e,t,r){return so(e,t,ci(r,2),!0)},Br.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=ao(e,t,!0)-1;if(Ua(e[r],t))return r}return-1},Br.startCase=Ks,Br.startsWith=function(e,t,r){return e=_s(e),r=null==r?0:ln(ms(r),0,e.length),t=co(t),e.slice(r,r+t.length)==t},Br.subtract=Tl,Br.sum=function(e){return e&&e.length?Xt(e,il):0},Br.sumBy=function(e,t){return e&&e.length?Xt(e,ci(t,2)):0},Br.template=function(e,t,r){var n=Br.templateSettings;r&&xi(e,t,r)&&(t=o),e=_s(e),t=ks({},t,n,ei);var i,a,s=ks({},t.imports,n.imports,ei),l=zs(s),u=Jt(s,l),c=0,f=t.interpolate||we,d="__p += '",h=Ce((t.escape||we).source+"|"+f.source+"|"+(f===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(h,(function(t,r,n,o,s,l){return n||(n=o),d+=e.slice(c,l).replace(ke,ir),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(Z,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=el((function(){return Ee(l,p+"return "+d).apply(o,u)}));if(m.source=d,Ja(m))throw m;return m},Br.times=function(e,t){if((e=ms(e))<1||e>p)return[];var r=m,n=br(e,m);t=ci(t),e-=m;for(var o=$t(n,t);++r<e;)t(r);return o},Br.toFinite=vs,Br.toInteger=ms,Br.toLength=ys,Br.toLower=function(e){return _s(e).toLowerCase()},Br.toNumber=gs,Br.toSafeInteger=function(e){return e?ln(ms(e),-9007199254740991,p):0===e?e:0},Br.toString=_s,Br.toUpper=function(e){return _s(e).toUpperCase()},Br.trim=function(e,t,r){if((e=_s(e))&&(r||t===o))return Kt(e);if(!e||!(t=co(t)))return e;var n=hr(e),i=hr(t);return ko(n,er(n,i),tr(n,i)+1).join("")},Br.trimEnd=function(e,t,r){if((e=_s(e))&&(r||t===o))return e.slice(0,pr(e)+1);if(!e||!(t=co(t)))return e;var n=hr(e);return ko(n,0,tr(n,hr(t))+1).join("")},Br.trimStart=function(e,t,r){if((e=_s(e))&&(r||t===o))return e.replace(ae,"");if(!e||!(t=co(t)))return e;var n=hr(e);return ko(n,er(n,hr(t))).join("")},Br.truncate=function(e,t){var r=30,n="...";if(rs(t)){var i="separator"in t?t.separator:i;r="length"in t?ms(t.length):r,n="omission"in t?co(t.omission):n}var a=(e=_s(e)).length;if(ar(e)){var s=hr(e);a=s.length}if(r>=a)return e;var l=r-dr(n);if(l<1)return n;var u=s?ko(s,0,l).join(""):e.slice(0,l);if(i===o)return u+n;if(s&&(l+=u.length-l),ss(i)){if(e.slice(l).search(i)){var c,f=u;for(i.global||(i=Ce(i.source,_s(ve.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(e.indexOf(co(i),l)!=l){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+n},Br.unescape=function(e){return(e=_s(e))&&K.test(e)?e.replace(X,vr):e},Br.uniqueId=function(e){var t=++Le;return _s(e)+t},Br.upperCase=Ys,Br.upperFirst=Js,Br.each=_a,Br.eachRight=xa,Br.first=Xi,ul(Br,function(){var e={};return xn(Br,(function(t,r){De.call(Br.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Br.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Br[e].placeholder=Br})),Ct(["drop","take"],(function(e,t){qr.prototype[e]=function(r){r=r===o?1:gr(ms(r),0);var n=this.__filtered__&&!t?new qr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,m),type:e+(n.__dir__<0?"Right":"")}),n},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ci(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ct(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(il)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return Pn(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(ja(ci(e)))},qr.prototype.slice=function(e,t){e=ms(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==o&&(r=(t=ms(t))<0?r.dropRight(-t):r.take(t-e)),r)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(m)},xn(qr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),i=Br[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);i&&(Br.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,l=t instanceof qr,u=s[0],c=l||Za(t),f=function(e){var t=i.apply(Br,Rt([e],s));return n&&d?t[0]:t};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=l&&!h;if(!a&&c){t=v?t:new qr(this);var m=e.apply(t,s);return m.__actions__.push({func:va,args:[f],thisArg:o}),new Gr(m,d)}return p&&v?e.apply(this,s):(m=this.thru(f),p?n?m.value()[0]:m.value():m)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Me[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Br.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(Za(o)?o:[],e)}return this[r]((function(r){return t.apply(Za(r)?r:[],e)}))}})),xn(qr.prototype,(function(e,t){var r=Br[t];if(r){var n=r.name+"";De.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[Uo(o,2).name]=[{name:"wrapper",func:o}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Po(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Po(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Po(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Za(e),n=t<0,o=r?e.length:0,i=function(e,t,r){var n=-1,o=r.length;for(;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=br(t,e+a);break;case"takeRight":e=gr(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,u=n?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=br(l,this.__takeCount__);if(!r||!n&&o==l&&h==l)return mo(e,this.__actions__);var p=[];e:for(;l--&&d<h;){for(var v=-1,m=e[u+=t];++v<f;){var y=c[v],g=y.iteratee,b=y.type,_=g(m);if(2==b)m=_;else if(!_){if(1==b)continue e;break e}}p[d++]=m}return p},Br.prototype.at=ma,Br.prototype.chain=function(){return pa(this)},Br.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},Br.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},Br.prototype.plant=function(e){for(var t,r=this;r instanceof Ur;){var n=Vi(r);n.__index__=0,n.__values__=o,t?i.__wrapped__=n:t=n;var i=n;r=r.__wrapped__}return i.__wrapped__=e,t},Br.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:va,args:[ra],thisArg:o}),new Gr(t,this.__chain__)}return this.thru(ra)},Br.prototype.toJSON=Br.prototype.valueOf=Br.prototype.value=function(){return mo(this.__wrapped__,this.__actions__)},Br.prototype.first=Br.prototype.head,Ye&&(Br.prototype[Ye]=function(){return this}),Br}();ht._=mr,(n=function(){return mr}.call(t,r,t,e))===o||(e.exports=n)}.call(this)},9029:function(e,t,r){var n=r(2526),o=r(5358),i=r(6025);e.exports=function(e,t){var r={};return t=i(t,3),o(e,(function(e,o,i){n(r,t(e,o,i),e)})),r}},7702:function(e,t,r){var n=r(2526),o=r(5358),i=r(6025);e.exports=function(e,t){var r={};return t=i(t,3),o(e,(function(e,o,i){n(r,o,t(e,o,i))})),r}},9151:function(e,t,r){var n=r(8059);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},38:function(e,t,r){var n=r(9586),o=r(4084),i=r(5823),a=r(9793);e.exports=function(e){return i(e)?n(a(e)):o(e)}},7499:function(e,t,r){var n=r(7810)((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));e.exports=n},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,r){var n=r(2446);e.exports=function(e){return null==e?"":n(e)}},2085:function(e,t,r){var n=r(322)("toUpperCase");e.exports=n},5660:function(e,t,r){var n=r(240),o=r(7137),i=r(3518),a=r(1029);e.exports=function(e,t,r){return e=i(e),void 0===(t=r?void 0:t)?o(e)?a(e):n(e):e.match(t)||[]}},5483:function(e,t,r){var n=r(9713).default,o=r(1506).default,i=r(9100).default,a=r(6525).default,s=r(9754).default,l=r(8585).default,u=r(8551).default,c=r(319).default,f=r(3038).default,d=r(3269).default,h=r(5957).default,p=r(2205).default,v=r(9842).default,m=r(4575).default,y=r(3913).default;e.exports=function(){"use strict";var e,t,r;function g(n,o){if(e)if(t){var i="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk); self.onerror = null;",a={};e(a),r=o(a),"undefined"!==typeof window&&window&&window.URL&&window.URL.createObjectURL&&(r.workerUrl=window.URL.createObjectURL(new Blob([i],{type:"text/javascript"})))}else t=o;else e=o}return g(["exports"],(function(e){var t="2.8.2",r=n;function n(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},n.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},n.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},n.prototype.solveCurveX=function(e,t){var r,n,o,i,a;for(void 0===t&&(t=1e-6),o=e,a=0;a<8;a++){if(i=this.sampleCurveX(o)-e,Math.abs(i)<t)return o;var s=this.sampleCurveDerivativeX(o);if(Math.abs(s)<1e-6)break;o-=i/s}if((o=e)<(r=0))return r;if(o>(n=1))return n;for(;r<n;){if(i=this.sampleCurveX(o),Math.abs(i-e)<t)return o;e>i?r=o:n=o,o=.5*(n-r)+r}return o},n.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var g=b;function b(e,t){this.x=e,this.y=t}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),o=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(e){return e instanceof b?e:Array.isArray(e)?new b(e[0],e[1]):e};var _="undefined"!=typeof self?self:{},x=Math.PI/180,w=180/Math.PI;function k(e){return e*x}function E(e){return e*w}var T=[[0,0],[1,0],[1,1],[0,1]];function S(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}function C(e,t,n,o){var i=new r(e,t,n,o);return function(e){return i.solve(e)}}var A=C(.25,.1,.25,1);function I(e,t,r){return Math.min(r,Math.max(t,e))}function M(e,t,r){return(r=I((r-e)/(t-e),0,1))*r*(3-2*r)}function P(e,t,r){var n=r-t,o=((e-t)%n+n)%n+t;return o===t?r:o}function O(e,t,r){if(!e.length)return r(null,[]);var n=e.length,o=new Array(e.length),i=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(i=e),o[a]=t,0==--n&&r(i,o)}))}))}function z(e){var t=[];for(var r in e)t.push(e[r]);return t}function R(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];for(var s in a)e[s]=a[s]}return e}var D=1;function L(){return D++}function j(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function F(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function N(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function B(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function V(e,t){return-1!==e.indexOf(t,e.length-t.length)}function U(e,t,r){var n={};for(var o in e)n[o]=t.call(r||this,e[o],o,e);return n}function G(e,t,r){var n={};for(var o in e)t.call(r||this,e[o],o,e)&&(n[o]=e[o]);return n}function q(e){return Array.isArray(e)?e.map(q):"object"==typeof e&&e?U(e,q):e}var W={};function Z(e){W[e]||("undefined"!=typeof console&&console.warn(e),W[e]=!0)}function H(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function X(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)t=e[o],n+=((r=e[a]).x-t.x)*(t.y+r.y);return n}function $(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function K(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,r,n,o){var i=n||o;return t[r]=!i||i.toLowerCase(),""})),t["max-age"]){var r=parseInt(t["max-age"],10);isNaN(r)?delete t["max-age"]:t["max-age"]=r}return t}var Y,J,Q,ee,te=null;function re(e){if(null==te){var t=e.navigator?e.navigator.userAgent:null;te=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return te}function ne(e){try{var t=_[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var oe,ie,ae,se={now:function(){return void 0!==Q?Q:_.performance.now()},setNow:function(e){Q=e},restoreNow:function(){Q=void 0},frame:function(e){var t=_.requestAnimationFrame(e);return{cancel:function(){return _.cancelAnimationFrame(t)}}},getImageData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.width,n=e.height;ee||(ee=_.document.createElement("canvas"));var o=ee.getContext("2d");if(!o)throw new Error("failed to create canvas 2d context");return(r>ee.width||n>ee.height)&&(ee.width=r,ee.height=n),o.clearRect(-t,-t,r+2*t,n+2*t),o.drawImage(e,0,0,r,n),o.getImageData(-t,-t,r+2*t,n+2*t)},resolveURL:function(e){return Y||(Y=_.document.createElement("a")),Y.href=e,Y.href},get devicePixelRatio(){return _.devicePixelRatio},get prefersReducedMotion(){return!!_.matchMedia&&(null==J&&(J=_.matchMedia("(prefers-reduced-motion: reduce)")),J.matches)}},le={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==oe){var e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{oe=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX?new RegExp({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.API_URL_REGEX):e}catch(t){oe=e}}return oe},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ue={supported:!1,testSupport:function(e){!ce&&ae&&(fe?de(e):ie=e)}},ce=!1,fe=!1;function de(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,ae),e.isContextLost())return;ue.supported=!0}catch(e){}e.deleteTexture(t),ce=!0}_.document&&((ae=_.document.createElement("img")).onload=function(){ie&&de(ie),ie=null,fe=!0},ae.onerror=function(){ce=!0,ie=null},ae.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var he="01",pe="NO_ACCESS_TOKEN";function ve(e){return 0===e.indexOf("mapbox:")}function me(e){return le.API_URL_REGEX.test(e)}var ye=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ge(e){var t=e.match(ye);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function be(e){var t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}function _e(e){if(!e)return null;var t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(_.atob(t[1]).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return null}}var xe,we,ke=function(){function e(t){m(this,e),this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}return y(e,[{key:"getStorageKey",value:function(e){var t=_e(le.ACCESS_TOKEN),r="";return r=t&&t.u?_.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))}))):le.ACCESS_TOKEN||"",e?"mapbox.eventData.".concat(e,":").concat(r):"mapbox.eventData:".concat(r)}},{key:"fetchEventData",value:function(){var e=ne("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{var n=_.localStorage.getItem(t);n&&(this.eventData=JSON.parse(n));var o=_.localStorage.getItem(r);o&&(this.anonId=o)}catch(e){Z("Unable to read from LocalStorage")}}},{key:"saveEventData",value:function(){var e=ne("localStorage"),t=this.getStorageKey(),r=this.getStorageKey("uuid");if(e)try{_.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length>=1&&_.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){Z("Unable to write to LocalStorage")}}},{key:"processRequests",value:function(e){}},{key:"postEvent",value:function(e,r,n,o){var i=this;if(le.EVENTS_URL){var a=ge(le.EVENTS_URL);a.params.push("access_token=".concat(o||le.ACCESS_TOKEN||""));var s={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:t,skuId:he,userId:this.anonId},l=r?R(s,r):s,u={url:be(a),headers:{"Content-Type":"text/plain"},body:JSON.stringify([l])};this.pendingRequest=Ue(u,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests(o)}))}}},{key:"queueRequest",value:function(e,t){this.queue.push(e),this.processRequests(t)}}]),e}(),Ee=new(function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,"appUserTurnstile"))._customAccessToken=e,n}return y(r,[{key:"postTurnstileEvent",value:function(e,t){le.EVENTS_URL&&le.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return ve(e)||me(e)}))&&this.queueRequest(Date.now(),t)}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var r=_e(le.ACCESS_TOKEN),n=r?r.u:le.ACCESS_TOKEN,o=n!==this.eventData.tokenU;N(this.anonId)||(this.anonId=j(),o=!0);var i=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(i),l=(i-this.eventData.lastSuccess)/864e5;o=o||l>=1||l<-1||a.getDate()!==s.getDate()}else o=!0;o?this.postEvent(i,{"enabled.telemetry":!1},(function(e){e||(t.eventData.lastSuccess=i,t.eventData.tokenU=n)}),e):this.processRequests()}}}]),r}(ke)),Te=Ee.postTurnstileEvent.bind(Ee),Se=new(function(e){p(r,e);var t=v(r);function r(){var e;return m(this,r),(e=t.call(this,"map.load")).success={},e.skuToken="",e}return y(r,[{key:"postMapLoadEvent",value:function(e,t,r,n){this.skuToken=t,this.errorCb=n,le.EVENTS_URL&&(r||le.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(pe)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,o=r.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),N(this.anonId)||(this.anonId=j()),this.postEvent(o,{skuToken:this.skuToken},(function(e){e?t.errorCb(e):n&&(t.success[n]=!0)}),e))}}}]),r}(ke)),Ce=Se.postMapLoadEvent.bind(Se),Ae=new(function(e){p(r,e);var t=v(r);function r(){var e;return m(this,r),(e=t.call(this,"map.auth")).success={},e.skuToken="",e}return y(r,[{key:"getSession",value:function(e,t,r,n){var o=this;if(le.API_URL&&le.SESSION_PATH){var i=ge(le.API_URL+le.SESSION_PATH);i.params.push("sku=".concat(t||"")),i.params.push("access_token=".concat(n||le.ACCESS_TOKEN||""));var a={url:be(i),headers:{"Content-Type":"text/plain"}};this.pendingRequest=Ge(a,(function(e){o.pendingRequest=null,r(e),o.saveEventData(),o.processRequests(n)}))}}},{key:"getSessionAPI",value:function(e,t,r,n){this.skuToken=t,this.errorCb=n,le.SESSION_PATH&&le.API_URL&&(r||le.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(pe)))}},{key:"processRequests",value:function(e){var t=this;if(!this.pendingRequest&&0!==this.queue.length){var r=this.queue.shift(),n=r.id,o=r.timestamp;n&&this.success[n]||this.getSession(o,this.skuToken,(function(e){e?t.errorCb(e):n&&(t.success[n]=!0)}),e)}}}]),r}(ke)),Ie=Ae.getSessionAPI.bind(Ae),Me=new Set,Pe="mapbox-tiles",Oe=500,ze=50;function Re(){_.caches&&!xe&&(xe=_.caches.open(Pe))}function De(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var Le=1/0,je={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(je);var Fe=function(e){p(r,e);var t=v(r);function r(e,n,o){var i;return m(this,r),401===n&&me(o)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),(i=t.call(this,e)).status=n,i.url=o,i}return y(r,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),r}(h(Error)),Ne=$()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===_.location.protocol?_.parent:_).location.href},Be=function(e,t){if(!(/^file:/.test(r=e.url)||/^file:/.test(Ne())&&!/^\w+:/.test(r))){if(_.fetch&&_.Request&&_.AbortController&&_.Request.prototype.hasOwnProperty("signal"))return function(e,t){var r,n=new _.AbortController,o=new _.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:Ne(),signal:n.signal}),i=!1,a=!1,s=(r=o.url).indexOf("sku=")>0&&me(r);"json"===e.type&&o.headers.set("Accept","application/json");var l=function(r,n,i){if(!a){if(r&&"SecurityError"!==r.message&&Z(r),n&&i)return u(n);var l=Date.now();_.fetch(o).then((function(r){if(r.ok){var n=s?r.clone():null;return u(r,n,l)}return t(new Fe(r.statusText,r.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))}))}},u=function(r,n,s){("arrayBuffer"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text()).then((function(e){a||(n&&s&&function(e,t,r){if(Re(),xe){var n={status:t.status,statusText:t.statusText,headers:new _.Headers};t.headers.forEach((function(e,t){return n.headers.set(t,e)}));var o=K(t.headers.get("Cache-Control")||"");if(!o["no-store"]){o["max-age"]&&n.headers.set("Expires",new Date(r+1e3*o["max-age"]).toUTCString());var i=n.headers.get("Expires");i&&(new Date(i).getTime()-r<42e4||function(e,t){if(void 0===we)try{new Response(new ReadableStream),we=!0}catch(e){we=!1}we?t(e.body):e.blob().then(t)}(t,(function(t){var r=new _.Response(t,n);Re(),xe&&xe.then((function(t){return t.put(De(e.url),r)})).catch((function(e){return Z(e.message)}))})))}}}(o,n,s),i=!0,t(null,e,r.headers.get("Cache-Control"),r.headers.get("Expires")))})).catch((function(e){a||t(new Error(e.message))}))};return s?function(e,t){if(Re(),!xe)return t(null);var r=De(e.url);xe.then((function(e){e.match(r).then((function(n){var o=function(e){if(!e)return!1;var t=new Date(e.headers.get("Expires")||0),r=K(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),o&&e.put(r,n.clone()),t(null,n,o)})).catch(t)})).catch(t)}(o,l):l(null,null),{cancel:function(){a=!0,i||n.abort()}}}(e,t);if($()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var r;return function(e,t){var r=new _.XMLHttpRequest;for(var n in r.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(r.responseType="arraybuffer"),e.headers)r.setRequestHeader(n,e.headers[n]);return"json"===e.type&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials="include"===e.credentials,r.onerror=function(){t(new Error(r.statusText))},r.onload=function(){if((r.status>=200&&r.status<300||0===r.status)&&null!==r.response){var n=r.response;if("json"===e.type)try{n=JSON.parse(r.response)}catch(e){return t(e)}t(null,n,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"))}else t(new Fe(r.statusText,r.status,e.url))},r.send(e.body),{cancel:function(){return r.abort()}}}(e,t)},Ve=function(e,t){return Be(R(e,{type:"arrayBuffer"}),t)},Ue=function(e,t){return Be(R(e,{method:"POST"}),t)},Ge=function(e,t){return Be(R(e,{method:"GET"}),t)};function qe(e){var t=_.document.createElement("a");return t.href=e,t.protocol===_.document.location.protocol&&t.host===_.document.location.host}var We,Ze,He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";We=[],Ze=0;var Xe=function e(t,r){if(ue.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),Ze>=le.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:t,callback:r,cancelled:!1,cancel:function(){this.cancelled=!0}};return We.push(n),n}Ze++;var o=!1,i=function(){if(!o)for(o=!0,Ze--;We.length&&Ze<le.MAX_PARALLEL_IMAGE_REQUESTS;){var t=We.shift(),r=t.requestParameters,n=t.callback;t.cancelled||(t.cancel=e(r,n).cancel)}},a=Ve(t,(function(e,t,n,o){i(),e?r(e):t&&(_.createImageBitmap?function(e,t){var r=new _.Blob([new Uint8Array(e)],{type:"image/png"});_.createImageBitmap(r).then((function(e){t(null,e)})).catch((function(e){t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))}(t,(function(e,t){return r(e,t,n,o)})):function(e,t){var r=new _.Image,n=_.URL;r.onload=function(){t(null,r),n.revokeObjectURL(r.src),r.onload=null,_.requestAnimationFrame((function(){r.src=He}))},r.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var o=new _.Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?n.createObjectURL(o):He}(t,(function(e,t){return r(e,t,n,o)})))}));return{cancel:function(){a.cancel(),i()}}};function $e(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function Ke(e,t,r){if(r&&r[e]){var n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}var Ye=y((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,e),R(this,r),this.type=t})),Je=function(e){p(r,e);var t=v(r);function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m(this,r),t.call(this,"error",R({error:e},n))}return y(r)}(Ye),Qe=function(){function e(){m(this,e)}return y(e,[{key:"on",value:function(e,t){return this._listeners=this._listeners||{},$e(e,t,this._listeners),this}},{key:"off",value:function(e,t){return Ke(e,t,this._listeners),Ke(e,t,this._oneTimeListeners),this}},{key:"once",value:function(e,t){var r=this;return t?(this._oneTimeListeners=this._oneTimeListeners||{},$e(e,t,this._oneTimeListeners),this):new Promise((function(t){return r.once(e,t)}))}},{key:"fire",value:function(e,t){"string"==typeof e&&(e=new Ye(e,t||{}));var r=e.type;if(this.listens(r)){e.target=this;var n,o=this._listeners&&this._listeners[r]?this._listeners[r].slice():[],i=d(o);try{for(i.s();!(n=i.n()).done;)n.value.call(this,e)}catch(f){i.e(f)}finally{i.f()}var a,s=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[],l=d(s);try{for(l.s();!(a=l.n()).done;){var u=a.value;Ke(r,u,this._oneTimeListeners),u.call(this,e)}}catch(f){l.e(f)}finally{l.f()}var c=this._eventedParent;c&&(R(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),c.fire(e))}else e instanceof Je&&console.error(e.error);return this}},{key:"listens",value:function(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}},{key:"setEventedParent",value:function(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}]),e}(),et=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function tt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];for(var s in a)e[s]=a[s]}return e}function rt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function nt(e){if(Array.isArray(e))return e.map(nt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var r in e)t[r]=nt(e[r]);return t}return rt(e)}var ot=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,n)).message=n,o.key=e,o}return y(r)}(h(Error)),it=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];m(this,e),this.parent=t,this.bindings={};var n,o=d(r);try{for(o.s();!(n=o.n()).done;){var i=f(n.value,2),a=i[0],s=i[1];this.bindings[a]=s}}catch(l){o.e(l)}finally{o.f()}}return y(e,[{key:"concat",value:function(t){return new e(this,t)}},{key:"get",value:function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}},{key:"has",value:function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}]),e}(),at={kind:"null"},st={kind:"number"},lt={kind:"string"},ut={kind:"boolean"},ct={kind:"color"},ft={kind:"object"},dt={kind:"value"},ht={kind:"collator"},pt={kind:"formatted"},vt={kind:"resolvedImage"};function mt(e,t){return{kind:"array",itemType:e,N:t}}function yt(e){if("array"===e.kind){var t=yt(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}var gt=[at,st,lt,ut,ct,pt,ft,mt(dt),vt];function bt(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!bt(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind){var r,n=d(gt);try{for(n.s();!(r=n.n()).done;)if(!bt(r.value,t))return null}catch(o){n.e(o)}finally{n.f()}}}return"Expected ".concat(yt(e)," but found ").concat(yt(t)," instead.")}function _t(e,t){return t.some((function(t){return t.kind===e.kind}))}function xt(e,t){return t.some((function(t){return"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e}))}function wt(e){var t={exports:{}};return e(t,t.exports),t.exports}var kt=wt((function(e,t){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(e){return(e=Math.round(e))<0?0:e>255?255:e}function o(e){return n("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function i(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function a(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{t.parseCSSColor=function(e){var t,s=e.replace(/ /g,"").toLowerCase();if(s in r)return r[s].slice();if("#"===s[0])return 4===s.length?(t=parseInt(s.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===s.length&&(t=parseInt(s.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=s.indexOf("("),u=s.indexOf(")");if(-1!==l&&u+1===s.length){var c=s.substr(0,l),f=s.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==f.length)return null;d=i(f.pop());case"rgb":return 3!==f.length?null:[o(f[0]),o(f[1]),o(f[2]),d];case"hsla":if(4!==f.length)return null;d=i(f.pop());case"hsl":if(3!==f.length)return null;var h=(parseFloat(f[0])%360+360)%360/360,p=i(f[1]),v=i(f[2]),m=v<=.5?v*(p+1):v+p-v*p,y=2*v-m;return[n(255*a(y,m,h+1/3)),n(255*a(y,m,h)),n(255*a(y,m,h-1/3)),d];default:return null}}return null}}catch(e){}})),Et=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;m(this,e),this.r=t,this.g=r,this.b=n,this.a=o}return y(e,[{key:"toString",value:function(){var e=this.toArray(),t=f(e,4),r=t[0],n=t[1],o=t[2],i=t[3];return"rgba(".concat(Math.round(r),",").concat(Math.round(n),",").concat(Math.round(o),",").concat(i,")")}},{key:"toArray",value:function(){var e=this.r,t=this.g,r=this.b,n=this.a;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}}],[{key:"parse",value:function(t){if(t){if(t instanceof e)return t;if("string"==typeof t){var r=kt.parseCSSColor(t);return r?new e(r[0]/255*r[3],r[1]/255*r[3],r[2]/255*r[3],r[3]):void 0}}}}]),e}();Et.black=new Et(0,0,0,1),Et.white=new Et(1,1,1,1),Et.transparent=new Et(0,0,0,0),Et.red=new Et(1,0,0,1),Et.blue=new Et(0,0,1,1);var Tt=function(){function e(t,r,n){m(this,e),this.sensitivity=t?r?"variant":"case":r?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}return y(e,[{key:"compare",value:function(e,t){return this.collator.compare(e,t)}},{key:"resolvedLocale",value:function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}]),e}(),St=y((function e(t,r,n,o,i){m(this,e),this.text=t.normalize?t.normalize():t,this.image=r,this.scale=n,this.fontStack=o,this.textColor=i})),Ct=function(){function e(t){m(this,e),this.sections=t}return y(e,[{key:"isEmpty",value:function(){return 0===this.sections.length||!this.sections.some((function(e){return 0!==e.text.length||e.image&&0!==e.image.name.length}))}},{key:"toString",value:function(){return 0===this.sections.length?"":this.sections.map((function(e){return e.text})).join("")}},{key:"serialize",value:function(){var e,t=["format"],r=d(this.sections);try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.image)t.push(["image",n.image.name]);else{t.push(n.text);var o={};n.fontStack&&(o["text-font"]=["literal",n.fontStack.split(",")]),n.scale&&(o["font-scale"]=n.scale),n.textColor&&(o["text-color"]=["rgba"].concat(n.textColor.toArray())),t.push(o)}}}catch(i){r.e(i)}finally{r.f()}return t}}],[{key:"fromString",value:function(t){return new e([new St(t,null,null,null,null)])}},{key:"factory",value:function(t){return t instanceof e?t:e.fromString(t)}}]),e}(),At=function(){function e(t){m(this,e),this.name=t.name,this.available=t.available}return y(e,[{key:"toString",value:function(){return this.name}},{key:"serialize",value:function(){return["image",this.name]}}],[{key:"fromString",value:function(t){return t?new e({name:t,available:!1}):null}}]),e}();function It(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:"Invalid rgba value [".concat([e,t,r,n].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function Mt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Et)return!0;if(e instanceof Tt)return!0;if(e instanceof Ct)return!0;if(e instanceof At)return!0;if(Array.isArray(e)){var t,r=d(e);try{for(r.s();!(t=r.n()).done;)if(!Mt(t.value))return!1}catch(o){r.e(o)}finally{r.f()}return!0}if("object"==typeof e){for(var n in e)if(!Mt(e[n]))return!1;return!0}return!1}function Pt(e){if(null===e)return at;if("string"==typeof e)return lt;if("boolean"==typeof e)return ut;if("number"==typeof e)return st;if(e instanceof Et)return ct;if(e instanceof Tt)return ht;if(e instanceof Ct)return pt;if(e instanceof At)return vt;if(Array.isArray(e)){var t,r,n=e.length,o=d(e);try{for(o.s();!(r=o.n()).done;){var i=Pt(r.value);if(t){if(t===i)continue;t=dt;break}t=i}}catch(a){o.e(a)}finally{o.f()}return mt(t||dt,n)}return ft}function Ot(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Et||e instanceof Ct||e instanceof At?e.toString():JSON.stringify(e)}var zt=function(){function e(t,r){m(this,e),this.type=t,this.value=r}return y(e,[{key:"evaluate",value:function(){return this.value}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Et?["rgba"].concat(this.value.toArray()):this.value instanceof Ct?this.value.serialize():this.value}}],[{key:"parse",value:function(t,r){if(2!==t.length)return r.error("'literal' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(!Mt(t[1]))return r.error("invalid value");var n=t[1],o=Pt(n),i=r.expectedType;return"array"!==o.kind||0!==o.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(o=i),new e(o,n)}}]),e}(),Rt=function(){function e(t){m(this,e),this.name="ExpressionEvaluationError",this.message=t}return y(e,[{key:"toJSON",value:function(){return this.message}}]),e}(),Dt={string:lt,number:st,boolean:ut,object:ft},Lt=function(){function e(t,r){m(this,e),this.type=t,this.args=r}return y(e,[{key:"evaluate",value:function(e){for(var t=0;t<this.args.length;t++){var r=this.args[t].evaluate(e);if(!bt(this.type,Pt(r)))return r;if(t===this.args.length-1)throw new Rt("Expected value to be of type ".concat(yt(this.type),", but found ").concat(yt(Pt(r))," instead."))}return null}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=this.type,t=[e.kind];if("array"===e.kind){var r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);var n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var n,o=1,i=t[0];if("array"===i){var a,s;if(t.length>2){var l=t[1];if("string"!=typeof l||!(l in Dt)||"object"===l)return r.error('The item type argument of "array" must be one of string, number, boolean',1);a=Dt[l],o++}else a=dt;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return r.error('The length argument to "array" must be a positive integer literal',2);s=t[2],o++}n=mt(a,s)}else n=Dt[i];for(var u=[];o<t.length;o++){var c=r.parse(t[o],o,dt);if(!c)return null;u.push(c)}return new e(n,u)}}]),e}(),jt=function(){function e(t){m(this,e),this.type=pt,this.sections=t}return y(e,[{key:"evaluate",value:function(e){return new Ct(this.sections.map((function(t){var r=t.content.evaluate(e);return Pt(r)===vt?new St("",r,null,null,null):new St(Ot(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}},{key:"eachChild",value:function(e){var t,r=d(this.sections);try{for(r.s();!(t=r.n()).done;){var n=t.value;e(n.content),n.scale&&e(n.scale),n.font&&e(n.font),n.textColor&&e(n.textColor)}}catch(o){r.e(o)}finally{r.f()}}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e,t=["format"],r=d(this.sections);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n.content.serialize());var o={};n.scale&&(o["font-scale"]=n.scale.serialize()),n.font&&(o["text-font"]=n.font.serialize()),n.textColor&&(o["text-color"]=n.textColor.serialize()),t.push(o)}}catch(i){r.e(i)}finally{r.f()}return t}}],[{key:"parse",value:function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return r.error("First argument must be an image or text section.");for(var o=[],i=!1,a=1;a<=t.length-1;++a){var s=t[a];if(i&&"object"==typeof s&&!Array.isArray(s)){i=!1;var l=null;if(s["font-scale"]&&!(l=r.parse(s["font-scale"],1,st)))return null;var u=null;if(s["text-font"]&&!(u=r.parse(s["text-font"],1,mt(lt))))return null;var c=null;if(s["text-color"]&&!(c=r.parse(s["text-color"],1,ct)))return null;var f=o[o.length-1];f.scale=l,f.font=u,f.textColor=c}else{var d=r.parse(t[a],1,dt);if(!d)return null;var h=d.type.kind;if("string"!==h&&"value"!==h&&"null"!==h&&"resolvedImage"!==h)return r.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,o.push({content:d,scale:null,font:null,textColor:null})}}return new e(o)}}]),e}(),Ft=function(){function e(t){m(this,e),this.type=vt,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),r=At.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["image",this.input.serialize()]}}],[{key:"parse",value:function(t,r){if(2!==t.length)return r.error("Expected two arguments.");var n=r.parse(t[1],1,lt);return n?new e(n):r.error("No image name provided.")}}]),e}(),Nt={"to-boolean":ut,"to-color":ct,"to-number":st,"to-string":lt},Bt=function(){function e(t,r){m(this,e),this.type=t,this.args=r}return y(e,[{key:"evaluate",value:function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){var t,r,n,o=d(this.args);try{for(o.s();!(n=o.n()).done;){if(t=n.value.evaluate(e),r=null,t instanceof Et)return t;if("string"==typeof t){var i=e.parseColor(t);if(i)return i}else if(Array.isArray(t)&&!(r=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):It(t[0],t[1],t[2],t[3])))return new Et(t[0]/255,t[1]/255,t[2]/255,t[3])}}catch(c){o.e(c)}finally{o.f()}throw new Rt(r||"Could not parse color from value '".concat("string"==typeof t?t:String(JSON.stringify(t)),"'"))}if("number"===this.type.kind){var a,s=null,l=d(this.args);try{for(l.s();!(a=l.n()).done;){if(null===(s=a.value.evaluate(e)))return 0;var u=Number(s);if(!isNaN(u))return u}}catch(c){l.e(c)}finally{l.f()}throw new Rt("Could not convert ".concat(JSON.stringify(s)," to number."))}return"formatted"===this.type.kind?Ct.fromString(Ot(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?At.fromString(Ot(this.args[0].evaluate(e))):Ot(this.args[0].evaluate(e))}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){if("formatted"===this.type.kind)return new jt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ft(this.args[0]).serialize();var e=["to-".concat(this.type.kind)];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,r){if(t.length<2)return r.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return r.error("Expected one argument.");for(var o=Nt[n],i=[],a=1;a<t.length;a++){var s=r.parse(t[a],a,dt);if(!s)return null;i.push(s)}return new e(o,i)}}]),e}(),Vt=["Unknown","Point","LineString","Polygon"],Ut=function(){function e(){m(this,e),this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}return y(e,[{key:"id",value:function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null}},{key:"geometryType",value:function(){return this.feature?"number"==typeof this.feature.type?Vt[this.feature.type]:this.feature.type:null}},{key:"geometry",value:function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}},{key:"canonicalID",value:function(){return this.canonical}},{key:"properties",value:function(){return this.feature&&this.feature.properties||{}}},{key:"distanceFromCenter",value:function(){if(this.featureTileCoord&&this.featureDistanceData){var e=this.featureDistanceData.center,t=this.featureDistanceData.scale,r=this.featureTileCoord,n=r.x,o=r.y;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(o*t-e[1])}return 0}},{key:"parseColor",value:function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Et.parse(e)),t}}]),e}(),Gt=function(){function e(t,r,n,o){m(this,e),this.name=t,this.type=r,this._evaluate=n,this.args=o}return y(e,[{key:"evaluate",value:function(e){return this._evaluate(e,this.args)}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))}}],[{key:"parse",value:function(t,r){var n,o=t[0],i=e.definitions[o];if(!i)return r.error('Unknown expression "'.concat(o,'". If you wanted a literal array, use ["literal", [...]].'),0);var a,s=Array.isArray(i)?i[0]:i.type,l=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,u=l.filter((function(e){var r=f(e,1)[0];return!Array.isArray(r)||r.length===t.length-1})),h=null,p=d(u);try{for(p.s();!(a=p.n()).done;){var v=f(a.value,2),m=v[0],y=v[1];h=new dr(r.registry,r.path,null,r.scope);for(var g=[],b=!1,_=1;_<t.length;_++){var x=t[_],w=Array.isArray(m)?m[_-1]:m.type,k=h.parse(x,1+g.length,w);if(!k){b=!0;break}g.push(k)}if(!b)if(Array.isArray(m)&&m.length!==g.length)h.error("Expected ".concat(m.length," arguments, but found ").concat(g.length," instead."));else{for(var E=0;E<g.length;E++){var T=Array.isArray(m)?m[E]:m.type,S=g[E];h.concat(E+1).checkSubtype(T,S.type)}if(0===h.errors.length)return new e(o,s,y,g)}}}catch(P){p.e(P)}finally{p.f()}if(1===u.length)(n=r.errors).push.apply(n,c(h.errors));else{for(var C=(u.length?u:l).map((function(e){var t;return t=f(e,1)[0],Array.isArray(t)?"(".concat(t.map(yt).join(", "),")"):"(".concat(yt(t.type),"...)")})).join(" | "),A=[],I=1;I<t.length;I++){var M=r.parse(t[I],1+A.length);if(!M)return null;A.push(yt(M.type))}r.error("Expected arguments of type ".concat(C,", but found (").concat(A.join(", "),") instead."))}return null}},{key:"register",value:function(t,r){for(var n in e.definitions=r,r)t[n]=e}}]),e}(),qt=function(){function e(t,r,n){m(this,e),this.type=ht,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=r}return y(e,[{key:"evaluate",value:function(e){return new Tt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}},{key:"eachChild",value:function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}],[{key:"parse",value:function(t,r){if(2!==t.length)return r.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return r.error("Collator options argument must be an object.");var o=r.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,ut);if(!o)return null;var i=r.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,ut);if(!i)return null;var a=null;return n.locale&&!(a=r.parse(n.locale,1,lt))?null:new e(o,i,a)}}]),e}(),Wt=8192;function Zt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Ht(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Xt(e,t){var r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,o=Math.pow(2,t.z);return[Math.round(r*o*Wt),Math.round(n*o*Wt)]}function $t(e,t,r){var n=e[0]-t[0],o=e[1]-t[1],i=e[0]-r[0],a=e[1]-r[1];return n*a-i*o==0&&n*i<=0&&o*a<=0}function Kt(e,t){for(var r,n,o,i=!1,a=0,s=t.length;a<s;a++)for(var l=t[a],u=0,c=l.length;u<c-1;u++){if($t(e,l[u],l[u+1]))return!1;(n=l[u])[1]>(r=e)[1]!=(o=l[u+1])[1]>r[1]&&r[0]<(o[0]-n[0])*(r[1]-n[1])/(o[1]-n[1])+n[0]&&(i=!i)}return i}function Yt(e,t){for(var r=0;r<t.length;r++)if(Kt(e,t[r]))return!0;return!1}function Jt(e,t,r,n){var o=n[0]-r[0],i=n[1]-r[1],a=(e[0]-r[0])*i-o*(e[1]-r[1]),s=(t[0]-r[0])*i-o*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function Qt(e,t,r){var n,o,i,a,s,l,u,c=d(r);try{for(c.s();!(n=c.n()).done;)for(var f=n.value,h=0;h<f.length-1;++h)if(0!=(l=[(s=f[h+1])[0]-(a=f[h])[0],s[1]-a[1]])[0]*(u=[(i=t)[0]-(o=e)[0],i[1]-o[1]])[1]-l[1]*u[0]&&Jt(o,i,a,s)&&Jt(a,s,o,i))return!0}catch(p){c.e(p)}finally{c.f()}return!1}function er(e,t){for(var r=0;r<e.length;++r)if(!Kt(e[r],t))return!1;for(var n=0;n<e.length-1;++n)if(Qt(e[n],e[n+1],t))return!1;return!0}function tr(e,t){for(var r=0;r<t.length;r++)if(er(e,t[r]))return!0;return!1}function rr(e,t,r){for(var n=[],o=0;o<e.length;o++){for(var i=[],a=0;a<e[o].length;a++){var s=Xt(e[o][a],r);Zt(t,s),i.push(s)}n.push(i)}return n}function nr(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=rr(e[o],t,r);n.push(i)}return n}function or(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){var o=.5*n,i=e[0]-r[0]>o?-n:r[0]-e[0]>o?n:0;0===i&&(i=e[0]-r[2]>o?-n:r[2]-e[0]>o?n:0),e[0]+=i}Zt(t,e)}function ir(e,t,r,n){var o=Math.pow(2,n.z)*Wt,i=[n.x*Wt,n.y*Wt],a=[];if(!e)return a;var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,f=d(c);try{for(f.s();!(u=f.n()).done;){var h=u.value,p=[h.x+i[0],h.y+i[1]];or(p,t,r,o),a.push(p)}}catch(v){f.e(v)}finally{f.f()}}}catch(v){l.e(v)}finally{l.f()}return a}function ar(e,t,r,n){var o=Math.pow(2,n.z)*Wt,i=[n.x*Wt,n.y*Wt],a=[];if(!e)return a;var s,l,u=d(e);try{for(u.s();!(s=u.n()).done;){var c,f=s.value,h=[],p=d(f);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=[v.x+i[0],v.y+i[1]];Zt(t,m),h.push(m)}}catch(w){p.e(w)}finally{p.f()}a.push(h)}}catch(w){u.e(w)}finally{u.f()}if(t[2]-t[0]<=o/2){(l=t)[0]=l[1]=1/0,l[2]=l[3]=-1/0;var y,g=d(a);try{for(g.s();!(y=g.n()).done;){var b,_=y.value,x=d(_);try{for(x.s();!(b=x.n()).done;)or(b.value,t,r,o)}catch(w){x.e(w)}finally{x.f()}}}catch(w){g.e(w)}finally{g.f()}}return a}var sr=function(){function e(t,r){m(this,e),this.type=ut,this.geojson=t,this.geometries=r}return y(e,[{key:"evaluate",value:function(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){var i=rr(t.coordinates,n,o),a=ir(e.geometry(),r,n,o);if(!Ht(r,n))return!1;var s,l=d(a);try{for(l.s();!(s=l.n()).done;)if(!Kt(s.value,i))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=nr(t.coordinates,n,o),c=ir(e.geometry(),r,n,o);if(!Ht(r,n))return!1;var f,h=d(c);try{for(h.s();!(f=h.n()).done;)if(!Yt(f.value,u))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],o=e.canonicalID();if(!o)return!1;if("Polygon"===t.type){var i=rr(t.coordinates,n,o),a=ar(e.geometry(),r,n,o);if(!Ht(r,n))return!1;var s,l=d(a);try{for(l.s();!(s=l.n()).done;)if(!er(s.value,i))return!1}catch(p){l.e(p)}finally{l.f()}}if("MultiPolygon"===t.type){var u=nr(t.coordinates,n,o),c=ar(e.geometry(),r,n,o);if(!Ht(r,n))return!1;var f,h=d(c);try{for(h.s();!(f=h.n()).done;)if(!tr(f.value,u))return!1}catch(p){h.e(p)}finally{h.f()}}return!0}(e,this.geometries)}return!1}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["within",this.geojson]}}],[{key:"parse",value:function(t,r){if(2!==t.length)return r.error("'within' expression requires exactly one argument, but found ".concat(t.length-1," instead."));if(Mt(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var o=0;o<n.features.length;++o){var i=n.features[o].geometry.type;if("Polygon"===i||"MultiPolygon"===i)return new e(n,n.features[o].geometry)}else if("Feature"===n.type){var a=n.geometry.type;if("Polygon"===a||"MultiPolygon"===a)return new e(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new e(n,n)}return r.error("'within' expression requires valid geojson object that contains polygon geometry type.")}}]),e}();function lr(e){if(e instanceof Gt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof sr)return!1;var t=!0;return e.eachChild((function(e){t&&!lr(e)&&(t=!1)})),t}function ur(e){if(e instanceof Gt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!ur(e)&&(t=!1)})),t}function cr(e,t){if(e instanceof Gt&&t.indexOf(e.name)>=0)return!1;var r=!0;return e.eachChild((function(e){r&&!cr(e,t)&&(r=!1)})),r}var fr=function(){function e(t,r){m(this,e),this.type=r.type,this.name=t,this.boundExpression=r}return y(e,[{key:"evaluate",value:function(e){return this.boundExpression.evaluate(e)}},{key:"eachChild",value:function(){}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["var",this.name]}}],[{key:"parse",value:function(t,r){if(2!==t.length||"string"!=typeof t[1])return r.error("'var' expression requires exactly one string literal argument.");var n=t[1];return r.scope.has(n)?new e(n,r.scope.get(n)):r.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}}]),e}(),dr=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new it,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];m(this,e),this.registry=t,this.path=r,this.key=r.map((function(e){return"[".concat(e,"]")})).join(""),this.scope=o,this.errors=i,this.expectedType=n}return y(e,[{key:"parse",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,r,n)._parse(e,o):this._parse(e,o)}},{key:"_parse",value:function(e,t){function r(e,t,r){return"assert"===r?new Lt(t,[e]):"coerce"===r?new Bt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var n=e[0];if("string"!=typeof n)return this.error("Expression name must be a string, but found ".concat(typeof n,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;var o=this.registry[n];if(o){var i=o.parse(e,this);if(!i)return null;if(this.expectedType){var a=this.expectedType,s=i.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else i=r(i,a,t.typeAnnotation||"coerce");else i=r(i,a,t.typeAnnotation||"assert")}if(!(i instanceof zt)&&"resolvedImage"!==i.type.kind&&hr(i)){var l=new Ut;try{i=new zt(i.type,i.evaluate(l))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}},{key:"concat",value:function(t,r,n){var o="number"==typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new e(this.registry,o,r||null,i,this.errors)}},{key:"error",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o="".concat(this.key).concat(r.map((function(e){return"[".concat(e,"]")})).join(""));this.errors.push(new ot(o,e))}},{key:"checkSubtype",value:function(e,t){var r=bt(e,t);return r&&this.error(r),r}}]),e}();function hr(e){if(e instanceof fr)return hr(e.boundExpression);if(e instanceof Gt&&"error"===e.name)return!1;if(e instanceof qt)return!1;if(e instanceof sr)return!1;var t=e instanceof Bt||e instanceof Lt,r=!0;return e.eachChild((function(e){r=t?r&&hr(e):r&&e instanceof zt})),!!r&&lr(e)&&cr(e,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function pr(e,t){for(var r,n,o=e.length-1,i=0,a=o,s=0;i<=a;)if(r=e[s=Math.floor((i+a)/2)],n=e[s+1],r<=t){if(s===o||t<n)return s;i=s+1}else{if(!(r>t))throw new Rt("Input is not a number.");a=s-1}return 0}var vr=function(){function e(t,r,n){m(this,e),this.type=t,this.input=r,this.labels=[],this.outputs=[];var o,i=d(n);try{for(i.s();!(o=i.n()).done;){var a=f(o.value,2),s=a[0],l=a[1];this.labels.push(s),this.outputs.push(l)}}catch(u){i.e(u)}finally{i.f()}}return y(e,[{key:"evaluate",value:function(e){var t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);var n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);var o=t.length;return n>=t[o-1]?r[o-1].evaluate(e):r[pr(t,n)].evaluate(e)}},{key:"eachChild",value:function(e){e(this.input);var t,r=d(this.outputs);try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(n){r.e(n)}finally{r.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}],[{key:"parse",value:function(t,r){if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");var n=r.parse(t[1],1,st);if(!n)return null;var o=[],i=null;r.expectedType&&"value"!==r.expectedType.kind&&(i=r.expectedType);for(var a=1;a<t.length;a+=2){var s=1===a?-1/0:t[a],l=t[a+1],u=a,c=a+1;if("number"!=typeof s)return r.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(o.length&&o[o.length-1][0]>=s)return r.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var f=r.parse(l,c,i);if(!f)return null;i=i||f.type,o.push([s,f])}return new e(i,n,o)}}]),e}();function mr(e,t,r){return e*(1-r)+t*r}var yr=Object.freeze({__proto__:null,number:mr,color:function(e,t,r){return new Et(mr(e.r,t.r,r),mr(e.g,t.g,r),mr(e.b,t.b,r),mr(e.a,t.a,r))},array:function(e,t,r){return e.map((function(e,n){return mr(e,t[n],r)}))}}),gr=.95047,br=1.08883,_r=4/29,xr=6/29,wr=3*xr*xr,kr=Math.PI/180,Er=180/Math.PI;function Tr(e){return e>.008856451679035631?Math.pow(e,1/3):e/wr+_r}function Sr(e){return e>xr?e*e*e:wr*(e-_r)}function Cr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Ar(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ir(e){var t=Ar(e.r),r=Ar(e.g),n=Ar(e.b),o=Tr((.4124564*t+.3575761*r+.1804375*n)/gr),i=Tr((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*i-16,a:500*(o-i),b:200*(i-Tr((.0193339*t+.119192*r+.9503041*n)/br)),alpha:e.a}}function Mr(e){var t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*Sr(t),r=gr*Sr(r),n=br*Sr(n),new Et(Cr(3.2404542*r-1.5371385*t-.4985314*n),Cr(-.969266*r+1.8760108*t+.041556*n),Cr(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Pr(e,t,r){var n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}var Or={forward:Ir,reverse:Mr,interpolate:function(e,t,r){return{l:mr(e.l,t.l,r),a:mr(e.a,t.a,r),b:mr(e.b,t.b,r),alpha:mr(e.alpha,t.alpha,r)}}},zr={forward:function(e){var t=Ir(e),r=t.l,n=t.a,o=t.b,i=Math.atan2(o,n)*Er;return{h:i<0?i+360:i,c:Math.sqrt(n*n+o*o),l:r,alpha:e.a}},reverse:function(e){var t=e.h*kr,r=e.c;return Mr({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Pr(e.h,t.h,r),c:mr(e.c,t.c,r),l:mr(e.l,t.l,r),alpha:mr(e.alpha,t.alpha,r)}}},Rr=Object.freeze({__proto__:null,lab:Or,hcl:zr}),Dr=function(){function e(t,r,n,o,i){m(this,e),this.type=t,this.operator=r,this.interpolation=n,this.input=o,this.labels=[],this.outputs=[];var a,s=d(i);try{for(s.s();!(a=s.n()).done;){var l=f(a.value,2),u=l[0],c=l[1];this.labels.push(u),this.outputs.push(c)}}catch(h){s.e(h)}finally{s.f()}}return y(e,[{key:"evaluate",value:function(t){var r=this.labels,n=this.outputs;if(1===r.length)return n[0].evaluate(t);var o=this.input.evaluate(t);if(o<=r[0])return n[0].evaluate(t);var i=r.length;if(o>=r[i-1])return n[i-1].evaluate(t);var a=pr(r,o),s=e.interpolationFactor(this.interpolation,o,r[a],r[a+1]),l=n[a].evaluate(t),u=n[a+1].evaluate(t);return"interpolate"===this.operator?yr[this.type.kind.toLowerCase()](l,u,s):"interpolate-hcl"===this.operator?zr.reverse(zr.interpolate(zr.forward(l),zr.forward(u),s)):Or.reverse(Or.interpolate(Or.forward(l),Or.forward(u),s))}},{key:"eachChild",value:function(e){e(this.input);var t,r=d(this.outputs);try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(n){r.e(n)}finally{r.f()}}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],r=0;r<this.labels.length;r++)t.push(this.labels[r],this.outputs[r].serialize());return t}}],[{key:"interpolationFactor",value:function(e,t,n,o){var i=0;if("exponential"===e.name)i=Lr(t,e.base,n,o);else if("linear"===e.name)i=Lr(t,1,n,o);else if("cubic-bezier"===e.name){var a=e.controlPoints;i=new r(a[0],a[1],a[2],a[3]).solve(Lr(t,1,n,o))}return i}},{key:"parse",value:function(t,r){var n=u(t),o=n[0],i=n[1],a=n[2],s=n.slice(3);if(!Array.isArray(i)||0===i.length)return r.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var l=i[1];if("number"!=typeof l)return r.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:l}}else{if("cubic-bezier"!==i[0])return r.error("Unknown interpolation type ".concat(String(i[0])),1,0);var c=i.slice(1);if(4!==c.length||c.some((function(e){return"number"!=typeof e||e<0||e>1})))return r.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:c}}if(t.length-1<4)return r.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if((t.length-1)%2!=0)return r.error("Expected an even number of arguments.");if(!(a=r.parse(a,2,st)))return null;var f=[],d=null;"interpolate-hcl"===o||"interpolate-lab"===o?d=ct:r.expectedType&&"value"!==r.expectedType.kind&&(d=r.expectedType);for(var h=0;h<s.length;h+=2){var p=s[h],v=s[h+1],m=h+3,y=h+4;if("number"!=typeof p)return r.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(f.length&&f[f.length-1][0]>=p)return r.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',m);var g=r.parse(v,y,d);if(!g)return null;d=d||g.type,f.push([p,g])}return"number"===d.kind||"color"===d.kind||"array"===d.kind&&"number"===d.itemType.kind&&"number"==typeof d.N?new e(d,o,i,a,f):r.error("Type ".concat(yt(d)," is not interpolatable."))}}]),e}();function Lr(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}var jr=function(){function e(t,r){m(this,e),this.type=t,this.args=r}return y(e,[{key:"evaluate",value:function(e){var t,r,n=null,o=0,i=d(this.args);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(o++,(n=a.evaluate(e))&&n instanceof At&&!n.available&&(t||(t=n),n=null,o===this.args.length))return t;if(null!==n)break}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"eachChild",value:function(e){this.args.forEach(e)}},{key:"outputDefined",value:function(){return this.args.every((function(e){return e.outputDefined()}))}},{key:"serialize",value:function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,r){if(t.length<2)return r.error("Expectected at least one argument.");var n=null,o=r.expectedType;o&&"value"!==o.kind&&(n=o);var i,a=[],s=d(t.slice(1));try{for(s.s();!(i=s.n()).done;){var l=i.value,u=r.parse(l,1+a.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,a.push(u)}}catch(f){s.e(f)}finally{s.f()}var c=o&&a.some((function(e){return bt(o,e.type)}));return new e(c?dt:n,a)}}]),e}(),Fr=function(){function e(t,r){m(this,e),this.type=r.type,this.bindings=[].concat(t),this.result=r}return y(e,[{key:"evaluate",value:function(e){return this.result.evaluate(e)}},{key:"eachChild",value:function(e){var t,r=d(this.bindings);try{for(r.s();!(t=r.n()).done;)e(t.value[1])}catch(n){r.e(n)}finally{r.f()}e(this.result)}},{key:"outputDefined",value:function(){return this.result.outputDefined()}},{key:"serialize",value:function(){var e,t=["let"],r=d(this.bindings);try{for(r.s();!(e=r.n()).done;){var n=f(e.value,2),o=n[0],i=n[1];t.push(o,i.serialize())}}catch(a){r.e(a)}finally{r.f()}return t.push(this.result.serialize()),t}}],[{key:"parse",value:function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found ".concat(t.length-1," instead."));for(var n=[],o=1;o<t.length-1;o+=2){var i=t[o];if("string"!=typeof i)return r.error("Expected string, but found ".concat(typeof i," instead."),o);if(/[^a-zA-Z0-9_]/.test(i))return r.error("Variable names must contain only alphanumeric characters or '_'.",o);var a=r.parse(t[o+1],o+1);if(!a)return null;n.push([i,a])}var s=r.parse(t[t.length-1],t.length-1,r.expectedType,n);return s?new e(n,s):null}}]),e}(),Nr=function(){function e(t,r,n){m(this,e),this.type=t,this.index=r,this.input=n}return y(e,[{key:"evaluate",value:function(e){var t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Rt("Array index out of bounds: ".concat(t," < 0."));if(t>=r.length)throw new Rt("Array index out of bounds: ".concat(t," > ").concat(r.length-1,"."));if(t!==Math.floor(t))throw new Rt("Array index must be an integer, but found ".concat(t," instead."));return r[t]}},{key:"eachChild",value:function(e){e(this.index),e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return["at",this.index.serialize(),this.input.serialize()]}}],[{key:"parse",value:function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=r.parse(t[1],1,st),o=r.parse(t[2],2,mt(r.expectedType||dt));return n&&o?new e(o.type.itemType,n,o):null}}]),e}(),Br=function(){function e(t,r){m(this,e),this.type=ut,this.needle=t,this.haystack=r}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!xt(t,["boolean","string","number","null"]))throw new Rt("Expected first argument to be of type boolean, string, number or null, but found ".concat(yt(Pt(t))," instead."));if(!xt(r,["string","array"]))throw new Rt("Expected second argument to be of type array or string, but found ".concat(yt(Pt(r))," instead."));return r.indexOf(t)>=0}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){return["in",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,r){if(3!==t.length)return r.error("Expected 2 arguments, but found ".concat(t.length-1," instead."));var n=r.parse(t[1],1,dt),o=r.parse(t[2],2,dt);return n&&o?_t(n.type,[ut,lt,st,at,dt])?new e(n,o):r.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(yt(n.type)," instead")):null}}]),e}(),Vr=function(){function e(t,r,n){m(this,e),this.type=st,this.needle=t,this.haystack=r,this.fromIndex=n}return y(e,[{key:"evaluate",value:function(e){var t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!xt(t,["boolean","string","number","null"]))throw new Rt("Expected first argument to be of type boolean, string, number or null, but found ".concat(yt(Pt(t))," instead."));if(!xt(r,["string","array"]))throw new Rt("Expected second argument to be of type array or string, but found ".concat(yt(Pt(r))," instead."));if(this.fromIndex){var n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}},{key:"eachChild",value:function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}],[{key:"parse",value:function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=r.parse(t[1],1,dt),o=r.parse(t[2],2,dt);if(!n||!o)return null;if(!_t(n.type,[ut,lt,st,at,dt]))return r.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(yt(n.type)," instead"));if(4===t.length){var i=r.parse(t[3],3,st);return i?new e(n,o,i):null}return new e(n,o)}}]),e}(),Ur=function(){function e(t,r,n,o,i,a){m(this,e),this.inputType=t,this.type=r,this.input=n,this.cases=o,this.outputs=i,this.otherwise=a}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);return(Pt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}},{key:"eachChild",value:function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}},{key:"outputDefined",value:function(){return this.outputs.every((function(e){return e.outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e,t=this,r=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),o=[],i={},a=d(n);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=i[this.cases[s]];void 0===l?(i[this.cases[s]]=o.length,o.push([this.cases[s],[s]])):o[l][1].push(s)}}catch(y){a.e(y)}finally{a.f()}for(var u=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,h=o;c<h.length;c++){var p=f(h[c],2),v=p[0],m=p[1];r.push(1===m.length?u(m[0]):m.map(u)),r.push(this.outputs[v].serialize())}return r.push(this.otherwise.serialize()),r}}],[{key:"parse",value:function(t,r){if(t.length<5)return r.error("Expected at least 4 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=1)return r.error("Expected an even number of arguments.");var n,o;r.expectedType&&"value"!==r.expectedType.kind&&(o=r.expectedType);for(var i={},a=[],s=2;s<t.length-1;s+=2){var l=t[s],u=t[s+1];Array.isArray(l)||(l=[l]);var c=r.concat(s);if(0===l.length)return c.error("Expected at least one branch label.");var f,h=d(l);try{for(h.s();!(f=h.n()).done;){var p=f.value;if("number"!=typeof p&&"string"!=typeof p)return c.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof p&&Math.floor(p)!==p)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Pt(p)))return null}else n=Pt(p);if(void 0!==i[String(p)])return c.error("Branch labels must be unique.");i[String(p)]=a.length}}catch(g){h.e(g)}finally{h.f()}var v=r.parse(u,s,o);if(!v)return null;o=o||v.type,a.push(v)}var m=r.parse(t[1],1,dt);if(!m)return null;var y=r.parse(t[t.length-1],t.length-1,o);return y?"value"!==m.type.kind&&r.concat(1).checkSubtype(n,m.type)?null:new e(n,o,m,i,a,y):null}}]),e}(),Gr=function(){function e(t,r,n){m(this,e),this.type=t,this.branches=r,this.otherwise=n}return y(e,[{key:"evaluate",value:function(e){var t,r=d(this.branches);try{for(r.s();!(t=r.n()).done;){var n=f(t.value,2),o=n[0],i=n[1];if(o.evaluate(e))return i.evaluate(e)}}catch(a){r.e(a)}finally{r.f()}return this.otherwise.evaluate(e)}},{key:"eachChild",value:function(e){var t,r=d(this.branches);try{for(r.s();!(t=r.n()).done;){var n=f(t.value,2),o=n[0],i=n[1];e(o),e(i)}}catch(a){r.e(a)}finally{r.f()}e(this.otherwise)}},{key:"outputDefined",value:function(){return this.branches.every((function(e){var t=f(e,2);return t[0],t[1].outputDefined()}))&&this.otherwise.outputDefined()}},{key:"serialize",value:function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,r){if(t.length<4)return r.error("Expected at least 3 arguments, but found only ".concat(t.length-1,"."));if(t.length%2!=0)return r.error("Expected an odd number of arguments.");var n;r.expectedType&&"value"!==r.expectedType.kind&&(n=r.expectedType);for(var o=[],i=1;i<t.length-1;i+=2){var a=r.parse(t[i],i,ut);if(!a)return null;var s=r.parse(t[i+1],i+1,n);if(!s)return null;o.push([a,s]),n=n||s.type}var l=r.parse(t[t.length-1],t.length-1,n);return l?new e(n,o,l):null}}]),e}(),qr=function(){function e(t,r,n,o){m(this,e),this.type=t,this.input=r,this.beginIndex=n,this.endIndex=o}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!xt(t,["string","array"]))throw new Rt("Expected first argument to be of type array or string, but found ".concat(yt(Pt(t))," instead."));if(this.endIndex){var n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}},{key:"eachChild",value:function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){if(null!=this.endIndex&&void 0!==this.endIndex){var e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}],[{key:"parse",value:function(t,r){if(t.length<=2||t.length>=5)return r.error("Expected 3 or 4 arguments, but found ".concat(t.length-1," instead."));var n=r.parse(t[1],1,dt),o=r.parse(t[2],2,st);if(!n||!o)return null;if(!_t(n.type,[mt(dt),lt,dt]))return r.error("Expected first argument to be of type array or string, but found ".concat(yt(n.type)," instead"));if(4===t.length){var i=r.parse(t[3],3,st);return i?new e(n.type,n,o,i):null}return new e(n.type,n,o)}}]),e}();function Wr(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Zr(e,t,r,n){return 0===n.compare(t,r)}function Hr(e,t,r){var n="=="!==e&&"!="!==e;return function(){function o(e,t,r){m(this,o),this.type=ut,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return y(o,[{key:"evaluate",value:function(o){var i=this.lhs.evaluate(o),a=this.rhs.evaluate(o);if(n&&this.hasUntypedArgument){var s=Pt(i),l=Pt(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Rt('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(s.kind,", ").concat(l.kind,") instead."))}if(this.collator&&!n&&this.hasUntypedArgument){var u=Pt(i),c=Pt(a);if("string"!==u.kind||"string"!==c.kind)return t(o,i,a)}return this.collator?r(o,i,a,this.collator.evaluate(o)):t(o,i,a)}},{key:"eachChild",value:function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}},{key:"outputDefined",value:function(){return!0}},{key:"serialize",value:function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t}}],[{key:"parse",value:function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var r=e[0],i=t.parse(e[1],1,dt);if(!i)return null;if(!Wr(r,i.type))return t.concat(1).error('"'.concat(r,"\" comparisons are not supported for type '").concat(yt(i.type),"'."));var a=t.parse(e[2],2,dt);if(!a)return null;if(!Wr(r,a.type))return t.concat(2).error('"'.concat(r,"\" comparisons are not supported for type '").concat(yt(a.type),"'."));if(i.type.kind!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '".concat(yt(i.type),"' and '").concat(yt(a.type),"'."));n&&("value"===i.type.kind&&"value"!==a.type.kind?i=new Lt(a.type,[i]):"value"!==i.type.kind&&"value"===a.type.kind&&(a=new Lt(i.type,[a])));var s=null;if(4===e.length){if("string"!==i.type.kind&&"string"!==a.type.kind&&"value"!==i.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,ht)))return null}return new o(i,a,s)}}]),o}()}var Xr=Hr("==",(function(e,t,r){return t===r}),Zr),$r=Hr("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!Zr(0,t,r,n)})),Kr=Hr("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),Yr=Hr(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),Jr=Hr("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),Qr=Hr(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0})),en=function(){function e(t,r,n,o,i){m(this,e),this.type=lt,this.number=t,this.locale=r,this.currency=n,this.minFractionDigits=o,this.maxFractionDigits=i}return y(e,[{key:"evaluate",value:function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}},{key:"eachChild",value:function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}],[{key:"parse",value:function(t,r){if(3!==t.length)return r.error("Expected two arguments.");var n=r.parse(t[1],1,st);if(!n)return null;var o=t[2];if("object"!=typeof o||Array.isArray(o))return r.error("NumberFormat options argument must be an object.");var i=null;if(o.locale&&!(i=r.parse(o.locale,1,lt)))return null;var a=null;if(o.currency&&!(a=r.parse(o.currency,1,lt)))return null;var s=null;if(o["min-fraction-digits"]&&!(s=r.parse(o["min-fraction-digits"],1,st)))return null;var l=null;return o["max-fraction-digits"]&&!(l=r.parse(o["max-fraction-digits"],1,st))?null:new e(n,i,a,s,l)}}]),e}(),tn=function(){function e(t){m(this,e),this.type=st,this.input=t}return y(e,[{key:"evaluate",value:function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Rt("Expected value to be of type string or array, but found ".concat(yt(Pt(t))," instead."))}},{key:"eachChild",value:function(e){e(this.input)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e}}],[{key:"parse",value:function(t,r){if(2!==t.length)return r.error("Expected 1 argument, but found ".concat(t.length-1," instead."));var n=r.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?r.error("Expected argument of type string or array, but found ".concat(yt(n.type)," instead.")):new e(n):null}}]),e}(),rn={"==":Xr,"!=":$r,">":Yr,"<":Kr,">=":Qr,"<=":Jr,array:Lt,at:Nr,boolean:Lt,case:Gr,coalesce:jr,collator:qt,format:jt,image:Ft,in:Br,"index-of":Vr,interpolate:Dr,"interpolate-hcl":Dr,"interpolate-lab":Dr,length:tn,let:Fr,literal:zt,match:Ur,number:Lt,"number-format":en,object:Lt,slice:qr,step:vr,string:Lt,"to-boolean":Bt,"to-color":Bt,"to-number":Bt,"to-string":Bt,var:fr,within:sr};function nn(e,t){var r=f(t,4),n=r[0],o=r[1],i=r[2],a=r[3];n=n.evaluate(e),o=o.evaluate(e),i=i.evaluate(e);var s=a?a.evaluate(e):1,l=It(n,o,i,s);if(l)throw new Rt(l);return new Et(n/255*s,o/255*s,i/255*s,s)}function on(e,t){return e in t}function an(e,t){var r=t[e];return void 0===r?null:r}function sn(e){return{type:e}}function ln(e){return{result:"success",value:e}}function un(e){return{result:"error",value:e}}function cn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function fn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function dn(e){return!!e.expression&&e.expression.interpolated}function hn(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function pn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function vn(e){return e}function mn(e,t){var r,n,o,i="color"===t.type,a=e.stops&&"object"==typeof e.stops[0][0],s=a||!(a||void 0!==e.property),l=e.type||(dn(t)?"exponential":"interval");if(i&&((e=tt({},e)).stops&&(e.stops=e.stops.map((function(e){return[e[0],Et.parse(e[1])]}))),e.default=Et.parse(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!Rr[e.colorSpace])throw new Error("Unknown color space: ".concat(e.colorSpace));if("exponential"===l)r=_n;else if("interval"===l)r=bn;else if("categorical"===l){r=gn,n=Object.create(null);var u,c=d(e.stops);try{for(c.s();!(u=c.n()).done;){var f=u.value;n[f[0]]=f[1]}}catch(E){c.e(E)}finally{c.f()}o=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'.concat(l,'"'));r=xn}if(a){for(var h={},p=[],v=0;v<e.stops.length;v++){var m=e.stops[v],y=m[0].zoom;void 0===h[y]&&(h[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},p.push(y)),h[y].stops.push([m[0].value,m[1]])}for(var g=[],b=0,_=p;b<_.length;b++){var x=_[b];g.push([h[x].zoom,mn(h[x],t)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:Dr.interpolationFactor.bind(void 0,w),zoomStops:g.map((function(e){return e[0]})),evaluate:function(r,n){var o=r.zoom;return _n({stops:g,base:e.base},t,o).evaluate(o,n)}}}if(s){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:Dr.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map((function(e){return e[0]})),evaluate:function(i){var a=i.zoom;return r(e,t,a,n,o)}}}return{kind:"source",evaluate:function(i,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?yn(e.default,t.default):r(e,t,s,n,o)}}}function yn(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function gn(e,t,r,n,o){return yn(typeof r===o?n[r]:void 0,e.default,t.default)}function bn(e,t,r){if("number"!==hn(r))return yn(e.default,t.default);var n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];var o=pr(e.stops.map((function(e){return e[0]})),r);return e.stops[o][1]}function _n(e,t,r){var n=void 0!==e.base?e.base:1;if("number"!==hn(r))return yn(e.default,t.default);var o=e.stops.length;if(1===o)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[o-1][0])return e.stops[o-1][1];var i=pr(e.stops.map((function(e){return e[0]})),r),a=function(e,t,r,n){var o=n-r,i=e-r;return 0===o?0:1===t?i/o:(Math.pow(t,i)-1)/(Math.pow(t,o)-1)}(r,n,e.stops[i][0],e.stops[i+1][0]),s=e.stops[i][1],l=e.stops[i+1][1],u=yr[t.type]||vn;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Rr[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=s.evaluate.apply(void 0,t),o=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==o)return u(n,o,a)}}:u(s,l,a)}function xn(e,t,r){return"color"===t.type?r=Et.parse(r):"formatted"===t.type?r=Ct.fromString(r.toString()):"resolvedImage"===t.type?r=At.fromString(r.toString()):hn(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),yn(r,e.default,t.default)}Gt.register(rn,{error:[{kind:"error"},[lt],function(e,t){var r=f(t,1)[0];throw new Rt(r.evaluate(e))}],typeof:[lt,[dt],function(e,t){return yt(Pt(f(t,1)[0].evaluate(e)))}],"to-rgba":[mt(st,4),[ct],function(e,t){return f(t,1)[0].evaluate(e).toArray()}],rgb:[ct,[st,st,st],nn],rgba:[ct,[st,st,st,st],nn],has:{type:ut,overloads:[[[lt],function(e,t){return on(f(t,1)[0].evaluate(e),e.properties())}],[[lt,ft],function(e,t){var r=f(t,2),n=r[0],o=r[1];return on(n.evaluate(e),o.evaluate(e))}]]},get:{type:dt,overloads:[[[lt],function(e,t){return an(f(t,1)[0].evaluate(e),e.properties())}],[[lt,ft],function(e,t){var r=f(t,2),n=r[0],o=r[1];return an(n.evaluate(e),o.evaluate(e))}]]},"feature-state":[dt,[lt],function(e,t){return an(f(t,1)[0].evaluate(e),e.featureState||{})}],properties:[ft,[],function(e){return e.properties()}],"geometry-type":[lt,[],function(e){return e.geometryType()}],id:[dt,[],function(e){return e.id()}],zoom:[st,[],function(e){return e.globals.zoom}],pitch:[st,[],function(e){return e.globals.pitch||0}],"distance-from-center":[st,[],function(e){return e.distanceFromCenter()}],"heatmap-density":[st,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[st,[],function(e){return e.globals.lineProgress||0}],"sky-radial-progress":[st,[],function(e){return e.globals.skyRadialProgress||0}],accumulated:[dt,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[st,sn(st),function(e,t){var r,n=0,o=d(t);try{for(o.s();!(r=o.n()).done;)n+=r.value.evaluate(e)}catch(i){o.e(i)}finally{o.f()}return n}],"*":[st,sn(st),function(e,t){var r,n=1,o=d(t);try{for(o.s();!(r=o.n()).done;)n*=r.value.evaluate(e)}catch(i){o.e(i)}finally{o.f()}return n}],"-":{type:st,overloads:[[[st,st],function(e,t){var r=f(t,2),n=r[0],o=r[1];return n.evaluate(e)-o.evaluate(e)}],[[st],function(e,t){return-f(t,1)[0].evaluate(e)}]]},"/":[st,[st,st],function(e,t){var r=f(t,2),n=r[0],o=r[1];return n.evaluate(e)/o.evaluate(e)}],"%":[st,[st,st],function(e,t){var r=f(t,2),n=r[0],o=r[1];return n.evaluate(e)%o.evaluate(e)}],ln2:[st,[],function(){return Math.LN2}],pi:[st,[],function(){return Math.PI}],e:[st,[],function(){return Math.E}],"^":[st,[st,st],function(e,t){var r=f(t,2),n=r[0],o=r[1];return Math.pow(n.evaluate(e),o.evaluate(e))}],sqrt:[st,[st],function(e,t){var r=f(t,1)[0];return Math.sqrt(r.evaluate(e))}],log10:[st,[st],function(e,t){var r=f(t,1)[0];return Math.log(r.evaluate(e))/Math.LN10}],ln:[st,[st],function(e,t){var r=f(t,1)[0];return Math.log(r.evaluate(e))}],log2:[st,[st],function(e,t){var r=f(t,1)[0];return Math.log(r.evaluate(e))/Math.LN2}],sin:[st,[st],function(e,t){var r=f(t,1)[0];return Math.sin(r.evaluate(e))}],cos:[st,[st],function(e,t){var r=f(t,1)[0];return Math.cos(r.evaluate(e))}],tan:[st,[st],function(e,t){var r=f(t,1)[0];return Math.tan(r.evaluate(e))}],asin:[st,[st],function(e,t){var r=f(t,1)[0];return Math.asin(r.evaluate(e))}],acos:[st,[st],function(e,t){var r=f(t,1)[0];return Math.acos(r.evaluate(e))}],atan:[st,[st],function(e,t){var r=f(t,1)[0];return Math.atan(r.evaluate(e))}],min:[st,sn(st),function(e,t){return Math.min.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],max:[st,sn(st),function(e,t){return Math.max.apply(Math,c(t.map((function(t){return t.evaluate(e)}))))}],abs:[st,[st],function(e,t){var r=f(t,1)[0];return Math.abs(r.evaluate(e))}],round:[st,[st],function(e,t){var r=f(t,1)[0].evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[st,[st],function(e,t){var r=f(t,1)[0];return Math.floor(r.evaluate(e))}],ceil:[st,[st],function(e,t){var r=f(t,1)[0];return Math.ceil(r.evaluate(e))}],"filter-==":[ut,[lt,dt],function(e,t){var r=f(t,2),n=r[0],o=r[1];return e.properties()[n.value]===o.value}],"filter-id-==":[ut,[dt],function(e,t){var r=f(t,1)[0];return e.id()===r.value}],"filter-type-==":[ut,[lt],function(e,t){var r=f(t,1)[0];return e.geometryType()===r.value}],"filter-<":[ut,[lt,dt],function(e,t){var r=f(t,2),n=r[0],o=r[1],i=e.properties()[n.value],a=o.value;return typeof i==typeof a&&i<a}],"filter-id-<":[ut,[dt],function(e,t){var r=f(t,1)[0],n=e.id(),o=r.value;return typeof n==typeof o&&n<o}],"filter->":[ut,[lt,dt],function(e,t){var r=f(t,2),n=r[0],o=r[1],i=e.properties()[n.value],a=o.value;return typeof i==typeof a&&i>a}],"filter-id->":[ut,[dt],function(e,t){var r=f(t,1)[0],n=e.id(),o=r.value;return typeof n==typeof o&&n>o}],"filter-<=":[ut,[lt,dt],function(e,t){var r=f(t,2),n=r[0],o=r[1],i=e.properties()[n.value],a=o.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[ut,[dt],function(e,t){var r=f(t,1)[0],n=e.id(),o=r.value;return typeof n==typeof o&&n<=o}],"filter->=":[ut,[lt,dt],function(e,t){var r=f(t,2),n=r[0],o=r[1],i=e.properties()[n.value],a=o.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[ut,[dt],function(e,t){var r=f(t,1)[0],n=e.id(),o=r.value;return typeof n==typeof o&&n>=o}],"filter-has":[ut,[dt],function(e,t){return f(t,1)[0].value in e.properties()}],"filter-has-id":[ut,[],function(e){return null!==e.id()&&void 0!==e.id()}],"filter-type-in":[ut,[mt(lt)],function(e,t){return f(t,1)[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[ut,[mt(dt)],function(e,t){return f(t,1)[0].value.indexOf(e.id())>=0}],"filter-in-small":[ut,[lt,mt(dt)],function(e,t){var r=f(t,2),n=r[0];return r[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[ut,[lt,mt(dt)],function(e,t){var r=f(t,2),n=r[0],o=r[1];return function(e,t,r,n){for(;r<=n;){var o=r+n>>1;if(t[o]===e)return!0;t[o]>e?n=o-1:r=o+1}return!1}(e.properties()[n.value],o.value,0,o.value.length-1)}],all:{type:ut,overloads:[[[ut,ut],function(e,t){var r=f(t,2),n=r[0],o=r[1];return n.evaluate(e)&&o.evaluate(e)}],[sn(ut),function(e,t){var r,n=d(t);try{for(n.s();!(r=n.n()).done;)if(!r.value.evaluate(e))return!1}catch(o){n.e(o)}finally{n.f()}return!0}]]},any:{type:ut,overloads:[[[ut,ut],function(e,t){var r=f(t,2),n=r[0],o=r[1];return n.evaluate(e)||o.evaluate(e)}],[sn(ut),function(e,t){var r,n=d(t);try{for(n.s();!(r=n.n()).done;)if(r.value.evaluate(e))return!0}catch(o){n.e(o)}finally{n.f()}return!1}]]},"!":[ut,[ut],function(e,t){return!f(t,1)[0].evaluate(e)}],"is-supported-script":[ut,[lt],function(e,t){var r=f(t,1)[0],n=e.globals&&e.globals.isSupportedScript;return!n||n(r.evaluate(e))}],upcase:[lt,[lt],function(e,t){return f(t,1)[0].evaluate(e).toUpperCase()}],downcase:[lt,[lt],function(e,t){return f(t,1)[0].evaluate(e).toLowerCase()}],concat:[lt,sn(dt),function(e,t){return t.map((function(t){return Ot(t.evaluate(e))})).join("")}],"resolved-locale":[lt,[ht],function(e,t){return f(t,1)[0].evaluate(e).resolvedLocale()}]});var wn=function(){function e(t,r){m(this,e),this.expression=t,this._warningHistory={},this._evaluator=new Ut,this._defaultValue=r?function(e){return"color"===e.type&&pn(e.default)?new Et(0,0,0,0):"color"===e.type?Et.parse(e.default)||null:void 0===e.default?null:e.default}(r):null,this._enumValues=r&&"enum"===r.type?r.values:null}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,r,n,o,i,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}},{key:"evaluate",value:function(e,t,r,n,o,i,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=o||null,this._evaluator.formattedSection=i||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{var l=this.expression.evaluate(this._evaluator);if(null==l||"number"==typeof l&&l!=l)return this._defaultValue;if(this._enumValues&&!(l in this._enumValues))throw new Rt("Expected value to be one of ".concat(Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", "),", but found ").concat(JSON.stringify(l)," instead."));return l}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}]),e}();function kn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in rn}function En(e,t){var r=new dr(rn,[],t?function(e){var t={color:ct,string:lt,number:st,enum:lt,boolean:ut,formatted:pt,resolvedImage:vt};return"array"===e.type?mt(t[e.value]||dt,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?ln(new wn(n,t)):un(r.errors)}var Tn=function(){function e(t,r){m(this,e),this.kind=t,this._styleExpression=r,this.isStateDependent="constant"!==t&&!ur(r.expression)}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,r,n,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,o,i)}},{key:"evaluate",value:function(e,t,r,n,o,i){return this._styleExpression.evaluate(e,t,r,n,o,i)}}]),e}(),Sn=function(){function e(t,r,n,o){m(this,e),this.kind=t,this.zoomStops=n,this._styleExpression=r,this.isStateDependent="camera"!==t&&!ur(r.expression),this.interpolationType=o}return y(e,[{key:"evaluateWithoutErrorHandling",value:function(e,t,r,n,o,i){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,o,i)}},{key:"evaluate",value:function(e,t,r,n,o,i){return this._styleExpression.evaluate(e,t,r,n,o,i)}},{key:"interpolationFactor",value:function(e,t,r){return this.interpolationType?Dr.interpolationFactor(this.interpolationType,e,t,r):0}}]),e}();function Cn(e,t){if("error"===(e=En(e,t)).result)return e;var r=e.value.expression,n=lr(r);if(!n&&!cn(t))return un([new ot("","data expressions not supported")]);var o=cr(r,["zoom","pitch","distance-from-center"]);if(!o&&!fn(t))return un([new ot("","zoom expressions not supported")]);var i=In(r);return i||o?i instanceof ot?un([i]):i instanceof Dr&&!dn(t)?un([new ot("",'"interpolate" expressions cannot be used with this property')]):ln(i?new Sn(n?"camera":"composite",e.value,i.labels,i instanceof Dr?i.interpolation:void 0):new Tn(n?"constant":"source",e.value)):un([new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}var An=function(){function e(t,r){m(this,e),this._parameters=t,this._specification=r,tt(this,mn(this._parameters,this._specification))}return y(e,null,[{key:"deserialize",value:function(t){return new e(t._parameters,t._specification)}},{key:"serialize",value:function(e){return{_parameters:e._parameters,_specification:e._specification}}}]),e}();function In(e){var t=null;if(e instanceof Fr)t=In(e.result);else if(e instanceof jr){var r,n=d(e.args);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(t=In(o))break}}catch(i){n.e(i)}finally{n.f()}}else(e instanceof vr||e instanceof Dr)&&e.input instanceof Gt&&"zoom"===e.input.name&&(t=e);return t instanceof ot||e.eachChild((function(e){var r=In(e);r instanceof ot?t=r:!t&&r?t=new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&r&&t!==r&&(t=new ot("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}var Mn=y((function e(t,r,n,o){m(this,e),this.message=(t?"".concat(t,": "):"")+n,o&&(this.identifier=o),null!=r&&r.__line__&&(this.line=r.__line__)}));function Pn(e){var t=e.key,r=e.value,n=e.valueSpec||{},o=e.objectElementValidators||{},i=e.style,a=e.styleSpec,s=[],l=hn(r);if("object"!==l)return[new Mn(t,r,"object expected, ".concat(l," found"))];for(var u in r){var c=u.split(".")[0],f=n[c]||n["*"],d=void 0;o[c]?d=o[c]:n[c]?d=co:o["*"]?d=o["*"]:n["*"]&&(d=co),d?s=s.concat(d({key:(t?"".concat(t,"."):t)+u,value:r[u],valueSpec:f,style:i,styleSpec:a,object:r,objectKey:u},r)):s.push(new Mn(t,r[u],'unknown property "'.concat(u,'"')))}for(var h in n)o[h]||n[h].required&&void 0===n[h].default&&void 0===r[h]&&s.push(new Mn(t,r,'missing required property "'.concat(h,'"')));return s}function On(e){var t=e.value,r=e.valueSpec,n=e.style,o=e.styleSpec,i=e.key,a=e.arrayElementValidator||co;if("array"!==hn(t))return[new Mn(i,t,"array expected, ".concat(hn(t)," found"))];if(r.length&&t.length!==r.length)return[new Mn(i,t,"array length ".concat(r.length," expected, length ").concat(t.length," found"))];if(r["min-length"]&&t.length<r["min-length"])return[new Mn(i,t,"array length at least ".concat(r["min-length"]," expected, length ").concat(t.length," found"))];var s={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};o.$version<7&&(s.function=r.function),"object"===hn(r.value)&&(s=r.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:n,styleSpec:o,key:"".concat(i,"[").concat(u,"]")}));return l}function zn(e){var t=e.key,r=e.value,n=e.valueSpec,o=hn(r);if("number"===o&&r!=r&&(o="NaN"),"number"!==o)return[new Mn(t,r,"number expected, ".concat(o," found"))];if("minimum"in n){var i=n.minimum;if("array"===hn(n.minimum)&&(i=n.minimum[e.arrayIndex]),r<i)return[new Mn(t,r,"".concat(r," is less than the minimum value ").concat(i))]}if("maximum"in n){var a=n.maximum;if("array"===hn(n.maximum)&&(a=n.maximum[e.arrayIndex]),r>a)return[new Mn(t,r,"".concat(r," is greater than the maximum value ").concat(a))]}return[]}function Rn(e){var t,r,n,o=e.valueSpec,i=rt(e.value.type),a={},s="categorical"!==i&&void 0===e.value.property,l=!s,u="array"===hn(e.value.stops)&&"array"===hn(e.value.stops[0])&&"object"===hn(e.value.stops[0][0]),c=Pn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===i)return[new Mn(e.key,e.value,'identity function may not have a "stops" property')];var t=[],r=e.value;return t=t.concat(On({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),"array"===hn(r)&&0===r.length&&t.push(new Mn(e.key,r,"array must have at least one stop")),t},default:function(e){return co({key:e.key,value:e.value,valueSpec:o,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===i&&s&&c.push(new Mn(e.key,e.value,'missing required property "property"')),"identity"===i||e.value.stops||c.push(new Mn(e.key,e.value,'missing required property "stops"')),"exponential"===i&&e.valueSpec.expression&&!dn(e.valueSpec)&&c.push(new Mn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!cn(e.valueSpec)?c.push(new Mn(e.key,e.value,"property functions not supported")):s&&!fn(e.valueSpec)&&c.push(new Mn(e.key,e.value,"zoom functions not supported"))),"categorical"!==i&&!u||void 0!==e.value.property||c.push(new Mn(e.key,e.value,'"property" property is required')),c;function f(e){var t=[],i=e.value,s=e.key;if("array"!==hn(i))return[new Mn(s,i,"array expected, ".concat(hn(i)," found"))];if(2!==i.length)return[new Mn(s,i,"array length 2 expected, length ".concat(i.length," found"))];if(u){if("object"!==hn(i[0]))return[new Mn(s,i,"object expected, ".concat(hn(i[0])," found"))];if(void 0===i[0].zoom)return[new Mn(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Mn(s,i,"object stop key must have value")];var l=rt(i[0].zoom);if("number"!=typeof l)return[new Mn(s,i[0].zoom,"stop zoom values must be numbers")];if(n&&n>l)return[new Mn(s,i[0].zoom,"stop zoom values must appear in ascending order")];l!==n&&(n=l,r=void 0,a={}),t=t.concat(Pn({key:"".concat(s,"[0]"),value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:zn,value:d}}))}else t=t.concat(d({key:"".concat(s,"[0]"),value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return kn(nt(i[1]))?t.concat([new Mn("".concat(s,"[1]"),i[1],"expressions are not allowed in function stops.")]):t.concat(co({key:"".concat(s,"[1]"),value:i[1],valueSpec:o,style:e.style,styleSpec:e.styleSpec}))}function d(e,n){var s=hn(e.value),l=rt(e.value),u=null!==e.value?e.value:n;if(t){if(s!==t)return[new Mn(e.key,u,"".concat(s," stop domain type must match previous stop domain type ").concat(t))]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new Mn(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==i){var c="number expected, ".concat(s," found");return cn(o)&&void 0===i&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Mn(e.key,u,c)]}return"categorical"!==i||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==i&&"number"===s&&"number"==typeof l&&"number"==typeof r&&void 0!==r&&l<r?[new Mn(e.key,u,"stop domain values must appear in ascending order")]:(r=l,"categorical"===i&&l in a?[new Mn(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Mn(e.key,u,"integer expected, found ".concat(String(l)))]}}function Dn(e){var t=("property"===e.expressionContext?Cn:En)(nt(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Mn("".concat(e.key).concat(t.key),e.value,t.message)}));var r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new Mn(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!ur(r))return[new Mn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return Ln(r,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!cr(r,["zoom","feature-state"]))return[new Mn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!lr(r))return[new Mn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ln(e,t){var r=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(t.valueSpec&&t.valueSpec.expression){var n,o=d(t.valueSpec.expression.parameters);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.delete(i)}}catch(s){o.e(s)}finally{o.f()}}if(0===r.size)return[];var a=[];return e instanceof Gt&&r.has(e.name)?[new Mn(t.key,t.value,'["'.concat(e.name,'"] expression is not supported in a filter for a ').concat(t.object.type," layer with id: ").concat(t.object.id))]:(e.eachChild((function(e){a.push.apply(a,c(Ln(e,t)))})),a)}function jn(e){var t=e.key,r=e.value,n=e.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(rt(r))&&o.push(new Mn(t,r,"expected one of [".concat(n.values.join(", "),"], ").concat(JSON.stringify(r)," found"))):-1===Object.keys(n.values).indexOf(rt(r))&&o.push(new Mn(t,r,"expected one of [".concat(Object.keys(n.values).join(", "),"], ").concat(JSON.stringify(r)," found"))),o}function Fn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":var t,r=d(e.slice(1));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!Fn(n)&&"boolean"!=typeof n)return!1}}catch(o){r.e(o)}finally{r.f()}return!0;default:return!0}}function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fill";if(null==e)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};Fn(e)||(e=Zn(e));var r=e,n=!0;try{n=function(e){if(!Un(e))return e;var t=nt(e);return Vn(t),t=Bn(t)}(r)}catch(e){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n".concat(JSON.stringify(r,null,2),"\n        "))}var o=et["filter_".concat(t)],i=En(n,o),a=null;if("error"===i.result)throw new Error(i.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));a=function(e,t,r){return i.value.evaluate(e,t,{},r)};var s=null,l=null;if(n!==r){var u=En(r,o);if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));s=function(e,t,r,n,o){return u.value.evaluate(e,t,{},r,void 0,void 0,n,o)},l=!lr(u.value.expression)}return{filter:a=a,dynamicFilter:s||void 0,needGeometry:Wn(n),needFeature:!!l}}function Bn(e){if(!Array.isArray(e))return e;var t=function(e){if(Gn.has(e[0]))for(var t=1;t<e.length;t++)if(Un(e[t]))return!0;return e}(e);return!0===t?t:t.map((function(e){return Bn(e)}))}function Vn(e){var t=!1,r=[];if("case"===e[0]){for(var n=1;n<e.length-1;n+=2)t=t||Un(e[n]),r.push(e[n+1]);r.push(e[e.length-1])}else if("match"===e[0]){t=t||Un(e[1]);for(var o=2;o<e.length-1;o+=2)r.push(e[o+1]);r.push(e[e.length-1])}else if("step"===e[0]){t=t||Un(e[1]);for(var i=1;i<e.length-1;i+=2)r.push(e[i+1])}t&&(e.length=0,e.push.apply(e,["any"].concat(r)));for(var a=1;a<e.length;a++)Vn(e[a])}function Un(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;for(var t,r=1;r<e.length;r++)if(Un(e[r]))return!0;return!1}var Gn=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function qn(e,t){return e<t?-1:e>t?1:0}function Wn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var t=1;t<e.length;t++)if(Wn(e[t]))return!0;return!1}function Zn(e){if(!e)return!0;var t,r=e[0];return e.length<=1?"any"!==r:"=="===r?Hn(e[1],e[2],"=="):"!="===r?Kn(Hn(e[1],e[2],"==")):"<"===r||">"===r||"<="===r||">="===r?Hn(e[1],e[2],r):"any"===r?(t=e.slice(1),["any"].concat(t.map(Zn))):"all"===r?["all"].concat(e.slice(1).map(Zn)):"none"===r?["all"].concat(e.slice(1).map(Zn).map(Kn)):"in"===r?Xn(e[1],e.slice(2)):"!in"===r?Kn(Xn(e[1],e.slice(2))):"has"===r?$n(e[1]):"!has"===r?Kn($n(e[1])):"within"!==r||e}function Hn(e,t,r){switch(e){case"$type":return["filter-type-".concat(r),t];case"$id":return["filter-id-".concat(r),t];default:return["filter-".concat(r),e,t]}}function Xn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(qn)]]:["filter-in-small",e,["literal",t]]}}function $n(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Kn(e){return["!",e]}function Yn(e){return Fn(nt(e.value))?Dn(tt({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_".concat(e.layerType||"fill")]})):Jn(e)}function Jn(e){var t=e.value,r=e.key;if("array"!==hn(t))return[new Mn(r,t,"array expected, ".concat(hn(t)," found"))];var n,o=e.styleSpec,i=[];if(t.length<1)return[new Mn(r,t,"filter array must have at least 1 element")];switch(i=i.concat(jn({key:"".concat(r,"[0]"),value:t[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),rt(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===rt(t[1])&&i.push(new Mn(r,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&i.push(new Mn(r,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&"string"!==(n=hn(t[1]))&&i.push(new Mn("".concat(r,"[1]"),t[1],"string expected, ".concat(n," found")));for(var a=2;a<t.length;a++)n=hn(t[a]),"$type"===rt(t[1])?i=i.concat(jn({key:"".concat(r,"[").concat(a,"]"),value:t[a],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&i.push(new Mn("".concat(r,"[").concat(a,"]"),t[a],"string, number, or boolean expected, ".concat(n," found")));break;case"any":case"all":case"none":for(var s=1;s<t.length;s++)i=i.concat(Jn({key:"".concat(r,"[").concat(s,"]"),value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=hn(t[1]),2!==t.length?i.push(new Mn(r,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==n&&i.push(new Mn("".concat(r,"[1]"),t[1],"string expected, ".concat(n," found")));break;case"within":n=hn(t[1]),2!==t.length?i.push(new Mn(r,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==n&&i.push(new Mn("".concat(r,"[1]"),t[1],"object expected, ".concat(n," found")))}return i}function Qn(e,t){var r=e.key,n=e.style,o=e.styleSpec,i=e.value,a=e.objectKey,s=o["".concat(t,"_").concat(e.layerType)];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return co({key:r,value:i,valueSpec:o.transition,style:n,styleSpec:o});var u,c=e.valueSpec||s[a];if(!c)return[new Mn(r,i,'unknown property "'.concat(a,'"'))];if("string"===hn(i)&&cn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(i)))return[new Mn(r,i,'"'.concat(a,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(u[1])," }`."))];var f=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&f.push(new Mn(r,i,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&pn(nt(i))&&"identity"===rt(i.type)&&f.push(new Mn(r,i,'"text-font" does not support identity functions'))),f.concat(co({key:e.key,value:i,valueSpec:c,style:n,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:a}))}function eo(e){return Qn(e,"paint")}function to(e){return Qn(e,"layout")}function ro(e){var t=[],r=e.value,n=e.key,o=e.style,i=e.styleSpec;r.type||r.ref||t.push(new Mn(n,r,'either "type" or "ref" is required'));var a,s=rt(r.type),l=rt(r.ref);if(r.id)for(var u=rt(r.id),c=0;c<e.arrayIndex;c++){var f=o.layers[c];rt(f.id)===u&&t.push(new Mn(n,r.id,'duplicate layer id "'.concat(r.id,'", previously used at line ').concat(f.id.__line__)))}if("ref"in r)["type","source","source-layer","filter","layout"].forEach((function(e){e in r&&t.push(new Mn(n,r[e],'"'.concat(e,'" is prohibited for ref layers')))})),o.layers.forEach((function(e){rt(e.id)===l&&(a=e)})),a?a.ref?t.push(new Mn(n,r.ref,"ref cannot reference another ref layer")):s=rt(a.type):"string"==typeof l&&t.push(new Mn(n,r.ref,'ref layer "'.concat(l,'" not found')));else if("background"!==s&&"sky"!==s)if(r.source){var d=o.sources&&o.sources[r.source],h=d&&rt(d.type);d?"vector"===h&&"raster"===s?t.push(new Mn(n,r.source,'layer "'.concat(r.id,'" requires a raster source'))):"raster"===h&&"raster"!==s?t.push(new Mn(n,r.source,'layer "'.concat(r.id,'" requires a vector source'))):"vector"!==h||r["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Mn(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!r.paint||!r.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||t.push(new Mn(n,r,'layer "'.concat(r.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new Mn(n,r,'layer "'.concat(r.id,'" must specify a "source-layer"'))):t.push(new Mn(n,r.source,'source "'.concat(r.source,'" not found')))}else t.push(new Mn(n,r,'missing required property "source"'));return t=t.concat(Pn({key:n,value:r,valueSpec:i.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return co({key:"".concat(n,".type"),value:r.type,valueSpec:i.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"})},filter:function(e){return Yn(tt({layerType:s},e))},layout:function(e){return Pn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return to(tt({layerType:s},e))}}})},paint:function(e){return Pn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return eo(tt({layerType:s},e))}}})}}})),t}function no(e){var t=e.value,r=e.key,n=hn(t);return"string"!==n?[new Mn(r,t,"string expected, ".concat(n," found"))]:[]}var oo={promoteId:function(e){var t=e.key,r=e.value;if("string"===hn(r))return no({key:t,value:r});var n=[];for(var o in r)n.push.apply(n,c(no({key:"".concat(t,".").concat(o),value:r[o]})));return n}};function io(e){var t=e.value,r=e.key,n=e.styleSpec,o=e.style;if(!t.type)return[new Mn(r,t,'"type" is required')];var i,a=rt(t.type);switch(a){case"vector":case"raster":case"raster-dem":return i=Pn({key:r,value:t,valueSpec:n["source_".concat(a.replace("-","_"))],style:e.style,styleSpec:n,objectElementValidators:oo});case"geojson":if(i=Pn({key:r,value:t,valueSpec:n.source_geojson,style:o,styleSpec:n,objectElementValidators:oo}),t.cluster)for(var s in t.clusterProperties){var l,u,d=f(t.clusterProperties[s],2),h=d[0],p=d[1],v="string"==typeof h?[h,["accumulated"],["get",s]]:h;(l=i).push.apply(l,c(Dn({key:"".concat(r,".").concat(s,".map"),value:p,expressionContext:"cluster-map"}))),(u=i).push.apply(u,c(Dn({key:"".concat(r,".").concat(s,".reduce"),value:v,expressionContext:"cluster-reduce"})))}return i;case"video":return Pn({key:r,value:t,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return Pn({key:r,value:t,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return[new Mn(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return jn({key:"".concat(r,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:o,styleSpec:n})}}function ao(e){var t=e.value,r=e.styleSpec,n=r.light,o=e.style,i=[],a=hn(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new Mn("light",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=i.concat(l&&n[l[1]]&&n[l[1]].transition?co({key:s,value:t[s],valueSpec:r.transition,style:o,styleSpec:r}):n[s]?co({key:s,value:t[s],valueSpec:n[s],style:o,styleSpec:r}):[new Mn(s,t[s],'unknown property "'.concat(s,'"'))])}return i}function so(e){var t=e.value,r=e.key,n=e.style,o=e.styleSpec,i=o.terrain,a=[],s=hn(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Mn("terrain",t,"object expected, ".concat(s," found"))]);for(var l in t){var u=l.match(/^(.*)-transition$/);a=a.concat(u&&i[u[1]]&&i[u[1]].transition?co({key:l,value:t[l],valueSpec:o.transition,style:n,styleSpec:o}):i[l]?co({key:l,value:t[l],valueSpec:i[l],style:n,styleSpec:o}):[new Mn(l,t[l],'unknown property "'.concat(l,'"'))])}if(t.source){var c=n.sources&&n.sources[t.source],f=c&&rt(c.type);c?"raster-dem"!==f&&a.push(new Mn(r,t.source,"terrain cannot be used with a source of type ".concat(String(f),', it only be used with a "raster-dem" source type'))):a.push(new Mn(r,t.source,'source "'.concat(t.source,'" not found')))}else a.push(new Mn(r,t,'terrain is missing required property "source"'));return a}function lo(e){var t=e.value,r=e.style,n=e.styleSpec,o=n.fog,i=[],a=hn(t);if(void 0===t)return i;if("object"!==a)return i=i.concat([new Mn("fog",t,"object expected, ".concat(a," found"))]);for(var s in t){var l=s.match(/^(.*)-transition$/);i=i.concat(l&&o[l[1]]&&o[l[1]].transition?co({key:s,value:t[s],valueSpec:n.transition,style:r,styleSpec:n}):o[s]?co({key:s,value:t[s],valueSpec:o[s],style:r,styleSpec:n}):[new Mn(s,t[s],'unknown property "'.concat(s,'"'))])}return i}var uo={"*":function(){return[]},array:On,boolean:function(e){var t=e.value,r=e.key,n=hn(t);return"boolean"!==n?[new Mn(r,t,"boolean expected, ".concat(n," found"))]:[]},number:zn,color:function(e){var t=e.key,r=e.value,n=hn(r);return"string"!==n?[new Mn(t,r,"color expected, ".concat(n," found"))]:null===kt.parseCSSColor(r)?[new Mn(t,r,'color expected, "'.concat(r,'" found'))]:[]},enum:jn,filter:Yn,function:Rn,layer:ro,object:Pn,source:io,light:ao,terrain:so,fog:lo,string:no,formatted:function(e){return 0===no(e).length?[]:Dn(e)},resolvedImage:function(e){return 0===no(e).length?[]:Dn(e)},projection:function(e){var t=e.value,r=e.styleSpec,n=r.projection,o=e.style,i=[],a=hn(t);if("object"===a)for(var s in t)i=i.concat(co({key:s,value:t[s],valueSpec:n[s],style:o,styleSpec:r}));else"string"!==a&&(i=i.concat([new Mn("projection",t,"object or string expected, ".concat(a," found"))]));return i}};function co(e){var t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&pn(rt(t))?Rn(e):r.expression&&kn(nt(t))?Dn(e):r.type&&uo[r.type]?uo[r.type](e):Pn(tt({},e,{valueSpec:r.type?n[r.type]:r}))}function fo(e){var t=e.value,r=e.key,n=no(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new Mn(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new Mn(r,t,'"glyphs" url must include a "{range}" token'))),n}function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:et;return mo(co({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:fo,"*":function(){return[]}}}))}var po=function(e){return mo(eo(e))},vo=function(e){return mo(to(e))};function mo(e){return e.slice().sort((function(e,t){return e.line&&t.line?e.line-t.line:0}))}function yo(e,t){var r=!1;if(t&&t.length){var n,o=d(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.fire(new Je(new Error(i.message))),r=!0}}catch(a){o.e(a)}finally{o.f()}}return r}var go=bo;function bo(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var o=new Int32Array(this.arrayBuffer);e=o[0],this.d=(t=o[1])+2*(r=o[2]);for(var i=0;i<this.d*this.d;i++){var a=o[3+i],s=o[3+i+1];n.push(a===s?null:o.subarray(a,s))}var l=o[3+n.length+1];this.keys=o.subarray(o[3+n.length],l),this.bboxes=o.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var u=0;u<this.d*this.d;u++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var c=r/t*e;this.min=-c,this.max=e+c}bo.prototype.insert=function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)},bo.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},bo.prototype._insertCell=function(e,t,r,n,o,i){this.cells[o].push(i)},bo.prototype.query=function(e,t,r,n,o){var i=this.min,a=this.max;if(e<=i&&t<=i&&a<=r&&a<=n&&!o)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},o),s},bo.prototype._queryCell=function(e,t,r,n,o,i,a,s){var l=this.cells[o];if(null!==l)for(var u=this.keys,c=this.bboxes,f=0;f<l.length;f++){var d=l[f];if(void 0===a[d]){var h=4*d;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&r>=c[h+0]&&n>=c[h+1])?(a[d]=!0,i.push(u[d])):a[d]=!1}}},bo.prototype._forEachCell=function(e,t,r,n,o,i,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(r),f=this._convertToCellCoord(n),d=l;d<=c;d++)for(var h=u;h<=f;h++){var p=this.d*h+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(h),this._convertFromCellCoord(d+1),this._convertFromCellCoord(h+1)))&&o.call(this,e,t,r,n,p,i,a,s))return}},bo.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},bo.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},bo.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var o=new Int32Array(t+r+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var i=t,a=0;a<e.length;a++){var s=e[a];o[3+a]=i,o.set(s,i),i+=s.length}return o[3+e.length]=i,o.set(this.keys,i),o[3+e.length+1]=i+=this.keys.length,o.set(this.bboxes,i),i+=this.bboxes.length,o.buffer};var _o={};function xo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),_o[t]={klass:e,omit:r.omit||[]}}for(var wo in xo(Object,"Object"),go.serialize=function(e,t){var r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},go.deserialize=function(e){return new go(e.buffer)},Object.defineProperty(go,"name",{value:"Grid"}),xo(go,"Grid"),xo(Et,"Color"),xo(Error,"Error"),xo(Fe,"AJAXError"),xo(At,"ResolvedImage"),xo(An,"StylePropertyFunction"),xo(wn,"StyleExpression",{omit:["_evaluator"]}),xo(Sn,"ZoomDependentExpression"),xo(Tn,"ZoomConstantExpression"),xo(Gt,"CompoundExpression",{omit:["_evaluate"]}),rn)_o[rn[wo]._classRegistryKey]||xo(rn[wo],"Expression".concat(wo));function ko(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Eo(e){return _.ImageBitmap&&e instanceof _.ImageBitmap}function To(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(ko(e)||Eo(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var r=e;return t&&t.push(r.buffer),r}if(e instanceof _.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){var n,o=[],i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o.push(To(a,t))}}catch(f){i.e(f)}finally{i.f()}return o}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class ".concat(l));var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)e.hasOwnProperty(c)&&(_o[l].omit.indexOf(c)>=0||(u[c]=To(e[c],t)));e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function So(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||ko(e)||Eo(e)||ArrayBuffer.isView(e)||e instanceof _.ImageData)return e;if(Array.isArray(e))return e.map(So);if("object"==typeof e){var t=e.$name||"Object",r=_o[t].klass;if(!r)throw new Error("can't deserialize unregistered class ".concat(t));if(r.deserialize)return r.deserialize(e);for(var n=Object.create(r.prototype),o=0,i=Object.keys(e);o<i.length;o++){var a=i[o];"$name"!==a&&(n[a]=So(e[a]))}return n}throw new Error("can't deserialize object of type "+typeof e)}var Co=function(){function e(){m(this,e),this.first=!0}return y(e,[{key:"update",value:function(e,t){var r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}]),e}(),Ao=function(e){return e>=1536&&e<=1791},Io=function(e){return e>=1872&&e<=1919},Mo=function(e){return e>=2208&&e<=2303},Po=function(e){return e>=11904&&e<=12031},Oo=function(e){return e>=12032&&e<=12255},zo=function(e){return e>=12272&&e<=12287},Ro=function(e){return e>=12288&&e<=12351},Do=function(e){return e>=12352&&e<=12447},Lo=function(e){return e>=12448&&e<=12543},jo=function(e){return e>=12544&&e<=12591},Fo=function(e){return e>=12704&&e<=12735},No=function(e){return e>=12736&&e<=12783},Bo=function(e){return e>=12784&&e<=12799},Vo=function(e){return e>=12800&&e<=13055},Uo=function(e){return e>=13056&&e<=13311},Go=function(e){return e>=13312&&e<=19903},qo=function(e){return e>=19968&&e<=40959},Wo=function(e){return e>=40960&&e<=42127},Zo=function(e){return e>=42128&&e<=42191},Ho=function(e){return e>=44032&&e<=55215},Xo=function(e){return e>=63744&&e<=64255},$o=function(e){return e>=64336&&e<=65023},Ko=function(e){return e>=65040&&e<=65055},Yo=function(e){return e>=65072&&e<=65103},Jo=function(e){return e>=65104&&e<=65135},Qo=function(e){return e>=65136&&e<=65279},ei=function(e){return e>=65280&&e<=65519};function ti(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;)if(oi(t.value.charCodeAt(0)))return!0}catch(n){r.e(n)}finally{r.f()}return!1}function ri(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;)if(!ni(t.value.charCodeAt(0)))return!1}catch(n){r.e(n)}finally{r.f()}return!0}function ni(e){return!(Ao(e)||Io(e)||Mo(e)||$o(e)||Qo(e))}function oi(e){return!(746!==e&&747!==e&&(e<4352||!(Fo(e)||jo(e)||Yo(e)&&!(e>=65097&&e<=65103)||Xo(e)||Uo(e)||Po(e)||No(e)||!(!Ro(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Go(e)||qo(e)||Vo(e)||function(e){return e>=12592&&e<=12687}(e)||function(e){return e>=43360&&e<=43391}(e)||function(e){return e>=55216&&e<=55295}(e)||function(e){return e>=4352&&e<=4607}(e)||Ho(e)||Do(e)||zo(e)||function(e){return e>=12688&&e<=12703}(e)||Oo(e)||Bo(e)||Lo(e)&&12540!==e||!(!ei(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Jo(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||function(e){return e>=5120&&e<=5759}(e)||function(e){return e>=6320&&e<=6399}(e)||Ko(e)||function(e){return e>=19904&&e<=19967}(e)||Wo(e)||Zo(e))))}function ii(e){return!(oi(e)||function(e){return!!(function(e){return e>=128&&e<=255}(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||function(e){return e>=8192&&e<=8303}(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||function(e){return e>=8448&&e<=8527}(e)||function(e){return e>=8528&&e<=8591}(e)||function(e){return e>=8960&&e<=9215}(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||function(e){return e>=9216&&e<=9279}(e)&&9251!==e||function(e){return e>=9280&&e<=9311}(e)||function(e){return e>=9312&&e<=9471}(e)||function(e){return e>=9632&&e<=9727}(e)||function(e){return e>=9728&&e<=9983}(e)&&!(e>=9754&&e<=9759)||function(e){return e>=11008&&e<=11263}(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Ro(e)||Lo(e)||function(e){return e>=57344&&e<=63743}(e)||Yo(e)||Jo(e)||ei(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function ai(e){return e>=1424&&e<=2303||$o(e)||Qo(e)}function si(e,t){return!(!t&&ai(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||function(e){return e>=6016&&e<=6143}(e))}function li(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;)if(ai(t.value.charCodeAt(0)))return!0}catch(n){r.e(n)}finally{r.f()}return!1}var ui="deferred",ci="loading",fi="loaded",di=null,hi="unavailable",pi=null,vi=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(hi="error"),di&&di(e)};function mi(){yi.fire(new Ye("pluginStateChange",{pluginStatus:hi,pluginURL:pi}))}var yi=new Qe,gi=function(){return hi},bi=function(){if(hi!==ui||!pi)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");hi=ci,mi(),pi&&Ve({url:pi},(function(e){e?vi(e):(hi=fi,mi())}))},_i={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return hi===fi||null!=_i.applyArabicShaping},isLoading:function(){return hi===ci},setState:function(e){hi=e.pluginStatus,pi=e.pluginURL},isParsed:function(){return null!=_i.applyArabicShaping&&null!=_i.processBidirectionalText&&null!=_i.processStyledBidirectionalText},getPluginURL:function(){return pi}},xi=function(){function e(t,r){m(this,e),this.zoom=t,r?(this.now=r.now,this.fadeDuration=r.fadeDuration,this.zoomHistory=r.zoomHistory,this.transition=r.transition,this.pitch=r.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Co,this.transition={},this.pitch=0)}return y(e,[{key:"isSupportedScript",value:function(e){return function(e,t){var r,n=d(e);try{for(n.s();!(r=n.n()).done;)if(!si(r.value.charCodeAt(0),t))return!1}catch(o){n.e(o)}finally{n.f()}return!0}(e,_i.isLoaded())}},{key:"crossFadingFactor",value:function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}},{key:"getCrossfadeParameters",value:function(){var e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}]),e}(),wi=function(){function e(t,r){m(this,e),this.property=t,this.value=r,this.expression=function(e,t){if(pn(e))return new An(e,t);if(kn(e)){var r=Cn(e,t);if("error"===r.result)throw new Error(r.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));return r.value}var n=e;return"string"==typeof e&&"color"===t.type&&(n=Et.parse(e)),{kind:"constant",evaluate:function(){return n}}}(void 0===r?t.specification.default:r,t.specification)}return y(e,[{key:"isDataDriven",value:function(){return"source"===this.expression.kind||"composite"===this.expression.kind}},{key:"possiblyEvaluate",value:function(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}]),e}(),ki=function(){function e(t){m(this,e),this.property=t,this.value=new wi(t,void 0)}return y(e,[{key:"transitioned",value:function(e,t){return new Ti(this.property,this.value,t,R({},e.transition,this.transition),e.now)}},{key:"untransitioned",value:function(){return new Ti(this.property,this.value,null,{},0)}}]),e}(),Ei=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}return y(e,[{key:"getValue",value:function(e){return q(this._values[e].value.value)}},{key:"setValue",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ki(this._values[e].property)),this._values[e].value=new wi(this._values[e].property,null===t?void 0:q(t))}},{key:"getTransition",value:function(e){return q(this._values[e].transition)}},{key:"setTransition",value:function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new ki(this._values[e].property)),this._values[e].transition=q(t)||void 0}},{key:"serialize",value:function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t++){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o);var i=this.getTransition(n);void 0!==i&&(e["".concat(n,"-transition")]=i)}return e}},{key:"transitioned",value:function(e,t){for(var r=new Si(this._properties),n=0,o=Object.keys(this._values);n<o.length;n++){var i=o[n];r._values[i]=this._values[i].transitioned(e,t._values[i])}return r}},{key:"untransitioned",value:function(){for(var e=new Si(this._properties),t=0,r=Object.keys(this._values);t<r.length;t++){var n=r[t];e._values[n]=this._values[n].untransitioned()}return e}}]),e}(),Ti=function(){function e(t,r,n,o,i){m(this,e);var a=o.delay||0,s=o.duration||0;i=i||0,this.property=t,this.value=r,this.begin=i+a,this.end=this.begin+s,t.specification.transition&&(o.delay||o.duration)&&(this.prior=n)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,r){var n=e.now||0,o=this.value.possiblyEvaluate(e,t,r),i=this.prior;if(i){if(n>this.end)return this.prior=null,o;if(this.value.isDataDriven())return this.prior=null,o;if(n<this.begin)return i.possiblyEvaluate(e,t,r);var a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(e,t,r),o,S(a))}return o}}]),e}(),Si=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}return y(e,[{key:"possiblyEvaluate",value:function(e,t,r){for(var n=new Ii(this._properties),o=0,i=Object.keys(this._values);o<i.length;o++){var a=i[o];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n}},{key:"hasTransition",value:function(){for(var e=0,t=Object.keys(this._values);e<t.length;e++){var r=t[e];if(this._values[r].prior)return!0}return!1}}]),e}(),Ci=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPropertyValues)}return y(e,[{key:"getValue",value:function(e){return q(this._values[e].value)}},{key:"setValue",value:function(e,t){this._values[e]=new wi(this._values[e].property,null===t?void 0:q(t))}},{key:"serialize",value:function(){for(var e={},t=0,r=Object.keys(this._values);t<r.length;t++){var n=r[t],o=this.getValue(n);void 0!==o&&(e[n]=o)}return e}},{key:"possiblyEvaluate",value:function(e,t,r){for(var n=new Ii(this._properties),o=0,i=Object.keys(this._values);o<i.length;o++){var a=i[o];n._values[a]=this._values[a].possiblyEvaluate(e,t,r)}return n}}]),e}(),Ai=function(){function e(t,r,n){m(this,e),this.property=t,this.value=r,this.parameters=n}return y(e,[{key:"isConstant",value:function(){return"constant"===this.value.kind}},{key:"constantOr",value:function(e){return"constant"===this.value.kind?this.value.value:e}},{key:"evaluate",value:function(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}]),e}(),Ii=function(){function e(t){m(this,e),this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}return y(e,[{key:"get",value:function(e){return this._values[e]}}]),e}(),Mi=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t){return e.expression.evaluate(t)}},{key:"interpolate",value:function(e,t,r){var n=yr[this.specification.type];return n?n(e,t,r):e}}]),e}(),Pi=function(){function e(t,r){m(this,e),this.specification=t,this.overrides=r}return y(e,[{key:"possiblyEvaluate",value:function(e,t,r,n){return new Ai(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)}},{key:"interpolate",value:function(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Ai(this,{kind:"constant",value:void 0},e.parameters);var n=yr[this.specification.type];return n?new Ai(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e}},{key:"evaluate",value:function(e,t,r,n,o,i){return"constant"===e.kind?e.value:e.evaluate(t,r,n,o,i)}}]),e}(),Oi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"possiblyEvaluate",value:function(e,t,r,n){if(void 0===e.value)return new Ai(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var o=e.expression.evaluate(t,null,{},r,n),i="resolvedImage"===e.property.specification.type&&"string"!=typeof o?o.name:o,a=this._calculate(i,i,i,t);return new Ai(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Ai(this,{kind:"constant",value:s},t)}return new Ai(this,e.expression,t)}},{key:"evaluate",value:function(e,t,r,n,o,i){if("source"===e.kind){var a=e.evaluate(t,r,n,o,i);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}},{key:"_calculate",value:function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t,other:r}:{from:r,to:t,other:e}}},{key:"interpolate",value:function(e){return e}}]),r}(Pi),zi=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){var o=e.expression.evaluate(t,null,{},r,n);return this._calculate(o,o,o,t)}return this._calculate(e.expression.evaluate(new xi(Math.floor(t.zoom-1),t)),e.expression.evaluate(new xi(Math.floor(t.zoom),t)),e.expression.evaluate(new xi(Math.floor(t.zoom+1),t)),t)}}},{key:"_calculate",value:function(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}},{key:"interpolate",value:function(e){return e}}]),e}(),Ri=function(){function e(t){m(this,e),this.specification=t}return y(e,[{key:"possiblyEvaluate",value:function(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}},{key:"interpolate",value:function(){return!1}}]),e}(),Di=y((function e(t){for(var r in m(this,e),this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[r];n.specification.overridable&&this.overridableProperties.push(r);var o=this.defaultPropertyValues[r]=new wi(n,void 0),i=this.defaultTransitionablePropertyValues[r]=new ki(n);this.defaultTransitioningPropertyValues[r]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=o.possiblyEvaluate({})}}));function Li(e,t){return 256*(e=I(Math.floor(e),0,255))+I(Math.floor(t),0,255)}xo(Pi,"DataDrivenProperty"),xo(Mi,"DataConstantProperty"),xo(Oi,"CrossFadedDataDrivenProperty"),xo(zi,"CrossFadedProperty"),xo(Ri,"ColorRampProperty");var ji={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Fi=y((function e(t,r){m(this,e),this._structArray=t,this._pos1=r*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8})),Ni=function(){function e(){m(this,e),this.isTransferred=!1,this.capacity=-1,this.resize(0)}return y(e,[{key:"_trim",value:function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}},{key:"clear",value:function(){this.length=0}},{key:"resize",value:function(e){this.reserve(e),this.length=e}},{key:"reserve",value:function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}},{key:"_refreshViews",value:function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}},{key:"destroy",value:function(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}],[{key:"serialize",value:function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}},{key:"deserialize",value:function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}}]),e}();function Bi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=0,n=0;return{members:e.map((function(e){var o=ji[e.type].BYTES_PER_ELEMENT,i=r=Vi(r,Math.max(t,o)),a=e.components||1;return n=Math.max(n,o),r+=o*a,{name:e.name,type:e.type,components:a,offset:i}})),size:Vi(r,Math.max(n,t)),alignment:t}}function Vi(e,t){return Math.ceil(e/t)*t}var Ui=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}},{key:"emplace",value:function(e,t,r){var n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e}}]),r}(Ni);Ui.prototype.bytesPerElement=4,xo(Ui,"StructArrayLayout2i4");var Gi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}},{key:"emplace",value:function(e,t,r,n){var o=3*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,e}}]),r}(Ni);Gi.prototype.bytesPerElement=6,xo(Gi,"StructArrayLayout3i6");var qi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)}},{key:"emplace",value:function(e,t,r,n,o){var i=4*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,this.int16[i+3]=o,e}}]),r}(Ni);qi.prototype.bytesPerElement=8,xo(qi,"StructArrayLayout4i8");var Wi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,o,i,a)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s){var l=6*e,u=12*e,c=3*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.uint8[u+4]=n,this.uint8[u+5]=o,this.uint8[u+6]=i,this.uint8[u+7]=a,this.float32[c+2]=s,e}}]),r}(Ni);Wi.prototype.bytesPerElement=12,xo(Wi,"StructArrayLayout2i4ub1f12");var Zi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)}},{key:"emplace",value:function(e,t,r,n,o){var i=4*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,this.float32[i+3]=o,e}}]),r}(Ni);Zi.prototype.bytesPerElement=16,xo(Zi,"StructArrayLayout4f16");var Hi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s,l,u){var c=this.length;return this.resize(c+1),this.emplace(c,e,t,r,n,o,i,a,s,l,u)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l,u,c){var f=10*e;return this.uint16[f+0]=t,this.uint16[f+1]=r,this.uint16[f+2]=n,this.uint16[f+3]=o,this.uint16[f+4]=i,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=l,this.uint16[f+8]=u,this.uint16[f+9]=c,e}}]),r}(Ni);Hi.prototype.bytesPerElement=20,xo(Hi,"StructArrayLayout10ui20");var Xi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,o,i,a,s)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=r,this.uint16[u+2]=n,this.uint16[u+3]=o,this.uint16[u+4]=i,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e}}]),r}(Ni);Xi.prototype.bytesPerElement=16,xo(Xi,"StructArrayLayout8ui16");var $i=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,o,i)}},{key:"emplace",value:function(e,t,r,n,o,i,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=o,this.int16[s+4]=i,this.int16[s+5]=a,e}}]),r}(Ni);$i.prototype.bytesPerElement=12,xo($i,"StructArrayLayout6i12");var Ki=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v){var m=this.length;return this.resize(m+1),this.emplace(m,e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m){var y=16*e;return this.int16[y+0]=t,this.int16[y+1]=r,this.int16[y+2]=n,this.int16[y+3]=o,this.uint16[y+4]=i,this.uint16[y+5]=a,this.uint16[y+6]=s,this.uint16[y+7]=l,this.int16[y+8]=u,this.int16[y+9]=c,this.int16[y+10]=f,this.int16[y+11]=d,this.int16[y+12]=h,this.int16[y+13]=p,this.int16[y+14]=v,this.int16[y+15]=m,e}}]),r}(Ni);Ki.prototype.bytesPerElement=32,xo(Ki,"StructArrayLayout4i4ui4i4i32");var Yi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}},{key:"emplace",value:function(e,t,r,n){var o=3*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,e}}]),r}(Ni);Yi.prototype.bytesPerElement=12,xo(Yi,"StructArrayLayout3f12");var Ji=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint32[1*e+0]=t,e}}]),r}(Ni);Ji.prototype.bytesPerElement=4,xo(Ji,"StructArrayLayout1ul4");var Qi=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d){var h=this.length;return this.resize(h+1),this.emplace(h,e,t,r,n,o,i,a,s,l,u,c,f,d)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h){var p=20*e,v=10*e;return this.int16[p+0]=t,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=o,this.int16[p+4]=i,this.float32[v+3]=a,this.float32[v+4]=s,this.float32[v+5]=l,this.float32[v+6]=u,this.int16[p+14]=c,this.uint32[v+8]=f,this.uint16[p+18]=d,this.uint16[p+19]=h,e}}]),r}(Ni);Qi.prototype.bytesPerElement=40,xo(Qi,"StructArrayLayout5i4f1i1ul2ui40");var ea=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,o,i,a)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s){var l=8*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=o,this.int16[l+5]=i,this.int16[l+6]=a,this.int16[l+7]=s,e}}]),r}(Ni);ea.prototype.bytesPerElement=16,xo(ea,"StructArrayLayout3i2i2i16");var ta=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n,o)}},{key:"emplace",value:function(e,t,r,n,o,i){var a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=o,this.int16[s+7]=i,e}}]),r}(Ni);ta.prototype.bytesPerElement=16,xo(ta,"StructArrayLayout2f1f2i16");var ra=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)}},{key:"emplace",value:function(e,t,r,n,o){var i=12*e,a=3*e;return this.uint8[i+0]=t,this.uint8[i+1]=r,this.float32[a+1]=n,this.float32[a+2]=o,e}}]),r}(Ni);ra.prototype.bytesPerElement=12,xo(ra,"StructArrayLayout2ub2f12");var na=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r){var n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}},{key:"emplace",value:function(e,t,r,n){var o=3*e;return this.uint16[o+0]=t,this.uint16[o+1]=r,this.uint16[o+2]=n,e}}]),r}(Ni);na.prototype.bytesPerElement=6,xo(na,"StructArrayLayout3ui6");var oa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_){var x=this.length;return this.resize(x+1),this.emplace(x,e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x){var w=30*e,k=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[k+2]=o,this.float32[k+3]=i,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[k+5]=l,this.uint32[k+6]=u,this.uint32[k+7]=c,this.uint16[w+16]=f,this.uint16[w+17]=d,this.uint16[w+18]=h,this.float32[k+10]=p,this.float32[k+11]=v,this.uint8[E+48]=m,this.uint8[E+49]=y,this.uint8[E+50]=g,this.uint32[k+13]=b,this.int16[w+28]=_,this.uint8[E+58]=x,e}}]),r}(Ni);oa.prototype.bytesPerElement=60,xo(oa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");var ia=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k,E,T,S,C,A,I){var M=this.length;return this.resize(M+1),this.emplace(M,e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k,E,T,S,C,A,I)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k,E,T,S,C,A,I,M){var P=38*e,O=19*e;return this.int16[P+0]=t,this.int16[P+1]=r,this.int16[P+2]=n,this.float32[O+2]=o,this.float32[O+3]=i,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=u,this.int16[P+12]=c,this.int16[P+13]=f,this.uint16[P+14]=d,this.uint16[P+15]=h,this.uint16[P+16]=p,this.uint16[P+17]=v,this.uint16[P+18]=m,this.uint16[P+19]=y,this.uint16[P+20]=g,this.uint16[P+21]=b,this.uint16[P+22]=_,this.uint16[P+23]=x,this.uint16[P+24]=w,this.uint16[P+25]=k,this.uint16[P+26]=E,this.uint16[P+27]=T,this.uint16[P+28]=S,this.uint32[O+15]=C,this.float32[O+16]=A,this.float32[O+17]=I,this.float32[O+18]=M,e}}]),r}(Ni);ia.prototype.bytesPerElement=76,xo(ia,"StructArrayLayout3i2f6i15ui1ul3f76");var aa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.float32[1*e+0]=t,e}}]),r}(Ni);aa.prototype.bytesPerElement=4,xo(aa,"StructArrayLayout1f4");var sa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,o,i,a)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s){var l=7*e;return this.float32[l+0]=t,this.float32[l+1]=r,this.float32[l+2]=n,this.float32[l+3]=o,this.float32[l+4]=i,this.float32[l+5]=a,this.float32[l+6]=s,e}}]),r}(Ni);sa.prototype.bytesPerElement=28,xo(sa,"StructArrayLayout7f28");var la=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n,o)}},{key:"emplace",value:function(e,t,r,n,o,i){var a=5*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=o,this.float32[a+4]=i,e}}]),r}(Ni);la.prototype.bytesPerElement=20,xo(la,"StructArrayLayout5f20");var ua=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n)}},{key:"emplace",value:function(e,t,r,n,o){var i=6*e;return this.uint32[3*e+0]=t,this.uint16[i+2]=r,this.uint16[i+3]=n,this.uint16[i+4]=o,e}}]),r}(Ni);ua.prototype.bytesPerElement=12,xo(ua,"StructArrayLayout1ul3ui12");var ca=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}},{key:"emplace",value:function(e,t,r){var n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e}}]),r}(Ni);ca.prototype.bytesPerElement=4,xo(ca,"StructArrayLayout2ui4");var fa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)}},{key:"emplace",value:function(e,t){return this.uint16[1*e+0]=t,e}}]),r}(Ni);fa.prototype.bytesPerElement=2,xo(fa,"StructArrayLayout1ui2");var da=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t){var r=this.length;return this.resize(r+1),this.emplace(r,e,t)}},{key:"emplace",value:function(e,t,r){var n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e}}]),r}(Ni);da.prototype.bytesPerElement=8,xo(da,"StructArrayLayout2f8");var ha=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_refreshViews",value:function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}},{key:"emplaceBack",value:function(e,t,r,n,o,i,a){var s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,o,i,a)}},{key:"emplace",value:function(e,t,r,n,o,i,a,s){var l=8*e,u=4*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+3]=o,this.int16[l+4]=i,this.int16[l+5]=a,this.float32[u+3]=s,e}}]),r}(Ni);ha.prototype.bytesPerElement=16,xo(ha,"StructArrayLayout6i1f16");var pa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}}]),r}(Fi);pa.prototype.size=12;var va=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new pa(this,e)}}]),r}($i);xo(va,"FillExtrusionExtArray");var ma=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"tileAnchorY",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"x1",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"y1",get:function(){return this._structArray.float32[this._pos4+4]}},{key:"x2",get:function(){return this._structArray.float32[this._pos4+5]}},{key:"y2",get:function(){return this._structArray.float32[this._pos4+6]}},{key:"padding",get:function(){return this._structArray.int16[this._pos2+14]}},{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+8]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+19]}}]),r}(Fi);ma.prototype.size=40;var ya=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new ma(this,e)}}]),r}(Qi);xo(ya,"CollisionBoxArray");var ga=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"glyphStartIndex",get:function(){return this._structArray.uint16[this._pos2+8]}},{key:"numGlyphs",get:function(){return this._structArray.uint16[this._pos2+9]}},{key:"vertexStartIndex",get:function(){return this._structArray.uint32[this._pos4+5]}},{key:"lineStartIndex",get:function(){return this._structArray.uint32[this._pos4+6]}},{key:"lineLength",get:function(){return this._structArray.uint32[this._pos4+7]}},{key:"segment",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"lowerSize",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"upperSize",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"lineOffsetX",get:function(){return this._structArray.float32[this._pos4+10]}},{key:"lineOffsetY",get:function(){return this._structArray.float32[this._pos4+11]}},{key:"writingMode",get:function(){return this._structArray.uint8[this._pos1+48]}},{key:"placedOrientation",get:function(){return this._structArray.uint8[this._pos1+49]},set:function(e){this._structArray.uint8[this._pos1+49]=e}},{key:"hidden",get:function(){return this._structArray.uint8[this._pos1+50]},set:function(e){this._structArray.uint8[this._pos1+50]=e}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+13]},set:function(e){this._structArray.uint32[this._pos4+13]=e}},{key:"associatedIconIndex",get:function(){return this._structArray.int16[this._pos2+28]}},{key:"flipState",get:function(){return this._structArray.uint8[this._pos1+58]},set:function(e){this._structArray.uint8[this._pos1+58]=e}}]),r}(Fi);ga.prototype.size=60;var ba=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new ga(this,e)}}]),r}(oa);xo(ba,"PlacedSymbolArray");var _a=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"projectedAnchorX",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"projectedAnchorY",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"projectedAnchorZ",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"tileAnchorX",get:function(){return this._structArray.float32[this._pos4+2]}},{key:"tileAnchorY",get:function(){return this._structArray.float32[this._pos4+3]}},{key:"rightJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+8]}},{key:"centerJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+9]}},{key:"leftJustifiedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+10]}},{key:"verticalPlacedTextSymbolIndex",get:function(){return this._structArray.int16[this._pos2+11]}},{key:"placedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+12]}},{key:"verticalPlacedIconSymbolIndex",get:function(){return this._structArray.int16[this._pos2+13]}},{key:"key",get:function(){return this._structArray.uint16[this._pos2+14]}},{key:"textBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+15]}},{key:"textBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+16]}},{key:"verticalTextBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+17]}},{key:"verticalTextBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+18]}},{key:"iconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+19]}},{key:"iconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+20]}},{key:"verticalIconBoxStartIndex",get:function(){return this._structArray.uint16[this._pos2+21]}},{key:"verticalIconBoxEndIndex",get:function(){return this._structArray.uint16[this._pos2+22]}},{key:"featureIndex",get:function(){return this._structArray.uint16[this._pos2+23]}},{key:"numHorizontalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+24]}},{key:"numVerticalGlyphVertices",get:function(){return this._structArray.uint16[this._pos2+25]}},{key:"numIconVertices",get:function(){return this._structArray.uint16[this._pos2+26]}},{key:"numVerticalIconVertices",get:function(){return this._structArray.uint16[this._pos2+27]}},{key:"useRuntimeCollisionCircles",get:function(){return this._structArray.uint16[this._pos2+28]}},{key:"crossTileID",get:function(){return this._structArray.uint32[this._pos4+15]},set:function(e){this._structArray.uint32[this._pos4+15]=e}},{key:"textOffset0",get:function(){return this._structArray.float32[this._pos4+16]}},{key:"textOffset1",get:function(){return this._structArray.float32[this._pos4+17]}},{key:"collisionCircleDiameter",get:function(){return this._structArray.float32[this._pos4+18]}}]),r}(Fi);_a.prototype.size=76;var xa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new _a(this,e)}}]),r}(ia);xo(xa,"SymbolInstanceArray");var wa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getoffsetX",value:function(e){return this.float32[1*e+0]}}]),r}(aa);xo(wa,"GlyphOffsetArray");var ka=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getx",value:function(e){return this.int16[3*e+0]}},{key:"gety",value:function(e){return this.int16[3*e+1]}},{key:"gettileUnitDistanceFromAnchor",value:function(e){return this.int16[3*e+2]}}]),r}(Gi);xo(ka,"SymbolLineVertexArray");var Ea=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"featureIndex",get:function(){return this._structArray.uint32[this._pos4+0]}},{key:"sourceLayerIndex",get:function(){return this._structArray.uint16[this._pos2+2]}},{key:"bucketIndex",get:function(){return this._structArray.uint16[this._pos2+3]}},{key:"layoutVertexArrayOffset",get:function(){return this._structArray.uint16[this._pos2+4]}}]),r}(Fi);Ea.prototype.size=12;var Ta=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new Ea(this,e)}}]),r}(ua);xo(Ta,"FeatureIndexArray");var Sa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"a_centroid_pos0",get:function(){return this._structArray.uint16[this._pos2+0]}},{key:"a_centroid_pos1",get:function(){return this._structArray.uint16[this._pos2+1]}}]),r}(Fi);Sa.prototype.size=4;var Ca=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new Sa(this,e)}}]),r}(ca);xo(Ca,"FillExtrusionCentroidArray");var Aa=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"a_pos_30",get:function(){return this._structArray.int16[this._pos2+0]}},{key:"a_pos_31",get:function(){return this._structArray.int16[this._pos2+1]}},{key:"a_pos_32",get:function(){return this._structArray.int16[this._pos2+2]}},{key:"a_pos_normal_30",get:function(){return this._structArray.int16[this._pos2+3]}},{key:"a_pos_normal_31",get:function(){return this._structArray.int16[this._pos2+4]}},{key:"a_pos_normal_32",get:function(){return this._structArray.int16[this._pos2+5]}},{key:"a_scale",get:function(){return this._structArray.float32[this._pos4+3]}}]),r}(Fi);Aa.prototype.size=16;var Ia=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"get",value:function(e){return new Aa(this,e)}}]),r}(ha);xo(Ia,"CircleGlobeExtArray");var Ma=Bi([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),Pa=Bi([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]),Oa=wt((function(e){e.exports=function(e,t){var r,n,o,i,a,s,l,u;for(n=e.length-(r=3&e.length),o=t,a=3432918353,s=461845907,u=0;u<n;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:o^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}})),za=wt((function(e){e.exports=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}})),Ra=Oa,Da=za;Ra.murmur3=Oa,Ra.murmur2=Da;var La=function(){function e(){m(this,e),this.ids=[],this.positions=[],this.indexed=!1}return y(e,[{key:"add",value:function(e,t,r,n){this.ids.push(ja(e)),this.positions.push(t,r,n)}},{key:"getPositions",value:function(e){for(var t=ja(e),r=0,n=this.ids.length-1;r<n;){var o=r+n>>1;this.ids[o]>=t?n=o:r=o+1}for(var i=[];this.ids[r]===t;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}}],[{key:"serialize",value:function(e,t){var r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return Fa(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}}},{key:"deserialize",value:function(t){var r=new e;return r.ids=t.ids,r.positions=t.positions,r.indexed=!0,r}}]),e}();function ja(e){var t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Ra(String(e))}function Fa(e,t,r,n){for(;r<n;){for(var o=e[r+n>>1],i=r-1,a=n+1;;){do{i++}while(e[i]<o);do{a--}while(e[a]>o);if(i>=a)break;Na(e,i,a),Na(t,3*i,3*a),Na(t,3*i+1,3*a+1),Na(t,3*i+2,3*a+2)}a-r<n-a?(Fa(e,t,r,a),r=a+1):(Fa(e,t,a+1,n),n=a)}}function Na(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}xo(La,"FeaturePositionMap");var Ba=y((function e(t,r){m(this,e),this.gl=t.gl,this.location=r})),Va=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=0,o}return y(r,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}]),r}(Ba),Ua=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=[0,0,0,0],o}return y(r,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}]),r}(Ba),Ga=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=Et.transparent,o}return y(r,[{key:"set",value:function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}]),r}(Ba),qa=new Float32Array(16),Wa=new Float32Array(9),Za=new Float32Array(4);function Ha(e){return[Li(255*e.r,255*e.g),Li(255*e.b,255*e.a)]}var Xa=function(){function e(t,r,n){m(this,e),this.value=t,this.uniformNames=r.map((function(e){return"u_".concat(e)})),this.type=n}return y(e,[{key:"setUniform",value:function(e,t,r){e.set(r.constantOr(this.value))}},{key:"getBinding",value:function(e,t,r){return"color"===this.type?new Ga(e,t):new Va(e,t)}}]),e}(),$a=function(){function e(t,r){m(this,e),this.uniformNames=r.map((function(e){return"u_".concat(e)})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}return y(e,[{key:"setConstantPatternPositions",value:function(e,t){this.pixelRatioFrom=t.pixelRatio||1,this.pixelRatioTo=e.pixelRatio||1,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}},{key:"setUniform",value:function(e,t,r,n){var o="u_pattern_to"===n||"u_dash_to"===n?this.patternTo:"u_pattern_from"===n||"u_dash_from"===n?this.patternFrom:"u_pixel_ratio_to"===n?this.pixelRatioTo:"u_pixel_ratio_from"===n?this.pixelRatioFrom:null;o&&e.set(o)}},{key:"getBinding",value:function(e,t,r){return"u_pattern_from"===r||"u_pattern_to"===r||"u_dash_from"===r||"u_dash_to"===r?new Ua(e,t):new Va(e,t)}}]),e}(),Ka=function(){function e(t,r,n,o){m(this,e),this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=r.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new o}return y(e,[{key:"populatePaintArray",value:function(e,t,r,n,o,i){var a=this.paintVertexArray.length,s=this.expression.evaluate(new xi(0),t,{},o,n,i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}},{key:"updatePaintArray",value:function(e,t,r,n,o){var i=this.expression.evaluate({zoom:0},r,n,void 0,o);this._setPaintValue(e,t,i)}},{key:"_setPaintValue",value:function(e,t,r){if("color"===this.type)for(var n=Ha(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,n[0],n[1]);else{for(var i=e;i<t;i++)this.paintVertexArray.emplace(i,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}]),e}(),Ya=function(){function e(t,r,n,o,i,a){m(this,e),this.expression=t,this.uniformNames=r.map((function(e){return"u_".concat(e,"_t")})),this.type=n,this.useIntegerZoom=o,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=r.map((function(e){return{name:"a_".concat(e),type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a}return y(e,[{key:"populatePaintArray",value:function(e,t,r,n,o,i){var a=this.expression.evaluate(new xi(this.zoom),t,{},o,n,i),s=this.expression.evaluate(new xi(this.zoom+1),t,{},o,n,i),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}},{key:"updatePaintArray",value:function(e,t,r,n,o){var i=this.expression.evaluate({zoom:this.zoom},r,n,void 0,o),a=this.expression.evaluate({zoom:this.zoom+1},r,n,void 0,o);this._setPaintValue(e,t,i,a)}},{key:"_setPaintValue",value:function(e,t,r,n){if("color"===this.type)for(var o=Ha(r),i=Ha(n),a=e;a<t;a++)this.paintVertexArray.emplace(a,o[0],o[1],i[0],i[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}},{key:"upload",value:function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}},{key:"setUniform",value:function(e,t){var r=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,n=I(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);e.set(n)}},{key:"getBinding",value:function(e,t,r){return new Va(e,t)}}]),e}(),Ja=function(){function e(t,r,n,o,i,a,s){m(this,e),this.expression=t,this.type=n,this.useIntegerZoom=o,this.zoom=i,this.layerId=s,this.paintVertexAttributes=("array"===n?Pa:Ma).members;for(var l=0;l<r.length;++l);this.zoomInPaintVertexArray=new a,this.zoomOutPaintVertexArray=new a}return y(e,[{key:"populatePaintArray",value:function(e,t,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}},{key:"updatePaintArray",value:function(e,t,r,n,o,i){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],i)}},{key:"_setPaintValues",value:function(e,t,r,n){if(n&&r){var o=r.min,i=r.mid,a=r.max,s=n[o],l=n[i],u=n[a];if(s&&l&&u)for(var c=e;c<t;c++)this._setPaintValue(this.zoomInPaintVertexArray,c,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,c,l,u)}}},{key:"_setPaintValue",value:function(e,t,r,n){e.emplace(t,r.tl[0],r.tl[1],r.br[0],r.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],r.pixelRatio,n.pixelRatio)}},{key:"upload",value:function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}},{key:"destroy",value:function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}]),e}(),Qa=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};m(this,e),this.binders={},this._buffers=[];var o=[];for(var i in t.paint._values)if(n(i)){var a=t.paint.get(i);if(a instanceof Ai&&cn(a.property.specification)){var s=rs(i,t.type),l=a.value,u=a.property.specification.type,c=a.property.useIntegerZoom,f=a.property.specification["property-type"],d="cross-faded"===f||"cross-faded-data-driven"===f,h="line-dasharray"===String(i)&&"constant"!==t.layout.get("line-cap").value.kind;if("constant"!==l.kind||h)if("source"===l.kind||h||d){var p=is(i,u,"source");this.binders[i]=d?new Ja(l,s,u,c,r,p,t.id):new Ka(l,s,u,p),o.push("/a_".concat(i))}else{var v=is(i,u,"composite");this.binders[i]=new Ya(l,s,u,c,r,v),o.push("/z_".concat(i))}else this.binders[i]=d?new $a(l.value,s):new Xa(l.value,s,u),o.push("/u_".concat(i))}}this.cacheKey=o.sort().join("")}return y(e,[{key:"getMaxValue",value:function(e){var t=this.binders[e];return t instanceof Ka||t instanceof Ya?t.maxValue:0}},{key:"populatePaintArrays",value:function(e,t,r,n,o,i){for(var a in this.binders){var s=this.binders[a];(s instanceof Ka||s instanceof Ya||s instanceof Ja)&&s.populatePaintArray(e,t,r,n,o,i)}}},{key:"setConstantPatternPositions",value:function(e,t){for(var r in this.binders){var n=this.binders[r];n instanceof $a&&n.setConstantPatternPositions(e,t)}}},{key:"updatePaintArrays",value:function(e,t,r,n,o,i){var a=!1;for(var s in e){var l,u=t.getPositions(s),c=d(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=r.feature(f.index);for(var p in this.binders){var v=this.binders[p];if((v instanceof Ka||v instanceof Ya||v instanceof Ja)&&!0===v.expression.isStateDependent){var m=n.paint.get(p);v.expression=m.value,v.updatePaintArray(f.start,f.end,h,e[s],o,i),a=!0}}}}catch(y){c.e(y)}finally{c.f()}}return a}},{key:"defines",value:function(){var e=[];for(var t in this.binders){var r=this.binders[t];(r instanceof Xa||r instanceof $a)&&e.push.apply(e,c(r.uniformNames.map((function(e){return"#define HAS_UNIFORM_".concat(e)}))))}return e}},{key:"getBinderAttributes",value:function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Ka||r instanceof Ya||r instanceof Ja)for(var n=0;n<r.paintVertexAttributes.length;n++)e.push(r.paintVertexAttributes[n].name)}return e}},{key:"getBinderUniforms",value:function(){var e=[];for(var t in this.binders){var r=this.binders[t];if(r instanceof Xa||r instanceof $a||r instanceof Ya){var n,o=d(r.uniformNames);try{for(o.s();!(n=o.n()).done;){var i=n.value;e.push(i)}}catch(a){o.e(a)}finally{o.f()}}}return e}},{key:"getPaintVertexBuffers",value:function(){return this._buffers}},{key:"getUniforms",value:function(e,t){var r=[];for(var n in this.binders){var o=this.binders[n];if(o instanceof Xa||o instanceof $a||o instanceof Ya){var i,a=d(o.uniformNames);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(t[s]){var l=o.getBinding(e,t[s],s);r.push({name:s,property:n,binding:l})}}}catch(u){a.e(u)}finally{a.f()}}}return r}},{key:"setUniforms",value:function(e,t,r,n){var o,i=d(t);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a.name,l=a.property,u=a.binding;this.binders[l].setUniform(u,n,r.get(l),s)}}catch(c){i.e(c)}finally{i.f()}}},{key:"updatePaintBuffers",value:function(e){for(var t in this._buffers=[],this.binders){var r=this.binders[t];if(e&&r instanceof Ja){var n=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&&this._buffers.push(n)}else(r instanceof Ka||r instanceof Ya)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}},{key:"upload",value:function(e){for(var t in this.binders){var r=this.binders[t];(r instanceof Ka||r instanceof Ya||r instanceof Ja)&&r.upload(e)}this.updatePaintBuffers()}},{key:"destroy",value:function(){for(var e in this.binders){var t=this.binders[e];(t instanceof Ka||t instanceof Ya||t instanceof Ja)&&t.destroy()}}}]),e}(),es=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};m(this,e),this.programConfigurations={};var o,i=d(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;this.programConfigurations[a.id]=new Qa(a,r,n)}}catch(s){i.e(s)}finally{i.f()}this.needsUpload=!1,this._featureMap=new La,this._bufferOffset=0}return y(e,[{key:"populatePaintArrays",value:function(e,t,r,n,o,i,a){for(var s in this.programConfigurations)this.programConfigurations[s].populatePaintArrays(e,t,n,o,i,a);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}},{key:"updatePaintArrays",value:function(e,t,r,n,o){var i,a=d(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.needsUpload=this.programConfigurations[s.id].updatePaintArrays(e,this._featureMap,t,s,n,o)||this.needsUpload}}catch(l){a.e(l)}finally{a.f()}}},{key:"get",value:function(e){return this.programConfigurations[e]}},{key:"upload",value:function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}},{key:"destroy",value:function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()}}]),e}(),ts={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function rs(e,t){return ts[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}var ns={"line-pattern":{source:Hi,composite:Hi},"fill-pattern":{source:Hi,composite:Hi},"fill-extrusion-pattern":{source:Hi,composite:Hi},"line-dasharray":{source:Xi,composite:Xi}},os={color:{source:da,composite:Zi},number:{source:aa,composite:da}};function is(e,t,r){var n=ns[e];return n&&n[r]||os[t][r]}xo(Xa,"ConstantBinder"),xo($a,"CrossFadedConstantBinder"),xo(Ka,"SourceExpressionBinder"),xo(Ja,"CrossFadedCompositeBinder"),xo(Ya,"CompositeExpressionBinder"),xo(Qa,"ProgramConfiguration",{omit:["_buffers"]}),xo(es,"ProgramConfigurationSet");var as="-transition",ss=function(e){p(r,e);var t=v(r);function r(e,n){var o;if(m(this,r),(o=t.call(this)).id=e.id,o.type=e.type,o._featureFilter={filter:function(){return!0},needGeometry:!1,needFeature:!1},o._filterCompiled=!1,"custom"!==e.type&&(o.metadata=(e=e).metadata,o.minzoom=e.minzoom,o.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(o.source=e.source,o.sourceLayer=e["source-layer"],o.filter=e.filter),n.layout&&(o._unevaluatedLayout=new Ci(n.layout)),n.paint)){for(var i in o._transitionablePaint=new Ei(n.paint),e.paint)o.setPaintProperty(i,e.paint[i],{validate:!1});for(var a in e.layout)o.setLayoutProperty(a,e.layout[a],{validate:!1});o._transitioningPaint=o._transitionablePaint.untransitioned(),o.paint=new Ii(n.paint)}return l(o)}return y(r,[{key:"getCrossfadeParameters",value:function(){return this._crossfadeParameters}},{key:"getLayoutProperty",value:function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}},{key:"setLayoutProperty",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(vo,"layers.".concat(this.id,".layout.").concat(e),e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}},{key:"getPaintProperty",value:function(e){return V(e,as)?this._transitionablePaint.getTransition(e.slice(0,-as.length)):this._transitionablePaint.getValue(e)}},{key:"setPaintProperty",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(po,"layers.".concat(this.id,".paint.").concat(e),e,t,r))return!1;if(V(e,as))return this._transitionablePaint.setTransition(e.slice(0,-as.length),t||void 0),!1;var n=this._transitionablePaint._values[e],o="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),a=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var s=this._transitionablePaint._values[e].value;return s.isDataDriven()||i||o||this._handleOverridablePaintPropertyUpdate(e,a,s)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){}},{key:"getProgramIds",value:function(){return null}},{key:"getProgramConfiguration",value:function(e){return null}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,r){return!1}},{key:"isHidden",value:function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}},{key:"updateTransitions",value:function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}},{key:"hasTransition",value:function(){return this._transitioningPaint.hasTransition()}},{key:"recalculate",value:function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}},{key:"serialize",value:function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),G(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))}},{key:"_validate",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!o||!1!==o.validate)&&yo(this,e.call(ho,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:et,style:{glyphs:!0,sprite:!0}}))}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!1}},{key:"isTileClipped",value:function(){return!1}},{key:"hasOffscreenPass",value:function(){return!1}},{key:"resize",value:function(){}},{key:"isStateDependent",value:function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof Ai&&cn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}},{key:"compileFilter",value:function(){this._filterCompiled||(this._featureFilter=Nn(this.filter),this._filterCompiled=!0)}},{key:"invalidateCompiledFilter",value:function(){this._filterCompiled=!1}},{key:"dynamicFilter",value:function(){return this._featureFilter.dynamicFilter}},{key:"dynamicFilterNeedsFeature",value:function(){return this._featureFilter.needFeature}}]),r}(Qe),ls=Bi([{name:"a_pos",components:2,type:"Int16"}],4),us=Bi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"},{name:"a_scale",components:1,type:"Float32"}]),cs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this.segments=t}return y(e,[{key:"prepareSegment",value:function(t,r,n,o){var i=this.segments[this.segments.length-1];return t>e.MAX_VERTEX_ARRAY_LENGTH&&Z("Max vertices per segment is ".concat(e.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(t)),(!i||i.vertexLength+t>e.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==o)&&(i={vertexOffset:r.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==o&&(i.sortKey=o),this.segments.push(i)),i}},{key:"get",value:function(){return this.segments}},{key:"destroy",value:function(){var e,t=d(this.segments);try{for(t.s();!(e=t.n()).done;){var r=e.value;for(var n in r.vaos)r.vaos[n].destroy()}}catch(o){t.e(o)}finally{t.f()}}}],[{key:"simpleSegment",value:function(t,r,n,o){return new e([{vertexOffset:t,primitiveOffset:r,vertexLength:n,primitiveLength:o,vaos:{},sortKey:0}])}}]),e}();cs.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,xo(cs,"SegmentVector");var fs=8192,ds=function(){function e(t,r){m(this,e),t&&(r?this.setSouthWest(t).setNorthEast(r):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))}return y(e,[{key:"setNorthEast",value:function(e){return this._ne=e instanceof ps?new ps(e.lng,e.lat):ps.convert(e),this}},{key:"setSouthWest",value:function(e){return this._sw=e instanceof ps?new ps(e.lng,e.lat):ps.convert(e),this}},{key:"extend",value:function(t){var r,n,o=this._sw,i=this._ne;if(t instanceof ps)r=t,n=t;else{if(!(t instanceof e))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(e.convert(t)):this.extend(ps.convert(t)):this;if(r=t._sw,n=t._ne,!r||!n)return this}return o||i?(o.lng=Math.min(r.lng,o.lng),o.lat=Math.min(r.lat,o.lat),i.lng=Math.max(n.lng,i.lng),i.lat=Math.max(n.lat,i.lat)):(this._sw=new ps(r.lng,r.lat),this._ne=new ps(n.lng,n.lat)),this}},{key:"getCenter",value:function(){return new ps((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}},{key:"getSouthWest",value:function(){return this._sw}},{key:"getNorthEast",value:function(){return this._ne}},{key:"getNorthWest",value:function(){return new ps(this.getWest(),this.getNorth())}},{key:"getSouthEast",value:function(){return new ps(this.getEast(),this.getSouth())}},{key:"getWest",value:function(){return this._sw.lng}},{key:"getSouth",value:function(){return this._sw.lat}},{key:"getEast",value:function(){return this._ne.lng}},{key:"getNorth",value:function(){return this._ne.lat}},{key:"toArray",value:function(){return[this._sw.toArray(),this._ne.toArray()]}},{key:"toString",value:function(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}},{key:"isEmpty",value:function(){return!(this._sw&&this._ne)}},{key:"contains",value:function(e){var t=ps.convert(e),r=t.lng,n=t.lat,o=this._sw.lng<=r&&r<=this._ne.lng;return this._sw.lng>this._ne.lng&&(o=this._sw.lng>=r&&r>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&o}}],[{key:"convert",value:function(t){return!t||t instanceof e?t:new e(t)}}]),e}(),hs=6371008.8,ps=function(){function e(t,r){if(m(this,e),isNaN(t)||isNaN(r))throw new Error("Invalid LngLat object: (".concat(t,", ").concat(r,")"));if(this.lng=+t,this.lat=+r,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}return y(e,[{key:"wrap",value:function(){return new e(P(this.lng,-180,180),this.lat)}},{key:"toArray",value:function(){return[this.lng,this.lat]}},{key:"toString",value:function(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}},{key:"distanceTo",value:function(e){var t=Math.PI/180,r=this.lat*t,n=e.lat*t,o=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return hs*Math.acos(Math.min(o,1))}},{key:"toBounds",value:function(){var t=360*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new ds(new e(this.lng-r,this.lat-t),new e(this.lng+r,this.lat+t))}}],[{key:"convert",value:function(t){if(t instanceof e)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new e(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new e(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}]),e}(),vs=2*Math.PI*hs;function ms(e){return vs*Math.cos(e*Math.PI/180)}function ys(e){return(180+e)/360}function gs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function bs(e,t){return e/ms(t)}function _s(e){return 360*e-180}function xs(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function ws(e,t){return e*ms(xs(t))}var ks=85.051129,Es=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;m(this,e),this.x=+t,this.y=+r,this.z=+n}return y(e,[{key:"toLngLat",value:function(){return new ps(_s(this.x),xs(this.y))}},{key:"toAltitude",value:function(){return ws(this.z,this.y)}},{key:"meterInMercatorCoordinateUnits",value:function(){return 1/vs*(e=xs(this.y),1/Math.cos(e*Math.PI/180));var e}}],[{key:"fromLngLat",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ps.convert(t);return new e(ys(n.lng),gs(n.lat),bs(r,n.lat))}}]),e}();function Ts(e,t,r,n,o,i,a,s,l){var u=(t+n)/2,c=(r+o)/2,f=new g(u,c);s(f),function(e,t,r,n,o,i){var a=r-o,s=n-i;return Math.abs((n-t)*a-(r-e)*s)/Math.hypot(a,s)}(f.x,f.y,i.x,i.y,a.x,a.y)>=l?(Ts(e,t,r,u,c,i,f,s,l),Ts(e,u,c,n,o,f,a,s,l)):e.push(a)}function Ss(e,t,r){var n=e[0],o=n.x,i=n.y;t(n);for(var a=[n],s=1;s<e.length;s++){var l=e[s],u=l.x,c=l.y;t(l),Ts(a,o,i,u,c,n,l,t,r),o=u,i=c,n=l}return a}var Cs=Math.pow(2,14)-1,As=-Cs-1;function Is(e,t){var r=Math.round(e.x*t),n=Math.round(e.y*t);return e.x=I(r,As,Cs),e.y=I(n,As,Cs),(r<e.x||r>e.x+1||n<e.y||n>e.y+1)&&Z("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Ms(e,t,r){var n=e.loadGeometry(),o=e.extent,i=fs/o;if(t&&r&&r.projection.isReprojectedInTileSpace)for(var a=1<<t.z,s=r.scale,l=r.x,u=r.y,c=r.projection,f=function(e){var r=_s((t.x+e.x/o)/a),n=xs((t.y+e.y/o)/a),i=c.project(r,n);e.x=(i.x*s-l)*o,e.y=(i.y*s-u)*o},h=0;h<n.length;h++)if(1!==e.type)n[h]=Ss(n[h],f,1);else{var p,v=[],m=d(n[h]);try{for(m.s();!(p=m.n()).done;){var y=p.value;y.x<0||y.x>=o||y.y<0||y.y>=o||(f(y),v.push(y))}}catch(k){m.e(k)}finally{m.f()}n[h]=v}var g,b=d(n);try{for(b.s();!(g=b.n()).done;){var _,x=g.value,w=d(x);try{for(w.s();!(_=w.n()).done;)Is(_.value,i)}catch(k){w.e(k)}finally{w.f()}}}catch(k){b.e(k)}finally{b.f()}return n}function Ps(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ms(e):[]}}function Os(e,t,r,n,o){e.emplaceBack(2*t+(n+1)/2,2*r+(o+1)/2)}function zs(e,t,r,n){var o=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*o,r[1]*o,r[2]*o,n)}var Rs=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new Ui,this.indexArray=new na,this.segments=new cs,this.programConfigurations=new es(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,r,n){var o=this.layers[0],i=[],a=null;"circle"===o.type&&(a=o.layout.get("circle-sort-key"));var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.feature,f=u.id,h=u.index,p=u.sourceLayerIndex,v=this.layers[0]._featureFilter.needGeometry,m=Ps(c,v);if(this.layers[0]._featureFilter.filter(new xi(this.zoom),m,r)){var y=a?a.evaluate(m,{},r):void 0,g={id:f,properties:c.properties,type:c.type,sourceLayerIndex:p,index:h,geometry:v?m.geometry:Ms(c,r,n),patterns:{},sortKey:y};i.push(g)}}}catch(C){l.e(C)}finally{l.f()}a&&i.sort((function(e,t){return e.sortKey-t.sortKey}));var b=null;"globe"===n.projection.name&&(this.globeExtVertexArray=new Ia,b=n.projection);for(var _=0,x=i;_<x.length;_++){var w=x[_],k=w.geometry,E=w.index,T=w.sourceLayerIndex,S=e[E].feature;this.addFeature(w,k,E,t.availableImages,r,b),t.featureIndex.insert(S,k,E,T,this.index)}}},{key:"update",value:function(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,ls.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,us.members))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}},{key:"addFeature",value:function(e,t,r,n,o,i){var a,s=d(t);try{for(s.s();!(a=s.n()).done;){var l,u=a.value,c=d(u);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=f.x,p=f.y;if(!(h<0||h>=fs||p<0||p>=fs)){if(i){var v=i.projectTilePoint(h,p,o),m=i.upVector(o,h,p),y=xs((p/fs+o.y)/(1<<o.z)),g=i.pixelsPerMeter(y,1)/bs(1,y),b=this.globeExtVertexArray;zs(b,v,m,g),zs(b,v,m,g),zs(b,v,m,g),zs(b,v,m,g)}var _=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),x=_.vertexLength;Os(this.layoutVertexArray,h,p,-1,-1),Os(this.layoutVertexArray,h,p,1,-1),Os(this.layoutVertexArray,h,p,1,1),Os(this.layoutVertexArray,h,p,-1,1),this.indexArray.emplaceBack(x,x+1,x+2),this.indexArray.emplaceBack(x,x+3,x+2),_.vertexLength+=4,_.primitiveLength+=2}}}catch(w){c.e(w)}finally{c.f()}}}catch(w){s.e(w)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n,o)}}]),e}();function Ds(e,t){for(var r=0;r<e.length;r++)if(qs(t,e[r]))return!0;for(var n=0;n<t.length;n++)if(qs(e,t[n]))return!0;return!!Ns(e,t)}function Ls(e,t,r){return!!qs(e,t)||!!Vs(t,e,r)}function js(e,t){if(1===e.length)return Gs(t,e[0]);for(var r=0;r<t.length;r++)for(var n=t[r],o=0;o<n.length;o++)if(qs(e,n[o]))return!0;for(var i=0;i<e.length;i++)if(Gs(t,e[i]))return!0;for(var a=0;a<t.length;a++)if(Ns(e,t[a]))return!0;return!1}function Fs(e,t,r){if(e.length>1){if(Ns(e,t))return!0;for(var n=0;n<t.length;n++)if(Vs(t[n],e,r))return!0}for(var o=0;o<e.length;o++)if(Vs(e[o],t,r))return!0;return!1}function Ns(e,t){if(0===e.length||0===t.length)return!1;for(var r=0;r<e.length-1;r++)for(var n=e[r],o=e[r+1],i=0;i<t.length-1;i++)if(Bs(n,o,t[i],t[i+1]))return!0;return!1}function Bs(e,t,r,n){return H(e,r,n)!==H(t,r,n)&&H(e,t,r)!==H(e,t,n)}function Vs(e,t,r){var n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(var o=1;o<t.length;o++)if(Us(e,t[o-1],t[o])<n)return!0;return!1}function Us(e,t,r){var n=t.distSqr(r);if(0===n)return e.distSqr(t);var o=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(o<0?t:o>1?r:r.sub(t)._mult(o)._add(t))}function Gs(e,t){for(var r,n,o,i=!1,a=0;a<e.length;a++)for(var s=0,l=(r=e[a]).length-1;s<r.length;l=s++)n=r[s],o=r[l],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(i=!i);return i}function qs(e,t){for(var r=!1,n=0,o=e.length-1;n<e.length;o=n++){var i=e[n],a=e[o];i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(r=!r)}return r}function Ws(e,t,r,n,o){var i,a=d(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(t<=s.x&&r<=s.y&&n>=s.x&&o>=s.y)return!0}}catch(h){a.e(h)}finally{a.f()}var l=[new g(t,r),new g(t,o),new g(n,o),new g(n,r)];if(e.length>2){var u,c=d(l);try{for(c.s();!(u=c.n()).done;)if(qs(e,u.value))return!0}catch(h){c.e(h)}finally{c.f()}}for(var f=0;f<e.length-1;f++)if(Zs(e[f],e[f+1],l))return!0;return!1}function Zs(e,t,r){var n=r[0],o=r[2];if(e.x<n.x&&t.x<n.x||e.x>o.x&&t.x>o.x||e.y<n.y&&t.y<n.y||e.y>o.y&&t.y>o.y)return!1;var i=H(e,t,r[0]);return i!==H(e,t,r[1])||i!==H(e,t,r[2])||i!==H(e,t,r[3])}function Hs(e,t,r){var n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function Xs(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function $s(e,t,r,n,o){if(!t[0]&&!t[1])return e;var i=g.convert(t)._mult(o);"viewport"===r&&i._rotate(-n);for(var a=[],s=0;s<e.length;s++)a.push(e[s].sub(i));return a}function Ks(e,t,r,n){var o=g.convert(e)._mult(n);return"viewport"===t&&o._rotate(-r),o}xo(Rs,"CircleBucket",{omit:["layers"]});var Ys=new Di({"circle-sort-key":new Pi(et.layout_circle["circle-sort-key"])}),Js={paint:new Di({"circle-radius":new Pi(et.paint_circle["circle-radius"]),"circle-color":new Pi(et.paint_circle["circle-color"]),"circle-blur":new Pi(et.paint_circle["circle-blur"]),"circle-opacity":new Pi(et.paint_circle["circle-opacity"]),"circle-translate":new Mi(et.paint_circle["circle-translate"]),"circle-translate-anchor":new Mi(et.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mi(et.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mi(et.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Pi(et.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Pi(et.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Pi(et.paint_circle["circle-stroke-opacity"])}),layout:Ys},Qs=1e-6,el="undefined"!=typeof Float32Array?Float32Array:Array;function tl(){var e=new el(9);return el!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function rl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function nl(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],v=t[12],m=t[13],y=t[14],g=t[15],b=r[0],_=r[1],x=r[2],w=r[3];return e[0]=b*n+_*s+x*f+w*v,e[1]=b*o+_*l+x*d+w*m,e[2]=b*i+_*u+x*h+w*y,e[3]=b*a+_*c+x*p+w*g,e[4]=(b=r[4])*n+(_=r[5])*s+(x=r[6])*f+(w=r[7])*v,e[5]=b*o+_*l+x*d+w*m,e[6]=b*i+_*u+x*h+w*y,e[7]=b*a+_*c+x*p+w*g,e[8]=(b=r[8])*n+(_=r[9])*s+(x=r[10])*f+(w=r[11])*v,e[9]=b*o+_*l+x*d+w*m,e[10]=b*i+_*u+x*h+w*y,e[11]=b*a+_*c+x*p+w*g,e[12]=(b=r[12])*n+(_=r[13])*s+(x=r[14])*f+(w=r[15])*v,e[13]=b*o+_*l+x*d+w*m,e[14]=b*i+_*u+x*h+w*y,e[15]=b*a+_*c+x*p+w*g,e}function ol(e,t,r){var n,o,i,a,s,l,u,c,f,d,h,p,v=r[0],m=r[1],y=r[2];return t===e?(e[12]=t[0]*v+t[4]*m+t[8]*y+t[12],e[13]=t[1]*v+t[5]*m+t[9]*y+t[13],e[14]=t[2]*v+t[6]*m+t[10]*y+t[14],e[15]=t[3]*v+t[7]*m+t[11]*y+t[15]):(o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=t[9],h=t[10],p=t[11],e[0]=n=t[0],e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=f,e[9]=d,e[10]=h,e[11]=p,e[12]=n*v+s*m+f*y+t[12],e[13]=o*v+l*m+d*y+t[13],e[14]=i*v+u*m+h*y+t[14],e[15]=a*v+c*m+p*y+t[15]),e}function il(e,t,r){var n=r[0],o=r[1],i=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function al(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*o+u*n,e[5]=a*o+c*n,e[6]=s*o+f*n,e[7]=l*o+d*n,e[8]=u*o-i*n,e[9]=c*o-a*n,e[10]=f*o-s*n,e[11]=d*o-l*n,e}function sl(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[0],a=t[1],s=t[2],l=t[3],u=t[8],c=t[9],f=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o-u*n,e[1]=a*o-c*n,e[2]=s*o-f*n,e[3]=l*o-d*n,e[8]=i*n+u*o,e[9]=a*n+c*o,e[10]=s*n+f*o,e[11]=l*n+d*o,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var ll=nl;function ul(){var e=new el(3);return el!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function cl(e){var t=new el(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function fl(e){return Math.hypot(e[0],e[1],e[2])}function dl(e,t,r){var n=new el(3);return n[0]=e,n[1]=t,n[2]=r,n}function hl(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function pl(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function vl(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function ml(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function yl(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function gl(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function bl(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function _l(e,t){var r=t[0],n=t[1],o=t[2],i=r*r+n*n+o*o;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function xl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wl(e,t,r){var n=t[0],o=t[1],i=t[2],a=r[0],s=r[1],l=r[2];return e[0]=o*l-i*s,e[1]=i*a-n*l,e[2]=n*s-o*a,e}function kl(e,t,r){var n=t[0],o=t[1],i=t[2],a=r[3]*n+r[7]*o+r[11]*i+r[15];return e[0]=(r[0]*n+r[4]*o+r[8]*i+r[12])/(a=a||1),e[1]=(r[1]*n+r[5]*o+r[9]*i+r[13])/a,e[2]=(r[2]*n+r[6]*o+r[10]*i+r[14])/a,e}function El(e,t,r){var n=r[0],o=r[1],i=r[2],a=t[0],s=t[1],l=t[2],u=o*l-i*s,c=i*a-n*l,f=n*s-o*a,d=o*f-i*c,h=i*u-n*f,p=n*c-o*u,v=2*r[3];return c*=v,f*=v,h*=2,p*=2,e[0]=a+(u*=v)+(d*=2),e[1]=s+c+h,e[2]=l+f+p,e}var Tl,Sl=pl,Cl=vl,Al=fl;function Il(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3];return e[0]=r[0]*n+r[4]*o+r[8]*i+r[12]*a,e[1]=r[1]*n+r[5]*o+r[9]*i+r[13]*a,e[2]=r[2]*n+r[6]*o+r[10]*i+r[14]*a,e[3]=r[3]*n+r[7]*o+r[11]*i+r[15]*a,e}function Ml(){var e=new el(4);return el!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Pl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Ol(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=o*l+i*s,e[2]=i*l-o*s,e[3]=a*l-n*s,e}ul(),Tl=new el(4),el!=Float32Array&&(Tl[0]=0,Tl[1]=0,Tl[2]=0,Tl[3]=0),ul(),dl(1,0,0),dl(0,1,0),Ml(),Ml(),tl();var zl=function(){function e(t,r){m(this,e),this.points=t,this.planes=r}return y(e,null,[{key:"fromInvProjectionMatrix",value:function(t,r,n,o){var i=Math.pow(2,n),a=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((function(e){var n=Il([],e,t),a=1/n[3]/r*i;return function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}(n,n,[a,a,o?1/n[3]:a,a])})),s=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((function(e){var t=_l([],wl([],Sl([],a[e[0]],a[e[1]]),Sl([],a[e[2]],a[e[1]]))),r=-xl(t,a[e[1]]);return t.concat(r)}));return new e(a,s)}}]),e}(),Rl=function(){function e(t,r){m(this,e),this.min=t,this.max=r,this.center=gl([],hl([],this.min,this.max),.5)}return y(e,[{key:"quadrant",value:function(t){for(var r=[t%2==0,t<2],n=cl(this.min),o=cl(this.max),i=0;i<r.length;i++)n[i]=r[i]?this.min[i]:this.center[i],o[i]=r[i]?this.center[i]:this.max[i];return o[2]=this.max[2],new e(n,o)}},{key:"distanceX",value:function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}},{key:"distanceY",value:function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}},{key:"distanceZ",value:function(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}},{key:"getCorners",value:function(){var e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}},{key:"intersects",value:function(e){for(var t=this.getCorners(),r=!0,n=0;n<e.planes.length;n++){for(var o=e.planes[n],i=0,a=0;a<t.length;a++)i+=xl(o,t[a])+o[3]>=0;if(0===i)return 0;i!==t.length&&(r=!1)}if(r)return 2;for(var s=0;s<3;s++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,c=0;c<e.points.length;c++){var f=e.points[c][s]-this.min[s];l=Math.min(l,f),u=Math.max(u,f)}if(u<0||l>this.max[s]-this.min[s])return 0}return 1}}]),e}();function Dl(e,t,r,n,o,i,a,s,l){if(i&&e.queryGeometry.isAboveHorizon)return!1;i&&(l*=e.pixelToTileUnitsFactor);var u,c=d(t);try{for(c.s();!(u=c.n()).done;){var f,h=u.value,p=d(h);try{var v=function(){var t=f.value,u=t.add(s),c=o&&r.elevation?r.elevation.exaggeration()*o.getElevationAt(u.x,u.y,!0):0,d=i?u:Ll(u,c,n),h=i?e.tilespaceRays.map((function(e){return Nl(e,c)})):e.queryGeometry.screenGeometry,p=Il([],[t.x,t.y,c,1],n);if(!a&&i?l*=p[3]/r.cameraToCenterDistance:a&&!i&&(l*=r.cameraToCenterDistance/p[3]),Ls(h,d,l))return{v:!0}};for(p.s();!(f=p.n()).done;){var m=v();if("object"===typeof m)return m.v}}catch(y){p.e(y)}finally{p.f()}}}catch(y){c.e(y)}finally{c.f()}return!1}function Ll(e,t,r){var n=Il([],[e.x,e.y,t,1],r);return new g(n[0]/n[3],n[1]/n[3])}var jl=dl(0,0,0),Fl=dl(0,0,1);function Nl(e,t){var r=ul();return jl[2]=t,e.intersectsPlane(jl,Fl,r),new g(r[0],r[1])}var Bl=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r)}(Rs);function Vl(e,t,r,n){var o=t.width,i=t.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==o*i*r)throw new RangeError("mismatched image size")}else n=new Uint8Array(o*i*r);return e.width=o,e.height=i,e.data=n,e}function Ul(e,t,r){var n=t.width,o=t.height;n===e.width&&o===e.height||(Gl(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,o)},r),e.width=n,e.height=o,e.data=t.data)}function Gl(e,t,r,n,o,i){if(0===o.width||0===o.height)return t;if(o.width>e.width||o.height>e.height||r.x>e.width-o.width||r.y>e.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>t.width||o.height>t.height||n.x>t.width-o.width||n.y>t.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<o.height;l++)for(var u=((r.y+l)*e.width+r.x)*i,c=((n.y+l)*t.width+n.x)*i,f=0;f<o.width*i;f++)s[c+f]=a[u+f];return t}xo(Bl,"HeatmapBucket",{omit:["layers"]});var ql=function(){function e(t,r){m(this,e),Vl(this,t,1,r)}return y(e,[{key:"resize",value:function(t){Ul(this,new e(t),1)}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,r,n,o){Gl(e,t,r,n,o,1)}}]),e}(),Wl=function(){function e(t,r){m(this,e),Vl(this,t,4,r)}return y(e,[{key:"resize",value:function(t){Ul(this,new e(t),4)}},{key:"replace",value:function(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}},{key:"clone",value:function(){return new e({width:this.width,height:this.height},new Uint8Array(this.data))}}],[{key:"copy",value:function(e,t,r,n,o){Gl(e,t,r,n,o,4)}}]),e}();xo(ql,"AlphaImage"),xo(Wl,"RGBAImage");var Zl={paint:new Di({"heatmap-radius":new Pi(et.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Pi(et.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mi(et.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Ri(et.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mi(et.paint_heatmap["heatmap-opacity"])})};function Hl(e){var t={},r=e.resolution||256,n=e.clips?e.clips.length:1,o=e.image||new Wl({width:r,height:n}),i=function(r,n,i){t[e.evaluationKey]=i;var a=e.expression.evaluate(t);o.data[r+n+0]=Math.floor(255*a.r/a.a),o.data[r+n+1]=Math.floor(255*a.g/a.a),o.data[r+n+2]=Math.floor(255*a.b/a.a),o.data[r+n+3]=Math.floor(255*a.a)};if(e.clips)for(var a=0,s=0;a<n;++a,s+=4*r)for(var l=0,u=0;l<r;l++,u+=4){var c=l/(r-1),f=e.clips[a];i(s,u,f.start*(1-c)+f.end*c)}else for(var d=0,h=0;d<r;d++,h+=4)i(0,h,d/(r-1));return o}var Xl={paint:new Di({"hillshade-illumination-direction":new Mi(et.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mi(et.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mi(et.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mi(et.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mi(et.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mi(et.paint_hillshade["hillshade-accent-color"])})},$l=Bi([{name:"a_pos",components:2,type:"Int16"}],4).members,Kl=Jl,Yl=Jl;function Jl(e,t,r){r=r||2;var n,o,i,a,s,l,u,c=t&&t.length,f=c?t[0]*r:e.length,d=Ql(e,0,f,r,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(e,t,r,n){var o,i,a,s=[];for(o=0,i=t.length;o<i;o++)(a=Ql(e,t[o]*n,o<i-1?t[o+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(cu(a));for(s.sort(au),o=0;o<s.length;o++)r=eu(r=su(s[o],r),r.next);return r}(e,t,d,r)),e.length>80*r){n=i=e[0],o=a=e[1];for(var p=r;p<f;p+=r)(s=e[p])<n&&(n=s),(l=e[p+1])<o&&(o=l),s>i&&(i=s),l>a&&(a=l);u=0!==(u=Math.max(i-n,a-o))?1/u:0}return tu(d,h,r,n,o,u),h}function Ql(e,t,r,n,o){var i,a;if(o===ku(e,t,r,n)>0)for(i=t;i<r;i+=n)a=_u(i,e[i],e[i+1],a);else for(i=r-n;i>=t;i-=n)a=_u(i,e[i],e[i+1],a);return a&&pu(a,a.next)&&(xu(a),a=a.next),a}function eu(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!pu(n,n.next)&&0!==hu(n.prev,n,n.next))n=n.next;else{if(xu(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function tu(e,t,r,n,o,i,a){if(e){!a&&i&&function(e,t,r,n){var o=e;do{null===o.z&&(o.z=uu(o.x,o.y,t,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==e);o.prevZ.nextZ=null,o.prevZ=null,function(e){var t,r,n,o,i,a,s,l,u=1;do{for(r=e,e=null,i=null,a=0;r;){for(a++,n=r,s=0,t=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,l--),i?i.nextZ=o:e=o,o.prevZ=i,i=o;r=n}i.nextZ=null,u*=2}while(a>1)}(o)}(e,n,o,i);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,i?nu(e,n,o,i):ru(e))t.push(s.i/r),t.push(e.i/r),t.push(l.i/r),xu(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?tu(e=ou(eu(e),t,r),t,r,n,o,i,2):2===a&&iu(e,t,r,n,o,i):tu(eu(e),t,r,n,o,i,1);break}}}function ru(e){var t=e.prev,r=e,n=e.next;if(hu(t,r,n)>=0)return!1;for(var o=e.next.next;o!==e.prev;){if(fu(t.x,t.y,r.x,r.y,n.x,n.y,o.x,o.y)&&hu(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function nu(e,t,r,n){var o=e.prev,i=e,a=e.next;if(hu(o,i,a)>=0)return!1;for(var s=o.x>i.x?o.x>a.x?o.x:a.x:i.x>a.x?i.x:a.x,l=o.y>i.y?o.y>a.y?o.y:a.y:i.y>a.y?i.y:a.y,u=uu(o.x<i.x?o.x<a.x?o.x:a.x:i.x<a.x?i.x:a.x,o.y<i.y?o.y<a.y?o.y:a.y:i.y<a.y?i.y:a.y,t,r,n),c=uu(s,l,t,r,n),f=e.prevZ,d=e.nextZ;f&&f.z>=u&&d&&d.z<=c;){if(f!==e.prev&&f!==e.next&&fu(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&hu(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,d!==e.prev&&d!==e.next&&fu(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&hu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;f&&f.z>=u;){if(f!==e.prev&&f!==e.next&&fu(o.x,o.y,i.x,i.y,a.x,a.y,f.x,f.y)&&hu(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;d&&d.z<=c;){if(d!==e.prev&&d!==e.next&&fu(o.x,o.y,i.x,i.y,a.x,a.y,d.x,d.y)&&hu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function ou(e,t,r){var n=e;do{var o=n.prev,i=n.next.next;!pu(o,i)&&vu(o,n,n.next,i)&&gu(o,i)&&gu(i,o)&&(t.push(o.i/r),t.push(n.i/r),t.push(i.i/r),xu(n),xu(n.next),n=e=i),n=n.next}while(n!==e);return eu(n)}function iu(e,t,r,n,o,i){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&du(a,s)){var l=bu(a,s);return a=eu(a,a.next),l=eu(l,l.next),tu(a,t,r,n,o,i),void tu(l,t,r,n,o,i)}s=s.next}a=a.next}while(a!==e)}function au(e,t){return e.x-t.x}function su(e,t){var r=function(e,t){var r,n=t,o=e.x,i=e.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=o&&s>a){if(a=s,s===o){if(i===n.y)return n;if(i===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(o===a)return r;var l,u=r,c=r.x,f=r.y,d=1/0;n=r;do{o>=n.x&&n.x>=c&&o!==n.x&&fu(i<f?o:a,i,c,f,i<f?a:o,i,n.x,n.y)&&(l=Math.abs(i-n.y)/(o-n.x),gu(n,e)&&(l<d||l===d&&(n.x>r.x||n.x===r.x&&lu(r,n)))&&(r=n,d=l)),n=n.next}while(n!==u);return r}(e,t);if(!r)return t;var n=bu(r,e),o=eu(r,r.next);return eu(n,n.next),t===r?o:t}function lu(e,t){return hu(e.prev,e,t.prev)<0&&hu(t.next,e,e.next)<0}function uu(e,t,r,n,o){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function cu(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function fu(e,t,r,n,o,i,a,s){return(o-a)*(t-s)-(e-a)*(i-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(i-s)-(o-a)*(n-s)>=0}function du(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&vu(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(gu(e,t)&&gu(t,e)&&function(e,t){var r=e,n=!1,o=(e.x+t.x)/2,i=(e.y+t.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(hu(e.prev,e,t.prev)||hu(e,t.prev,t))||pu(e,t)&&hu(e.prev,e,e.next)>0&&hu(t.prev,t,t.next)>0)}function hu(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function pu(e,t){return e.x===t.x&&e.y===t.y}function vu(e,t,r,n){var o=yu(hu(e,t,r)),i=yu(hu(e,t,n)),a=yu(hu(r,n,e)),s=yu(hu(r,n,t));return o!==i&&a!==s||!(0!==o||!mu(e,r,t))||!(0!==i||!mu(e,n,t))||!(0!==a||!mu(r,e,n))||!(0!==s||!mu(r,t,n))}function mu(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function yu(e){return e>0?1:e<0?-1:0}function gu(e,t){return hu(e.prev,e,e.next)<0?hu(e,t,e.next)>=0&&hu(e,e.prev,t)>=0:hu(e,t,e.prev)<0||hu(e,e.next,t)<0}function bu(e,t){var r=new wu(e.i,e.x,e.y),n=new wu(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function _u(e,t,r,n){var o=new wu(e,t,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function xu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wu(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ku(e,t,r,n){for(var o=0,i=t,a=r-n;i<r;i+=n)o+=(e[a]-e[i])*(e[i+1]+e[a+1]),a=i;return o}function Eu(e,t,r,n,o){Tu(e,t,r||0,n||e.length-1,o||Cu)}function Tu(e,t,r,n,o){for(;n>r;){if(n-r>600){var i=n-r+1,a=t-r+1,s=Math.log(i),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1);Tu(e,t,Math.max(r,Math.floor(t-a*l/i+u)),Math.min(n,Math.floor(t+(i-a)*l/i+u)),o)}var c=e[t],f=r,d=n;for(Su(e,r,t),o(e[n],c)>0&&Su(e,r,n);f<d;){for(Su(e,f,d),f++,d--;o(e[f],c)<0;)f++;for(;o(e[d],c)>0;)d--}0===o(e[r],c)?Su(e,r,d):Su(e,++d,n),d<=t&&(r=d+1),t<=d&&(n=d-1)}}function Su(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Cu(e,t){return e<t?-1:e>t?1:0}function Au(e,t){var r=e.length;if(r<=1)return[e];for(var n,o,i=[],a=0;a<r;a++){var s=X(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===o&&(o=s<0),o===s<0?(n&&i.push(n),n=[e[a]]):n.push(e[a]))}if(n&&i.push(n),t>1)for(var l=0;l<i.length;l++)i[l].length<=t||(Eu(i[l],t,1,i[l].length-1,Iu),i[l]=i[l].slice(0,t));return i}function Iu(e,t){return t.area-e.area}function Mu(e,t,r){var n,o=r.patternDependencies,i=!1,a=d(t);try{for(a.s();!(n=a.n()).done;){var s=n.value.paint.get("".concat(e,"-pattern"));s.isConstant()||(i=!0);var l=s.constantOr(null);l&&(i=!0,o[l.to]=!0,o[l.from]=!0)}}catch(u){a.e(u)}finally{a.f()}return i}function Pu(e,t,r,n,o){var i,a=o.patternDependencies,s=d(t);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.paint.get("".concat(e,"-pattern")).value;if("constant"!==u.kind){var c=u.evaluate({zoom:n-1},r,{},o.availableImages),f=u.evaluate({zoom:n},r,{},o.availableImages),h=u.evaluate({zoom:n+1},r,{},o.availableImages);c=c&&c.name?c.name:c,f=f&&f.name?f.name:f,h=h&&h.name?h.name:h,a[c]=!0,a[f]=!0,a[h]=!0,r.patterns[l.id]={min:c,mid:f,max:h}}}}catch(p){s.e(p)}finally{s.f()}return r}Jl.deviation=function(e,t,r,n){var o=t&&t.length,i=Math.abs(ku(e,0,o?t[0]*r:e.length,r));if(o)for(var a=0,s=t.length;a<s;a++)i-=Math.abs(ku(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var l=0;for(a=0;a<n.length;a+=3){var u=n[a]*r,c=n[a+1]*r,f=n[a+2]*r;l+=Math.abs((e[u]-e[f])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[f+1]-e[u+1]))}return 0===i&&0===l?0:Math.abs((l-i)/i)},Jl.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,o=0;o<e.length;o++){for(var i=0;i<e[o].length;i++)for(var a=0;a<t;a++)r.vertices.push(e[o][i][a]);o>0&&r.holes.push(n+=e[o-1].length)}return r},Kl.default=Yl;var Ou=function(){function e(t){m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ui,this.indexArray=new na,this.indexArray2=new ca,this.programConfigurations=new es(t.layers,t.zoom),this.segments=new cs,this.segments2=new cs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.projection=t.projection}return y(e,[{key:"populate",value:function(e,t,r,n){this.hasPattern=Mu("fill",this.layers,t);var o,i=this.layers[0].layout.get("fill-sort-key"),a=[],s=d(e);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.feature,c=l.id,f=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,v=Ps(u,p);if(this.layers[0]._featureFilter.filter(new xi(this.zoom),v,r)){var m=i?i.evaluate(v,{},r,t.availableImages):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:f,geometry:p?v.geometry:Ms(u,r,n),patterns:{},sortKey:m};a.push(y)}}}catch(T){s.e(T)}finally{s.f()}i&&a.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=0,b=a;g<b.length;g++){var _=b[g],x=_.geometry,w=_.index,k=_.sourceLayerIndex;if(this.hasPattern){var E=Pu("fill",this.layers,_,this.zoom,t);this.patternFeatures.push(E)}else this.addFeature(_,x,w,r,{},t.availableImages);t.featureIndex.insert(e[w].feature,x,w,k,this.index)}}},{key:"update",value:function(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}},{key:"addFeatures",value:function(e,t,r,n,o){var i,a=d(this.patternFeatures);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.addFeature(s,s.geometry,s.index,t,r,n)}}catch(l){a.e(l)}finally{a.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$l),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}},{key:"addFeature",value:function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=d(Au(t,500));try{for(s.s();!(i=s.n()).done;){var l,u=i.value,c=0,f=d(u);try{for(f.s();!(l=f.n()).done;)c+=l.value.length}catch(T){f.e(T)}finally{f.f()}var h,p=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),v=p.vertexLength,m=[],y=[],g=d(u);try{for(g.s();!(h=g.n()).done;){var b=h.value;if(0!==b.length){b!==u[0]&&y.push(m.length/2);var _=this.segments2.prepareSegment(b.length,this.layoutVertexArray,this.indexArray2),x=_.vertexLength;this.layoutVertexArray.emplaceBack(b[0].x,b[0].y),this.indexArray2.emplaceBack(x+b.length-1,x),m.push(b[0].x),m.push(b[0].y);for(var w=1;w<b.length;w++)this.layoutVertexArray.emplaceBack(b[w].x,b[w].y),this.indexArray2.emplaceBack(x+w-1,x+w),m.push(b[w].x),m.push(b[w].y);_.vertexLength+=b.length,_.primitiveLength+=b.length}}}catch(T){g.e(T)}finally{g.f()}for(var k=Kl(m,y),E=0;E<k.length;E+=3)this.indexArray.emplaceBack(v+k[E],v+k[E+1],v+k[E+2]);p.vertexLength+=c,p.primitiveLength+=k.length/3}}catch(T){s.e(T)}finally{s.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,o,a,n)}}]),e}();xo(Ou,"FillBucket",{omit:["layers","patternFeatures"]});var zu=new Di({"fill-sort-key":new Pi(et.layout_fill["fill-sort-key"])}),Ru={paint:new Di({"fill-antialias":new Mi(et.paint_fill["fill-antialias"]),"fill-opacity":new Pi(et.paint_fill["fill-opacity"]),"fill-color":new Pi(et.paint_fill["fill-color"]),"fill-outline-color":new Pi(et.paint_fill["fill-outline-color"]),"fill-translate":new Mi(et.paint_fill["fill-translate"]),"fill-translate-anchor":new Mi(et.paint_fill["fill-translate-anchor"]),"fill-pattern":new Oi(et.paint_fill["fill-pattern"])}),layout:zu},Du=Bi([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Lu=Bi([{name:"a_centroid_pos",components:2,type:"Uint16"}]),ju=Bi([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),Fu=Du.members,Nu=Bu;function Bu(e,t,r,n,o){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=o,e.readFields(Vu,this,t)}function Vu(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],o=t._values[e.readVarint()];t.properties[n]=o}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function Uu(e){for(var t,r,n=0,o=0,i=e.length,a=i-1;o<i;a=o++)n+=((r=e[a]).x-(t=e[o]).x)*(t.y+r.y);return n}Bu.types=["Unknown","Point","LineString","Polygon"],Bu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,o=0,i=0,a=0,s=[];e.pos<r;){if(o<=0){var l=e.readVarint();n=7&l,o=l>>3}if(o--,1===n||2===n)i+=e.readSVarint(),a+=e.readSVarint(),1===n&&(t&&s.push(t),t=[]),t.push(new g(i,a));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&s.push(t),s},Bu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,o=0,i=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(n<=0){var c=e.readVarint();r=7&c,n=c>>3}if(n--,1===r||2===r)(o+=e.readSVarint())<a&&(a=o),o>s&&(s=o),(i+=e.readSVarint())<l&&(l=i),i>u&&(u=i);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,u]},Bu.prototype.toGeoJSON=function(e,t,r){var n,o,i=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=Bu.types[this.type];function c(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+a)/i-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/i)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(n=0;n<l.length;n++)f[n]=l[n][0];c(l=f);break;case 2:for(n=0;n<l.length;n++)c(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,o=[],i=0;i<t;i++){var a=Uu(e[i]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&o.push(r),r=[e[i]]):r.push(e[i]))}return r&&o.push(r),o}(l),n=0;n<l.length;n++)for(o=0;o<l[n].length;o++)c(l[n][o])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Gu=qu;function qu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Wu,this,t),this.length=this._features.length}function Wu(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}function Zu(e,t,r){if(3===e){var n=new Gu(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}qu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Nu(this._pbf,t,this.extent,this._keys,this._values)};var Hu={VectorTile:function(e,t){this.layers=e.readFields(Zu,{},t)},VectorTileFeature:Nu,VectorTileLayer:Gu};function Xu(e,t,r,n){var o,i=[],a=0===n?function(e,t,r,n,o,i){e.push(new g(i,r+(i-t)/(n-t)*(o-r)))}:function(e,t,r,n,o,i){e.push(new g(t+(i-r)/(o-r)*(n-t),i))},s=d(e);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=[],f=d(u);try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!(h.length<=2)){for(var p=[],v=0;v<h.length-1;v++){var m=h[v].x,y=h[v].y,b=h[v+1].x,_=h[v+1].y,x=0===n?m:y,w=0===n?b:_;x<t?w>t&&a(p,m,y,b,_,t):x>r?w<r&&a(p,m,y,b,_,r):p.push(h[v]),w<t&&x>=t&&a(p,m,y,b,_,t),w>r&&x<=r&&a(p,m,y,b,_,r)}var k=h[h.length-1],E=0===n?k.x:k.y;E>=t&&E<=r&&p.push(k),p.length&&(k=p[p.length-1],p[0].x===k.x&&p[0].y===k.y||p.push(p[0]),c.push(p))}}}catch(T){f.e(T)}finally{f.f()}c.length&&i.push(c)}}catch(T){s.e(T)}finally{s.f()}return i}var $u=Hu.VectorTileFeature.types,Ku=Math.pow(2,13);function Yu(e,t,r,n,o,i,a,s){e.emplaceBack((t<<1)+a,(r<<1)+i,(Math.floor(n*Ku)<<1)+o,Math.round(s))}function Ju(e,t,r){var n=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*n,r[1]*n,r[2]*n)}var Qu=function(){function e(){m(this,e),this.acc=new g(0,0),this.polyCount=[]}return y(e,[{key:"startRing",value:function(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new g(e.x,e.y),this.max=new g(e.x,e.y))}},{key:"append",value:function(e,t){this.currentPolyCount.edges++,this.acc._add(e);var r=this.min,n=this.max;e.x<r.x?r.x=e.x:e.x>n.x&&(n.x=e.x),e.y<r.y?r.y=e.y:e.y>n.y&&(n.y=e.y),((0===e.x||e.x===fs)&&e.x===t.x)!=((0===e.y||e.y===fs)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,mr(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>fs!=e.x>fs&&this.addBorderIntersection(1,mr(t.y,e.y,(fs-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,mr(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>fs!=e.y>fs&&this.addBorderIntersection(3,mr(t.x,e.x,(fs-t.y)/(e.y-t.y)))}},{key:"addBorderIntersection",value:function(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);var r=this.borders[e];t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}},{key:"processBorderOverlap",value:function(e,t){if(e.x===t.x){if(e.y===t.y)return;var r=0===e.x?0:1;this.addBorderIntersection(r,t.y),this.addBorderIntersection(r,e.y)}else{var n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}},{key:"centroid",value:function(){var e=this.polyCount.reduce((function(e,t){return e+t.edges}),0);return 0!==e?this.acc.div(e)._round():new g(0,0)}},{key:"span",value:function(){return new g(this.max.x-this.min.x,this.max.y-this.min.y)}},{key:"intersectsCount",value:function(){return this.borders.reduce((function(e,t){return e+ +(t[0]!==Number.MAX_VALUE)}),0)}}]),e}(),ec=function(){function e(t){m(this,e),this.zoom=t.zoom,this.canonical=t.canonical,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.hasPattern=!1,this.projection=t.projection,this.layoutVertexArray=new qi,this.centroidVertexArray=new Ca,this.indexArray=new na,this.programConfigurations=new es(t.layers,t.zoom),this.segments=new cs,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.enableTerrain=t.enableTerrain}return y(e,[{key:"populate",value:function(e,t,r,n){this.features=[],this.hasPattern=Mu("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){var t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/fs/(1<<e.z)}(r);var o,i=d(e);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a.feature,l=a.id,u=a.index,c=a.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,h=Ps(s,f);if(this.layers[0]._featureFilter.filter(new xi(this.zoom),h,r)){var p={id:l,sourceLayerIndex:c,index:u,geometry:f?h.geometry:Ms(s,r,n),properties:s.properties,type:s.type,patterns:{}},v=this.layoutVertexArray.length;this.hasPattern?this.features.push(Pu("fill-extrusion",this.layers,p,this.zoom,t)):this.addFeature(p,p.geometry,u,r,{},t.availableImages,n),t.featureIndex.insert(s,p.geometry,u,c,this.index,v)}}}catch(m){i.e(m)}finally{i.f()}this.sortBorders()}},{key:"addFeatures",value:function(e,t,r,n,o){var i,a=d(this.features);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=s.geometry;this.addFeature(s,l,s.index,t,r,n,o)}}catch(u){a.e(u)}finally{a.f()}this.sortBorders()}},{key:"update",value:function(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Fu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,ju.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"uploadCentroid",value:function(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Lu.members,!0),this.needsCentroidUpdate=!1)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"addFeature",value:function(e,t,r,n,o,i,a){var s=[new g(0,0),new g(fs,fs)],l=a.projection,u="globe"===l.name,c=this.enableTerrain&&!u?new Qu:null;u&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new va);for(var f,h,p=Au(t,500),v=p.length-1;v>=0;v--){var m=p[v];(0===m.length||(f=m[0]).every((function(e){return e.x<=0}))||f.every((function(e){return e.x>=fs}))||f.every((function(e){return e.y<=0}))||f.every((function(e){return e.y>=fs})))&&p.splice(v,1)}if(u){var y=11.25,b=1<<n.z,_=_s(n.x/b),x=_s((n.x+1)/b),w=xs(n.y/b),k=xs((n.y+1)/b);h=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,a=[];if(!e.length||!r||!n)return a;for(var s=function(e,t){var r,n=d(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;a.push({polygon:o,bounds:t})}}catch(i){n.e(i)}finally{n.f()}},l=Math.ceil(Math.log2(r)),u=Math.ceil(Math.log2(n)),c=l-u,f=[],h=0;h<Math.abs(c);h++)f.push(c>0?0:1);for(var p=0;p<Math.min(l,u);p++)f.push(0),f.push(1);var v=e;if(v=Xu(v,t[0].y-o,t[1].y+o,1),!(v=Xu(v,t[0].x-o,t[1].x+o,0)).length)return a;var m=[];for(f.length?m.push({polygons:v,bounds:t,depth:0}):s(v,t);m.length;){var y=m.pop(),b=y.depth,_=f[b],x=y.bounds[0],w=y.bounds[1],k=0===_?x.x:x.y,E=0===_?w.x:w.y,T=i?i(_,k,E):.5*(k+E),S=Xu(y.polygons,k-o,T+o,_),C=Xu(y.polygons,T-o,E+o,_);if(S.length){var A=[x,new g(0===_?T:w.x,1===_?T:w.y)];f.length>b+1?m.push({polygons:S,bounds:A,depth:b+1}):s(S,A)}if(C.length){var I=[new g(0===_?T:x.x,1===_?T:x.y),w];f.length>b+1?m.push({polygons:C,bounds:I,depth:b+1}):s(C,I)}}return a}(p,s,Math.ceil((x-_)/y),Math.ceil((w-k)/y),1,(function(e,t,r){if(0===e)return.5*(t+r);var o=xs((n.y+t/fs)/b);return(gs(.5*(xs((n.y+r/fs)/b)+o))*b-n.y)*fs}))}else{h=[];var E,T=d(p);try{for(T.s();!(E=T.n()).done;){var S=E.value;h.push({polygon:S,bounds:s})}}catch(se){T.e(se)}finally{T.f()}}var C,A=d(h);try{for(A.s();!(C=A.n()).done;){for(var I=C.value,M=I.polygon,P=0,O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),z=0;z<M.length;z++){var R=M[z];if(0!==R.length){P+=R.length;var D=0;c&&c.startRing(R[0]);for(var L=0;L<R.length;L++){var j=R[L];if(L>=1){var F=R[L-1];if(!tc(j,F,I.bounds)){c&&c.append(j,F),O.vertexLength+4>cs.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var N=j.sub(F)._perp(),B=N.x/(Math.abs(N.x)+Math.abs(N.y)),V=N.y>0?1:0,U=F.dist(j);D+U>32768&&(D=0),Yu(this.layoutVertexArray,j.x,j.y,B,V,0,0,D),Yu(this.layoutVertexArray,j.x,j.y,B,V,0,1,D),D+=U,Yu(this.layoutVertexArray,F.x,F.y,B,V,0,0,D),Yu(this.layoutVertexArray,F.x,F.y,B,V,0,1,D);var G=O.vertexLength;if(this.indexArray.emplaceBack(G,G+2,G+1),this.indexArray.emplaceBack(G+1,G+2,G+3),O.vertexLength+=4,O.primitiveLength+=2,u){var q=this.layoutVertexExtArray,W=l.projectTilePoint(j.x,j.y,n),Z=l.projectTilePoint(F.x,F.y,n),H=l.upVector(n,j.x,j.y),X=l.upVector(n,F.x,F.y);Ju(q,W,H),Ju(q,W,H),Ju(q,Z,X),Ju(q,Z,X)}}}}}}if(O.vertexLength+P>cs.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(P,this.layoutVertexArray,this.indexArray)),"Polygon"===$u[e.type]){for(var $=[],K=[],Y=O.vertexLength,J=0;J<M.length;J++){var Q=M[J];if(0!==Q.length){Q!==M[0]&&K.push($.length/2);for(var ee=0;ee<Q.length;ee++){var te=Q[ee];Yu(this.layoutVertexArray,te.x,te.y,0,0,1,1,0),$.push(te.x),$.push(te.y),c&&c.currentPolyCount.top++,u&&Ju(this.layoutVertexExtArray,l.projectTilePoint(te.x,te.y,n),l.upVector(n,te.x,te.y))}}}for(var re=Kl($,K),ne=0;ne<re.length;ne+=3)this.indexArray.emplaceBack(Y+re[ne],Y+re[ne+2],Y+re[ne+1]);O.primitiveLength+=re.length/3,O.vertexLength+=P}}}catch(se){A.e(se)}finally{A.f()}if(c&&c.polyCount.length>0){if(c.borders){c.vertexArrayOffset=this.centroidVertexArray.length;for(var oe=c.borders,ie=this.featuresOnBorder.push(c)-1,ae=0;ae<4;ae++)oe[ae][0]!==Number.MAX_VALUE&&this.borders[ae].push(ie)}this.encodeCentroid(c.borders?void 0:c.centroid(),c)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,o,i,n)}},{key:"sortBorders",value:function(){for(var e=this,t=function(t){e.borders[t].sort((function(r,n){return e.featuresOnBorder[r].borders[t][0]-e.featuresOnBorder[n].borders[t][0]}))},r=0;r<4;r++)t(r)}},{key:"encodeCentroid",value:function(e,t){var r,n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e)if(0!==e.y){var i=t.span()._mult(this.tileToMeter);r=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(i.x/10)),n=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(i.y/10))}else r=Math.ceil(7*(e.x+450)),n=0;else r=0,n=+o;var a,s=o?this.centroidVertexArray.length:t.vertexArrayOffset,l=d(t.polyCount);try{for(l.s();!(a=l.n()).done;){var u=a.value;o&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*u.edges+u.top);for(var c=0;c<2*u.edges;c++)this.centroidVertexArray.emplace(s++,0,n),this.centroidVertexArray.emplace(s++,r,n);for(var f=0;f<u.top;f++)this.centroidVertexArray.emplace(s++,r,n)}}catch(h){l.e(h)}finally{l.f()}}}]),e}();function tc(e,t,r){return e.x===t.x&&(e.x<r[0].x||e.x>r[1].x)||e.y===t.y&&(e.y<r[0].y||e.y>r[1].y)}xo(ec,"FillExtrusionBucket",{omit:["layers","features"]}),xo(Qu,"PartMetadata");var rc={paint:new Di({"fill-extrusion-opacity":new Mi(et["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Pi(et["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mi(et["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mi(et["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Oi(et["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Pi(et["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Pi(et["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Mi(et["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function nc(e,t){return e.x*t.x+e.y*t.y}function oc(e,t){if(1===e.length){for(var r,n=0,o=t[n++];!r||o.equals(r);)if(!(r=t[n++]))return 1/0;for(;n<t.length;n++){var i=t[n],a=e[0],s=r.sub(o),l=i.sub(o),u=a.sub(o),c=nc(s,s),f=nc(s,l),h=nc(l,l),p=nc(u,s),v=nc(u,l),m=c*h-f*f,y=(h*p-f*v)/m,g=(c*v-f*p)/m,b=o.z*(1-y-g)+r.z*y+i.z*g;if(isFinite(b))return b}return 1/0}var _,x=1/0,w=d(t);try{for(w.s();!(_=w.n()).done;){var k=_.value;x=Math.min(x,k.z)}}catch(E){w.e(E)}finally{w.f()}return x}function ic(e){var t=new g(e[0],e[1]);return t.z=e[2],t}function ac(e,t,r,n,o,i,a,s){var l=a*o.getElevationAt(e,t,!0,!0),u=0!==i[0],c=u?0===i[1]?a*(i[0]/7-450):a*function(e,t,r){var n=Math.floor(t[0]/8),o=Math.floor(t[1]/8),i=10*(t[0]-8*n),a=10*(t[1]-8*o),s=e.getElevationAt(n,o,!0,!0),l=e.getMeterToDEM(r),u=Math.floor(.5*(i*l-1)),c=Math.floor(.5*(a*l-1)),f=e.tileCoordToPixel(n,o),d=2*u+1,h=2*c+1,p=function(e,t,r,n,o){return[e.getElevationAtPixel(t,r,!0),e.getElevationAtPixel(t+o,r,!0),e.getElevationAtPixel(t,r+o,!0),e.getElevationAtPixel(t+n,r+o,!0)]}(e,f.x-u,f.y-c,d,h),v=Math.abs(p[0]-p[1]),m=Math.abs(p[2]-p[3]),y=Math.abs(p[0]-p[2])+Math.abs(p[1]-p[3]),g=Math.min(.25,.5*l*(v+m)/d),b=Math.min(.25,.5*l*y/h);return s+Math.max(g*i,b*a)}(o,i,s):l;return{base:l+(0===r)?-1:r,top:u?Math.max(c+n,l+r+2):l+n}}var sc=Bi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4).members,lc=Bi([{name:"a_packed",components:3,type:"Float32"}]).members,uc=Hu.VectorTileFeature.types,cc=Math.cos(Math.PI/180*37.5),fc=function(){function e(t){var r=this;m(this,e),this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.projection=t.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((function(e){r.gradients[e.id]={}})),this.layoutVertexArray=new Wi,this.layoutVertexArray2=new Yi,this.indexArray=new na,this.programConfigurations=new es(t.layers,t.zoom),this.segments=new cs,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))}return y(e,[{key:"populate",value:function(e,t,r,n){this.hasPattern=Mu("line",this.layers,t);var o,i=this.layers[0].layout.get("line-sort-key"),a=[],s=d(e);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.feature,c=l.id,f=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,v=Ps(u,p);if(this.layers[0]._featureFilter.filter(new xi(this.zoom),v,r)){var m=i?i.evaluate(v,{},r):void 0,y={id:c,properties:u.properties,type:u.type,sourceLayerIndex:h,index:f,geometry:p?v.geometry:Ms(u,r,n),patterns:{},sortKey:m};a.push(y)}}}catch(A){s.e(A)}finally{s.f()}i&&a.sort((function(e,t){return e.sortKey-t.sortKey}));for(var g=t.lineAtlas,b=t.featureIndex,_=this.addConstantDashes(g),x=0,w=a;x<w.length;x++){var k=w[x],E=k.geometry,T=k.index,S=k.sourceLayerIndex;if(_&&this.addFeatureDashes(k,g),this.hasPattern){var C=Pu("line",this.layers,k,this.zoom,t);this.patternFeatures.push(C)}else this.addFeature(k,E,T,r,g.positions,t.availableImages);b.insert(e[T].feature,E,T,S,this.index)}}},{key:"addConstantDashes",value:function(e){var t,r=!1,n=d(this.layers);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=o.paint.get("line-dasharray").value,a=o.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==a.kind)r=!0;else{var s=a.value,l=i.value;if(!l)continue;e.addDash(l.from,s),e.addDash(l.to,s),l.other&&e.addDash(l.other,s)}}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"addFeatureDashes",value:function(e,t){var r,n=this.zoom,o=d(this.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.paint.get("line-dasharray").value,s=i.layout.get("line-cap").value;if("constant"!==a.kind||"constant"!==s.kind){var l=void 0,u=void 0,c=void 0,f=void 0,h=void 0,p=void 0;if("constant"===a.kind){var v=a.value;if(!v)continue;l=v.other||v.to,u=v.to,c=v.from}else l=a.evaluate({zoom:n-1},e),u=a.evaluate({zoom:n},e),c=a.evaluate({zoom:n+1},e);"constant"===s.kind?f=h=p=s.value:(f=s.evaluate({zoom:n-1},e),h=s.evaluate({zoom:n},e),p=s.evaluate({zoom:n+1},e)),t.addDash(l,f),t.addDash(u,h),t.addDash(c,p);var m=t.getKey(l,f),y=t.getKey(u,h),g=t.getKey(c,p);e.patterns[i.id]={min:m,mid:y,max:g}}}}catch(b){o.e(b)}finally{o.f()}}},{key:"update",value:function(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}},{key:"addFeatures",value:function(e,t,r,n,o){var i,a=d(this.patternFeatures);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.addFeature(s,s.geometry,s.index,t,r,n)}}catch(l){a.e(l)}finally{a.f()}}},{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length}},{key:"uploadPending",value:function(){return!this.uploaded||this.programConfigurations.needsUpload}},{key:"upload",value:function(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,lc)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,sc),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}},{key:"lineFeatureClips",value:function(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}},{key:"addFeature",value:function(e,t,r,n,o,i){var a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),u=a.get("line-miter-limit"),c=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);var f,h=d(t);try{for(h.s();!(f=h.n()).done;){var p=f.value;this.addLine(p,e,s,l,u,c)}}catch(v){h.e(v)}finally{h.f()}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,o,i,n)}},{key:"addLine",value:function(e,t,r,n,o,i){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<e.length-1;a++)this.totalDistance+=e[a].dist(e[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===uc[t.type],l=e.length;l>=2&&e[l-1].equals(e[l-2]);)l--;for(var u=0;u<l-1&&e[u].equals(e[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===r&&(o=1.05);var c,f,d,h,p,v=this.overscaling<=16?122880/(512*this.overscaling):0,m=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.e1=this.e2=-1,s&&(c=e[l-2],p=e[u].sub(c)._unit()._perp());for(var y=u;y<l;y++)if(!(d=y===l-1?s?e[u+1]:void 0:e[y+1])||!e[y].equals(d)){p&&(h=p),c&&(f=c),c=e[y],p=d?d.sub(c)._unit()._perp():h;var g=(h=h||p).add(p);0===g.x&&0===g.y||g._unit();var b=h.x*p.x+h.y*p.y,_=g.x*p.x+g.y*p.y,x=0!==_?1/_:1/0,w=2*Math.sqrt(2-2*_),k=_<cc&&f&&d,E=h.x*p.y-h.y*p.x>0;if(k&&y>u){var T=c.dist(f);if(T>2*v){var S=c.sub(c.sub(f)._mult(v/T)._round());this.updateDistance(f,S),this.addCurrentVertex(S,h,0,0,m),f=S}}var C=f&&d,A=C?r:s?"butt":n;if(C&&"round"===A&&(x<i?A="miter":x<=2&&(A="fakeround")),"miter"===A&&x>o&&(A="bevel"),"bevel"===A&&(x>2&&(A="flipbevel"),x<o&&(A="miter")),f&&this.updateDistance(f,c),"miter"===A)g._mult(x),this.addCurrentVertex(c,g,0,0,m);else if("flipbevel"===A){if(x>100)g=p.mult(-1);else{var I=x*h.add(p).mag()/h.sub(p).mag();g._perp()._mult(I*(E?-1:1))}this.addCurrentVertex(c,g,0,0,m),this.addCurrentVertex(c,g.mult(-1),0,0,m)}else if("bevel"===A||"fakeround"===A){var M=-Math.sqrt(x*x-1),P=E?M:0,O=E?0:M;if(f&&this.addCurrentVertex(c,h,P,O,m),"fakeround"===A)for(var z=Math.round(180*w/Math.PI/20),R=1;R<z;R++){var D=R/z;if(.5!==D){var L=D-.5;D+=D*L*(D-1)*((1.0904+b*(b*(3.55645-1.43519*b)-3.2452))*L*L+(.848013+b*(.215638*b-1.06021)))}var j=p.sub(h)._mult(D)._add(h)._unit()._mult(E?-1:1);this.addHalfVertex(c,j.x,j.y,!1,E,0,m)}d&&this.addCurrentVertex(c,p,-P,-O,m)}else if("butt"===A)this.addCurrentVertex(c,g,0,0,m);else if("square"===A){var F=f?1:-1;f||this.addCurrentVertex(c,g,F,F,m),this.addCurrentVertex(c,g,0,0,m),f&&this.addCurrentVertex(c,g,F,F,m)}else"round"===A&&(f&&(this.addCurrentVertex(c,h,0,0,m),this.addCurrentVertex(c,h,1,1,m,!0)),d&&(this.addCurrentVertex(c,p,-1,-1,m,!0),this.addCurrentVertex(c,p,0,0,m)));if(k&&y<l-1){var N=c.dist(d);if(N>2*v){var B=c.add(d.sub(c)._mult(v/N)._round());this.updateDistance(c,B),this.addCurrentVertex(B,p,0,0,m),c=B}}}}}},{key:"addCurrentVertex",value:function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,i,!1,r,o),this.addHalfVertex(e,a,s,i,!0,-n,o)}},{key:"addHalfVertex",value:function(e,t,r,n,o,i,a){var s=e.x,l=e.y;this.layoutVertexArray.emplaceBack((s<<1)+(n?1:0),(l<<1)+(o?1:0),Math.round(63*t)+128,Math.round(63*r)+128,1+(0===i?0:i<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),o?this.e2=u:this.e1=u}},{key:"updateScaledDistance",value:function(){if(this.lineClips){var e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}},{key:"updateDistance",value:function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}]),e}();xo(fc,"LineBucket",{omit:["layers","patternFeatures"]});var dc=new Di({"line-cap":new Pi(et.layout_line["line-cap"]),"line-join":new Pi(et.layout_line["line-join"]),"line-miter-limit":new Mi(et.layout_line["line-miter-limit"]),"line-round-limit":new Mi(et.layout_line["line-round-limit"]),"line-sort-key":new Pi(et.layout_line["line-sort-key"])}),hc={paint:new Di({"line-opacity":new Pi(et.paint_line["line-opacity"]),"line-color":new Pi(et.paint_line["line-color"]),"line-translate":new Mi(et.paint_line["line-translate"]),"line-translate-anchor":new Mi(et.paint_line["line-translate-anchor"]),"line-width":new Pi(et.paint_line["line-width"]),"line-gap-width":new Pi(et.paint_line["line-gap-width"]),"line-offset":new Pi(et.paint_line["line-offset"]),"line-blur":new Pi(et.paint_line["line-blur"]),"line-dasharray":new Oi(et.paint_line["line-dasharray"]),"line-pattern":new Oi(et.paint_line["line-pattern"]),"line-gradient":new Ri(et.paint_line["line-gradient"])}),layout:dc},pc=new(function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"possiblyEvaluate",value:function(e,t){return t=new xi(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),a(s(r.prototype),"possiblyEvaluate",this).call(this,e,t)}},{key:"evaluate",value:function(e,t,n,o){return t=R({},t,{zoom:Math.floor(t.zoom)}),a(s(r.prototype),"evaluate",this).call(this,e,t,n,o)}}]),r}(Pi))(hc.paint.properties["line-width"].specification);function vc(e,t){return t>0?t+2*e:e}pc.useIntegerZoom=!0;var mc=Bi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),yc=Bi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Bi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var gc=Bi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),bc=Bi([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Bi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var _c=Bi([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),xc=Bi([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Bi([{name:"triangle",components:3,type:"Uint16"}]),Bi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Bi([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Bi([{type:"Float32",name:"offsetX"}]),Bi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var wc=24,kc=128;function Ec(e,t){var r=t.expression;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new xi(e+1))};if("source"===r.kind)return{kind:"source"};for(var n=r.zoomStops,o=r.interpolationType,i=0;i<n.length&&n[i]<=e;)i++;for(var a=i=Math.max(0,i-1);a<n.length&&n[a]<e+1;)a++;a=Math.min(n.length-1,a);var s=n[i],l=n[a];return"composite"===r.kind?{kind:"composite",minZoom:s,maxZoom:l,interpolationType:o}:{kind:"camera",minZoom:s,maxZoom:l,minSize:r.evaluate(new xi(s)),maxSize:r.evaluate(new xi(l)),interpolationType:o}}function Tc(e,t,r){var n=t.uSize,o=t.uSizeT,i=r.lowerSize,a=r.upperSize;return"source"===e.kind?i/kc:"composite"===e.kind?mr(i/kc,a/kc,o):n}function Sc(e,t){var r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){var o=e.interpolationType,i=e.minZoom,a=e.maxZoom,s=o?I(Dr.interpolationFactor(o,t,i,a),0,1):0;"camera"===e.kind?n=mr(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var Cc=Object.freeze({__proto__:null,getSizeData:Ec,evaluateSizeForFeature:Tc,evaluateSizeForZoom:Sc,SIZE_PACK_FACTOR:kc});function Ac(e,t,r){return e.sections.forEach((function(e){e.text=function(e,t,r){var n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),_i.applyArabicShaping&&(e=_i.applyArabicShaping(e)),e}(e.text,t,r)})),e}var Ic={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};function Mc(e){return"\ufe36"===e||"\ufe48"===e||"\ufe38"===e||"\ufe44"===e||"\ufe42"===e||"\ufe3e"===e||"\ufe3c"===e||"\ufe3a"===e||"\ufe18"===e||"\ufe40"===e||"\ufe10"===e||"\ufe13"===e||"\ufe14"===e||"\uff40"===e||"\uffe3"===e||"\ufe11"===e||"\ufe12"===e}function Pc(e){return"\ufe35"===e||"\ufe47"===e||"\ufe37"===e||"\ufe43"===e||"\ufe41"===e||"\ufe3d"===e||"\ufe3b"===e||"\ufe39"===e||"\ufe17"===e||"\ufe3f"===e}var Oc=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,c=-7,f=r?o-1:0,d=r?-1:1,h=e[t+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=u}return(h?-1:1)*a*Math.pow(2,i-n)},zc=function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+f>=1?d/l:d*Math.pow(2,1-f))*l>=2&&(a++,l/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*l-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+h]=255&a,h+=p,a/=256,u-=8);e[r+h-p]|=128*v},Rc=Dc;function Dc(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Dc.Varint=0,Dc.Fixed64=1,Dc.Bytes=2,Dc.Fixed32=5;var Lc=4294967296,jc=1/Lc,Fc="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Nc(e){return e.type===Dc.Bytes?e.readVarint()+e.pos:e.pos+1}function Bc(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Vc(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var o=r.pos-1;o>=e;o--)r.buf[o+n]=r.buf[o]}function Uc(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Gc(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function qc(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Wc(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function Zc(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Hc(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Xc(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function $c(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Kc(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Yc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Jc(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function Qc(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function ef(e,t,r){t.glyphs=[],1===e&&r.readMessage(tf,t)}function tf(e,t,r){if(3===e){var n=r.readMessage(rf,{}),o=n.id,i=n.bitmap,a=n.width,s=n.height,l=n.left,u=n.top,c=n.advance;t.glyphs.push({id:o,bitmap:new ql({width:a+6,height:s+6},i),metrics:{width:a,height:s,left:l,top:u,advance:c}})}else 4===e?t.ascender=r.readSVarint():5===e&&(t.descender=r.readSVarint())}function rf(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function nf(e){var t,r=0,n=0,o=d(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;r+=i.w*i.h,n=Math.max(n,i.w)}}catch(m){o.e(m)}finally{o.f()}e.sort((function(e,t){return t.h-e.h}));var a,s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(r/.95)),n),h:1/0}],l=0,u=0,c=d(e);try{for(c.s();!(a=c.n()).done;)for(var f=a.value,h=s.length-1;h>=0;h--){var p=s[h];if(!(f.w>p.w||f.h>p.h)){if(f.x=p.x,f.y=p.y,u=Math.max(u,f.y+f.h),l=Math.max(l,f.x+f.w),f.w===p.w&&f.h===p.h){var v=s.pop();h<s.length&&(s[h]=v)}else f.h===p.h?(p.x+=f.w,p.w-=f.w):f.w===p.w?(p.y+=f.h,p.h-=f.h):(s.push({x:p.x+f.w,y:p.y,w:p.w-f.w,h:f.h}),p.y+=f.h,p.h-=f.h);break}}}catch(m){c.e(m)}finally{c.f()}return{w:l,h:u,fill:r/(l*u)||0}}Dc.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),o=n>>3,i=this.pos;this.type=7&n,e(o,t,this),this.pos===i&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Yc(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Qc(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Yc(this.buf,this.pos)+Yc(this.buf,this.pos+4)*Lc;return this.pos+=8,e},readSFixed64:function(){var e=Yc(this.buf,this.pos)+Qc(this.buf,this.pos+4)*Lc;return this.pos+=8,e},readFloat:function(){var e=Oc(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Oc(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,o,i=r.buf;if(n=(112&(o=i[r.pos++]))>>4,o<128)return Bc(e,n,t);if(n|=(127&(o=i[r.pos++]))<<3,o<128)return Bc(e,n,t);if(n|=(127&(o=i[r.pos++]))<<10,o<128)return Bc(e,n,t);if(n|=(127&(o=i[r.pos++]))<<17,o<128)return Bc(e,n,t);if(n|=(127&(o=i[r.pos++]))<<24,o<128)return Bc(e,n,t);if(n|=(1&(o=i[r.pos++]))<<31,o<128)return Bc(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Fc?function(e,t,r){return Fc.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",o=t;o<r;){var i,a,s,l=e[o],u=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c>r)break;1===c?l<128&&(u=l):2===c?128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===c?(a=e[o+2],128==(192&(i=e[o+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&i)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[o+2],s=e[o+3],128==(192&(i=e[o+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),o+=c}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Dc.Bytes)return e.push(this.readVarint(t));var r=Nc(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Dc.Bytes)return e.push(this.readSVarint());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Dc.Bytes)return e.push(this.readBoolean());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Dc.Bytes)return e.push(this.readFloat());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Dc.Bytes)return e.push(this.readDouble());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Dc.Bytes)return e.push(this.readFixed32());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Dc.Bytes)return e.push(this.readSFixed32());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Dc.Bytes)return e.push(this.readFixed64());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Dc.Bytes)return e.push(this.readSFixed64());var t=Nc(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Dc.Varint)for(;this.buf[this.pos++]>127;);else if(t===Dc.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Dc.Fixed32)this.pos+=4;else{if(t!==Dc.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Jc(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Jc(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Jc(this.buf,-1&e,this.pos),Jc(this.buf,Math.floor(e*jc),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Jc(this.buf,-1&e,this.pos),Jc(this.buf,Math.floor(e*jc),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,o,i=0;i<t.length;i++){if((n=t.charCodeAt(i))>55295&&n<57344){if(!o){n>56319||i+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):o=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(e[r++]=239,e[r++]=191,e[r++]=189,o=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Vc(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),zc(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),zc(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Vc(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,Dc.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Uc,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Gc,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Zc,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,qc,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Wc,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Hc,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Xc,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,$c,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Kc,t)},writeBytesField:function(e,t){this.writeTag(e,Dc.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Dc.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Dc.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Dc.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Dc.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Dc.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Dc.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Dc.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Dc.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Dc.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var of=function(){function e(t,r){var n=r.pixelRatio,o=r.version,i=r.stretchX,a=r.stretchY,s=r.content;m(this,e),this.paddedRect=t,this.pixelRatio=n,this.stretchX=i,this.stretchY=a,this.content=s,this.version=o}return y(e,[{key:"tl",get:function(){return[this.paddedRect.x+1,this.paddedRect.y+1]}},{key:"br",get:function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}},{key:"displaySize",get:function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}]),e}(),af=function(){function e(t,r){m(this,e);var n={},o={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,n,i),this.addImages(r,o,i);var a=nf(i),s=a.w,l=a.h,u=new Wl({width:s||1,height:l||1});for(var c in t){var f=t[c],d=n[c].paddedRect;Wl.copy(f.data,u,{x:0,y:0},{x:d.x+1,y:d.y+1},f.data)}for(var h in r){var p=r[h],v=o[h].paddedRect,y=v.x+1,g=v.y+1,b=p.data.width,_=p.data.height;Wl.copy(p.data,u,{x:0,y:0},{x:y,y:g},p.data),Wl.copy(p.data,u,{x:0,y:_-1},{x:y,y:g-1},{width:b,height:1}),Wl.copy(p.data,u,{x:0,y:0},{x:y,y:g+_},{width:b,height:1}),Wl.copy(p.data,u,{x:b-1,y:0},{x:y-1,y:g},{width:1,height:_}),Wl.copy(p.data,u,{x:0,y:0},{x:y+b,y:g},{width:1,height:_})}this.image=u,this.iconPositions=n,this.patternPositions=o}return y(e,[{key:"addImages",value:function(e,t,r){for(var n in e){var o=e[n],i={x:0,y:0,w:o.data.width+2,h:o.data.height+2};r.push(i),t[n]=new of(i,o),o.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}},{key:"patchUpdatedImages",value:function(e,t){for(var r in this.haveRenderCallbacks=this.haveRenderCallbacks.filter((function(t){return e.hasImage(t)})),e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}},{key:"patchUpdatedImage",value:function(e,t,r){if(e&&t&&e.version!==t.version){e.version=t.version;var n=f(e.tl,2),o=n[0],i=n[1];r.update(t.data,void 0,{x:o,y:i})}}}]),e}();xo(of,"ImagePosition"),xo(af,"ImageAtlas");var sf={horizontal:1,vertical:2,horizontalOnly:3},lf=function(){function e(){m(this,e),this.scale=1,this.fontStack="",this.imageName=null}return y(e,null,[{key:"forText",value:function(t,r){var n=new e;return n.scale=t||1,n.fontStack=r,n}},{key:"forImage",value:function(t){var r=new e;return r.imageName=t,r}}]),e}(),uf=function(){function e(){m(this,e),this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}return y(e,[{key:"length",value:function(){return this.text.length}},{key:"getSection",value:function(e){return this.sections[this.sectionIndex[e]]}},{key:"getSections",value:function(){return this.sections}},{key:"getSectionIndex",value:function(e){return this.sectionIndex[e]}},{key:"getCharCode",value:function(e){return this.text.charCodeAt(e)}},{key:"verticalizePunctuation",value:function(e){this.text=function(e,t){for(var r="",n=0;n<e.length;n++){var o=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;r+=!t&&(o&&ii(o)&&!Ic[e[n+1]]||i&&ii(i)&&!Ic[e[n-1]])||!Ic[e[n]]?e[n]:Ic[e[n]]}return r}(this.text,e)}},{key:"trim",value:function(){for(var e=0,t=0;t<this.text.length&&ff[this.text.charCodeAt(t)];t++)e++;for(var r=this.text.length,n=this.text.length-1;n>=0&&n>=e&&ff[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(e,r),this.sectionIndex=this.sectionIndex.slice(e,r)}},{key:"substring",value:function(t,r){var n=new e;return n.text=this.text.substring(t,r),n.sectionIndex=this.sectionIndex.slice(t,r),n.sections=this.sections,n}},{key:"toString",value:function(){return this.text}},{key:"getMaxScale",value:function(){var e=this;return this.sectionIndex.reduce((function(t,r){return Math.max(t,e.sections[r].scale)}),0)}},{key:"addTextSection",value:function(e,t){this.text+=e.text,this.sections.push(lf.forText(e.scale,e.fontStack||t));for(var r=this.sections.length-1,n=0;n<e.text.length;++n)this.sectionIndex.push(r)}},{key:"addImageSection",value:function(e){var t=e.image?e.image.name:"";if(0!==t.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(lf.forImage(t)),this.sectionIndex.push(this.sections.length-1)):Z("Reached maximum number of images 6401")}else Z("Can't add FormattedSection with an empty image.")}},{key:"getNextImageSectionCharCode",value:function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}],[{key:"fromFeature",value:function(t,r){for(var n=new e,o=0;o<t.sections.length;o++){var i=t.sections[o];i.image?n.addImageSection(i):n.addTextSection(i,r)}return n}}]),e}();function cf(e,t,r,n,o,i,a,s,l,u,c,f,h,p,v,m){var y,g=uf.fromFeature(e,o);f===sf.vertical&&g.verticalizePunctuation(h);var b=_i.processBidirectionalText,_=_i.processStyledBidirectionalText;if(b&&1===g.sections.length){y=[];var x,w=b(g.toString(),gf(g,u,i,t,n,p,v)),k=d(w);try{for(k.s();!(x=k.n()).done;){var E=x.value,T=new uf;T.text=E,T.sections=g.sections;for(var S=0;S<E.length;S++)T.sectionIndex.push(0);y.push(T)}}catch(R){k.e(R)}finally{k.f()}}else if(_){y=[];var C,A=_(g.text,g.sectionIndex,gf(g,u,i,t,n,p,v)),I=d(A);try{for(I.s();!(C=I.n()).done;){var M=C.value,P=new uf;P.text=M[0],P.sectionIndex=M[1],P.sections=g.sections,y.push(P)}}catch(R){I.e(R)}finally{I.f()}}else y=function(e,t){var r,n=[],o=e.text,i=0,a=d(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;n.push(e.substring(i,s)),i=s}}catch(R){a.e(R)}finally{a.f()}return i<o.length&&n.push(e.substring(i,o.length)),n}(g,gf(g,u,i,t,n,p,v));var O=[],z={positionedLines:O,text:g.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:f,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,r,n,o,i,a,s,l,u,c,f){var h,p=0,v=0,m=0,y="right"===s?1:"left"===s?0:.5,g=!1,b=d(o);try{for(b.s();!(h=b.n()).done;){var _,x=h.value.getSections(),w=d(x);try{for(w.s();!(_=w.n()).done;){var k=_.value;if(!k.imageName){var E=t[k.fontStack];if(E&&!(g=void 0!==E.ascender&&void 0!==E.descender))break}}}catch(R){w.e(R)}finally{w.f()}if(!g)break}}catch(R){b.e(R)}finally{b.f()}var T,S,C=0,A=d(o);try{for(A.s();!(T=A.n()).done;){var I=T.value;I.trim();var M=I.getMaxScale(),P=(M-1)*wc,O={positionedGlyphs:[],lineOffset:0};e.positionedLines[C]=O;var z=O.positionedGlyphs,D=0;if(I.length()){for(var L=0,j=0,F=0;F<I.length();F++){var N=I.getSection(F),B=I.getSectionIndex(F),V=I.getCharCode(F),U=N.scale,G=null,q=null,W=null,Z=wc,H=0,X=!(l===sf.horizontal||!c&&!oi(V)||c&&(ff[V]||(S=V,Ao(S)||Io(S)||Mo(S)||$o(S)||Qo(S))));if(N.imageName){var $=n[N.imageName];if(!$)continue;W=N.imageName,e.iconsInText=e.iconsInText||!0,q=$.paddedRect;var K=$.displaySize;U=U*wc/f,G={width:K[0],height:K[1],left:1,top:-3,advance:X?K[1]:K[0],localGlyph:!1},H=g?-G.height*U:M*wc-17-K[1]*U,Z=G.advance;var Y=(X?K[0]:K[1])*U-wc*M;Y>0&&Y>D&&(D=Y)}else{var J=r[N.fontStack];if(!J)continue;J[V]&&(q=J[V]);var Q=t[N.fontStack];if(!Q)continue;var ee=Q.glyphs[V];if(!ee)continue;if(G=ee.metrics,Z=8203!==V?wc:0,g){var te=void 0!==Q.ascender?Math.abs(Q.ascender):0,re=void 0!==Q.descender?Math.abs(Q.descender):0,ne=(te+re)*U;L<ne&&(L=ne,j=(te-re)/2*U),H=-te*U}else H=(M-U)*wc-17}X?(e.verticalizable=!0,z.push({glyph:V,imageName:W,x:p,y:v+H,vertical:X,scale:U,localGlyph:G.localGlyph,fontStack:N.fontStack,sectionIndex:B,metrics:G,rect:q}),p+=Z*U+u):(z.push({glyph:V,imageName:W,x:p,y:v+H,vertical:X,scale:U,localGlyph:G.localGlyph,fontStack:N.fontStack,sectionIndex:B,metrics:G,rect:q}),p+=G.advance*U+u)}0!==z.length&&(m=Math.max(p-u,m),g?_f(z,y,D,j,i*M/2):_f(z,y,D,0,i/2)),p=0;var oe=i*M+D;O.lineOffset=Math.max(D,P),v+=oe,++C}else v+=i,++C}}catch(R){A.e(R)}finally{A.f()}var ie=v,ae=bf(a),se=ae.horizontalAlign,le=ae.verticalAlign;(function(e,t,r,n,o,i){var a,s=(t-r)*o,l=-i*n,u=d(e);try{for(u.s();!(a=u.n()).done;){var c,f=a.value,h=d(f.positionedGlyphs);try{for(h.s();!(c=h.n()).done;){var p=c.value;p.x+=s,p.y+=l}}catch(R){h.e(R)}finally{h.f()}}}catch(R){u.e(R)}finally{u.f()}})(e.positionedLines,y,se,le,m,ie),e.top+=-le*ie,e.bottom=e.top+ie,e.left+=-se*m,e.right=e.left+m,e.hasBaseline=g}(z,t,r,n,y,a,s,l,f,u,h,m),!function(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;)if(0!==t.value.positionedGlyphs.length)return!1}catch(R){r.e(R)}finally{r.f()}return!0}(O)&&z}var ff={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},df={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function hf(e,t,r,n,o,i){if(t.imageName){var a=n[t.imageName];return a?a.displaySize[0]*t.scale*wc/i+o:0}var s=r[t.fontStack],l=s&&s.glyphs[e];return l?l.metrics.advance*t.scale+o:0}function pf(e,t,r,n){var o=Math.pow(e-t,2);return n?e<t?o/2:2*o:o+Math.abs(r)*r}function vf(e,t,r){var n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function mf(e,t,r,n,o,i){var a,s=null,l=pf(t,r,o,i),u=d(n);try{for(u.s();!(a=u.n()).done;){var c=a.value,f=pf(t-c.x,r,o,i)+c.badness;f<=l&&(s=c,l=f)}}catch(h){u.e(h)}finally{u.f()}return{index:e,x:t,priorBreak:s,badness:l}}function yf(e){return e?yf(e.priorBreak).concat(e.index):[]}function gf(e,t,r,n,o,i,a){if("point"!==i)return[];if(!e)return[];for(var s,l=[],u=function(e,t,r,n,o,i){for(var a=0,s=0;s<e.length();s++){var l=e.getSection(s);a+=hf(e.getCharCode(s),l,n,o,t,i)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,o,a),c=e.text.indexOf("\u200b")>=0,f=0,d=0;d<e.length();d++){var h=e.getSection(d),p=e.getCharCode(d);if(ff[p]||(f+=hf(p,h,n,o,t,a)),d<e.length()-1){var v=!((s=p)<11904||!(Fo(s)||jo(s)||Yo(s)||Xo(s)||Uo(s)||Po(s)||No(s)||Ro(s)||Go(s)||qo(s)||Vo(s)||ei(s)||Do(s)||zo(s)||Oo(s)||Bo(s)||Lo(s)||Ko(s)||Zo(s)||Wo(s)));(df[p]||v||h.imageName)&&l.push(mf(d+1,f,u,l,vf(p,e.getCharCode(d+1),v&&c),!1))}}return yf(mf(e.length(),f,u,l,0,!0))}function bf(e){var t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function _f(e,t,r,n,o){if(t||r||n||o)for(var i=e.length-1,a=e[i],s=(a.x+a.metrics.advance*a.scale)*t,l=0;l<=i;l++)e[l].x-=s,e[l].y+=r+n+o}function xf(e,t,r){var n=bf(r),o=n.horizontalAlign,i=n.verticalAlign,a=t[0]-e.displaySize[0]*o,s=t[1]-e.displaySize[1]*i;return{image:e,top:s,bottom:s+e.displaySize[1],left:a,right:a+e.displaySize[0]}}function wf(e,t,r,n,o,i){var a,s=e.image;if(s.content){var l=s.content,u=s.pixelRatio||1;a=[l[0]/u,l[1]/u,s.displaySize[0]-l[2]/u,s.displaySize[1]-l[3]/u]}var c,f,d,h,p=t.left*i,v=t.right*i;"width"===r||"both"===r?(h=o[0]+p-n[3],f=o[0]+v+n[1]):f=(h=o[0]+(p+v-s.displaySize[0])/2)+s.displaySize[0];var m=t.top*i,y=t.bottom*i;return"height"===r||"both"===r?(c=o[1]+m-n[0],d=o[1]+y+n[2]):d=(c=o[1]+(m+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:f,bottom:d,left:h,collisionPadding:a}}var kf=function(e){p(r,e);var t=v(r);function r(e,n,o,i,a){var s;return m(this,r),(s=t.call(this,e,n)).angle=i,s.z=o,void 0!==a&&(s.segment=a),s}return y(r,[{key:"clone",value:function(){return new r(this.x,this.y,this.z,this.angle,this.segment)}}]),r}(g);function Ef(e,t,r,n,o){if(void 0===t.segment)return!0;for(var i=t,a=t.segment+1,s=0;s>-r/2;){if(--a<0)return!1;s-=e[a].dist(i),i=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<r/2;){var c=e[a],f=e[a+1];if(!f)return!1;var d=e[a-1].angleTo(c)-c.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>n;)u-=l.shift().angleDelta;if(u>o)return!1;a++,s+=c.dist(f)}return!0}function Tf(e){for(var t=0,r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function Sf(e,t,r){return e?.6*t*r:0}function Cf(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Af(e,t,r,n,o,i){for(var a=Sf(r,o,i),s=Cf(r,n)*i,l=0,u=Tf(e)/2,c=0;c<e.length-1;c++){var f=e[c],d=e[c+1],h=f.dist(d);if(l+h>u){var p=(u-l)/h,v=mr(f.x,d.x,p),m=mr(f.y,d.y,p),y=new kf(v,m,0,d.angleTo(f),c);return!a||Ef(e,y,s,a,t)?y:void 0}l+=h}}function If(e,t,r,n,o,i,a,s,l){var u=Sf(n,i,a),c=Cf(n,o),f=c*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-f<t/4&&(t=f+t/4),Mf(e,d?t/2*s%t:(c/2+2*i)*a*s%t,t,u,r,f,d,!1,l)}function Mf(e,t,r,n,o,i,a,s,l){for(var u=i/2,c=Tf(e),f=0,d=t-r,h=[],p=0;p<e.length-1;p++){for(var v=e[p],m=e[p+1],y=v.dist(m),g=m.angleTo(v);d+r<f+y;){var b=((d+=r)-f)/y,_=mr(v.x,m.x,b),x=mr(v.y,m.y,b);if(_>=0&&_<l&&x>=0&&x<l&&d-u>=0&&d+u<=c){var w=new kf(_,x,0,g,p);w._round(),n&&!Ef(e,w,i,n,o)||h.push(w)}}f+=y}return s||h.length||a||(h=Mf(e,f/2,r,n,o,i,a,!0,l)),h}function Pf(e,t,r,n,o){for(var i=[],a=0;a<e.length;a++)for(var s=e[a],l=void 0,u=0;u<s.length-1;u++){var c=s[u],f=s[u+1];c.x<t&&f.x<t||(c.x<t?c=new g(t,c.y+(t-c.x)/(f.x-c.x)*(f.y-c.y))._round():f.x<t&&(f=new g(t,c.y+(t-c.x)/(f.x-c.x)*(f.y-c.y))._round()),c.y<r&&f.y<r||(c.y<r?c=new g(c.x+(r-c.y)/(f.y-c.y)*(f.x-c.x),r)._round():f.y<r&&(f=new g(c.x+(r-c.y)/(f.y-c.y)*(f.x-c.x),r)._round()),c.x>=n&&f.x>=n||(c.x>=n?c=new g(n,c.y+(n-c.x)/(f.x-c.x)*(f.y-c.y))._round():f.x>=n&&(f=new g(n,c.y+(n-c.x)/(f.x-c.x)*(f.y-c.y))._round()),c.y>=o&&f.y>=o||(c.y>=o?c=new g(c.x+(o-c.y)/(f.y-c.y)*(f.x-c.x),o)._round():f.y>=o&&(f=new g(c.x+(o-c.y)/(f.y-c.y)*(f.x-c.x),o)._round()),l&&c.equals(l[l.length-1])||(l=[c],i.push(l)),l.push(f)))))}return i}xo(kf,"Anchor");var Of=1e20;function zf(e,t,r,n,o,i,a,s,l){for(var u=t;u<t+n;u++)Rf(e,r*i+u,i,o,a,s,l);for(var c=r;c<r+o;c++)Rf(e,c*i+t,1,n,a,s,l)}function Rf(e,t,r,n,o,i,a){i[0]=0,a[0]=-Of,a[1]=Of,o[0]=e[t];for(var s=1,l=0,u=0;s<n;s++){o[s]=e[t+s*r];var c=s*s;do{var f=i[l];u=(o[s]-o[f]+c-f*f)/(s-f)/2}while(u<=a[l]&&--l>-1);i[++l]=s,a[l]=u,a[l+1]=Of}for(var d=0,h=0;d<n;d++){for(;a[h+1]<d;)h++;var p=i[h],v=d-p;e[t+d*r]=o[p]+v*v}}var Df={none:0,ideographs:1,all:2},Lf=function(){function e(t,r,n){m(this,e),this.requestManager=t,this.localGlyphMode=r,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}return y(e,[{key:"setURL",value:function(e){this.url=e}},{key:"getGlyphs",value:function(t,r){var n=this,o=[];for(var i in t){var a,s=d(t[i]);try{for(s.s();!(a=s.n()).done;){var l=a.value;o.push({stack:i,id:l})}}catch(u){s.e(u)}finally{s.f()}}O(o,(function(t,r){var o=t.stack,i=t.id,a=n.entries[o];a||(a=n.entries[o]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});var s=a.glyphs[i];if(void 0===s){if(s=n._tinySDF(a,o,i))return a.glyphs[i]=s,void r(null,{stack:o,id:i,glyph:s});var l=Math.floor(i/256);if(256*l>65535)r(new Error("glyphs > 65535 not supported"));else if(a.ranges[l])r(null,{stack:o,id:i,glyph:s});else{var c=a.requests[l];c||(c=a.requests[l]=[],e.loadGlyphRange(o,l,n.url,n.requestManager,(function(e,t){if(t){for(var r in a.ascender=t.ascender,a.descender=t.descender,t.glyphs)n._doesCharSupportLocalGlyph(+r)||(a.glyphs[+r]=t.glyphs[+r]);a.ranges[l]=!0}var o,i=d(c);try{for(i.s();!(o=i.n()).done;)(0,o.value)(e,t)}catch(u){i.e(u)}finally{i.f()}delete a.requests[l]}))),c.push((function(e,t){e?r(e):t&&r(null,{stack:o,id:i,glyph:t.glyphs[i]||null})}))}}else r(null,{stack:o,id:i,glyph:s})}),(function(e,t){if(e)r(e);else if(t){var o,i={},a=d(t);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.stack,c=s.id,f=s.glyph;void 0===i[l]&&(i[l]={}),void 0===i[l].glyphs&&(i[l].glyphs={}),i[l].glyphs[c]=f&&{id:f.id,bitmap:f.bitmap.clone(),metrics:f.metrics},i[l].ascender=n.entries[l].ascender,i[l].descender=n.entries[l].descender}}catch(u){a.e(u)}finally{a.f()}r(null,i)}}))}},{key:"_doesCharSupportLocalGlyph",value:function(e){return this.localGlyphMode!==Df.none&&(this.localGlyphMode===Df.all?!!this.localFontFamily:!!this.localFontFamily&&(qo(e)||Ho(e)||Do(e)||Lo(e)||Ro(e)))}},{key:"_tinySDF",value:function(t,r,n){var o=this.localFontFamily;if(o&&this._doesCharSupportLocalGlyph(n)){var i=t.tinySDF;if(!i){var a="400";/bold/i.test(r)?a="900":/medium/i.test(r)?a="500":/light/i.test(r)&&(a="200"),(i=t.tinySDF=new e.TinySDF({fontFamily:o,fontWeight:a,fontSize:48,buffer:6,radius:16})).fontWeight=a}if(this.localGlyphs[i.fontWeight][n])return this.localGlyphs[i.fontWeight][n];var s=String.fromCharCode(n),l=i.draw(s),u=l.data,c=l.width,f=l.height,d=l.glyphWidth,h=l.glyphHeight,p=l.glyphLeft,v=l.glyphTop,m=l.glyphAdvance;return this.localGlyphs[i.fontWeight][n]={id:n,bitmap:new ql({width:c,height:f},u),metrics:{width:d/2,height:h/2,left:p/2,top:v/2-27,advance:m/2,localGlyph:!0}}}}}]),e}();function jf(e,t,r,n){var o=[],i=e.image,a=i.pixelRatio,s=i.paddedRect.w-2,l=i.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,f=i.stretchX||[[0,s]],d=i.stretchY||[[0,l]],h=function(e,t){return e+t[1]-t[0]},p=f.reduce(h,0),v=d.reduce(h,0),m=s-p,y=l-v,b=0,_=p,x=0,w=v,k=0,E=m,T=0,S=y;if(i.content&&n){var C=i.content;b=Ff(f,0,C[0]),x=Ff(d,0,C[1]),_=Ff(f,C[0],C[2]),w=Ff(d,C[1],C[3]),k=C[0]-b,T=C[1]-x,E=C[2]-C[0]-_,S=C[3]-C[1]-w}var A=function(n,o,s,l){var f=Bf(n.stretch-b,_,u,e.left),d=Vf(n.fixed-k,E,n.stretch,p),h=Bf(o.stretch-x,w,c,e.top),m=Vf(o.fixed-T,S,o.stretch,v),y=Bf(s.stretch-b,_,u,e.left),C=Vf(s.fixed-k,E,s.stretch,p),A=Bf(l.stretch-x,w,c,e.top),I=Vf(l.fixed-T,S,l.stretch,v),M=new g(f,h),P=new g(y,h),O=new g(y,A),z=new g(f,A),R=new g(d/a,m/a),D=new g(C/a,I/a),L=t*Math.PI/180;if(L){var j=Math.sin(L),F=Math.cos(L),N=[F,-j,j,F];M._matMult(N),P._matMult(N),z._matMult(N),O._matMult(N)}var B=n.stretch+n.fixed,V=o.stretch+o.fixed;return{tl:M,tr:P,bl:z,br:O,tex:{x:i.paddedRect.x+1+B,y:i.paddedRect.y+1+V,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-V},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:D,minFontScaleX:E/a/u,minFontScaleY:S/a/c,isSDF:r}};if(n&&(i.stretchX||i.stretchY))for(var I=Nf(f,m,p),M=Nf(d,y,v),P=0;P<I.length-1;P++)for(var O=I[P],z=I[P+1],R=0;R<M.length-1;R++)o.push(A(O,M[R],z,M[R+1]));else o.push(A({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return o}function Ff(e,t,r){var n,o=0,i=d(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;o+=Math.max(t,Math.min(r,a[1]))-Math.max(t,Math.min(r,a[0]))}}catch(s){i.e(s)}finally{i.f()}return o}function Nf(e,t,r){var n,o=[{fixed:-1,stretch:0}],i=d(e);try{for(i.s();!(n=i.n()).done;){var a=f(n.value,2),s=a[0],l=a[1],u=o[o.length-1];o.push({fixed:s-u.stretch,stretch:u.stretch}),o.push({fixed:s-u.stretch,stretch:u.stretch+(l-s)})}}catch(c){i.e(c)}finally{i.f()}return o.push({fixed:t+1,stretch:r}),o}function Bf(e,t,r,n){return e/t*r+n}function Vf(e,t,r,n){return e-t*r/n}function Uf(e,t,r,n){var o=t+e.positionedLines[n].lineOffset;return 0===n?r+o/2:r+(o+(t+e.positionedLines[n-1].lineOffset))/2}Lf.loadGlyphRange=function(e,t,r,n,o){var i=256*t,a=i+255,s=n.transformRequest(n.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}","".concat(i,"-").concat(a)),je.Glyphs);Ve(s,(function(e,t){if(e)o(e);else if(t){var r,n={},i=function(e){return new Rc(e).readFields(ef,{})}(t),a=d(i.glyphs);try{for(a.s();!(r=a.n()).done;){var s=r.value;n[s.id]=s}}catch(l){a.e(l)}finally{a.f()}o(null,{glyphs:n,ascender:i.ascender,descender:i.descender})}}))},Lf.TinySDF=function(){function e(t){var r=t.fontSize,n=void 0===r?24:r,o=t.buffer,i=void 0===o?3:o,a=t.radius,s=void 0===a?8:a,l=t.cutoff,u=void 0===l?.25:l,c=t.fontFamily,f=void 0===c?"sans-serif":c,d=t.fontWeight,h=void 0===d?"normal":d,p=t.fontStyle,v=void 0===p?"normal":p;m(this,e),this.buffer=i,this.cutoff=u,this.radius=s;var y=this.size=n+4*i,g=this._createCanvas(y),b=this.ctx=g.getContext("2d",{willReadFrequently:!0});b.font="".concat(v," ").concat(h," ").concat(n,"px ").concat(f),b.textBaseline="alphabetic",b.textAlign="left",b.fillStyle="black",this.gridOuter=new Float64Array(y*y),this.gridInner=new Float64Array(y*y),this.f=new Float64Array(y),this.z=new Float64Array(y+1),this.v=new Uint16Array(y)}return y(e,[{key:"_createCanvas",value:function(e){var t=document.createElement("canvas");return t.width=t.height=e,t}},{key:"draw",value:function(e){var t=this.ctx.measureText(e),r=t.width,n=t.actualBoundingBoxAscent,o=t.actualBoundingBoxDescent,i=t.actualBoundingBoxLeft,a=t.actualBoundingBoxRight,s=Math.floor(n),l=Math.min(this.size-this.buffer,Math.ceil(a-i)),u=Math.min(this.size-this.buffer,Math.ceil(n)+Math.ceil(o)),c=l+2*this.buffer,f=u+2*this.buffer,d=c*f,h=new Uint8ClampedArray(d),p={data:h,width:c,height:f,glyphWidth:l,glyphHeight:u,glyphTop:s,glyphLeft:0,glyphAdvance:r};if(0===l||0===u)return p;var v=this.ctx,m=this.buffer,y=this.gridInner,g=this.gridOuter;v.clearRect(m,m,l,u),v.fillText(e,m,m+s+1);var b=v.getImageData(m,m,l,u);g.fill(Of,0,d),y.fill(0,0,d);for(var _=0;_<u;_++)for(var x=0;x<l;x++){var w=b.data[4*(_*l+x)+3]/255;if(0!==w){var k=(_+m)*c+x+m;if(1===w)g[k]=0,y[k]=Of;else{var E=.5-w;g[k]=E>0?E*E:0,y[k]=E<0?E*E:0}}}zf(g,0,0,c,f,c,this.f,this.v,this.z),zf(y,m,m,l,u,c,this.f,this.v,this.z);for(var T=0;T<d;T++){var S=Math.sqrt(g[T])-Math.sqrt(y[T]);h[T]=Math.round(255-255*(S/this.radius+this.cutoff))}return p}}]),e}();var Gf=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qf;if(m(this,e),this.data=t,this.length=this.data.length,this.compare=r,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}return y(e,[{key:"push",value:function(e){this.data.push(e),this.length++,this._up(this.length-1)}},{key:"pop",value:function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}}},{key:"peek",value:function(){return this.data[0]}},{key:"_up",value:function(e){for(var t=this.data,r=this.compare,n=t[e];e>0;){var o=e-1>>1,i=t[o];if(r(n,i)>=0)break;t[e]=i,e=o}t[e]=n}},{key:"_down",value:function(e){for(var t=this.data,r=this.compare,n=this.length>>1,o=t[e];e<n;){var i=1+(e<<1),a=t[i],s=i+1;if(s<this.length&&r(t[s],a)<0&&(i=s,a=t[s]),r(a,o)>=0)break;t[e]=a,e=i}t[e]=o}}]),e}();function qf(e,t){return e<t?-1:e>t?1:0}function Wf(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=1/0,o=1/0,i=-1/0,a=-1/0,s=e[0],l=0;l<s.length;l++){var u=s[l];(!l||u.x<n)&&(n=u.x),(!l||u.y<o)&&(o=u.y),(!l||u.x>i)&&(i=u.x),(!l||u.y>a)&&(a=u.y)}var c=Math.min(i-n,a-o),f=c/2,d=new Gf([],Zf);if(0===c)return new g(n,o);for(var h=n;h<i;h+=c)for(var p=o;p<a;p+=c)d.push(new Hf(h+f,p+f,f,e));for(var v=function(e){for(var t=0,r=0,n=0,o=e[0],i=0,a=o.length,s=a-1;i<a;s=i++){var l=o[i],u=o[s],c=l.x*u.y-u.x*l.y;r+=(l.x+u.x)*c,n+=(l.y+u.y)*c,t+=3*c}return new Hf(r/t,n/t,0,e)}(e),m=d.length;d.length;){var y=d.pop();(y.d>v.d||!v.d)&&(v=y,r&&console.log("found best %d after %d probes",Math.round(1e4*y.d)/1e4,m)),y.max-v.d<=t||(f=y.h/2,d.push(new Hf(y.p.x-f,y.p.y-f,f,e)),d.push(new Hf(y.p.x+f,y.p.y-f,f,e)),d.push(new Hf(y.p.x-f,y.p.y+f,f,e)),d.push(new Hf(y.p.x+f,y.p.y+f,f,e)),m+=4)}return r&&(console.log("num probes: ".concat(m)),console.log("best distance: ".concat(v.d))),v.p}function Zf(e,t){return t.max-e.max}function Hf(e,t,r,n){this.p=new g(e,t),this.h=r,this.d=function(e,t){for(var r=!1,n=1/0,o=0;o<t.length;o++)for(var i=t[o],a=0,s=i.length,l=s-1;a<s;l=a++){var u=i[a],c=i[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(r=!r),n=Math.min(n,Us(e,u,c))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}var Xf=Number.POSITIVE_INFINITY,$f=Math.sqrt(2);function Kf(e,t){return t[1]!==Xf?function(e,t,r){var n=0,o=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":o=r-7;break;case"bottom-right":case"bottom-left":case"bottom":o=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,o]}(e,t[0],t[1]):function(e,t){var r=0,n=0;t<0&&(t=0);var o=t/$f;switch(e){case"top-right":case"top-left":n=o-7;break;case"bottom-right":case"bottom-left":n=7-o;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-o;break;case"top-left":case"bottom-left":r=o;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Yf(e,t,r,n,o,i,a,s,l,u){e.createArrays(),e.tilePixelRatio=fs/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var c=e.layers[0].layout,f=e.layers[0]._unevaluatedLayout._values,h={};if("composite"===e.textSizeData.kind){var p=e.textSizeData,v=p.minZoom,m=p.maxZoom;h.compositeTextSizes=[f["text-size"].possiblyEvaluate(new xi(v),s),f["text-size"].possiblyEvaluate(new xi(m),s)]}if("composite"===e.iconSizeData.kind){var y=e.iconSizeData,g=y.minZoom,b=y.maxZoom;h.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new xi(g),s),f["icon-size"].possiblyEvaluate(new xi(b),s)]}h.layoutTextSize=f["text-size"].possiblyEvaluate(new xi(l+1),s),h.layoutIconSize=f["icon-size"].possiblyEvaluate(new xi(l+1),s),h.textMaxSize=f["text-size"].possiblyEvaluate(new xi(18),s);var _,x="map"===c.get("text-rotation-alignment")&&"point"!==c.get("symbol-placement"),w=c.get("text-size"),k=d(e.features);try{var E=function(){var i=_.value,l=c.get("text-font").evaluate(i,{},s).join(","),f=w.evaluate(i,{},s),d=h.layoutTextSize.evaluate(i,{},s),p=(h.layoutIconSize.evaluate(i,{},s),{horizontal:{},vertical:void 0}),v=i.text,m=void 0,y=[0,0];if(v){var g=v.toString(),b=c.get("text-letter-spacing").evaluate(i,{},s)*wc,k=c.get("text-line-height").evaluate(i,{},s)*wc,E=ri(g)?b:0,T=c.get("text-anchor").evaluate(i,{},s),S=c.get("text-variable-anchor");if(!S){var C=c.get("text-radial-offset").evaluate(i,{},s);y=C?Kf(T,[C*wc,Xf]):c.get("text-offset").evaluate(i,{},s).map((function(e){return e*wc}))}var A=x?"center":c.get("text-justify").evaluate(i,{},s),I=c.get("symbol-placement"),M="point"===I,P="point"===I?c.get("text-max-width").evaluate(i,{},s)*wc:0,O=function(n){e.allowVerticalPlacement&&ti(g)&&(p.vertical=cf(v,t,r,o,l,P,k,T,n,E,y,sf.vertical,!0,I,d,f))};if(!x&&S){for(var z="auto"===A?S.map((function(e){return Jf(e)})):[A],R=!1,D=0;D<z.length;D++){var L=z[D];if(!p.horizontal[L])if(R)p.horizontal[L]=p.horizontal[0];else{var j=cf(v,t,r,o,l,P,k,"center",L,E,y,sf.horizontal,!1,I,d,f);j&&(p.horizontal[L]=j,R=1===j.positionedLines.length)}}O("left")}else{if("auto"===A&&(A=Jf(T)),M||c.get("text-writing-mode").indexOf("horizontal")>=0||!ti(g)){var F=cf(v,t,r,o,l,P,k,T,A,E,y,sf.horizontal,!1,I,d,f);F&&(p.horizontal[A]=F)}O("point"===I?"left":A)}}var N=!1;if(i.icon&&i.icon.name){var B=n[i.icon.name];B&&(m=xf(o[i.icon.name],c.get("icon-offset").evaluate(i,{},s),c.get("icon-anchor").evaluate(i,{},s)),N=B.sdf,void 0===e.sdfIcons?e.sdfIcons=B.sdf:e.sdfIcons!==B.sdf&&Z("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(B.pixelRatio!==e.pixelRatio||0!==c.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}var V=rd(p.horizontal)||p.vertical;e.iconsInText||(e.iconsInText=!!V&&V.iconsInText),(V||m)&&Qf(e,i,p,m,n,h,d,0,y,N,a,s,u)};for(k.s();!(_=k.n()).done;)E()}catch(T){k.e(T)}finally{k.f()}i&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Jf(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Qf(e,t,r,n,o,i,a,s,l,u,c,h,p){var v=i.textMaxSize.evaluate(t,{},h);void 0===v&&(v=a);var m,y,g=e.layers[0].layout,b=g.get("icon-offset").evaluate(t,{},h),_=rd(r.horizontal)||r.vertical,x=a/24,w=e.tilePixelRatio*v/24,E=(m=e.overscaling,e.zoom>18&&m>2&&(m>>=1),Math.max(fs/(512*m),1)*g.get("symbol-spacing")),T=g.get("text-padding")*e.tilePixelRatio,S=g.get("icon-padding")*e.tilePixelRatio,C=k(g.get("text-max-angle")),A="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),I="map"===g.get("icon-rotation-alignment")&&"point"!==g.get("symbol-placement"),M=g.get("symbol-placement"),P=E/2,O=g.get("icon-text-fit");n&&"none"!==O&&(e.allowVerticalPlacement&&r.vertical&&(y=wf(n,r.vertical,O,g.get("icon-text-fit-padding"),b,x)),_&&(n=wf(n,_,O,g.get("icon-text-fit-padding"),b,x)));var z=function(a,s,d){if(!(s.x<0||s.x>=fs||s.y<0||s.y>=fs)){var v=p.projectTilePoint(s.x,s.y,d),m=v.x,g=v.y,_=v.z,x=new kf(m,g,_,0,void 0);!function(e,t,r,n,o,i,a,s,l,u,c,d,h,p,v,m,y,g,b,_,x,w,k,E,T){var S,C,A,I,M,P,O,z,R,D=e.addToLineVertexArray(t,n),L=0,j=0,F=0,N=0,B=-1,V=-1,U={},G=Ra(""),q=0,W=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?(S=l.layout.get("text-offset").evaluate(x,{},T).map((function(e){return e*wc})),q=(C=f(S,2))[0],W=C[1]):(q=l.layout.get("text-radial-offset").evaluate(x,{},T)*wc,W=Xf),e.allowVerticalPlacement&&o.vertical){var H=o.vertical;if(v)z=od(H),s&&(R=od(s));else{var X=l.layout.get("text-rotate").evaluate(x,{},T)+90;M=nd(u,r,t,c,d,h,H,p,X,m),s&&(P=nd(u,r,t,c,d,h,s,g,X))}}if(i){var $=l.layout.get("icon-rotate").evaluate(x,{},T),K="none"!==l.layout.get("icon-text-fit"),Y=jf(i,$,k,K),J=s?jf(s,$,k,K):void 0;I=nd(u,r,t,c,d,h,i,g,$),L=4*Y.length;var Q=e.iconSizeData,ee=null;"source"===Q.kind?(ee=[kc*l.layout.get("icon-size").evaluate(x,{},T)])[0]>ed&&Z("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===Q.kind&&((ee=[kc*w.compositeIconSizes[0].evaluate(x,{},T),kc*w.compositeIconSizes[1].evaluate(x,{},T)])[0]>ed||ee[1]>ed)&&Z("".concat(e.layerIds[0],': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,Y,ee,_,b,x,!1,r,t,D.lineStartIndex,D.lineLength,-1,E,T),B=e.icon.placedSymbolArray.length-1,J&&(j=4*J.length,e.addSymbols(e.icon,J,ee,_,b,x,sf.vertical,r,t,D.lineStartIndex,D.lineLength,-1,E,T),V=e.icon.placedSymbolArray.length-1)}for(var te in o.horizontal){var re=o.horizontal[te];A||(G=Ra(re.text),v?O=od(re):A=nd(u,r,t,c,d,h,re,p,l.layout.get("text-rotate").evaluate(x,{},T),m));var ne=1===re.positionedLines.length;if(F+=td(e,r,t,re,a,l,v,x,m,D,o.vertical?sf.horizontal:sf.horizontalOnly,ne?Object.keys(o.horizontal):[te],U,B,w,E,T),ne)break}o.vertical&&(N+=td(e,r,t,o.vertical,a,l,v,x,m,D,sf.vertical,["vertical"],U,V,w,E,T));var oe=-1,ie=function(e,t){return e?Math.max(e,t):t};oe=ie(O,oe),oe=ie(z,oe);var ae=(oe=ie(R,oe))>-1?1:0;e.glyphOffsetArray.length>=hd.MAX_GLYPHS&&Z("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(r.x,r.y,r.z,t.x,t.y,U.right>=0?U.right:-1,U.center>=0?U.center:-1,U.left>=0?U.left:-1,U.vertical>=0?U.vertical:-1,B,V,G,void 0!==A?A:e.collisionBoxArray.length,void 0!==A?A+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,P||e.collisionBoxArray.length,P?P+1:e.collisionBoxArray.length,c,F,N,L,j,ae,0,q,W,oe)}(e,s,x,a,r,n,o,y,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,T,A,l,0,S,I,b,t,i,u,c,h)}};if("line"===M){var R,D=d(Pf(t.geometry,0,0,fs,fs));try{for(D.s();!(R=D.n()).done;){var L,j=R.value,F=If(j,E,C,r.vertical||_,n,24,w,e.overscaling,fs),N=d(F);try{for(N.s();!(L=N.n()).done;){var B=L.value;_&&id(e,_.text,P,B)||z(j,B,h)}}catch(ie){N.e(ie)}finally{N.f()}}}catch(ie){D.e(ie)}finally{D.f()}}else if("line-center"===M){var V,U=d(t.geometry);try{for(U.s();!(V=U.n()).done;){var G=V.value;if(G.length>1){var q=Af(G,C,r.vertical||_,n,24,w);q&&z(G,q,h)}}}catch(ie){U.e(ie)}finally{U.f()}}else if("Polygon"===t.type){var W,H=d(Au(t.geometry,0));try{for(H.s();!(W=H.n()).done;){var X=W.value,$=Wf(X,16);z(X[0],new kf($.x,$.y,0,0,void 0),h)}}catch(ie){H.e(ie)}finally{H.f()}}else if("LineString"===t.type){var K,Y=d(t.geometry);try{for(Y.s();!(K=Y.n()).done;){var J=K.value;z(J,new kf(J[0].x,J[0].y,0,0,void 0),h)}}catch(ie){Y.e(ie)}finally{Y.f()}}else if("Point"===t.type){var Q,ee=d(t.geometry);try{for(ee.s();!(Q=ee.n()).done;){var te,re=Q.value,ne=d(re);try{for(ne.s();!(te=ne.n()).done;){var oe=te.value;z([oe],new kf(oe.x,oe.y,0,0,void 0),h)}}catch(ie){ne.e(ie)}finally{ne.f()}}}catch(ie){ee.e(ie)}finally{ee.f()}}}var ed=32640;function td(e,t,r,n,o,a,s,l,u,f,h,p,v,m,y,b,_){var x=function(e,t,r,n,o,a,s,l){var u=[];if(0===t.positionedLines.length)return u;var f,h=n.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,p=function(e){var t=e[0],r=e[1],n=t*r;return n>0?[t,-r]:n<0?[-t,r]:0===t?[r,t]:[r,-t]}(r),v=Math.abs(t.top-t.bottom),m=d(t.positionedLines);try{for(m.s();!(f=m.n()).done;)v-=f.value.lineOffset}catch(ae){m.e(ae)}finally{m.f()}for(var y=t.positionedLines.length,b=v/y,_=t.top-r[1],x=0;x<y;++x){var w=t.positionedLines[x];_=Uf(t,b,_,x);var k,E=d(w.positionedGlyphs);try{for(E.s();!(k=E.n()).done;){var T=k.value;if(T.rect){var S=T.rect||{},C=4,A=!0,I=1,M=0;if(T.imageName){var P=s[T.imageName];if(!P)continue;if(P.sdf){Z("SDF images are not supported in formatted text and will be ignored.");continue}A=!1,C=1/(I=P.pixelRatio)}var O=(o||l)&&T.vertical,z=T.metrics.advance*T.scale/2,R=T.metrics,D=T.rect;if(null!==D){l&&t.verticalizable&&(M=T.imageName?z-T.metrics.width*T.scale/2:0);var L=o?[T.x+z,T.y]:[0,0],j=[0,0],F=[0,0],N=!1;o||(O?(F=[T.x+z+p[0],T.y+p[1]-M],N=!0):j=[T.x+z+r[0],T.y+r[1]-M]);var B=D.w*T.scale/(I*(T.localGlyph?2:1)),V=D.h*T.scale/(I*(T.localGlyph?2:1)),U=void 0,G=void 0,q=void 0,W=void 0;if(O){var H=T.y-_,X=new g(-z,z-H),$=-Math.PI/2,K=i(g,c(F));(U=new g(-z+j[0],j[1]))._rotateAround($,X)._add(K),U.x+=-H+z,U.y-=(R.left-C)*T.scale;var Y=T.imageName?R.advance*T.scale:wc*T.scale,J=String.fromCharCode(T.glyph);Mc(J)?U.x+=(1-C)*T.scale:Pc(J)?U.x+=Y-R.height*T.scale+(-C-1)*T.scale:U.x+=T.imageName||R.width+2*C===D.w&&R.height+2*C===D.h?(Y-V)/2:(Y-(R.height+2*C)*T.scale)/2,G=new g(U.x,U.y-B),q=new g(U.x+V,U.y),W=new g(U.x+V,U.y-B)}else{var Q=(R.left-C)*T.scale-z+j[0],ee=(-R.top-C)*T.scale+j[1],te=Q+B,re=ee+V;U=new g(Q,ee),G=new g(te,ee),q=new g(Q,re),W=new g(te,re)}if(h){var ne=void 0;ne=o?new g(0,0):N?new g(p[0],p[1]):new g(r[0],r[1]),U._rotateAround(h,ne),G._rotateAround(h,ne),q._rotateAround(h,ne),W._rotateAround(h,ne)}var oe=new g(0,0),ie=new g(0,0);u.push({tl:U,tr:G,bl:q,br:W,tex:S,writingMode:t.writingMode,glyphOffset:L,sectionIndex:T.sectionIndex,isSDF:A,pixelOffsetTL:oe,pixelOffsetBR:ie,minFontScaleX:0,minFontScaleY:0})}}}}catch(ae){E.e(ae)}finally{E.f()}}return u}(0,n,u,a,s,l,o,e.allowVerticalPlacement),w=e.textSizeData,k=null;"source"===w.kind?(k=[kc*a.layout.get("text-size").evaluate(l,{},_)])[0]>ed&&Z("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===w.kind&&((k=[kc*y.compositeTextSizes[0].evaluate(l,{},_),kc*y.compositeTextSizes[1].evaluate(l,{},_)])[0]>ed||k[1]>ed)&&Z("".concat(e.layerIds[0],': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,x,k,u,s,l,h,t,r,f.lineStartIndex,f.lineLength,m,b,_);var E,T=d(p);try{for(T.s();!(E=T.n()).done;)v[E.value]=e.text.placedSymbolArray.length-1}catch(S){T.e(S)}finally{T.f()}return 4*x.length}function rd(e){for(var t in e)return e[t];return null}function nd(e,t,r,n,o,i,a,s,l,u){var c=a.top,f=a.bottom,d=a.left,h=a.right,p=a.collisionPadding;if(p&&(d-=p[0],c-=p[1],h+=p[2],f+=p[3]),l){var v=new g(d,c),m=new g(h,c),y=new g(d,f),b=new g(h,f),_=k(l),x=new g(0,0);u&&(x=new g(u[0],u[1])),v._rotateAround(_,x),m._rotateAround(_,x),y._rotateAround(_,x),b._rotateAround(_,x),d=Math.min(v.x,m.x,y.x,b.x),h=Math.max(v.x,m.x,y.x,b.x),c=Math.min(v.y,m.y,y.y,b.y),f=Math.max(v.y,m.y,y.y,b.y)}return e.emplaceBack(t.x,t.y,t.z,r.x,r.y,d,c,h,f,s,n,o,i),e.length-1}function od(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);var t=e.bottom-e.top;return t>0?Math.max(10,t):null}function id(e,t,r,n){var o=e.compareText;if(t in o){for(var i=o[t],a=i.length-1;a>=0;a--)if(n.dist(i[a])<r)return!0}else o[t]=[];return o[t].push(n),!1}var ad=Hu.VectorTileFeature.types,sd=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ld(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v){var m=c?Math.min(ed,Math.round(c[0])):0,y=c?Math.min(ed,Math.round(c[1])):0;e.emplaceBack(t,r,Math.round(32*a),Math.round(32*s),l,u,(m<<1)+(f?1:0),y,16*d,16*h,256*p,256*v,n,o,i,0)}function ud(e,t,r){e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r),e.emplaceBack(t.x,t.y,r)}function cd(e){var t,r=d(e.sections);try{for(r.s();!(t=r.n()).done;)if(li(t.value.text))return!0}catch(n){r.e(n)}finally{r.f()}return!1}var fd=function(){function e(t){m(this,e),this.layoutVertexArray=new Ki,this.indexArray=new na,this.programConfigurations=t,this.segments=new cs,this.dynamicLayoutVertexArray=new Yi,this.opacityVertexArray=new Ji,this.placedSymbolArray=new ba}return y(e,[{key:"isEmpty",value:function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}},{key:"upload",value:function(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,mc.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,yc.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,sd,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}]),e}();xo(fd,"SymbolBuffers");var dd=function(){function e(t,r,n){m(this,e),this.layoutVertexArray=new t,this.layoutAttributes=r,this.indexArray=new n,this.segments=new cs,this.collisionVertexArray=new ra,this.collisionVertexArrayExt=new Yi}return y(e,[{key:"upload",value:function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,gc.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,bc.members,!0)}},{key:"destroy",value:function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}]),e}();xo(dd,"CollisionBuffers");var hd=function(){function e(t){m(this,e),this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=rl([]),this.placementViewportMatrix=rl([]);var r=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ec(this.zoom,r["text-size"]),this.iconSizeData=Ec(this.zoom,r["icon-size"]);var n=this.layers[0].layout,o=n.get("symbol-sort-key"),i=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==o.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map((function(e){return sf[e]})),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=t.sourceID,this.projection=t.projection}return y(e,[{key:"createArrays",value:function(){this.text=new fd(new es(this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new fd(new es(this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.glyphOffsetArray=new wa,this.lineVertexArray=new ka,this.symbolInstances=new xa}},{key:"calculateGlyphDependencies",value:function(e,t,r,n,o){for(var i=0;i<e.length;i++)if(t[e.charCodeAt(i)]=!0,n&&o){var a=Ic[e.charAt(i)];a&&(t[a.charCodeAt(0)]=!0)}}},{key:"populate",value:function(e,t,r,n){var o=this.layers[0],i=o.layout,a=i.get("text-font"),s=i.get("text-field"),l=i.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof Ct&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,f=i.get("symbol-sort-key");if(this.features=[],u||c){var h,p=t.iconDependencies,v=t.glyphDependencies,m=t.availableImages,y=new xi(this.zoom),g=d(e);try{for(g.s();!(h=g.n()).done;){var b=h.value,_=b.feature,x=b.id,w=b.index,k=b.sourceLayerIndex,E=o._featureFilter.needGeometry,T=Ps(_,E);if(o._featureFilter.filter(y,T,r)){var S=void 0,C=void 0;if(E||(T.geometry=Ms(_,r,n)),u){var A=o.getValueAndResolveTokens("text-field",T,r,m),I=Ct.factory(A);cd(I)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===gi()||this.hasRTLText&&_i.isParsed())&&(S=Ac(I,o,T))}if(c){var M=o.getValueAndResolveTokens("icon-image",T,r,m);C=M instanceof At?M:At.fromString(M)}if(S||C){var P=this.sortFeaturesByKey?f.evaluate(T,{},r):void 0;if(this.features.push({id:x,text:S,icon:C,index:w,sourceLayerIndex:k,geometry:T.geometry,properties:_.properties,type:ad[_.type],sortKey:P}),C&&(p[C.name]=!0),S){var O=a.evaluate(T,{},r).join(","),z="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(sf.vertical)>=0;var R,D=d(S.sections);try{for(D.s();!(R=D.n()).done;){var L=R.value;if(L.image)p[L.image.name]=!0;else{var j=ti(S.toString()),F=L.fontStack||O,N=v[F]=v[F]||{};this.calculateGlyphDependencies(L.text,N,z,this.allowVerticalPlacement,j)}}}catch(B){D.e(B)}finally{D.f()}}}}}}catch(B){g.e(B)}finally{g.f()}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},r={},n=[],o=0;function i(t){n.push(e[t]),o++}function a(e,t,o){var i=r[e];return delete r[e],r[t]=i,n[i].geometry[0].pop(),n[i].geometry[0]=n[i].geometry[0].concat(o[0]),i}function s(e,r,o){var i=t[r];return delete t[r],t[e]=i,n[i].geometry[0].shift(),n[i].geometry[0]=o[0].concat(n[i].geometry[0]),i}function l(e,t,r){var n=r?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(n.x,":").concat(n.y)}for(var u=0;u<e.length;u++){var c=e[u],f=c.geometry,d=c.text?c.text.toString():null;if(d){var h=l(d,f),p=l(d,f,!0);if(h in r&&p in t&&r[h]!==t[p]){var v=s(h,p,f),m=a(h,p,n[v].geometry);delete t[h],delete r[p],r[l(d,n[m].geometry,!0)]=m,n[v].geometry=null}else h in r?a(h,p,f):p in t?s(h,p,f):(i(u),t[h]=o-1,r[p]=o-1)}else i(u)}return n.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}}},{key:"update",value:function(e,t,r,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r,n))}},{key:"isEmpty",value:function(){return 0===this.symbolInstances.length&&!this.hasRTLText}},{key:"uploadPending",value:function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}},{key:"upload",value:function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}},{key:"destroyDebugData",value:function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}},{key:"destroy",value:function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}},{key:"addToLineVertexArray",value:function(e,t){var r=this.lineVertexArray.length,n=e.segment;if(void 0!==n){for(var o=e.dist(t[n+1]),i=e.dist(t[n]),a={},s=n+1;s<t.length;s++)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:o},s<t.length-1&&(o+=t[s+1].dist(t[s]));for(var l=n||0;l>=0;l--)a[l]={x:t[l].x,y:t[l].y,tileUnitDistanceFromAnchor:i},l>0&&(i+=t[l-1].dist(t[l]));for(var u=0;u<t.length;u++){var c=a[u];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}},{key:"addSymbols",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h){for(var p=e.indexArray,v=e.layoutVertexArray,m=e.segments.prepareSegment(4*t.length,v,p,this.canOverlap?i.sortKey:void 0),y=this.glyphOffsetArray.length,g=m.vertexLength,b=this.allowVerticalPlacement&&a===sf.vertical?Math.PI/2:0,_=i.text&&i.text.sections,x=0;x<t.length;x++){var w=t[x],k=w.tl,E=w.tr,T=w.bl,S=w.br,C=w.tex,A=w.pixelOffsetTL,I=w.pixelOffsetBR,M=w.minFontScaleX,P=w.minFontScaleY,O=w.glyphOffset,z=w.isSDF,R=w.sectionIndex,D=m.vertexLength,L=O[1];ld(v,s.x,s.y,s.z,l.x,l.y,k.x,L+k.y,C.x,C.y,r,z,A.x,A.y,M,P),ld(v,s.x,s.y,s.z,l.x,l.y,E.x,L+E.y,C.x+C.w,C.y,r,z,I.x,A.y,M,P),ld(v,s.x,s.y,s.z,l.x,l.y,T.x,L+T.y,C.x,C.y+C.h,r,z,A.x,I.y,M,P),ld(v,s.x,s.y,s.z,l.x,l.y,S.x,L+S.y,C.x+C.w,C.y+C.h,r,z,I.x,I.y,M,P),ud(e.dynamicLayoutVertexArray,s,b),p.emplaceBack(D,D+1,D+2),p.emplaceBack(D+1,D+2,D+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(O[0]),x!==t.length-1&&R===t[x+1].sectionIndex||e.programConfigurations.populatePaintArrays(v.length,i,i.index,{},d,h,_&&_[R])}e.placedSymbolArray.emplaceBack(s.x,s.y,s.z,l.x,l.y,y,this.glyphOffsetArray.length-y,g,u,c,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,f,0)}},{key:"_commitLayoutVertex",value:function(e,t,r,n,o,i,a){e.emplaceBack(t,r,n,o,i,Math.round(a.x),Math.round(a.y))}},{key:"_addCollisionDebugVertices",value:function(e,t,r,n,o,i,a){for(var s=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=s.vertexLength,u=a.tileAnchorX,c=a.tileAnchorY,f=0;f<4;f++)r.collisionVertexArray.emplaceBack(0,0,0,0);r.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),r.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(r.layoutVertexArray,n,o,i,u,c,new g(e.x1,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,o,i,u,c,new g(e.x2,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,o,i,u,c,new g(e.x2,e.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,o,i,u,c,new g(e.x1,e.y2)),s.vertexLength+=4;var d=r.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),s.primitiveLength+=4}},{key:"_addTextDebugCollisionBoxes",value:function(e,t,r,n,o,i){for(var a=n;a<o;a++){var s=r.get(a),l=this.getSymbolInstanceTextSize(e,i,t,a);this._addCollisionDebugVertices(s,l,this.textCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,i)}}},{key:"_addIconDebugCollisionBoxes",value:function(e,t,r,n,o,i){for(var a=n;a<o;a++){var s=r.get(a),l=this.getSymbolInstanceIconSize(e,t,a);this._addCollisionDebugVertices(s,l,this.iconCollisionBox,s.projectedAnchorX,s.projectedAnchorY,s.projectedAnchorZ,i)}}},{key:"generateCollisionDebugBuffers",value:function(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dd(ea,_c.members,ca),this.iconCollisionBox=new dd(ea,_c.members,ca);for(var r=Sc(this.iconSizeData,e),n=Sc(this.textSizeData,e),o=0;o<this.symbolInstances.length;o++){var i=this.symbolInstances.get(o);this._addTextDebugCollisionBoxes(n,e,t,i.textBoxStartIndex,i.textBoxEndIndex,i),this._addTextDebugCollisionBoxes(n,e,t,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i),this._addIconDebugCollisionBoxes(r,e,t,i.iconBoxStartIndex,i.iconBoxEndIndex,i),this._addIconDebugCollisionBoxes(r,e,t,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex,i)}}},{key:"getSymbolInstanceTextSize",value:function(e,t,r,n){var o=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),i=Tc(this.textSizeData,e,o)/wc;return this.tilePixelRatio*i}},{key:"getSymbolInstanceIconSize",value:function(e,t,r){var n=this.icon.placedSymbolArray.get(r),o=Tc(this.iconSizeData,e,n);return this.tilePixelRatio*o}},{key:"_commitDebugCollisionVertexUpdate",value:function(e,t,r){e.emplaceBack(t,-r,-r),e.emplaceBack(t,r,-r),e.emplaceBack(t,r,r),e.emplaceBack(t,-r,r)}},{key:"_updateTextDebugCollisionBoxes",value:function(e,t,r,n,o,i){for(var a=n;a<o;a++){var s=r.get(a),l=this.getSymbolInstanceTextSize(e,i,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,l,s.padding)}}},{key:"_updateIconDebugCollisionBoxes",value:function(e,t,r,n,o){for(var i=n;i<o;i++){var a=r.get(i),s=this.getSymbolInstanceIconSize(e,t,i);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,s,a.padding)}}},{key:"updateCollisionDebugBuffers",value:function(e,t){if(this.hasDebugData()){this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();for(var r=Sc(this.iconSizeData,e),n=Sc(this.textSizeData,e),o=0;o<this.symbolInstances.length;o++){var i=this.symbolInstances.get(o);this._updateTextDebugCollisionBoxes(n,e,t,i.textBoxStartIndex,i.textBoxEndIndex,i),this._updateTextDebugCollisionBoxes(n,e,t,i.verticalTextBoxStartIndex,i.verticalTextBoxEndIndex,i),this._updateIconDebugCollisionBoxes(r,e,t,i.iconBoxStartIndex,i.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(r,e,t,i.verticalIconBoxStartIndex,i.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}}},{key:"_deserializeCollisionBoxesForSymbol",value:function(e,t,r,n,o,i,a,s,l){for(var u={},c=t;c<r;c++){var f=e.get(c);u.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,padding:f.padding,projectedAnchorX:f.projectedAnchorX,projectedAnchorY:f.projectedAnchorY,projectedAnchorZ:f.projectedAnchorZ,tileAnchorX:f.tileAnchorX,tileAnchorY:f.tileAnchorY},u.textFeatureIndex=f.featureIndex;break}for(var d=n;d<o;d++){var h=e.get(d);u.verticalTextBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,padding:h.padding,projectedAnchorX:h.projectedAnchorX,projectedAnchorY:h.projectedAnchorY,projectedAnchorZ:h.projectedAnchorZ,tileAnchorX:h.tileAnchorX,tileAnchorY:h.tileAnchorY},u.verticalTextFeatureIndex=h.featureIndex;break}for(var p=i;p<a;p++){var v=e.get(p);u.iconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,padding:v.padding,projectedAnchorX:v.projectedAnchorX,projectedAnchorY:v.projectedAnchorY,projectedAnchorZ:v.projectedAnchorZ,tileAnchorX:v.tileAnchorX,tileAnchorY:v.tileAnchorY},u.iconFeatureIndex=v.featureIndex;break}for(var m=s;m<l;m++){var y=e.get(m);u.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,padding:y.padding,projectedAnchorX:y.projectedAnchorX,projectedAnchorY:y.projectedAnchorY,projectedAnchorZ:y.projectedAnchorZ,tileAnchorX:y.tileAnchorX,tileAnchorY:y.tileAnchorY},u.verticalIconFeatureIndex=y.featureIndex;break}return u}},{key:"deserializeCollisionBoxes",value:function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}}},{key:"hasTextData",value:function(){return this.text.segments.get().length>0}},{key:"hasIconData",value:function(){return this.icon.segments.get().length>0}},{key:"hasDebugData",value:function(){return this.textCollisionBox&&this.iconCollisionBox}},{key:"hasTextCollisionBoxData",value:function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}},{key:"hasIconCollisionBoxData",value:function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}},{key:"addIndicesForPlacedSymbol",value:function(e,t){for(var r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs,o=r.vertexStartIndex;o<n;o+=4)e.indexArray.emplaceBack(o,o+1,o+2),e.indexArray.emplaceBack(o+1,o+2,o+3)}},{key:"getSortedSymbolIndexes",value:function(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var t=Math.sin(e),r=Math.cos(e),n=[],o=[],i=[],a=0;a<this.symbolInstances.length;++a){i.push(a);var s=this.symbolInstances.get(a);n.push(0|Math.round(t*s.tileAnchorX+r*s.tileAnchorY)),o.push(s.featureIndex)}return i.sort((function(e,t){return n[e]-n[t]||o[t]-o[e]})),i}},{key:"addToSortKeyRanges",value:function(e,t){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}},{key:"sortFeatures",value:function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];var r,n=d(this.symbolInstanceIndexes);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.symbolInstances.get(o);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e,r,n){e>=0&&n.indexOf(e)===r&&t.addIndicesForPlacedSymbol(t.text,e)})),i.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}}catch(a){n.e(a)}finally{n.f()}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}]),e}();xo(hd,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),hd.MAX_GLYPHS=65535,hd.addDynamicAttributes=ud;var pd=new Di({"symbol-placement":new Mi(et.layout_symbol["symbol-placement"]),"symbol-spacing":new Mi(et.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mi(et.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Pi(et.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mi(et.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Mi(et.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Mi(et.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mi(et.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mi(et.layout_symbol["icon-rotation-alignment"]),"icon-size":new Pi(et.layout_symbol["icon-size"]),"icon-text-fit":new Mi(et.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Mi(et.layout_symbol["icon-text-fit-padding"]),"icon-image":new Pi(et.layout_symbol["icon-image"]),"icon-rotate":new Pi(et.layout_symbol["icon-rotate"]),"icon-padding":new Mi(et.layout_symbol["icon-padding"]),"icon-keep-upright":new Mi(et.layout_symbol["icon-keep-upright"]),"icon-offset":new Pi(et.layout_symbol["icon-offset"]),"icon-anchor":new Pi(et.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mi(et.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mi(et.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mi(et.layout_symbol["text-rotation-alignment"]),"text-field":new Pi(et.layout_symbol["text-field"]),"text-font":new Pi(et.layout_symbol["text-font"]),"text-size":new Pi(et.layout_symbol["text-size"]),"text-max-width":new Pi(et.layout_symbol["text-max-width"]),"text-line-height":new Pi(et.layout_symbol["text-line-height"]),"text-letter-spacing":new Pi(et.layout_symbol["text-letter-spacing"]),"text-justify":new Pi(et.layout_symbol["text-justify"]),"text-radial-offset":new Pi(et.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Mi(et.layout_symbol["text-variable-anchor"]),"text-anchor":new Pi(et.layout_symbol["text-anchor"]),"text-max-angle":new Mi(et.layout_symbol["text-max-angle"]),"text-writing-mode":new Mi(et.layout_symbol["text-writing-mode"]),"text-rotate":new Pi(et.layout_symbol["text-rotate"]),"text-padding":new Mi(et.layout_symbol["text-padding"]),"text-keep-upright":new Mi(et.layout_symbol["text-keep-upright"]),"text-transform":new Pi(et.layout_symbol["text-transform"]),"text-offset":new Pi(et.layout_symbol["text-offset"]),"text-allow-overlap":new Mi(et.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Mi(et.layout_symbol["text-ignore-placement"]),"text-optional":new Mi(et.layout_symbol["text-optional"])}),vd={paint:new Di({"icon-opacity":new Pi(et.paint_symbol["icon-opacity"]),"icon-color":new Pi(et.paint_symbol["icon-color"]),"icon-halo-color":new Pi(et.paint_symbol["icon-halo-color"]),"icon-halo-width":new Pi(et.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Pi(et.paint_symbol["icon-halo-blur"]),"icon-translate":new Mi(et.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mi(et.paint_symbol["icon-translate-anchor"]),"text-opacity":new Pi(et.paint_symbol["text-opacity"]),"text-color":new Pi(et.paint_symbol["text-color"],{runtimeType:ct,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Pi(et.paint_symbol["text-halo-color"]),"text-halo-width":new Pi(et.paint_symbol["text-halo-width"]),"text-halo-blur":new Pi(et.paint_symbol["text-halo-blur"]),"text-translate":new Mi(et.paint_symbol["text-translate"]),"text-translate-anchor":new Mi(et.paint_symbol["text-translate-anchor"])}),layout:pd},md=function(){function e(t){m(this,e),this.type=t.property.overrides?t.property.overrides.runtimeType:at,this.defaultValue=t}return y(e,[{key:"evaluate",value:function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}},{key:"eachChild",value:function(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}},{key:"outputDefined",value:function(){return!1}},{key:"serialize",value:function(){return null}}]),e}();xo(md,"FormatSectionOverride",{omit:["defaultValue"]});var yd=function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,vd)}return y(r,[{key:"recalculate",value:function(e,t){a(s(r.prototype),"recalculate",this).call(this,e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));var n=this.layout.get("text-writing-mode");if(n){var o,i=[],l=d(n);try{for(l.s();!(o=l.n()).done;){var u=o.value;i.indexOf(u)<0&&i.push(u)}}catch(c){l.e(c)}finally{l.f()}this.layout._values["text-writing-mode"]=i}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}},{key:"getValueAndResolveTokens",value:function(e,t,r,n){var o=this.layout.get(e).evaluate(t,{},r,n),i=this._unevaluatedLayout._values[e];return i.isDataDriven()||kn(i.value)||!o?o:function(e,t){return t.replace(/{([^{}]+)}/g,(function(t,r){return r in e?String(e[r]):""}))}(t.properties,o)}},{key:"createBucket",value:function(e){return new hd(e)}},{key:"queryRadius",value:function(){return 0}},{key:"queryIntersectsFeature",value:function(){return!1}},{key:"_setPaintOverrides",value:function(){var e,t=d(vd.paint.overridableProperties);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(r.hasPaintOverride(this.layout,n)){var o=this.paint.get(n),i=new md(o),a=new wn(i,o.property.specification),s=null;s="constant"===o.value.kind||"source"===o.value.kind?new Tn("source",a):new Sn("composite",a,o.value.zoomStops,o.value._interpolationType),this.paint._values[n]=new Ai(o.property,s,o.parameters)}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_handleOverridablePaintPropertyUpdate",value:function(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&r.hasPaintOverride(this.layout,e)}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}}],[{key:"hasPaintOverride",value:function(e,t){var r=e.get("text-field"),n=vd.paint.properties[t],o=!1,i=function(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(n.overrides&&n.overrides.hasOverride(i))return void(o=!0)}}catch(a){r.e(a)}finally{r.f()}};if("constant"===r.value.kind&&r.value.value instanceof Ct)i(r.value.value.sections);else if("source"===r.value.kind){var a=function e(t){o||(t instanceof zt&&Pt(t.value)===pt?i(t.value.sections):t instanceof jt?i(t.sections):t.eachChild(e))},s=r.value;s._styleExpression&&a(s._styleExpression.expression)}return o}}]),r}(ss),gd={paint:new Di({"background-color":new Mi(et.paint_background["background-color"]),"background-pattern":new zi(et.paint_background["background-pattern"]),"background-opacity":new Mi(et.paint_background["background-opacity"])})},bd={paint:new Di({"raster-opacity":new Mi(et.paint_raster["raster-opacity"]),"raster-hue-rotate":new Mi(et.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mi(et.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mi(et.paint_raster["raster-brightness-max"]),"raster-saturation":new Mi(et.paint_raster["raster-saturation"]),"raster-contrast":new Mi(et.paint_raster["raster-contrast"]),"raster-resampling":new Mi(et.paint_raster["raster-resampling"]),"raster-fade-duration":new Mi(et.paint_raster["raster-fade-duration"])})},_d=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e,{})).implementation=e,n}return y(r,[{key:"is3D",value:function(){return"3d"===this.implementation.renderingMode}},{key:"hasOffscreenPass",value:function(){return void 0!==this.implementation.prerender}},{key:"recalculate",value:function(){}},{key:"updateTransitions",value:function(){}},{key:"hasTransition",value:function(){return!1}},{key:"serialize",value:function(){}},{key:"onAdd",value:function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}},{key:"onRemove",value:function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}]),r}(ss),xd={paint:new Di({"sky-type":new Mi(et.paint_sky["sky-type"]),"sky-atmosphere-sun":new Mi(et.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Mi(et.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Mi(et.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Mi(et.paint_sky["sky-gradient-radius"]),"sky-gradient":new Ri(et.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Mi(et.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Mi(et.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Mi(et.paint_sky["sky-opacity"])})};function wd(e,t,r){var n=[0,0,1],o=Pl([]);return function(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);e[0]=n*l-i*s,e[1]=o*l+a*s,e[2]=i*l+n*s,e[3]=a*l-o*s}(o,o,r?-k(e)+Math.PI:k(e)),Ol(o,o,-k(t)),El(n,n,o),_l(n,n)}var kd={circle:function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,Js)}return y(r,[{key:"createBucket",value:function(e){return new Rs(e)}},{key:"queryRadius",value:function(e){var t=e;return Hs("circle-radius",this,t)+Hs("circle-stroke-width",this,t)+Xs(this.paint.get("circle-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,r,n,o,i,a,s){var l=Ks(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),i.angle,e.pixelToTileUnitsFactor),u=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r);return Dl(e,n,i,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,u)}},{key:"getProgramIds",value:function(){return["circle"]}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}}]),r}(ss),heatmap:function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e,Zl))._updateColorRamp(),n}return y(r,[{key:"createBucket",value:function(e){return new Bl(e)}},{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"heatmap-color"===e&&this._updateColorRamp()}},{key:"_updateColorRamp",value:function(){this.colorRamp=Hl({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}},{key:"resize",value:function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}},{key:"queryRadius",value:function(e){return Hs("heatmap-radius",this,e)}},{key:"queryIntersectsFeature",value:function(e,t,r,n,o,i,a,s){var l=this.paint.get("heatmap-radius").evaluate(t,r);return Dl(e,n,i,a,s,!0,!0,new g(0,0),l)}},{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["heatmap","heatmapTexture"]}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}}]),r}(ss),hillshade:function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,Xl)}return y(r,[{key:"hasOffscreenPass",value:function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},{key:"getProgramIds",value:function(){return["hillshade","hillshadePrepare"]}}]),r}(ss),fill:function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,Ru)}return y(r,[{key:"getProgramIds",value:function(){var e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),r=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&r.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),r}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}},{key:"recalculate",value:function(e,t){a(s(r.prototype),"recalculate",this).call(this,e,t);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}},{key:"createBucket",value:function(e){return new Ou(e)}},{key:"queryRadius",value:function(){return Xs(this.paint.get("fill-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,r,n,o,i){return!e.queryGeometry.isAboveHorizon&&js($s(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),i.angle,e.pixelToTileUnitsFactor),n)}},{key:"isTileClipped",value:function(){return!0}}]),r}(ss),"fill-extrusion":function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,rc)}return y(r,[{key:"createBucket",value:function(e){return new ec(e)}},{key:"queryRadius",value:function(){return Xs(this.paint.get("fill-extrusion-translate"))}},{key:"is3D",value:function(){return!0}},{key:"getProgramIds",value:function(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}},{key:"queryIntersectsFeature",value:function(e,t,r,n,o,i,a,s,l){var u=Ks(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),i.angle,e.pixelToTileUnitsFactor),c=this.paint.get("fill-extrusion-height").evaluate(t,r),f=this.paint.get("fill-extrusion-base").evaluate(t,r),h=[0,0],p=s&&i.elevation,v=i.elevation?i.elevation.exaggeration():1,m=e.tile.getBucket(this);if(p&&m instanceof ec){var y=m.centroidVertexArray,b=l+1;if(b<y.length){var _=y.get(b);h[0]=_.a_centroid_pos0,h[1]=_.a_centroid_pos1}}if(0===h[0]&&1===h[1])return!1;var x=function(e,t,r,n,o,i,a,s,l){return i?function(e,t,r,n,o,i,a,s,l){var u,c=[],f=[],h=[0,0,0,1],p=d(e);try{for(p.s();!(u=p.n()).done;){var v,m=u.value,y=[],g=[],b=d(m);try{for(b.s();!(v=b.n()).done;){var _=v.value,x=_.x+n.x,w=_.y+n.y,k=ac(x,w,t,r,i,a,s,l);h[0]=x,h[1]=w,h[2]=k.base,h[3]=1,Il(h,h,o),h[3]=Math.max(h[3],1e-5);var E=ic([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);h[0]=x,h[1]=w,h[2]=k.top,h[3]=1,Il(h,h,o),h[3]=Math.max(h[3],1e-5);var T=ic([h[0]/h[3],h[1]/h[3],h[2]/h[3]]);y.push(E),g.push(T)}}catch(S){b.e(S)}finally{b.f()}c.push(y),f.push(g)}}catch(S){p.e(S)}finally{p.f()}return[c,f]}(e,t,r,n,o,i,a,s,l):function(e,t,r,n,o){var i,a=[],s=[],l=o[8]*t,u=o[9]*t,c=o[10]*t,f=o[11]*t,h=o[8]*r,p=o[9]*r,v=o[10]*r,m=o[11]*r,y=d(e);try{for(y.s();!(i=y.n()).done;){var b,_=i.value,x=[],w=[],k=d(_);try{for(k.s();!(b=k.n()).done;){var E=b.value,T=E.x+n.x,S=E.y+n.y,C=o[0]*T+o[4]*S+o[12],A=o[1]*T+o[5]*S+o[13],I=o[2]*T+o[6]*S+o[14],M=o[3]*T+o[7]*S+o[15],P=C+l,O=A+u,z=I+c,R=Math.max(M+f,1e-5),D=C+h,L=A+p,j=I+v,F=Math.max(M+m,1e-5),N=new g(P/R,O/R);N.z=z/R,x.push(N);var B=new g(D/F,L/F);B.z=j/F,w.push(B)}}catch(V){k.e(V)}finally{k.f()}a.push(x),s.push(w)}}catch(V){y.e(V)}finally{y.f()}return[a,s]}(e,t,r,n,o)}(n,f,c,u,a,p?s:null,h,v,i.center.lat),w=e.queryGeometry;return function(e,t,r){var n=1/0;js(r,t)&&(n=oc(r,t[0]));for(var o=0;o<t.length;o++)for(var i=t[o],a=e[o],s=0;s<i.length-1;s++){var l=i[s],u=[l,i[s+1],a[s+1],a[s],l];Ds(r,u)&&(n=Math.min(n,oc(r,u)))}return n!==1/0&&n}(x[0],x[1],w.isPointQuery()?w.screenBounds:w.screenGeometry)}}]),r}(ss),line:function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e,hc)).gradientVersion=0,n}return y(r,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){if("line-gradient"===e){var t=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=t._styleExpression&&t._styleExpression.expression instanceof vr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}},{key:"gradientExpression",value:function(){return this._transitionablePaint._values["line-gradient"].value.expression}},{key:"recalculate",value:function(e,t){a(s(r.prototype),"recalculate",this).call(this,e,t),this.paint._values["line-floorwidth"]=pc.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}},{key:"createBucket",value:function(e){return new fc(e)}},{key:"getProgramIds",value:function(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}},{key:"getProgramConfiguration",value:function(e){return new Qa(this,e)}},{key:"queryRadius",value:function(e){var t=e,r=vc(Hs("line-width",this,t),Hs("line-gap-width",this,t)),n=Hs("line-offset",this,t);return r/2+Math.abs(n)+Xs(this.paint.get("line-translate"))}},{key:"queryIntersectsFeature",value:function(e,t,r,n,o,i){if(e.queryGeometry.isAboveHorizon)return!1;var a=$s(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),i.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*vc(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(n=function(e,t){for(var r=[],n=new g(0,0),o=0;o<e.length;o++){for(var i=e[o],a=[],s=0;s<i.length;s++){var l=i[s-1],u=i[s],c=i[s+1],f=0===s?n:u.sub(l)._unit()._perp(),d=s===i.length-1?n:c.sub(u)._unit()._perp(),h=f._add(d)._unit();h._mult(1/(h.x*d.x+h.y*d.y)),a.push(h._mult(t)._add(u))}r.push(a)}return r}(n,l*e.pixelToTileUnitsFactor)),function(e,t,r){for(var n=0;n<t.length;n++){var o=t[n];if(e.length>=3)for(var i=0;i<o.length;i++)if(qs(e,o[i]))return!0;if(Fs(e,o,r))return!0}return!1}(a,n,s)}},{key:"isTileClipped",value:function(){return!0}}]),r}(ss),symbol:yd,background:function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,gd)}return y(r,[{key:"getProgramIds",value:function(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}}]),r}(ss),raster:function(e){p(r,e);var t=v(r);function r(e){return m(this,r),t.call(this,e,bd)}return y(r,[{key:"getProgramIds",value:function(){return["raster"]}}]),r}(ss),sky:function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e,xd))._updateColorRamp(),n}return y(r,[{key:"_handleSpecialPaintPropertyUpdate",value:function(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}},{key:"_updateColorRamp",value:function(){this.colorRamp=Hl({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}},{key:"needsSkyboxCapture",value:function(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){var t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}},{key:"getCenter",value:function(e,t){if("atmosphere"===this.paint.get("sky-type")){var r=this.paint.get("sky-atmosphere-sun"),n=!r,o=e.style.light,i=o.properties.get("position");return n&&"viewport"===o.properties.get("anchor")&&Z("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?wd(i.azimuthal,90-i.polar,t):wd(r[0],90-r[1],t)}var a=this.paint.get("sky-gradient-center");return wd(a[0],90-a[1],t)}},{key:"is3D",value:function(){return!1}},{key:"isSky",value:function(){return!0}},{key:"markSkyboxValid",value:function(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}},{key:"hasOffscreenPass",value:function(){return!0}},{key:"getProgramIds",value:function(){var e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}]),r}(ss)},Ed=function(){function e(t,r,n,o){m(this,e),this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(r,o)}return y(e,[{key:"update",value:function(e,t,r){var n=e.width,o=e.height,i=this.context,a=i.gl,s=_.HTMLImageElement,l=_.HTMLCanvasElement,u=_.HTMLVideoElement,c=_.ImageData,f=_.ImageBitmap;if(a.bindTexture(a.TEXTURE_2D,this.texture),i.pixelStoreUnpackFlipY.set(!1),i.pixelStoreUnpack.set(1),i.pixelStoreUnpackPremultiplyAlpha.set(this.format===a.RGBA&&(!t||!1!==t.premultiply)),r||this.size&&this.size[0]===n&&this.size[1]===o){var d=r||{x:0,y:0},h=d.x,p=d.y;e instanceof s||e instanceof l||e instanceof u||e instanceof c||f&&e instanceof f?a.texSubImage2D(a.TEXTURE_2D,0,h,p,a.RGBA,a.UNSIGNED_BYTE,e):a.texSubImage2D(a.TEXTURE_2D,0,h,p,n,o,a.RGBA,a.UNSIGNED_BYTE,e.data)}else this.size=[n,o],e instanceof s||e instanceof l||e instanceof u||e instanceof c||f&&e instanceof f?a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,a.UNSIGNED_BYTE,e):a.texImage2D(a.TEXTURE_2D,0,this.format,n,o,0,this.format,a.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&a.generateMipmap(a.TEXTURE_2D)}},{key:"bind",value:function(e,t){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.useMipmap?e===r.NEAREST?r.NEAREST_MIPMAP_NEAREST:r.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}},{key:"isSizePowerOfTwo",value:function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}},{key:"destroy",value:function(){this.context.gl.deleteTexture(this.texture),this.texture=null}}]),e}(),Td=function(){function e(t,r){m(this,e),this.width=t,this.height=r,this.nextRow=0,this.image=new ql({width:t,height:r}),this.positions={},this.uploaded=!1}return y(e,[{key:"getDash",value:function(e,t){var r=this.getKey(e,t);return this.positions[r]}},{key:"trim",value:function(){var e=this.width,t=this.height=F(this.nextRow);this.image.resize({width:e,height:t})}},{key:"getKey",value:function(e,t){return e.join(",")+t}},{key:"getDashRanges",value:function(e,t,r){var n=[],o=e.length%2==1?-e[e.length-1]*r:0,i=e[0]*r,a=!0;n.push({left:o,right:i,isDash:a,zeroLength:0===e[0]});for(var s=e[0],l=1;l<e.length;l++){a=!a;var u=e[l];o=s*r,i=(s+=u)*r,n.push({left:o,right:i,isDash:a,zeroLength:0===u})}return n}},{key:"addRoundDash",value:function(e,t,r){for(var n=t/2,o=-r;o<=r;o++)for(var i=this.width*(this.nextRow+r+o),a=0,s=e[a],l=0;l<this.width;l++){l/s.right>1&&(s=e[++a]);var u=Math.abs(l-s.left),c=Math.abs(l-s.right),f=Math.min(u,c),d=void 0,h=o/r*(n+1);if(s.isDash){var p=n-Math.abs(h);d=Math.sqrt(f*f+p*p)}else d=n-Math.sqrt(f*f+h*h);this.image.data[i+l]=Math.max(0,Math.min(255,d+128))}}},{key:"addRegularDash",value:function(e,t){for(var r=e.length-1;r>=0;--r){var n=e[r],o=e[r+1];n.zeroLength?e.splice(r,1):o&&o.isDash===n.isDash&&(o.left=n.left,e.splice(r,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var s=this.width*this.nextRow,l=0,u=e[l],c=0;c<this.width;c++){c/u.right>1&&(u=e[++l]);var f=Math.abs(c-u.left),d=Math.abs(c-u.right),h=Math.min(f,d);this.image.data[s+c]=Math.max(0,Math.min(255,(u.isDash?h:-h)+t+128))}}},{key:"addDash",value:function(e,t){var r=this.getKey(e,t);if(this.positions[r])return this.positions[r];var n="round"===t,o=n?7:0,i=2*o+1;if(this.nextRow+i>this.height)return Z("LineAtlas out of space"),null;0===e.length&&e.push(1);for(var a=0,s=0;s<e.length;s++)e[s]<0&&(Z("Negative value is found in line dasharray, replacing values with 0"),e[s]=0),a+=e[s];if(0!==a){var l=this.width/a,u=this.getDashRanges(e,this.width,l);n?this.addRoundDash(u,l,o):this.addRegularDash(u,"square"===t?.5*l:0)}var c=this.nextRow+o;this.nextRow+=i;var f={tl:[c,o],br:[a,0]};return this.positions[r]=f,f}}]),e}();xo(Td,"LineAtlas");var Sd=function(){function e(t){var r=this;m(this,e),this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){r._triggered=!1,r._callback()})}return y(e,[{key:"trigger",value:function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){e._triggered=!1,e._callback()}),0))}},{key:"remove",value:function(){this._channel=void 0,this._callback=function(){}}}]),e}(),Cd=_.performance;function Ad(e){var t=e?e.url.toString():void 0;return Cd.getEntriesByName(t)}var Id=function(){function e(){m(this,e),this.tasks={},this.taskQueue=[],B(["process"],this),this.invoker=new Sd(this.process),this.nextId=0}return y(e,[{key:"add",value:function(e,t){var r=this,n=this.nextId++,o=function(e){var t=e.type,r=e.isSymbolTile,n=e.zoom;return n=n||0,"message"===t?0:"maybePrepare"!==t||r?"parseTile"!==t||r?"parseTile"===t&&r?300-n:"maybePrepare"===t&&r?400-n:500:200-n:100-n}(t);if(0===o){$();try{e()}finally{}return{cancel:function(){}}}return this.tasks[n]={fn:e,metadata:t,priority:o,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:function(){delete r.tasks[n]}}}},{key:"process",value:function(){var e=this;$();try{if(this.taskQueue=this.taskQueue.filter((function(t){return!!e.tasks[t]})),!this.taskQueue.length)return;var t=this.pick();if(null===t)return;var r=this.tasks[t];if(delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),!r)return;r.fn()}finally{}}},{key:"pick",value:function(){for(var e=null,t=1/0,r=0;r<this.taskQueue.length;r++){var n=this.tasks[this.taskQueue[r]];n.priority<t&&(t=n.priority,e=r)}if(null===e)return null;var o=this.taskQueue[e];return this.taskQueue.splice(e,1),o}},{key:"remove",value:function(){this.invoker.remove()}}]),e}(),Md=Bi([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_merc_pos",components:2},{type:"Float32",name:"a_uv",components:2}]),Pd=Bi([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),Od=Md.members,zd=Bi([{name:"a_pos_3",components:3,type:"Int16"}]),Rd=Bi([{name:"a_pos",type:"Int16",components:2}]),Dd=fs/Math.PI/2,Ld=-Dd,jd=Dd,Fd=[new Rl([Ld,Ld,Ld],[jd,jd,jd]),new Rl([Ld,Ld,Ld],[0,0,jd]),new Rl([0,Ld,Ld],[jd,0,jd]),new Rl([Ld,0,Ld],[0,jd,jd]),new Rl([0,0,Ld],[jd,jd,jd])],Nd=y((function e(t,r,n){m(this,e),this.a=Sl([],t,n),this.b=Sl([],r,n),this.center=n;var o=_l([],this.a),i=_l([],this.b);this.angle=Math.acos(xl(o,i))}));function Bd(e,t){return 0===e.angle||(r=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)))<0||r>1?null:function(e,t,r,n){var o=Math.sin(r);return e*(Math.sin((1-n)*r)/o)+t*(Math.sin(n*r)/o)}(e.a[t],e.b[t],e.angle,I(r,0,1))+e.center[t];var r}function Vd(e){if(e.z<=1)return Fd[e.z+2*e.y+e.x];for(var t=Gd(e),r=f(t,2),n=r[0],o=r[1],i=[Wd(n[0],n[1]),Wd(n[0],o[1]),Wd(o[0],n[1]),Wd(o[0],o[1])],a=[jd,jd,jd],s=[Ld,Ld,Ld],l=0,u=i;l<u.length;l++){var c=u[l];a[0]=Math.min(a[0],c[0]),a[1]=Math.min(a[1],c[1]),a[2]=Math.min(a[2],c[2]),s[0]=Math.max(s[0],c[0]),s[1]=Math.max(s[1],c[1]),s[2]=Math.max(s[2],c[2])}return new Rl(a,s)}function Ud(e,t,r){var n=t/e.worldSize,o=function(e,t){gl(e,e,n),gl(t,t,n)},i=Number.MAX_VALUE,a=[-i,-i,-i],s=[i,i,i],l=Kd(e);if(r.z<=1){for(var u=Vd(r).getCorners(),c=0;c<u.length;c++)kl(u[c],u[c],l),ml(s,s,u[c]),yl(a,a,u[c]);return o(s,a),new Rl(s,a)}var d=Gd(r),h=f(d,2),p=h[0],v=h[1],m=new ds;m.setSouthWest([p[1],v[0]]),m.setNorthEast([v[1],p[0]]);for(var y=[Wd(m.getSouth(),m.getWest()),Wd(m.getSouth(),m.getEast()),Wd(m.getNorth(),m.getEast()),Wd(m.getNorth(),m.getWest())],g=0;g<y.length;g++)kl(y[g],y[g],l),ml(s,s,y[g]),yl(a,a,y[g]);if(m.contains(e.center))return a[2]=0,o(s,a),new Rl(s,a);var b=[l[12],l[13],l[14]],_=e.center.lng,x=I(e.center.lat,-85.051129,ks),w=[ys(_),gs(x)],E=m.getCenter().lng,T=I(m.getCenter().lat,-85.051129,ks),S=[ys(E),gs(T)],C=new Array(3),A=0,M=w[0]-S[0],P=w[1]-S[1];Math.abs(M)>Math.abs(P)?(A=M>=0?1:3,C=b):(A=P>=0?0:2,C=bl(C,b,[l[4],l[5],l[6]],P>=0?-Math.sin(k(m.getSouth()))*Dd:-Math.sin(k(m.getNorth()))*Dd));var O=y[A],z=y[(A+1)%4],R=new Nd(O,z,C),D=[Bd(R,0)||O[0],Bd(R,1)||O[1],Bd(R,2)||O[2]];return s[2]=Math.min(O[2],z[2]),ml(s,s,D),yl(a,a,D),o(s,a),new Rl(s,a)}function Gd(e){var t=1<<e.z,r=e.x/t,n=(e.x+1)/t,o=(e.y+1)/t;return[[xs(e.y/t),_s(r)],[xs(o),_s(n)]]}function qd(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dd;return r=k(r),[e*Math.sin(r)*n,-t*n,e*Math.cos(r)*n]}function Wd(e,t,r){return qd(Math.cos(k(e)),Math.sin(k(e)),t,r)}function Zd(e,t,r){var n=Math.pow(2,r.z),o=(e/fs+r.x)/n;return Wd(xs((t/fs+r.y)/n),_s(o))}function Hd(e){return 16383/Math.max.apply(Math,c(Sl([],e.max,e.min)))}function Xd(e){var t,r,n=rl(new Float64Array(16)),o=Hd(e);return il(n,n,[o,o,o]),ol(n,n,((t=[])[0]=-(r=e.min)[0],t[1]=-r[1],t[2]=-r[2],t)),n}function $d(e,t,r,n,o){var i=function(e){var t=fs/(2*Math.PI);return e/(2*Math.PI)/t}(r),a=[e,t,-r/(2*Math.PI)],s=rl(new Float64Array(16));return ol(s,s,a),il(s,s,[i,i,i]),al(s,s,k(-o)),sl(s,s,k(-n)),s}function Kd(e){var t=e.point,r=t.x,n=t.y,o=e._center,i=o.lng,a=o.lat;return $d(r,n,e.worldSize,i,a)}var Yd=k(85),Jd=Math.cos(Yd),Qd=Math.sin(Yd);function eh(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}var th=function(){function e(t,r,n){m(this,e),this.z=t,this.x=r,this.y=n,this.key=oh(0,t,t,r,n)}return y(e,[{key:"equals",value:function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}},{key:"url",value:function(e,t){var r=function(e,t,r){var n=eh(256*e,256*(t=Math.pow(2,r)-t-1),r),o=eh(256*(e+1),256*(t+1),r);return n[0]+","+n[1]+","+o[0]+","+o[1]}(this.x,this.y,this.z),n=function(e,t,r){for(var n,o="",i=e;i>0;i--)o+=(t&(n=1<<i-1)?1:0)+(r&n?2:0);return o}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",r)}},{key:"toString",value:function(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}]),e}(),rh=y((function e(t,r){m(this,e),this.wrap=t,this.canonical=r,this.key=oh(t,r.z,r.z,r.x,r.y)})),nh=function(){function e(t,r,n,o,i){m(this,e),this.overscaledZ=t,this.wrap=r,this.canonical=new th(n,+o,+i),this.key=0===r&&t===n?this.canonical.key:oh(r,t,n,o,i)}return y(e,[{key:"equals",value:function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}},{key:"scaledTo",value:function(t){var r=this.canonical.z-t;return t>this.canonical.z?new e(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new e(t,this.wrap,t,this.canonical.x>>r,this.canonical.y>>r)}},{key:"calculateScaledKey",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return oh(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);var r=this.canonical.z-e;return oh(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}},{key:"isChildOf",value:function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}},{key:"children",value:function(t){if(this.overscaledZ>=t)return[new e(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var r=this.canonical.z+1,n=2*this.canonical.x,o=2*this.canonical.y;return[new e(r,this.wrap,r,n,o),new e(r,this.wrap,r,n+1,o),new e(r,this.wrap,r,n,o+1),new e(r,this.wrap,r,n+1,o+1)]}},{key:"isLessThan",value:function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}},{key:"wrapped",value:function(){return new e(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"unwrapTo",value:function(t){return new e(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}},{key:"overscaleFactor",value:function(){return Math.pow(2,this.overscaledZ-this.canonical.z)}},{key:"toUnwrapped",value:function(){return new rh(this.wrap,this.canonical)}},{key:"toString",value:function(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}}]),e}();function oh(e,t,r,n,o){var i=1<<Math.min(r,22),a=i*(o%i)+n%i;return e&&r<22&&(a+=i*i*((e<0?-2*e-1:2*e)%(1<<2*(22-r)))),16*(32*a+r)+(t-r)}function ih(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};var r=Math.pow(2,-e.z),n=e.x*r,o=(e.x+1)*r,i=e.y*r,a=(e.y+1)*r,s=_s(n),l=_s(o),u=xs(i),c=xs(a),f=t.project(s,u),d=t.project(l,u),h=t.project(l,c),p=t.project(s,c),v=Math.min(f.x,d.x,h.x,p.x),m=Math.min(f.y,d.y,h.y,p.y),y=Math.max(f.x,d.x,h.x,p.x),g=Math.max(f.y,d.y,h.y,p.y),b=r/16;function _(e,r,n,o,i,a){var s=(n+i)/2,l=(o+a)/2,u=t.project(_s(s),xs(l)),c=Math.max(0,v-u.x,m-u.y,u.x-y,u.y-g);v=Math.min(v,u.x),y=Math.max(y,u.x),m=Math.min(m,u.y),g=Math.max(g,u.y),c>b&&(_(e,u,n,o,s,l),_(u,r,s,l,i,a))}_(f,d,n,i,o,i),_(d,h,o,i,o,a),_(h,p,o,a,n,a),_(p,f,n,a,n,i),v-=b,m-=b,y+=b,g+=b;var x=1/Math.max(y-v,g-m);return{scale:x,x:v*x,y:m*x,x2:y*x,y2:g*x,projection:t}}xo(th,"CanonicalTileID"),xo(nh,"OverscaledTileID",{omit:["projMatrix"]});for(var ah=function(){function e(t){m(this,e),this._stringToNumber={},this._numberToString=[];for(var r=0;r<t.length;r++){var n=t[r];this._stringToNumber[n]=r,this._numberToString[r]=n}}return y(e,[{key:"encode",value:function(e){return this._stringToNumber[e]}},{key:"decode",value:function(e){return this._numberToString[e]}}]),e}(),sh=["tile","layer","source","sourceLayer","state"],lh=function(){function e(t,r,n,o,i){m(this,e),this.type="Feature",this._vectorTileFeature=t,this._z=r,this._x=n,this._y=o,this.properties=t.properties,this.id=i}return y(e,[{key:"geometry",get:function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry},set:function(e){this._geometry=e}},{key:"toJSON",value:function(){var e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);var t,r=d(sh);try{for(r.s();!(t=r.n()).done;){var n=t.value;void 0!==this[n]&&(e[n]=this[n])}}catch(o){r.e(o)}finally{r.f()}return e}}]),e}(),uh=32,ch=33,fh=new Uint16Array(8184),dh=0;dh<2046;dh++){var hh=dh+2,ph=0,vh=0,mh=0,yh=0,gh=0,bh=0;for(1&hh?mh=yh=gh=uh:ph=vh=bh=uh;(hh>>=1)>1;){var _h=ph+mh>>1,xh=vh+yh>>1;1&hh?(mh=ph,yh=vh,ph=gh,vh=bh):(ph=mh,vh=yh,mh=gh,yh=bh),gh=_h,bh=xh}var wh=4*dh;fh[wh+0]=ph,fh[wh+1]=vh,fh[wh+2]=mh,fh[wh+3]=yh}var kh=new Uint16Array(2178),Eh=new Uint8Array(1089),Th=new Uint16Array(1089);function Sh(e){return 0===e?-.03125:32===e?.03125:0}var Ch=Bi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),Ah={type:2,extent:fs,loadGeometry:function(){return[[new g(0,0),new g(8193,0),new g(8193,8193),new g(0,8193),new g(0,0)]]}},Ih=function(){function e(t,r,n,o,i){m(this,e),this.tileID=t,this.uid=L(),this.uses=0,this.tileSize=r,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=i,this.expiredRequestCount=0,this.state="loading",o&&o.transform&&(this.projection=o.transform.projection)}return y(e,[{key:"registerFadeDuration",value:function(e){var t=e+this.timeAdded;t<se.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}},{key:"wasRequested",value:function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}},{key:"tileTransform",get:function(){return this._tileTransform||(this._tileTransform=ih(this.tileID.canonical,this.projection)),this._tileTransform}},{key:"loadVectorData",value:function(e,t,r){if(this.unloadVectorData(),this.state="loaded",e){for(var n in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var r={};if(!t)return r;var n,o=d(e);try{var i=function(){var e=n.value,o=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==o.length){e.layers=o,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return o.filter((function(t){return t.id===e}))[0]})));var i,a=d(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;r[s.id]=e}}catch(l){a.e(l)}finally{a.f()}}};for(o.s();!(n=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var o=this.buckets[n];if(o instanceof hd){if(this.hasSymbolBuckets=!0,!r)break;o.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var i in this.buckets){var a=this.buckets[i];if(a instanceof hd&&a.hasRTLText){this.hasRTLText=!0,_i.isLoading()||_i.isLoaded()||"deferred"!==gi()||bi();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(l))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new ya}},{key:"unloadVectorData",value:function(){if(this.hasData()){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}},{key:"getBucket",value:function(e){return this.buckets[e.id]}},{key:"upload",value:function(e){for(var t in this.buckets){var r=this.buckets[t];r.uploadPending()&&r.upload(e)}var n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ed(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ed(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ed(e,this.lineAtlas.image,n.ALPHA),this.lineAtlas.uploaded=!0)}},{key:"prepare",value:function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}},{key:"queryRenderedFeatures",value:function(e,t,r,n,o,i,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:i,params:o,tileTransform:this.tileTransform},e,t,r):{}}},{key:"querySourceFeatures",value:function(e,t){var r=this.latestFeatureIndex;if(r&&r.rawTileData){var n=r.loadVTLayers(),o=t?t.sourceLayer:"",i=n._geojsonTileLayer||n[o];if(i)for(var a=Nn(t&&t.filter),s=this.tileID.canonical,l=s.z,u=s.x,c=s.y,f={z:l,x:u,y:c},d=0;d<i.length;d++){var h=i.feature(d);if(a.needGeometry){var p=Ps(h,!0);if(!a.filter(new xi(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!a.filter(new xi(this.tileID.overscaledZ),h))continue;var v=r.getId(h,o),m=new lh(h,l,u,c,v);m.tile=f,e.push(m)}}}},{key:"hasData",value:function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}},{key:"patternsLoaded",value:function(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}},{key:"setExpiryData",value:function(e){var t=this.expirationTime;if(e.cacheControl){var r=K(e.cacheControl);r["max-age"]&&(this.expirationTime=Date.now()+1e3*r["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(t)if(this.expirationTime<t)o=!0;else{var i=this.expirationTime-t;i?this.expirationTime=n+Math.max(i,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}},{key:"getExpiryTimeout",value:function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}},{key:"setFeatureState",value:function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length&&t){var r=this.latestFeatureIndex.loadVTLayers(),n=t.style.listImages();for(var o in this.buckets)if(t.style.hasLayer(o)){var i=this.buckets[o],a=i.layers[0].sourceLayer||"_geojsonTileLayer",s=r[a],l=e[a];if(s&&l&&0!==Object.keys(l).length){if(i.update(l,s,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),i instanceof fc||i instanceof Ou){var u=t.style._getSourceCache(i.layers[0].source);t._terrain&&t._terrain.enabled&&u&&i.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(u.id,this.tileID)}var c=t&&t.style&&t.style.getLayer(o);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(i)))}}}}},{key:"holdingForFade",value:function(){return void 0!==this.symbolFadeHoldUntil}},{key:"symbolFadeFinished",value:function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()}},{key:"clearFadeHold",value:function(){this.symbolFadeHoldUntil=void 0}},{key:"setHoldDuration",value:function(e){this.symbolFadeHoldUntil=se.now()+e}},{key:"setTexture",value:function(e,t){var r=t.context,n=r.gl;this.texture=t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Ed(r,e,n.RGBA,{useMipmap:!0}),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),r.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax))}},{key:"setDependencies",value:function(e,t){var r,n={},o=d(t);try{for(o.s();!(r=o.n()).done;)n[r.value]=!0}catch(i){o.e(i)}finally{o.f()}this.dependencies[e]=n}},{key:"hasDependency",value:function(e,t){var r,n=d(e);try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.dependencies[o];if(i){var a,s=d(t);try{for(s.s();!(a=s.n()).done;)if(i[a.value])return!0}catch(l){s.e(l)}finally{s.f()}}}}catch(l){n.e(l)}finally{n.f()}return!1}},{key:"clearQueryDebugViz",value:function(){}},{key:"_makeDebugTileBoundsBuffers",value:function(e,t){if(t&&"mercator"!==t.name&&!this._tileDebugBuffer){for(var r=Ms(Ah,this.tileID.canonical,this.tileTransform)[0],n=new Ui,o=new fa,i=0;i<r.length;i++){var a=r[i],s=a.x,l=a.y;n.emplaceBack(s,l),o.emplaceBack(i)}o.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(o),this._tileDebugBuffer=e.createVertexBuffer(n,Rd.members),this._tileDebugSegments=cs.simpleSegment(0,0,n.length,o.length)}}},{key:"_makeTileBoundsBuffers",value:function(e,t){if(!this._tileBoundsBuffer&&t&&"mercator"!==t.name){var r,n,o=Ms(Ah,this.tileID.canonical,this.tileTransform)[0];if(this.isRaster){var i=function(e,t){for(var r=ih(e,t),n=Math.pow(2,e.z),o=0;o<ch;o++)for(var i=0;i<ch;i++){var a=_s((e.x+(i+Sh(i))/uh)/n),s=xs((e.y+(o+Sh(o))/uh)/n),l=t.project(a,s),u=o*ch+i;kh[2*u+0]=Math.round((l.x*r.scale-r.x)*fs),kh[2*u+1]=Math.round((l.y*r.scale-r.y)*fs)}Eh.fill(0),Th.fill(0);for(var c=2045;c>=0;c--){var f=4*c,d=fh[f+0],h=fh[f+1],p=fh[f+2],v=fh[f+3],m=d+p>>1,y=h+v>>1,g=m+y-h,b=y+d-m,_=h*ch+d,x=v*ch+p,w=y*ch+m,k=Math.hypot((kh[2*_+0]+kh[2*x+0])/2-kh[2*w+0],(kh[2*_+1]+kh[2*x+1])/2-kh[2*w+1])>=16;if(Eh[w]=Eh[w]||(k?1:0),c<1022){var E=(h+b>>1)*ch+(d+g>>1),T=(v+b>>1)*ch+(p+g>>1);Eh[w]=Eh[w]||Eh[E]||Eh[T]}}var S=new qi,C=new na,A=0;function I(e,t){var r=t*ch+e;return 0===Th[r]&&(S.emplaceBack(kh[2*r+0],kh[2*r+1],e*fs/uh,t*fs/uh),Th[r]=++A),Th[r]-1}function M(e,t,r,n,o,i){var a=e+r>>1,s=t+n>>1;if(Math.abs(e-o)+Math.abs(t-i)>1&&Eh[s*ch+a])M(o,i,e,t,a,s),M(r,n,o,i,a,s);else{var l=I(e,t),u=I(r,n),c=I(o,i);C.emplaceBack(l,u,c)}}return M(0,0,uh,uh,uh,0),M(uh,uh,0,0,0,uh),{vertices:S,indices:C}}(this.tileID.canonical,t);r=i.vertices,n=i.indices}else{r=new qi,n=new na;var a,s=d(o);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=l.x,c=l.y;r.emplaceBack(u,c,0,0)}}catch(p){s.e(p)}finally{s.f()}for(var f=Kl(r.int16,void 0,4),h=0;h<f.length;h+=3)n.emplaceBack(f[h],f[h+1],f[h+2])}this._tileBoundsBuffer=e.createVertexBuffer(r,Ch.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(n),this._tileBoundsSegments=cs.simpleSegment(0,0,r.length,n.length)}}},{key:"_makeGlobeTileDebugBuffers",value:function(e,t){if(!this._globeTileDebugBorderBuffer&&!this._globeTileDebugTextBuffer&&t&&"globe"===t.name){var r=this.tileID.canonical,n=Xd(Vd(r));this._makeGlobeTileDebugBorderBuffer(e,r,n),this._makeGlobeTileDebugTextBuffer(e,r,n)}}},{key:"_makeGlobeTileDebugBorderBuffer",value:function(e,t,r){var n=new Ui,o=new fa,i=new Gi,a=function(e,a,s,l,u){for(var c=(s-e)/(u-1),f=(l-a)/(u-1),d=n.length,h=0;h<u;h++){var p=e+h*c,v=a+h*f;n.emplaceBack(p,v);var m=Zd(p,v,t),y=kl(m,m,r);i.emplaceBack(y[0],y[1],y[2]),o.emplaceBack(d+h)}},s=fs;a(0,0,s,0,16),a(s,0,s,s,16),a(s,s,0,s,16),a(0,s,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(o),this._tileDebugBuffer=e.createVertexBuffer(n,Rd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(i,zd.members),this._tileDebugSegments=cs.simpleSegment(0,0,n.length,o.length)}},{key:"_makeGlobeTileDebugTextBuffer",value:function(e,t,r){var n=new Ui,o=new na,i=new Gi,a=25;o.reserve(32),n.reserve(a),i.reserve(a);for(var s=function(e,t){return a*e+t},l=0;l<a;l++)for(var u=2048*l,c=0;c<a;c++){var f=2048*c;n.emplaceBack(f,u);var d=Zd(f,u,t),h=kl(d,d,r);i.emplaceBack(h[0],h[1],h[2])}for(var p=0;p<4;p++)for(var v=0;v<4;v++){var m=s(p,v),y=s(p,v+1),g=s(p+1,v),b=s(p+1,v+1);o.emplaceBack(m,y,g),o.emplaceBack(g,y,b)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(o),this._tileDebugTextBuffer=e.createVertexBuffer(n,Rd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(i,zd.members),this._tileDebugTextSegments=cs.simpleSegment(0,0,a,32)}}]),e}(),Mh=function(){function e(){m(this,e),this.state={},this.stateChanges={},this.deletedStates={}}return y(e,[{key:"updateState",value:function(e,t,r){var n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},R(this.stateChanges[e][n],r),null===this.deletedStates[e])for(var o in this.deletedStates[e]={},this.state[e])o!==n&&(this.deletedStates[e][o]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][n])for(var i in this.deletedStates[e][n]={},this.state[e][n])r[i]||(this.deletedStates[e][n][i]=null);else for(var a in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][a]&&delete this.deletedStates[e][n][a]}},{key:"removeFeatureState",value:function(e,t,r){if(null!==this.deletedStates[e]){var n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}}},{key:"getState",value:function(e,t){var r=String(t),n=R({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var o=this.deletedStates[e][t];if(null===o)return{};for(var i in o)delete n[i]}return n}},{key:"initializeTileState",value:function(e,t){e.setFeatureState(this.state,t)}},{key:"coalesceChanges",value:function(e,t){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var o={};for(var i in this.stateChanges[n])this.state[n][i]||(this.state[n][i]={}),R(this.state[n][i],this.stateChanges[n][i]),o[i]=this.state[n][i];r[n]=o}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,f=Object.keys(this.deletedStates[a][u]);c<f.length;c++){var d=f[c];delete this.state[a][u][d]}s[u]=this.state[a][u]}r[a]=r[a]||{},R(r[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var h in e)e[h].setFeatureState(r,t)}}]),e}(),Ph=function(){function e(t){m(this,e),this.size=t,this.minimums=[],this.maximums=[],this.leaves=[]}return y(e,[{key:"getElevation",value:function(e,t){var r=this.toIdx(e,t);return{min:this.minimums[r],max:this.maximums[r]}}},{key:"isLeaf",value:function(e,t){return this.leaves[this.toIdx(e,t)]}},{key:"toIdx",value:function(e,t){return t*this.size+e}}]),e}();function Oh(e,t,r,n){for(var o=0,i=Number.MAX_VALUE,a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(r[a]<e[a]||r[a]>t[a])return null}else{var s=1/n[a],l=(e[a]-r[a])*s,u=(t[a]-r[a])*s;if(l>u){var c=l;l=u,u=c}if(l>o&&(o=l),u<i&&(i=u),o>i)return null}return o}function zh(e,t,r,n,o,i,a,s,l,u,c){var f=n-e,d=o-t,h=i-r,p=a-e,v=s-t,m=l-r,y=c[1]*m-c[2]*v,g=c[2]*p-c[0]*m,b=c[0]*v-c[1]*p,_=f*y+d*g+h*b;if(Math.abs(_)<1e-15)return null;var x=1/_,w=u[0]-e,k=u[1]-t,E=u[2]-r,T=(w*y+k*g+E*b)*x;if(T<0||T>1)return null;var S=k*h-E*d,C=E*f-w*h,A=w*d-k*f,I=(c[0]*S+c[1]*C+c[2]*A)*x;return I<0||T+I>1?null:(p*S+v*C+m*A)*x}function Rh(e,t,r){return(e-t)/(r-t)}function Dh(e,t,r,n,o,i,a,s,l){var u=1<<r,c=i-n,f=a-o,d=(e+1)/u*c+n,h=(t+0)/u*f+o,p=(t+1)/u*f+o;s[0]=(e+0)/u*c+n,s[1]=h,l[0]=d,l[1]=p}var Lh=function(){function e(t){if(m(this,e),this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=t,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],this.dem){var r=function(e){for(var t=Math.ceil(Math.log2(e.dim/8)),r=[],n=Math.ceil(Math.pow(2,t)),o=1/n,i=function(e,t,r,n,o){var i=n?1:0,a=(e+1)*r-i,s=t*r,l=(t+1)*r-i;o[0]=e*r,o[1]=s,o[2]=a,o[3]=l},a=new Ph(n),s=[],l=0;l<n*n;l++){i(l%n,Math.floor(l/n),o,!1,s);var u=Fh(s[0],s[1],e),c=Fh(s[2],s[1],e),f=Fh(s[2],s[3],e),d=Fh(s[0],s[3],e);a.minimums.push(Math.min(u,c,f,d)),a.maximums.push(Math.max(u,c,f,d)),a.leaves.push(1)}for(r.push(a),n/=2;n>=1;n/=2){var h=r[r.length-1];a=new Ph(n);for(var p=0;p<n*n;p++){i(p%n,Math.floor(p/n),2,!0,s);var v=h.getElevation(s[0],s[1]),m=h.getElevation(s[2],s[1]),y=h.getElevation(s[2],s[3]),g=h.getElevation(s[0],s[3]),b=h.isLeaf(s[0],s[1]),_=h.isLeaf(s[2],s[1]),x=h.isLeaf(s[2],s[3]),w=h.isLeaf(s[0],s[3]),k=Math.min(v.min,m.min,y.min,g.min),E=Math.max(v.max,m.max,y.max,g.max),T=b&&_&&x&&w;a.maximums.push(E),a.minimums.push(k),a.leaves.push(E-k<=5&&T?1:0)}r.push(a)}return r}(this.dem),n=r.length-1,o=r[n];this._addNode(o.minimums[0],o.maximums[0],o.leaves[0]),this._construct(r,0,0,n,0)}}return y(e,[{key:"raycastRoot",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return Oh([e,t,-100],[r,n,this.maximums[0]*a],o,i)}},{key:"raycast",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;if(!this.nodeCount)return null;var s=this.raycastRoot(e,t,r,n,o,i,a);if(null==s)return null;for(var l=[],u=[],c=[],f=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];d.length>0;){var h=d.pop(),p=h.idx,v=h.t,m=h.nodex,y=h.nodey,g=h.depth;if(this.leaves[p]){Dh(m,y,g,e,t,r,n,c,f);var b=1<<g,_=(m+0)/b,x=(m+1)/b,w=(y+0)/b,k=(y+1)/b,E=Fh(_,w,this.dem)*a,T=Fh(x,w,this.dem)*a,S=Fh(x,k,this.dem)*a,C=Fh(_,k,this.dem)*a,A=zh(c[0],c[1],E,f[0],c[1],T,f[0],f[1],S,o,i),I=zh(f[0],f[1],S,c[0],f[1],C,c[0],c[1],E,o,i),M=Math.min(null!==A?A:Number.MAX_VALUE,null!==I?I:Number.MAX_VALUE);if(M!==Number.MAX_VALUE)return M;var P=bl([],o,i,v);if(jh(E,T,C,S,Rh(P[0],c[0],f[0]),Rh(P[1],c[1],f[1]))>=P[2])return v}else{for(var O=0,z=0;z<this._siblingOffset.length;z++){Dh((m<<1)+this._siblingOffset[z][0],(y<<1)+this._siblingOffset[z][1],g+1,e,t,r,n,c,f),c[2]=-100,f[2]=this.maximums[this.childOffsets[p]+z]*a;var R=Oh(c,f,o,i);if(null!=R){var D=R;l[z]=D;for(var L=!1,j=0;j<O&&!L;j++)D>=l[u[j]]&&(u.splice(j,0,z),L=!0);L||(u[O]=z),O++}}for(var F=0;F<O;F++){var N=u[F];d.push({idx:this.childOffsets[p]+N,t:l[N],nodex:(m<<1)+this._siblingOffset[N][0],nodey:(y<<1)+this._siblingOffset[N][1],depth:g+1})}}}return null}},{key:"_addNode",value:function(e,t,r){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}},{key:"_construct",value:function(e,t,r,n,o){if(1!==e[n].isLeaf(t,r)){this.childOffsets[o]||(this.childOffsets[o]=this.nodeCount);for(var i=n-1,a=e[i],s=0,l=0,u=0;u<this._siblingOffset.length;u++){var c=2*t+this._siblingOffset[u][0],f=2*r+this._siblingOffset[u][1],d=a.getElevation(c,f),h=a.isLeaf(c,f),p=this._addNode(d.min,d.max,h);h&&(s|=1<<u),l||(l=p)}for(var v=0;v<this._siblingOffset.length;v++)s&1<<v||this._construct(e,2*t+this._siblingOffset[v][0],2*r+this._siblingOffset[v][1],i,l+v)}}}]),e}();function jh(e,t,r,n,o,i){return mr(mr(e,r,i),mr(t,n,i),o)}function Fh(e,t,r){var n=r.dim,o=I(e*n-.5,0,n-1),i=I(t*n-.5,0,n-1),a=Math.floor(o),s=Math.floor(i),l=Math.min(a+1,n-1),u=Math.min(s+1,n-1);return jh(r.get(a,s),r.get(l,s),r.get(a,u),r.get(l,u),o-a,i-s)}var Nh={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]},Bh=function(){function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(m(this,e),this.uid=t,r.height!==r.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return Z('"'.concat(n,'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".'));this.stride=r.height;var a=this.dim=r.height-2,s=new Uint32Array(r.data.buffer);if(this.pixels=new Uint8Array(r.data.buffer),this.encoding=n||"mapbox",this.borderReady=o,!o){for(var l=0;l<a;l++)s[this._idx(-1,l)]=s[this._idx(0,l)],s[this._idx(a,l)]=s[this._idx(a-1,l)],s[this._idx(l,-1)]=s[this._idx(l,0)],s[this._idx(l,a)]=s[this._idx(l,a-1)];s[this._idx(-1,-1)]=s[this._idx(0,0)],s[this._idx(a,-1)]=s[this._idx(a-1,0)],s[this._idx(-1,a)]=s[this._idx(0,a-1)],s[this._idx(a,a)]=s[this._idx(a-1,a-1)],i&&this._buildQuadTree()}}return y(e,[{key:"tree",get:function(){return this._tree||this._buildQuadTree(),this._tree}},{key:"_buildQuadTree",value:function(){this._tree=new Lh(this)}},{key:"get",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(e=I(e,-1,this.dim),t=I(t,-1,this.dim));var r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[r],this.pixels[r+1],this.pixels[r+2])}},{key:"unpackVector",get:function(){return Nh[this.encoding]}},{key:"_idx",value:function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}},{key:"_unpackMapbox",value:function(e,t,r){return(256*e*256+256*t+r)/10-1e4}},{key:"_unpackTerrarium",value:function(e,t,r){return 256*e+t+r/256-32768}},{key:"getPixels",value:function(){return new Wl({width:this.stride,height:this.stride},this.pixels)}},{key:"backfillBorder",value:function(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var n=t*this.dim,o=t*this.dim+this.dim,i=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=o-1;break;case 1:o=n+1}switch(r){case-1:i=a-1;break;case 1:a=i+1}for(var s=-t*this.dim,l=-r*this.dim,u=i;u<a;u++)for(var c=n;c<o;c++){var f=4*this._idx(c,u),d=4*this._idx(c+s,u+l);this.pixels[f+0]=e.pixels[d+0],this.pixels[f+1]=e.pixels[d+1],this.pixels[f+2]=e.pixels[d+2],this.pixels[f+3]=e.pixels[d+3]}}},{key:"onDeserialize",value:function(){this._tree&&(this._tree.dem=this)}}],[{key:"getUnpackVector",value:function(e){return Nh[e]}},{key:"pack",value:function(t,r){var n=[0,0,0,0],o=e.getUnpackVector(r),i=Math.floor((t+o[3])/o[2]);return n[2]=i%256,i=Math.floor(i/256),n[1]=i%256,i=Math.floor(i/256),n[0]=i,n}}]),e}();xo(Bh,"DEMData"),xo(Lh,"DemMinMaxQuadTree",{omit:["dem"]});var Vh=function(){function e(t,r){m(this,e),this.max=t,this.onRemove=r,this.reset()}return y(e,[{key:"reset",value:function(){for(var e in this.data){var t,r=d(this.data[e]);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.timeout&&clearTimeout(n.timeout),this.onRemove(n.value)}}catch(o){r.e(o)}finally{r.f()}}return this.data={},this.order=[],this}},{key:"add",value:function(e,t,r){var n=this,o=e.wrapped().key;void 0===this.data[o]&&(this.data[o]=[]);var i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout((function(){n.remove(e,i)}),r)),this.data[o].push(i),this.order.push(o),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this}},{key:"has",value:function(e){return e.wrapped().key in this.data}},{key:"getAndRemove",value:function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}},{key:"_getAndRemoveByKey",value:function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}},{key:"getByKey",value:function(e){var t=this.data[e];return t?t[0].value:null}},{key:"get",value:function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}},{key:"remove",value:function(e,t){if(!this.has(e))return this;var r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),o=this.data[r][n];return this.data[r].splice(n,1),o.timeout&&clearTimeout(o.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(o.value),this.order.splice(this.order.indexOf(r),1),this}},{key:"setMaxSize",value:function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this}},{key:"filter",value:function(e){var t=[];for(var r in this.data){var n,o=d(this.data[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;e(i.value)||t.push(i)}}catch(u){o.e(u)}finally{o.f()}}for(var a=0,s=t;a<s.length;a++){var l=s[a];this.remove(l.value.tileID,l)}}}]),e}(),Uh=y((function e(t,r,n){m(this,e),this.func=t,this.mask=r,this.range=n}));Uh.ReadOnly=!1,Uh.ReadWrite=!0,Uh.disabled=new Uh(519,Uh.ReadOnly,[0,1]);var Gh=7680,qh=y((function e(t,r,n,o,i,a){m(this,e),this.test=t,this.ref=r,this.mask=n,this.fail=o,this.depthFail=i,this.pass=a}));qh.disabled=new qh({func:519,mask:0},0,0,Gh,Gh,Gh);var Wh=y((function e(t,r,n){m(this,e),this.blendFunction=t,this.blendColor=r,this.mask=n}));Wh.Replace=[1,0],Wh.disabled=new Wh(Wh.Replace,Et.transparent,[!1,!1,!1,!1]),Wh.unblended=new Wh(Wh.Replace,Et.transparent,[!0,!0,!0,!0]),Wh.alphaBlended=new Wh([1,771],Et.transparent,[!0,!0,!0,!0]);var Zh=1029,Hh=2305,Xh=y((function e(t,r,n){m(this,e),this.enable=t,this.mode=r,this.frontFace=n}));Xh.disabled=new Xh(!1,Zh,Hh),Xh.backCCW=new Xh(!0,Zh,Hh),Xh.backCW=new Xh(!0,Zh,2304),Xh.frontCW=new Xh(!0,1028,2304),Xh.frontCCW=new Xh(!0,1028,Hh);var $h=function(e){p(r,e);var t=v(r);function r(e,n,i){var a;return m(this,r),(a=t.call(this)).id=e,a._onlySymbols=i,n.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(a.reload(),a.transform&&a.update(a.transform))})),n.on("error",(function(){a._sourceErrored=!0})),a._source=n,a._tiles={},a._cache=new Vh(0,a._unloadTile.bind(o(a))),a._timers={},a._cacheTimers={},a._minTileCacheSize=n.minTileCacheSize,a._maxTileCacheSize=n.maxTileCacheSize,a._loadedParentTiles={},a._coveredTiles={},a._state=new Mh,a._isRaster="raster"===a._source.type||"raster-dem"===a._source.type||"custom"===a._source.type&&"raster"===a._source._dataType,a}return y(r,[{key:"onAdd",value:function(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}},{key:"loaded",value:function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}},{key:"getSource",value:function(){return this._source}},{key:"pause",value:function(){this._paused=!0}},{key:"resume",value:function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}}},{key:"_loadTile",value:function(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}},{key:"_unloadTile",value:function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))}},{key:"_abortTile",value:function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))}},{key:"serialize",value:function(){return this._source.serialize()}},{key:"prepare",value:function(e){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(var t in this._tiles){var r=this._tiles[t];this._source.prepareTile(r)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,r.tileID),r.upload(e),r.prepare(this.map.style.imageManager)}else for(var n in this._tiles){var o=this._tiles[n];o.upload(e),o.prepare(this.map.style.imageManager)}}},{key:"getIds",value:function(){return z(this._tiles).map((function(e){return e.tileID})).sort(Kh).map((function(e){return e.key}))}},{key:"getRenderableIds",value:function(e){var t=this,r=[];for(var n in this._tiles)this._isIdRenderable(+n,e)&&r.push(this._tiles[n]);return e?r.sort((function(e,r){var n=e.tileID,o=r.tileID,i=new g(n.canonical.x,n.canonical.y)._rotate(t.transform.angle),a=new g(o.canonical.x,o.canonical.y)._rotate(t.transform.angle);return n.overscaledZ-o.overscaledZ||a.y-i.y||a.x-i.x})).map((function(e){return e.tileID.key})):r.map((function(e){return e.tileID})).sort(Kh).map((function(e){return e.key}))}},{key:"hasRenderableParent",value:function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}},{key:"_isIdRenderable",value:function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}},{key:"reload",value:function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}},{key:"_reloadTile",value:function(e,t){var r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))}},{key:"_tileLoaded",value:function(e,t,r,n){if(n)if(e.state="errored",404!==n.status)this._source.fire(new Je(n,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){var o=this.map.painter.terrain;this.update(this.transform,o.getScaledDemTileSize(),!0),o.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=se.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ye("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}},{key:"_backfillDEM",value:function(e){for(var t=this.getRenderableIds(),r=0;r<t.length;r++){var n=t[r];if(e.neighboringTiles&&e.neighboringTiles[n]){var o=this.getTileByID(n);i(e,o),i(o,e)}}function i(e,t){if(e.dem&&!e.dem.borderReady){e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;var r=t.tileID.canonical.x-e.tileID.canonical.x,n=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),i=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[i]&&(e.neighboringTiles[i].backfilled=!0)))}}}},{key:"getTile",value:function(e){return this.getTileByID(e.key)}},{key:"getTileByID",value:function(e){return this._tiles[e]}},{key:"_retainLoadedChildren",value:function(e,t,r,n){for(var o in this._tiles){var i=this._tiles[o];if(!(n[o]||!i.hasData()||i.tileID.overscaledZ<=t||i.tileID.overscaledZ>r)){for(var a=i.tileID;i&&i.tileID.overscaledZ>t+1;){var s=i.tileID.scaledTo(i.tileID.overscaledZ-1);(i=this._tiles[s.key])&&i.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){n[a.key]=a;break}}}}},{key:"findLoadedParent",value:function(e,t){if(e.key in this._loadedParentTiles){var r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(var n=e.overscaledZ-1;n>=t;n--){var o=e.scaledTo(n),i=this._getLoadedTile(o);if(i)return i}}},{key:"_getLoadedTile",value:function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}},{key:"updateCacheSize",value:function(e,t){t=t||this._source.tileSize;var r=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,o=Math.floor(r*n*5),i="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,o):o,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(a)}},{key:"handleWrapJump",value:function(e){var t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){var r={};for(var n in this._tiles){var o=this._tiles[n];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),r[o.tileID.key]=o}for(var i in this._tiles=r,this._timers)clearTimeout(this._timers[i]),delete this._timers[i];for(var a in this._tiles)this._setTileReloadTimer(+a,this._tiles[a])}}},{key:"update",value:function(e,t,n){var o=this;if(this.transform=e,this._sourceLoaded&&!this._paused&&!this.transform.freezeTileCoverage&&(!this.usedForTerrain||n)){var i;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(e){return new nh(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)})):(i=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter((function(e){return o._source.hasTile(e)})))):i=[];var a=this._updateRetainedTiles(i);if(Yh(this._source.type)&&0!==i.length){for(var s={},l={},u=0,c=Object.keys(a);u<c.length;u++){var f=c[u],h=a[f],p=this._tiles[f];if(p&&!(p.fadeEndTime&&p.fadeEndTime<=se.now())){var v=this.findLoadedParent(h,Math.max(h.overscaledZ-r.maxOverzooming,this._source.minzoom));v&&(this._addTile(v.tileID),s[v.tileID.key]=v.tileID),l[f]=h}}var m=i[i.length-1].overscaledZ;for(var y in this._tiles){var g=this._tiles[y];if(!a[y]&&g.hasData())for(var b=g.tileID;b.overscaledZ>m;){b=b.scaledTo(b.overscaledZ-1);var _=this._tiles[b.key];if(_&&_.hasData()&&l[b.key]){a[y]=g.tileID;break}}}for(var x in s)a[x]||(this._coveredTiles[x]=!0,a[x]=s[x])}for(var w in a)this._tiles[w].clearFadeHold();var k,E=function(e,t){var r=[];for(var n in e)n in t||r.push(n);return r}(this._tiles,a),T=d(E);try{for(T.s();!(k=T.n()).done;){var S=k.value,C=this._tiles[S];C.hasSymbolBuckets&&!C.holdingForFade()?C.setHoldDuration(this.map._fadeDuration):C.hasSymbolBuckets&&!C.symbolFadeFinished()||this._removeTile(+S)}}catch(A){T.e(A)}finally{T.f()}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}}},{key:"releaseSymbolFadeTiles",value:function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}},{key:"_updateRetainedTiles",value:function(e){var t={};if(0===e.length)return t;var n,o={},i=e.reduce((function(e,t){return Math.min(e,t.overscaledZ)}),1/0),a=e[0].overscaledZ,s=Math.max(a-r.maxOverzooming,this._source.minzoom),l=Math.max(a+r.maxUnderzooming,this._source.minzoom),u={},c=d(e);try{for(c.s();!(n=c.n()).done;){var f=n.value,h=this._addTile(f);t[f.key]=f,h.hasData()||i<this._source.maxzoom&&(u[f.key]=f)}}catch(E){c.e(E)}finally{c.f()}this._retainLoadedChildren(u,i,l,t);var p,v=d(e);try{for(v.s();!(p=v.n()).done;){var m=p.value,y=this._tiles[m.key];if(!y.hasData()){if(m.canonical.z>=this._source.maxzoom){var g=m.children(this._source.maxzoom)[0],b=this.getTile(g);if(b&&b.hasData()){t[g.key]=g;continue}}else{var _=m.children(this._source.maxzoom);if(t[_[0].key]&&t[_[1].key]&&t[_[2].key]&&t[_[3].key])continue}for(var x=y.wasRequested(),w=m.overscaledZ-1;w>=s;--w){var k=m.scaledTo(w);if(o[k.key])break;if(o[k.key]=!0,!(y=this.getTile(k))&&x&&(y=this._addTile(k)),y&&(t[k.key]=k,x=y.wasRequested(),y.hasData()))break}}}}catch(E){v.e(E)}finally{v.f()}return t}},{key:"_updateLoadedParentTileCache",value:function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],r=void 0,n=this._tiles[e].tileID;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);var o=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(o))break;n=o}for(var i=0,a=t;i<a.length;i++){var s=a[i];this._loadedParentTiles[s]=r}}}},{key:"_addTile",value:function(e){var t=this._tiles[e.key];if(t)return this._source.prepareTile&&this._source.prepareTile(t),t;(t=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));var r=Boolean(t);if(!r){var n=this.map?this.map.painter:null;t=new Ih(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,this._isRaster),this._source.prepareTile&&this._source.prepareTile(t)||this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,r||this._source.fire(new Ye("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}},{key:"_setTileReloadTimer",value:function(e,t){var r=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((function(){r._reloadTile(e,"expired"),delete r._timers[e]}),n))}},{key:"_removeTile",value:function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}},{key:"clearTiles",value:function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}},{key:"tilesIn",value:function(e,t,r){var n=[],o=this.transform;if(!o)return n;for(var i in this._tiles){var a=this._tiles[i];if(r&&a.clearQueryDebugViz(),!a.holdingForFade()){var s=e.containsTile(a,o,t);s&&n.push(s)}}return n}},{key:"getVisibleCoordinates",value:function(e){var t,r=this,n=this.getRenderableIds(e).map((function(e){return r._tiles[e].tileID})),o=d(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;i.projMatrix=this.transform.calculateProjMatrix(i.toUnwrapped())}}catch(a){o.e(a)}finally{o.f()}return n}},{key:"hasTransition",value:function(){if(this._source.hasTransition())return!0;if(Yh(this._source.type))for(var e in this._tiles){var t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=se.now())return!0}return!1}},{key:"setFeatureState",value:function(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}},{key:"removeFeatureState",value:function(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}},{key:"getFeatureState",value:function(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}},{key:"setDependencies",value:function(e,t,r){var n=this._tiles[e];n&&n.setDependencies(t,r)}},{key:"reloadTilesForDependencies",value:function(e,t){for(var r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(+r,"reloading");this._cache.filter((function(r){return!r.hasDependency(e,t)}))}},{key:"_preloadTiles",value:function(e,t){var r,n=this,o=new Map,i=Array.isArray(e)?e:[e],a=this.map.painter.terrain,s=this.usedForTerrain&&a?a.getScaledDemTileSize():this._source.tileSize,l=d(i);try{for(l.s();!(r=l.n()).done;){var u,c=r.value,f=c.coveringTiles({tileSize:s,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),h=d(f);try{for(h.s();!(u=h.n()).done;){var p=u.value;o.set(p.key,p)}}catch(v){h.e(v)}finally{h.f()}this.usedForTerrain&&c.updateElevation(!1)}}catch(v){l.e(v)}finally{l.f()}O(Array.from(o.values()),(function(e,t){var r=new Ih(e,n._source.tileSize*e.overscaleFactor(),n.transform.tileZoom,n.map.painter,n._isRaster);n._loadTile(r,(function(e){"raster-dem"===n._source.type&&r.dem&&n._backfillDEM(r),t(e,r)}))}),t)}}]),r}(Qe);function Kh(e,t){var r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Yh(e){return"raster"===e||"image"===e||"video"===e}$h.maxOverzooming=10,$h.maxUnderzooming=3;var Jh=function(){function e(t,r,n){m(this,e),this._demTile=t,this._dem=this._demTile.dem,this._scale=r,this._offset=n}return y(e,[{key:"tileCoordToPixel",value:function(e,t){var r=t*this._scale+this._offset[1],n=Math.floor(e*this._scale+this._offset[0]),o=Math.floor(r);return new g(n,o)}},{key:"getElevationAt",value:function(e,t,r,n){var o=e*this._scale+this._offset[0],i=t*this._scale+this._offset[1],a=Math.floor(o),s=Math.floor(i),l=this._dem;return n=!!n,r?mr(mr(l.get(a,s,n),l.get(a,s+1,n),i-s),mr(l.get(a+1,s,n),l.get(a+1,s+1,n),i-s),o-a):l.get(a,s,n)}},{key:"getElevationAtPixel",value:function(e,t,r){return this._dem.get(e,t,!!r)}},{key:"getMeterToDEM",value:function(e){return(1<<this._demTile.tileID.canonical.z)*bs(1,e)*this._dem.stride}}],[{key:"create",value:function(t,r,n){var o=n||t.findDEMTileFor(r);if(o&&o.dem){var i=o.dem,a=o.tileID,s=1<<r.canonical.z-a.canonical.z;return new e(o,o.tileSize/fs/s,[(r.canonical.x/s-a.canonical.x)*i.dim,(r.canonical.y/s-a.canonical.y)*i.dim])}}}]),e}(),Qh=function(){function e(t,r){m(this,e),this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new go(fs,16,0),this.featureIndexArray=new Ta,this.promoteId=r}return y(e,[{key:"insert",value:function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,o,i);for(var s=this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],f=0;f<u.length;f++){var d=u[f];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<fs&&c[1]<fs&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}}},{key:"loadVTLayers",value:function(){if(!this.vtLayers)for(var e in this.vtLayers=new Hu.VectorTile(new Rc(this.rawTileData)).layers,this.sourceLayerCoder=new ah(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={},this.vtLayers)this.vtFeatures[e]=[];return this.vtLayers}},{key:"query",value:function(e,t,r,n){var o=this;this.loadVTLayers();var i=e.params||{},a=Nn(i.filter),s=e.tileResult,l=e.transform,u=s.bufferedTilespaceBounds,c=this.grid.query(u.min.x,u.min.y,u.max.x,u.max.y,(function(e,t,r,n){return Ws(s.bufferedTilespaceGeometry,e,t,r,n)}));c.sort(tp);var f=null;l.elevation&&c.length>0&&(f=Jh.create(l.elevation,this.tileID));for(var d,h={},p=function(l){var u=c[l];if(u===d)return"continue";d=u;var p=o.featureIndexArray.get(u),v=null;o.loadMatchingFeature(h,p,a,i.layers,i.availableImages,t,r,n,(function(t,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return v||(v=Ms(t,o.tileID.canonical,e.tileTransform)),r.queryIntersectsFeature(s,t,n,v,o.z,e.transform,e.pixelPosMatrix,f,i)}))},v=0;v<c.length;v++)p(v);return h}},{key:"loadMatchingFeature",value:function(e,t,r,n,o,i,a,s,l){var u=t.featureIndex,c=t.bucketIndex,f=t.sourceLayerIndex,d=t.layoutVertexArrayOffset,h=this.bucketLayerIDs[c];if(!n||function(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(n,h)){var p=this.sourceLayerCoder.decode(f),v=this.vtLayers[p].feature(u);if(r.needGeometry){var m=Ps(v,!0);if(!r.filter(new xi(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!r.filter(new xi(this.tileID.overscaledZ),v))return;for(var y=this.getId(v,p),g=0;g<h.length;g++){var b=h[g];if(!(n&&n.indexOf(b)<0)){var _=i[b];if(_){var x={};void 0!==y&&s&&(x=s.getState(_.sourceLayer||"_geojsonTileLayer",y));var w=R({},a[b]);w.paint=ep(w.paint,_.paint,v,x,o),w.layout=ep(w.layout,_.layout,v,x,o);var k=!l||l(v,_,x,d);if(k){var E=new lh(v,this.z,this.x,this.y,y);E.layer=w;var T=e[b];void 0===T&&(T=e[b]=[]),T.push({featureIndex:u,feature:E,intersectionZ:k})}}}}}}},{key:"lookupSymbolFeatures",value:function(e,t,r,n,o,i,a,s){var l={};this.loadVTLayers();var u,c=Nn(o),f=d(e);try{for(f.s();!(u=f.n()).done;){var h=u.value;this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:h,layoutVertexArrayOffset:0},c,i,a,s,t)}}catch(p){f.e(p)}finally{f.f()}return l}},{key:"loadFeature",value:function(e){var t=e.featureIndex,r=e.sourceLayerIndex;this.loadVTLayers();var n=this.sourceLayerCoder.decode(r),o=this.vtFeatures[n];if(o[t])return o[t];var i=this.vtLayers[n].feature(t);return o[t]=i,i}},{key:"hasLayer",value:function(e){var t,r=d(this.bucketLayerIDs);try{for(r.s();!(t=r.n()).done;){var n,o=t.value,i=d(o);try{for(i.s();!(n=i.n()).done;)if(e===n.value)return!0}catch(a){i.e(a)}finally{i.f()}}}catch(a){r.e(a)}finally{r.f()}return!1}},{key:"getId",value:function(e,t){var r=e.id;return this.promoteId&&"boolean"==typeof(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]])&&(r=Number(r)),r}}]),e}();function ep(e,t,r,n,o){return U(e,(function(e,i){var a=t instanceof Ii?t.get(i):null;return a&&a.evaluate?a.evaluate(r,n,o):a}))}function tp(e,t){return t-e}xo(Qh,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});var rp=y((function e(t){m(this,e);var r={},n=[];for(var o in t){var i=t[o],a=r[o]={};for(var s in i.glyphs){var l=i.glyphs[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u=l.metrics.localGlyph?2:1,c={x:0,y:0,w:l.bitmap.width+2*u,h:l.bitmap.height+2*u};n.push(c),a[s]=c}}}var f=nf(n),d=f.w,h=f.h,p=new ql({width:d||1,height:h||1});for(var v in t){var y=t[v];for(var g in y.glyphs){var b=y.glyphs[+g];if(b&&0!==b.bitmap.width&&0!==b.bitmap.height){var _=r[v][g],x=b.metrics.localGlyph?2:1;ql.copy(b.bitmap,p,{x:0,y:0},{x:_.x+x,y:_.y+x},b.bitmap)}}}this.image=p,this.positions=r}));xo(rp,"GlyphAtlas");var np=function(){function e(t){m(this,e),this.tileID=new nh(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.tileZoom=t.tileZoom,this.uid=t.uid,this.zoom=t.zoom,this.canonical=t.tileID.canonical,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.enableTerrain=!!t.enableTerrain,this.isSymbolTile=t.isSymbolTile,this.tileTransform=ih(t.tileID.canonical,t.projection),this.projection=t.projection}return y(e,[{key:"parse",value:function(e,t,r,n,o){var i=this;this.status="parsing",this.data=e,this.collisionBoxArray=new ya;var a=new ah(Object.keys(e.layers).sort()),s=new Qh(this.tileID,this.promoteId);s.bucketLayerIDs=[];var l,u,c,f,h={},p=new Td(256,256),v={featureIndex:s,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:p,availableImages:r},m=t.familiesBySource[this.source];for(var y in m){var g=e.layers[y];if(g){var b,_=!1,x=!1,w=d(m[y]);try{for(w.s();!(b=w.n()).done;)"symbol"===b.value[0].type?_=!0:x=!0}catch(F){w.e(F)}finally{w.f()}if((!0!==this.isSymbolTile||_)&&(!1!==this.isSymbolTile||x)){1===g.version&&Z('Vector tile source "'.concat(this.source,'" layer "').concat(y,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));for(var k=a.encode(y),E=[],T=0;T<g.length;T++){var S=g.feature(T),C=s.getId(S,y);E.push({feature:S,id:C,index:T,sourceLayerIndex:k})}var A,I=d(m[y]);try{for(I.s();!(A=I.n()).done;){var M=A.value,P=M[0];void 0!==this.isSymbolTile&&"symbol"===P.type!==this.isSymbolTile||P.minzoom&&this.zoom<Math.floor(P.minzoom)||P.maxzoom&&this.zoom>=P.maxzoom||"none"!==P.visibility&&(op(M,this.zoom,r),(h[P.id]=P.createBucket({index:s.bucketLayerIDs.length,layers:M,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:k,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.name,availableImages:r})).populate(E,v,this.tileID.canonical,this.tileTransform),s.bucketLayerIDs.push(M.map((function(e){return e.id}))))}}catch(F){I.e(F)}finally{I.f()}}}}p.trim();var O={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},R=U(v.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(R).length?n.send("getGlyphs",{uid:this.uid,stacks:R},(function(e,t){l||(l=e,u=t,j.call(i))}),void 0,!1,O):u={};var D=Object.keys(v.iconDependencies);D.length?n.send("getImages",{icons:D,source:this.source,tileID:this.tileID,type:"icons"},(function(e,t){l||(l=e,c=t,j.call(i))}),void 0,!1,O):c={};var L=Object.keys(v.patternDependencies);function j(){if(l)return o(l);if(u&&c&&f){var e=new rp(u),t=new af(c,f);for(var n in h){var i=h[n];i instanceof hd?(op(i.layers,this.zoom,r),Yf(i,u,e.positions,c,t.iconPositions,this.showCollisionBoxes,r,this.tileID.canonical,this.tileZoom,this.projection)):i.hasPattern&&(i instanceof fc||i instanceof Ou||i instanceof ec)&&(op(i.layers,this.zoom,r),i.addFeatures(v,this.tileID.canonical,t.patternPositions,r,this.tileTransform))}this.status="done",o(null,{buckets:z(h).filter((function(e){return!e.isEmpty()})),featureIndex:s,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:p,imageAtlas:t,glyphMap:this.returnDependencies?u:null,iconMap:this.returnDependencies?c:null,glyphPositions:this.returnDependencies?e.positions:null})}}L.length?n.send("getImages",{icons:L,source:this.source,tileID:this.tileID,type:"patterns"},(function(e,t){l||(l=e,f=t,j.call(i))}),void 0,!1,O):f={},j.call(this)}}]),e}();function op(e,t,r){var n,o=new xi(t),i=d(e);try{for(i.s();!(n=i.n()).done;)n.value.recalculate(o,r)}catch(a){i.e(a)}finally{i.f()}}var ip=function(){function e(t){m(this,e),this.entries={},this.scheduler=t}return y(e,[{key:"request",value:function(e,t,r,n){var o=this,i=this.entries[e]=this.entries[e]||{callbacks:[]};if(i.result){var a=f(i.result,2),s=a[0],l=a[1];return this.scheduler?this.scheduler.add((function(){n(s,l)}),t):n(s,l),function(){}}return i.callbacks.push(n),i.cancel||(i.cancel=r((function(r,n){i.result=[r,n];var a,s=d(i.callbacks);try{var l=function(){var e=a.value;o.scheduler?o.scheduler.add((function(){e(r,n)}),t):e(r,n)};for(s.s();!(a=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}setTimeout((function(){return delete o.entries[e]}),3e3)}))),function(){i.result||(i.callbacks=i.callbacks.filter((function(e){return e!==n})),i.callbacks.length||(i.cancel(),delete o.entries[e]))}}}]),e}();function ap(e,t,r){var n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},(function(t){var n=Ve(e.request,(function(e,n,o,i){e?t(e):n&&t(null,{vectorTile:r?void 0:new Hu.VectorTile(new Rc(n)),rawData:n,cacheControl:o,expires:i})}));return function(){n.cancel(),t()}}),t)}var sp=rl(new Float32Array(16)),lp=function(){function e(t){m(this,e),this.name=t.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}return y(e,[{key:"project",value:function(e,t){return{x:0,y:0,z:0}}},{key:"unproject",value:function(e,t){return new ps(0,0)}},{key:"projectTilePoint",value:function(e,t,r){return{x:e,y:t,z:0}}},{key:"locationPoint",value:function(e,t){return e._coordinatePoint(e.locationCoordinate(t),!1)}},{key:"pixelsPerMeter",value:function(e,t){return bs(1,e)*t}},{key:"farthestPixelDistance",value:function(e){return function(e,t){var r=e.fovAboveCenter,n=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,o=(e._camera.position[2]*e.worldSize-n)/Math.cos(e._pitch),i=Math.sin(r)*o/Math.sin(Math.max(Math.PI/2-e._pitch-r,.01)),a=Math.sin(e._pitch)*i+o;return Math.min(1.01*a,o*(1/e._horizonShift))}(e,e.pixelsPerMeter)}},{key:"pointCoordinate",value:function(e,t,r,n){var o=e.horizonLineFromTop(!1),i=new g(t,Math.max(o,r));return e.rayIntersectionCoordinate(e.pointRayIntersection(i,n))}},{key:"createInversionMatrix",value:function(e,t){return sp}},{key:"createTileMatrix",value:function(e,t,r){var n,o,i,a=r.canonical,s=rl(new Float64Array(16));if(this.isReprojectedInTileSpace){var l=ih(a,this);n=1,o=l.x+r.wrap*l.scale,i=l.y,il(s,s,[n/l.scale,n/l.scale,e.pixelsPerMeter/t])}else n=t/e.zoomScale(a.z),o=(a.x+Math.pow(2,a.z)*r.wrap)*n,i=a.y*n;return ol(s,s,[o,i,0]),il(s,s,[n/fs,n/fs,1]),s}},{key:"upVector",value:function(e,t,r){return[0,0,1]}},{key:"upVectorScale",value:function(e,t,r){return{metersToTile:1,metersToLabelSpace:1}}}]),e}(),up=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).wrap=!0,n.supportsWorldCopies=!0,n.supportsTerrain=!0,n.supportsFog=!0,n.supportsFreeCamera=!0,n.isReprojectedInTileSpace=!1,n.unsupportedLayers=[],n.range=null,n}return y(r,[{key:"project",value:function(e,t){return{x:ys(e),y:gs(t),z:0}}},{key:"unproject",value:function(e,t){var r=_s(e),n=xs(t);return new ps(r,n)}}]),r}(lp),cp=function(e){p(r,e);var t=v(r);function r(e){var n;m(this,r),(n=t.call(this,e)).range=[4,7],n.center=e.center||[-96,37.5];var o=n.parallels=e.parallels||[29.5,45.5],i=f(o,2),a=i[0],s=i[1],l=Math.sin(k(a));return n.n=(l+Math.sin(k(s)))/2,n.c=1+l*(2*n.n-l),n.r0=Math.sqrt(n.c)/n.n,n}return y(r,[{key:"project",value:function(e,t){var r=this.n,n=this.c,o=this.r0,i=k(e-this.center[0]),a=k(t),s=Math.sqrt(n-2*r*Math.sin(a))/r;return{x:s*Math.sin(i*r),y:s*Math.cos(i*r)-o,z:0}}},{key:"unproject",value:function(e,t){var r=this.n,n=this.c,o=this.r0+t,i=Math.atan2(e,Math.abs(o))*Math.sign(o);o*r<0&&(i-=Math.PI*Math.sign(e)*Math.sign(o));var a=k(this.center[0])*r,s=E((i=P(i,-Math.PI-a,Math.PI-a))/r)+this.center[0],l=Math.asin(I((n-(e*e+o*o)*r*r)/(2*r),-1,1)),u=I(E(l),-85.051129,ks);return new ps(s,u)}}]),r}(lp),fp=1.340264,dp=-.081106,hp=893e-6,pp=.003796,vp=Math.sqrt(3)/2,mp=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"project",value:function(e,t){t=t/180*Math.PI,e=e/180*Math.PI;var r=Math.asin(vp*Math.sin(t)),n=r*r,o=n*n*n;return{x:.5*(e*Math.cos(r)/(vp*(fp+3*dp*n+o*(7*hp+9*pp*n)))/Math.PI+.5),y:1-.5*(r*(fp+dp*n+o*(hp+pp*n))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;for(var r,n=t=(2*(1-t)-1)*Math.PI,o=n*n,i=o*o*o,a=0;a<12&&(i=(o=(n=I(n-(r=(n*(fp+dp*o+i*(hp+pp*o))-t)/(fp+3*dp*o+i*(7*hp+9*pp*o))),-Math.PI/3,Math.PI/3))*n)*o*o,!(Math.abs(r)<1e-12));++a);var s=vp*e*(fp+3*dp*o+i*(7*hp+9*pp*o))/Math.cos(n),l=Math.asin(Math.sin(n)/vp),u=I(180*s/Math.PI,-180,180),c=I(180*l/Math.PI,-85.051129,ks);return new ps(u,c)}}]),r}(lp),yp=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).wrap=!0,n.supportsWorldCopies=!0,n}return y(r,[{key:"project",value:function(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}},{key:"unproject",value:function(e,t){var r=360*(e-.5),n=I(360*(.5-t),-85.051129,ks);return new ps(r,n)}}]),r}(lp),gp=Math.PI/2;function bp(e){return Math.tan((gp+e)/2)}var _p=function(e){p(r,e);var t=v(r);function r(e){var n;m(this,r),(n=t.call(this,e)).center=e.center||[0,30];var o=n.parallels=e.parallels||[30,30],i=f(o,2),a=i[0],s=i[1],l=k(a),u=k(s),c=Math.cos(l);return n.n=l===u?Math.sin(l):Math.log(c/Math.cos(u))/Math.log(bp(u)/bp(l)),n.f=c*Math.pow(bp(l),n.n)/n.n,n}return y(r,[{key:"project",value:function(e,t){t=k(t),e=k(e-this.center[0]);var r=1e-6,n=this.n,o=this.f;o>0?t<-gp+r&&(t=-gp+r):t>gp-r&&(t=gp-r);var i=o/Math.pow(bp(t),n),a=i*Math.sin(n*e),s=o-i*Math.cos(n*e);return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+.5),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI,t=(2*(1-t)-.5)*Math.PI;var r=this.n,n=this.f,o=n-t,i=Math.sign(o),a=Math.sign(r)*Math.sqrt(e*e+o*o),s=Math.atan2(e,Math.abs(o))*i;o*r<0&&(s-=Math.PI*Math.sign(e)*i);var l=I(E(s/r)+this.center[0],-180,180),u=I(E(2*Math.atan(Math.pow(n/a,1/r))-gp),-85.051129,ks);return new ps(l,u)}}]),r}(lp),xp=k(ks),wp=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"project",value:function(e,t){var r=(t=k(t))*t,n=r*r;return{x:.5*((e=k(e))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){e=(2*e-.5)*Math.PI;var r=t=(2*(1-t)-1)*Math.PI,n=25,o=0,i=r*r;do{var a=(i=r*r)*i;r=I(r-(o=(r*(1.007226+i*(.015085+a*(.028874*i-.044475-.005916*a)))-t)/(1.007226+i*(.045255+a*(.259866*i-.311325-.005916*11*a)))),-xp,xp)}while(Math.abs(o)>1e-6&&--n>0);var s=I(E(e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979))),-180,180),l=E(r);return new ps(s,l)}}]),r}(lp),kp=k(ks),Ep=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"project",value:function(e,t){t=k(t),e=k(e);var r=Math.cos(t),n=2/Math.PI,o=Math.acos(r*Math.cos(e/2)),i=Math.sin(o)/o,a=.5*(e*n+2*r*Math.sin(e/2)/i)||0,s=.5*(t+Math.sin(t)/i)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}},{key:"unproject",value:function(e,t){var r=e=(2*e-.5)*Math.PI,n=t=(2*(1-t)-1)*Math.PI,o=25,i=1e-6,a=0,s=0;do{var l=Math.cos(n),u=Math.sin(n),c=2*u*l,f=u*u,d=l*l,h=Math.cos(r/2),p=Math.sin(r/2),v=2*h*p,m=p*p,y=1-d*h*h,g=y?1/y:0,b=y?Math.acos(l*h)*Math.sqrt(1/y):0,_=.5*(2*b*l*p+2*r/Math.PI)-e,x=.5*(b*u+n)-t,w=.5*g*(d*m+b*l*h*f)+1/Math.PI,k=g*(v*c/4-b*u*p),T=.125*g*(c*p-b*u*d*v),S=.5*g*(f*h+b*m*l)+.5,C=k*T-S*w;s=(_*T-x*w)/C,r=I(r-(a=(x*k-_*S)/C),-Math.PI,Math.PI),n=I(n-s,-kp,kp)}while((Math.abs(a)>i||Math.abs(s)>i)&&--o>0);return new ps(E(r),E(n))}}]),r}(lp),Tp=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).center=e.center||[0,0],n.parallels=e.parallels||[0,0],n.cosPhi=Math.max(.01,Math.cos(k(n.parallels[0]))),n.scale=1/(2*Math.max(Math.PI*n.cosPhi,1/n.cosPhi)),n.wrap=!0,n.supportsWorldCopies=!0,n}return y(r,[{key:"project",value:function(e,t){var r=this.scale,n=this.cosPhi;return{x:k(e)*n*r+.5,y:-Math.sin(k(t))/n*r+.5,z:0}}},{key:"unproject",value:function(e,t){var r=this.scale,n=this.cosPhi,o=-(t-.5)/r,i=I(E((e-.5)/r)/n,-180,180),a=Math.asin(I(o*n,-1,1)),s=I(E(a),-85.051129,ks);return new ps(i,s)}}]),r}(lp);e.ARRAY_TYPE=el,e.AUTH_ERR_MSG=pe,e.Aabb=Rl,e.Actor=function(){function e(t,r,n){m(this,e),this.target=t,this.parent=r,this.mapId=n,this.callbacks={},this.cancelCallbacks={},B(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=$()?t:_,this.scheduler=new Id}return y(e,[{key:"send",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=a,this.callbacks[s]=r);var l=re(this.globalScope)?void 0:[];return this.target.postMessage({id:s,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:To(t,l)},l),{cancel:function(){r&&delete o.callbacks[s],o.target.postMessage({id:s,type:"<cancel>",targetMapId:n,sourceMapId:o.mapId})}}}},{key:"receive",value:function(e){var t=this,r=e.data,n=r.id;if(n&&(!r.targetMapId||this.mapId===r.targetMapId))if("<cancel>"===r.type){var o=this.cancelCallbacks[n];delete this.cancelCallbacks[n],o&&o.cancel()}else if(r.mustQueue||$()){var i=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add((function(){return t.processTask(n,r)}),i&&i.metadata||{type:"message"})}else this.processTask(n,r)}},{key:"processTask",value:function(e,t){var r=this;if("<response>"===t.type){var n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(So(t.error)):n(null,So(t.data)))}else{var o=re(this.globalScope)?void 0:[],i=t.hasCallback?function(t,n){delete r.cancelCallbacks[e],r.target.postMessage({id:e,type:"<response>",sourceMapId:r.mapId,error:t?To(t):null,data:To(n,o)},o)}:function(e){},a=So(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,a,i);else if(this.parent.getWorkerSource){var s=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,s[0],a.source)[s[1]](a,i)}else i(new Error("Could not find function ".concat(t.type)))}}},{key:"remove",value:function(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}]),e}(),e.CanonicalTileID=th,e.Color=Et,e.ColorMode=Wh,e.CullFaceMode=Xh,e.DEMData=Bh,e.DataConstantProperty=Mi,e.DedupedRequest=ip,e.DepthMode=Uh,e.EXTENT=fs,e.Elevation=function(){function e(){m(this,e)}return y(e,[{key:"isDataAvailableAtPoint",value:function(e){var t=this._source();if(!t||e.y<0||e.y>1)return!1;var r=t.getSource().maxzoom,n=1<<r,o=Math.floor(e.x),i=Math.floor((e.x-o)*n),a=Math.floor(e.y*n),s=this.findDEMTileFor(new nh(r,o,r,i,a));return!(!s||!s.dem)}},{key:"getAtPointOrZero",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getAtPoint(e,t)||0}},{key:"getAtPoint",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];null==t&&(t=null);var n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;var o=n.getSource().maxzoom,i=1<<o,a=Math.floor(e.x),s=e.x-a,l=new nh(o,a,o,Math.floor(s*i),Math.floor(e.y*i)),u=this.findDEMTileFor(l);if(!u||!u.dem)return t;var c=u.dem,f=1<<u.tileID.canonical.z,d=(s*f-u.tileID.canonical.x)*c.dim,h=(e.y*f-u.tileID.canonical.y)*c.dim,p=Math.floor(d),v=Math.floor(h);return(r?this.exaggeration():1)*mr(mr(c.get(p,v),c.get(p,v+1),h-v),mr(c.get(p+1,v),c.get(p+1,v+1),h-v),d-p)}},{key:"getAtTileOffset",value:function(e,t,r){var n=1<<e.canonical.z;return this.getAtPointOrZero(new Es(e.wrap+(e.canonical.x+t/fs)/n,(e.canonical.y+r/fs)/n))}},{key:"getAtTileOffsetFunc",value:function(e,t,r,n){var o=this;return function(i){var a=o.getAtTileOffset(e,i.x,i.y),s=n.upVector(e.canonical,i.x,i.y);return gl(s,s,a*n.upVectorScale(e.canonical,t,r).metersToTile),s}}},{key:"getForTilePoints",value:function(e,t,r,n){var o=this,i=Jh.create(this,e,n);return!!i&&(t.forEach((function(e){e[2]=o.exaggeration()*i.getElevationAt(e[0],e[1],r)})),!0)}},{key:"getMinMaxForTile",value:function(e){var t=this.findDEMTileFor(e);if(!t||!t.dem)return null;for(var r=t.dem.tree,n=t.tileID,o=1<<e.canonical.z-n.canonical.z,i=e.canonical.x/o-n.canonical.x,a=e.canonical.y/o-n.canonical.y,s=0,l=0;l<e.canonical.z-n.canonical.z&&!r.leaves[s];l++){i*=2,a*=2;var u=2*Math.floor(a)+Math.floor(i);s=r.childOffsets[s]+u,i%=1,a%=1}return{min:this.exaggeration()*r.minimums[s],max:this.exaggeration()*r.maximums[s]}}},{key:"getMinElevationBelowMSL",value:function(){throw new Error("Pure virtual method called.")}},{key:"raycast",value:function(e,t,r){throw new Error("Pure virtual method called.")}},{key:"pointCoordinate",value:function(e){throw new Error("Pure virtual method called.")}},{key:"_source",value:function(){throw new Error("Pure virtual method called.")}},{key:"exaggeration",value:function(){throw new Error("Pure virtual method called.")}},{key:"findDEMTileFor",value:function(e){throw new Error("Pure virtual method called.")}},{key:"visibleDemTiles",get:function(){throw new Error("Getter must be implemented in subclass.")}}]),e}(),e.ErrorEvent=Je,e.EvaluationParameters=xi,e.Event=Ye,e.Evented=Qe,e.FillExtrusionBucket=ec,e.Frustum=zl,e.GLOBE_RADIUS=Dd,e.GlobeSharedBuffers=function(){function e(t){m(this,e),this._createGrid(t),this._createPoles(t),this._createAtmosphere(t)}return y(e,[{key:"destroy",value:function(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();var e,t=d(this._poleSegments);try{for(t.s();!(e=t.n()).done;)e.value.destroy()}catch(r){t.e(r)}finally{t.f()}this._gridSegments.destroy(),this.atmosphereVertexBuffer.destroy(),this.atmosphereIndexBuffer.destroy(),this.atmosphereSegments.destroy(),this._wireframeIndexBuffer&&(this._wireframeIndexBuffer.destroy(),this._wireframeSegments.destroy())}},{key:"_createGrid",value:function(e){for(var t=new Ui,r=new na,n=65,o=0;o<n;o++)for(var i=0;i<n;i++)t.emplaceBack(i,o);for(var a=0;a<64;a++)for(var s=0;s<64;s++){var l=a*n+s;r.emplaceBack(l+1,l,l+n),r.emplaceBack(l+n,l+n+1,l+1)}this._gridBuffer=e.createVertexBuffer(t,Rd.members),this._gridIndexBuffer=e.createIndexBuffer(r,!0),this._gridSegments=cs.simpleSegment(0,0,4225,8192)}},{key:"_createPoles",value:function(e){for(var t=new na,r=0;r<=64;r++)t.emplaceBack(0,r+1,r+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);var n=new sa,o=new sa;this._poleSegments=[];for(var i=0,a=0;i<5;i++){var s=1<<i,l=512*s/Math.PI/2,u=360/s;n.emplaceBack(0,-l,0,0,0,.5,0),o.emplaceBack(0,-l,0,0,0,.5,1);for(var c=0;c<=64;c++){var d=c/64,h=mr(0,u,d),p=qd(Jd,Qd,h,l),v=f(p,3),m=v[0],y=v[1],g=v[2];n.emplaceBack(m,y,g,0,0,d,0),o.emplaceBack(m,y,g,0,0,d,1)}this._poleSegments.push(cs.simpleSegment(a,0,66,64)),a+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(n,Od,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(o,Od,!1)}},{key:"_createAtmosphere",value:function(e){var t=new la;t.emplaceBack(-1,1,1,0,0),t.emplaceBack(1,1,1,1,0),t.emplaceBack(1,-1,1,1,1),t.emplaceBack(-1,-1,1,0,1);var r=new na;r.emplaceBack(0,1,2),r.emplaceBack(2,3,0),this.atmosphereVertexBuffer=e.createVertexBuffer(t,Pd.members),this.atmosphereIndexBuffer=e.createIndexBuffer(r),this.atmosphereSegments=cs.simpleSegment(0,0,4,2)}},{key:"getGridBuffers",value:function(){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments]}},{key:"getPoleBuffers",value:function(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}},{key:"getWirefameBuffers",value:function(e){if(!this._wireframeSegments){for(var t=new ca,r=64,n=r+1,o=0;o<r;o++)for(var i=0;i<r;i++){var a=o*n+i;t.emplaceBack(a,a+1),t.emplaceBack(a,a+n),t.emplaceBack(a,a+n+1)}this._wireframeIndexBuffer=e.createIndexBuffer(t),this._wireframeSegments=cs.simpleSegment(0,0,r*r,t.length)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments]}}]),e}(),e.GlyphManager=Lf,e.ImagePosition=of,e.LineAtlas=Td,e.LngLat=ps,e.LngLatBounds=ds,e.LocalGlyphMode=Df,e.MAX_MERCATOR_LATITUDE=ks,e.MercatorCoordinate=Es,e.ONE_EM=wc,e.OverscaledTileID=nh,e.Properties=Di,e.RGBAImage=Wl,e.Ray=function(){function e(t,r){m(this,e),this.pos=t,this.dir=r}return y(e,[{key:"intersectsPlane",value:function(e,t,r){var n=xl(t,this.dir);if(Math.abs(n)<1e-6)return!1;var o=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/n;return r[0]=this.pos[0]+this.dir[0]*o,r[1]=this.pos[1]+this.dir[1]*o,r[2]=this.pos[2]+this.dir[2]*o,!0}},{key:"closestPointOnSphere",value:function(e,t,r){if(function(e,t){var r=e[0],n=e[1],o=e[2],i=t[0],a=t[1],s=t[2];return Math.abs(r-i)<=Qs*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=Qs*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(o-s)<=Qs*Math.max(1,Math.abs(o),Math.abs(s))}(this.pos,e)||0===t)return r[0]=r[1]=r[2]=0,!1;var n=f(this.dir,3),o=n[0],i=n[1],a=n[2],s=this.pos[0]-e[0],l=this.pos[1]-e[1],u=this.pos[2]-e[2],c=o*o+i*i+a*a,d=2*(s*o+l*i+u*a),h=d*d-4*c*(s*s+l*l+u*u-t*t);if(h<0){var p=Math.max(-d/2,0),v=s+o*p,m=l+i*p,y=u+a*p,g=Math.hypot(v,m,y);return r[0]=v*t/g,r[1]=m*t/g,r[2]=y*t/g,!1}var b=(-d-Math.sqrt(h))/(2*c);if(b<0){var _=Math.hypot(s,l,u);return r[0]=s*t/_,r[1]=l*t/_,r[2]=u*t/_,!1}return r[0]=s+o*b,r[1]=l+i*b,r[2]=u+a*b,!0}}]),e}(),e.RequestManager=function(){function e(t,r,n){m(this,e),this._transformRequestFn=t,this._customAccessToken=r,this._silenceAuthErrors=!!n,this._createSkuToken()}return y(e,[{key:"_createSkuToken",value:function(){var e=function(){for(var e="",t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",he,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}},{key:"_isSkuTokenExpired",value:function(){return Date.now()>this._skuTokenExpiresAt}},{key:"transformRequest",value:function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}},{key:"normalizeStyleURL",value:function(e,t){if(!ve(e))return e;var r=ge(e);return r.path="/styles/v1".concat(r.path),this._makeAPIURL(r,this._customAccessToken||t)}},{key:"normalizeGlyphsURL",value:function(e,t){if(!ve(e))return e;var r=ge(e);return r.path="/fonts/v1".concat(r.path),this._makeAPIURL(r,this._customAccessToken||t)}},{key:"normalizeSourceURL",value:function(e,t){if(!ve(e))return e;var r=ge(e);return r.path="/v4/".concat(r.authority,".json"),r.params.push("secure"),this._makeAPIURL(r,this._customAccessToken||t)}},{key:"normalizeSpriteURL",value:function(e,t,r,n){var o=ge(e);return ve(e)?(o.path="/styles/v1".concat(o.path,"/sprite").concat(t).concat(r),this._makeAPIURL(o,this._customAccessToken||n)):(o.path+="".concat(t).concat(r),be(o))}},{key:"normalizeTileURL",value:function(e,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ve(e))return e;var n=ge(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,"".concat(t||r&&"raster"!==n.authority&&512===r?"@2x":"").concat(ue.supported?".webp":"$1")),"raster"===n.authority?n.path="/".concat(le.RASTER_URL_PREFIX).concat(n.path):(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/".concat(le.TILE_URL_VERSION).concat(n.path));var o=this._customAccessToken||function(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;){var n=t.value.match(/^access_token=(.*)$/);if(n)return n[1]}}catch(o){r.e(o)}finally{r.f()}return null}(n.params)||le.ACCESS_TOKEN;return le.REQUIRE_ACCESS_TOKEN&&o&&this._skuToken&&n.params.push("sku=".concat(this._skuToken)),this._makeAPIURL(n,o)}},{key:"canonicalizeTileURL",value:function(e,t){var r=ge(e);if(!r.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!r.path.match(/\.[\w]+$/))return e;var n="mapbox://";r.path.match(/^\/raster\/v1\//)?n+="raster/".concat(r.path.replace("/".concat(le.RASTER_URL_PREFIX,"/"),"")):n+="tiles/".concat(r.path.replace("/".concat(le.TILE_URL_VERSION,"/"),""));var o=r.params;return t&&(o=o.filter((function(e){return!e.match(/^access_token=/)}))),o.length&&(n+="?".concat(o.join("&"))),n}},{key:"canonicalizeTileset",value:function(e,t){var r,n=!!t&&ve(t),o=[],i=d(e.tiles||[]);try{for(i.s();!(r=i.n()).done;){var a=r.value;me(a)?o.push(this.canonicalizeTileURL(a,n)):o.push(a)}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"_makeAPIURL",value:function(e,t){var r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=ge(le.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){var o=e.params.indexOf("secure");o>=0&&e.params.splice(o,1)}if("/"!==n.path&&(e.path="".concat(n.path).concat(e.path)),!le.REQUIRE_ACCESS_TOKEN)return be(e);if(t=t||le.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. ".concat(r));if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ".concat(r))}return e.params=e.params.filter((function(e){return-1===e.indexOf("access_token")})),e.params.push("access_token=".concat(t||"")),be(e)}}]),e}(),e.ResourceType=je,e.SegmentVector=cs,e.SourceCache=$h,e.StencilMode=qh,e.StructArrayLayout1ui2=fa,e.StructArrayLayout2f1f2i16=ta,e.StructArrayLayout2i4=Ui,e.StructArrayLayout2ui4=ca,e.StructArrayLayout3f12=Yi,e.StructArrayLayout3ui6=na,e.StructArrayLayout4i8=qi,e.Texture=Ed,e.Tile=Ih,e.Transitionable=Ei,e.Uniform1f=Va,e.Uniform1i=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=0,o}return y(r,[{key:"set",value:function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}}]),r}(Ba),e.Uniform2f=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=[0,0],o}return y(r,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}}]),r}(Ba),e.Uniform3f=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=[0,0,0],o}return y(r,[{key:"set",value:function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}}]),r}(Ba),e.Uniform4f=Ua,e.UniformColor=Ga,e.UniformMatrix2f=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=Za,o}return y(r,[{key:"set",value:function(e){for(var t=0;t<4;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix2fv(this.location,!1,e);break}}}]),r}(Ba),e.UniformMatrix3f=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=Wa,o}return y(r,[{key:"set",value:function(e){for(var t=0;t<9;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix3fv(this.location,!1,e);break}}}]),r}(Ba),e.UniformMatrix4f=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e,n)).current=qa,o}return y(r,[{key:"set",value:function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}}]),r}(Ba),e.UnwrappedTileID=rh,e.ValidationError=Mn,e.VectorTileWorkerSource=function(e){p(r,e);var t=v(r);function r(e,n,o,i,a){var s;return m(this,r),(s=t.call(this)).actor=e,s.layerIndex=n,s.availableImages=o,s.loadVectorData=a||ap,s.loading={},s.loaded={},s.deduped=new ip(e.scheduler),s.isSpriteLoaded=i,s.scheduler=e.scheduler,s}return y(r,[{key:"loadTile",value:function(e,t){var r=this,n=e.uid,o=e&&e.request,i=o&&o.collectResourceTiming,a=this.loading[n]=new np(e);a.abort=this.loadVectorData(e,(function(s,l){var u=!r.loading[n];if(delete r.loading[n],u||s||!l)return a.status="done",u||(r.loaded[n]=a),t(s);var c=l.rawData,f={};l.expires&&(f.expires=l.expires),l.cacheControl&&(f.cacheControl=l.cacheControl),a.vectorTile=l.vectorTile||new Hu.VectorTile(new Rc(c));var d=function(){a.parse(a.vectorTile,r.layerIndex,r.availableImages,r.actor,(function(e,r){if(e||!r)return t(e);var n={};if(i){var a=Ad(o);a.length>0&&(n.resourceTiming=JSON.parse(JSON.stringify(a)))}t(null,R({rawTileData:c.slice(0)},r,f,n))}))};r.isSpriteLoaded?d():r.once("isSpriteLoaded",(function(){r.scheduler?r.scheduler.add(d,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):d()})),r.loaded=r.loaded||{},r.loaded[n]=a}))}},{key:"reloadTile",value:function(e,t){var r=this,n=this.loaded,o=e.uid,i=this;if(n&&n[o]){var a=n[o];a.showCollisionBoxes=e.showCollisionBoxes,a.enableTerrain=!!e.enableTerrain,a.projection=e.projection,a.tileTransform=ih(e.tileID.canonical,e.projection);var s=function(e,n){var o=a.reloadCallback;o&&(delete a.reloadCallback,a.parse(a.vectorTile,i.layerIndex,r.availableImages,i.actor,o)),t(e,n)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}}},{key:"abortTile",value:function(e,t){var r=e.uid,n=this.loading[r];n&&(n.abort&&n.abort(),delete this.loading[r]),t()}},{key:"removeTile",value:function(e,t){var r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()}}]),r}(Qe),e.WritingMode=sf,e.ZoomHistory=Co,e.add=hl,e.addDynamicAttributes=ud,e.adjoint=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8];return e[0]=a*c-s*u,e[1]=o*u-n*c,e[2]=n*s-o*a,e[3]=s*l-i*c,e[4]=r*c-o*l,e[5]=o*i-r*s,e[6]=i*u-a*l,e[7]=n*l-r*u,e[8]=r*a-n*i,e},e.asyncAll=O,e.bezier=C,e.bindAll=B,e.boundsAttributes=Ch,e.bufferConvexPolygon=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=P(n-1,-1,e.length-1),i=P(n+1,-1,e.length-1),a=e[n],s=e[i],l=e[o].sub(a).unit(),u=s.sub(a).unit(),c=u.angleWithSep(l.x,l.y),f=l.add(u).unit().mult(-1*t/Math.sin(c/2));r.push(a.add(f))}return r},e.cacheEntryPossiblyAdded=function(e){++Le>ze&&(e.getActor().send("enforceCacheSizeLimit",Oe),Le=0)},e.calculateGlobeLabelMatrix=function(e,t){var r=e._center,n=r.lng,o=r.lat,i=$d(0,0,e.worldSize/e._projectionScaler,n,o);return nl(i,i,function(e){var t=rl(new Float64Array(16)),r=1/Hd(e);return ol(t,t,e.min),il(t,t,[r,r,r]),t}(Vd(t)))},e.calculateGlobeMatrix=Kd,e.calculateGlobeMercatorMatrix=function(e){var t=e.worldSize,r=e.point,n=bs(1,e.center.lat)*t,o=e.pixelsPerMeter,i=t/(n/e.pixelsPerMeter),a=rl(new Float64Array(16));return ol(a,a,[r.x,r.y,0]),il(a,a,[i,i,o]),Float32Array.from(a)},e.circumferenceAtLatitude=ms,e.clamp=I,e.clearTileCache=function(e){var t=_.caches.delete(Pe);e&&t.catch(e).then((function(){return e()}))},e.clipLine=Pf,e.clone=function(e){var t=new el(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=q,e.collisionCircleLayout=xc,e.config=le,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new el(16);return el!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=tl,e.createExpression=En,e.createLayout=Bi,e.createStyleLayer=function(e){return"custom"===e.type?new _d(e):new kd[e.type](e)},e.cross=wl,e.degToRad=k,e.div=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e},e.dot=xl,e.earthRadius=hs,e.ease=A,e.easeCubicInOut=S,e.emitValidationErrors=yo,e.endsWith=V,e.enforceCacheSizeLimit=function(e){Re(),xe&&xe.then((function(t){t.keys().then((function(r){for(var n=0;n<r.length-e;n++)t.delete(r[n])}))}))},e.evaluateSizeForFeature=Tc,e.evaluateSizeForZoom=Sc,e.evaluateVariableOffset=Kf,e.evented=yi,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=se,e.exported$1=ue,e.extend=R,e.extend$1=tt,e.filterObject=G,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r+r,s=n+n,l=o+o,u=r*a,c=n*a,f=n*s,d=o*a,h=o*s,p=o*l,v=i*a,m=i*s,y=i*l;return e[0]=1-f-p,e[1]=c+y,e[2]=d-m,e[3]=0,e[4]=c-y,e[5]=1-u-p,e[6]=h+v,e[7]=0,e[8]=d+m,e[9]=h-v,e[10]=1-u-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.furthestTileCorner=function(e){var t=Math.round((e+45+360)%360/90)%4;return T[t]},e.getAABBPointSquareDist=function(e,t,r){for(var n=0,o=0;o<2;++o){var i=r?r[o]:0;e[o]>i&&(n+=(e[o]-i)*(e[o]-i)),t[o]<i&&(n+=(i-t[o])*(i-t[o]))}return n},e.getAnchorAlignment=bf,e.getAnchorJustification=Jf,e.getBounds=function(e){var t,r=1/0,n=1/0,o=-1/0,i=-1/0,a=d(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;r=Math.min(r,s.x),n=Math.min(n,s.y),o=Math.max(o,s.x),i=Math.max(i,s.y)}}catch(l){a.e(l)}finally{a.f()}return{min:new g(r,n),max:new g(o,i)}},e.getColumn=function(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]},e.getGridMatrix=function(e,t){var r=f(t,2),n=r[0],o=r[1],i=.015625;return[0,(o[1]-n[1])*i,1<<e.z,(o[0]-n[0])*i,0,e.y,n[0],n[1],i]},e.getImage=Xe,e.getJSON=function(e,t){return Be(R(e,{type:"json"}),t)},e.getMapSessionAPI=Ie,e.getPerformanceMeasurement=Ad,e.getProjection=function(e){var t=e.parallels,r=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new up(e);case"equirectangular":return new yp(e);case"naturalEarth":return new wp(e);case"equalEarth":return new mp(e);case"winkelTripel":return new Ep(e);case"albers":return r?new Tp(e):new cp(e);case"lambertConformalConic":return r?new Tp(e):new _p(e)}throw new Error("Invalid projection name: ".concat(e.name))},e.getRTLTextPluginStatus=gi,e.getReferrer=Ne,e.getTilePoint=function(e,t){var r=t.x,n=t.y;return new g(((r-(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0))*e.scale-e.x)*fs,(n*e.scale-e.y)*fs)},e.getTileVec3=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return dl(((t.x-r)*e.scale-e.x)*fs,(t.y*e.scale-e.y)*fs,ws(t.z,t.y))},e.getVideo=function(e,t){var r=_.document.createElement("video");r.muted=!0,r.onloadstart=function(){t(null,r)};for(var n=0;n<e.length;n++){var o=_.document.createElement("source");qe(e[n])||(r.crossOrigin="Anonymous"),o.src=e[n],r.appendChild(o)}return{cancel:function(){}}},e.globeECEFOrigin=function(e,t){var r=[0,0,0];return kl(r,r,Xd(Vd(t.canonical))),kl(r,r,e),r},e.globePixelsToTileUnits=function(e,t){return fs/(512*Math.pow(2,e))*Hd(Vd(t))},e.globePoleMatrixForTile=function(e,t,r){var n=rl(new Float64Array(16)),o=1<<e,i=360*(t/o-.5),a=r.point,s=r.worldSize/(r.tileSize*o);return ol(n,n,[a.x,a.y,-r.worldSize/Math.PI/2]),il(n,n,[s,s,s]),al(n,n,k(-r._center.lat)),sl(n,n,k(-r._center.lng+i)),Float32Array.from(n)},e.globeTileLatLngCorners=Gd,e.globeToMercatorTransition=function(e){return M(5,6,e)},e.identity=rl,e.identity$1=Pl,e.invert=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],f=t[9],d=t[10],h=t[11],p=t[12],v=t[13],m=t[14],y=t[15],g=r*s-n*a,b=r*l-o*a,_=r*u-i*a,x=n*l-o*s,w=n*u-i*s,k=o*u-i*l,E=c*v-f*p,T=c*m-d*p,S=c*y-h*p,C=f*m-d*v,A=f*y-h*v,I=d*y-h*m,M=g*I-b*A+_*C+x*S-w*T+k*E;return M?(e[0]=(s*I-l*A+u*C)*(M=1/M),e[1]=(o*A-n*I-i*C)*M,e[2]=(v*k-m*w+y*x)*M,e[3]=(d*w-f*k-h*x)*M,e[4]=(l*S-a*I-u*T)*M,e[5]=(r*I-o*S+i*T)*M,e[6]=(m*_-p*k-y*b)*M,e[7]=(c*k-d*_+h*b)*M,e[8]=(a*A-s*S+u*E)*M,e[9]=(n*S-r*A-i*E)*M,e[10]=(p*w-v*_+y*g)*M,e[11]=(f*_-c*w-h*g)*M,e[12]=(s*T-a*C-l*E)*M,e[13]=(r*C-n*T+o*E)*M,e[14]=(v*b-p*x-m*g)*M,e[15]=(c*x-f*b+d*g)*M,e):null},e.isMapAuthenticated=function(e){return Me.has(e)},e.isMapboxURL=ve,e.isSafariWithAntialiasingBug=function(e){var t=e.navigator?e.navigator.userAgent:null;return!!re(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=xs,e.len=Al,e.length=fl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.loadVectorTile=ap,e.makeRequest=Be,e.mercatorXfromLng=ys,e.mercatorYfromLat=gs,e.mercatorZfromAltitude=bs,e.mul=ll,e.mul$1=Cl,e.multiply=function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],f=t[8],d=r[0],h=r[1],p=r[2],v=r[3],m=r[4],y=r[5],g=r[6],b=r[7],_=r[8];return e[0]=d*n+h*a+p*u,e[1]=d*o+h*s+p*c,e[2]=d*i+h*l+p*f,e[3]=v*n+m*a+y*u,e[4]=v*o+m*s+y*c,e[5]=v*i+m*l+y*f,e[6]=g*n+b*a+_*u,e[7]=g*o+b*s+_*c,e[8]=g*i+b*l+_*f,e},e.multiply$1=nl,e.multiply$2=vl,e.nextPowerOfTwo=F,e.normalize=_l,e.normalize$1=function(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r*r+n*n+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=o*a,e[3]=i*a,e},e.number=mr,e.ortho=function(e,t,r,n,o,i,a){var s=1/(t-r),l=1/(n-o),u=1/(i-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*s,e[13]=(o+n)*l,e[14]=(a+i)*u,e[15]=1,e},e.pbf=Rc,e.perspective=function(e,t,r,n,o){var i,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=o&&o!==1/0?(e[10]=(o+n)*(i=1/(n-o)),e[14]=2*o*n*i):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){for(var r={},n=0;n<t.length;n++){var o=t[n];o in e&&(r[o]=e[o])}return r},e.plugin=_i,e.pointGeometry=g,e.polygonIntersectsBox=Ws,e.polygonIntersectsPolygon=Ds,e.polygonizeBounds=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=new g(r,r),i=e.sub(o),a=t.add(o),s=[i,new g(a.x,i.y),a,new g(i.x,a.y)];return n&&s.push(i),s},e.posAttributes=Rd,e.postMapLoadEvent=Ce,e.postTurnstileEvent=Te,e.potpack=nf,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=E,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:hi,pluginURL:pi}),yi.on("pluginStateChange",e),e},e.removeAuthState=function(e){Me.delete(e)},e.renderColorRamp=Hl,e.rotateX=al,e.rotateX$1=Ol,e.rotateY=sl,e.rotateZ=function(e,t,r){var n=Math.sin(r),o=Math.cos(r),i=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],f=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*o+u*n,e[1]=a*o+c*n,e[2]=s*o+f*n,e[3]=l*o+d*n,e[4]=u*o-i*n,e[5]=c*o-a*n,e[6]=f*o-s*n,e[7]=d*o-l*n,e},e.rotateZ$1=function(e,t,r){r*=.5;var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+o*s,e[1]=o*l-n*s,e[2]=i*l+a*s,e[3]=a*l-i*s,e},e.scale=il,e.scale$1=function(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e},e.scale$2=gl,e.scaleAndAdd=bl,e.setCacheLimits=function(e,t){Oe=e,ze=t},e.setColumn=function(e,t,r){e[4*t+0]=r[0],e[4*t+1]=r[1],e[4*t+2]=r[2],e[4*t+3]=r[3]},e.setRTLTextPlugin=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(hi===ui||hi===ci||hi===fi)throw new Error("setRTLTextPlugin cannot be called multiple times.");pi=se.resolveURL(e),hi=ui,di=t,mi(),r||bi()},e.smoothstep=M,e.spec=et,e.storeAuthState=function(e,t){t?Me.add(e):Me.delete(e)},e.sub=Sl,e.subtract=pl,e.symbolSize=Cc,e.tileAABB=function(e,t,r,n,o,i,a,s,l){if("globe"===l.name)return Ud(e,t,new th(r,n,o));var u=ih({z:r,x:n,y:o},l);return new Rl([(i+u.x/u.scale)*t,t*(u.y/u.scale),a],[(i+u.x2/u.scale)*t,t*(u.y2/u.scale),s])},e.tileTransform=ih,e.transformMat3=function(e,t,r){var n=t[0],o=t[1],i=t[2];return e[0]=n*r[0]+o*r[3]+i*r[6],e[1]=n*r[1]+o*r[4]+i*r[7],e[2]=n*r[2]+o*r[5]+i*r[8],e},e.transformMat4=kl,e.transformMat4$1=Il,e.transformQuat=El,e.translate=ol,e.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=vi,e.uniqueId=L,e.validateCustomStyleLayer=function(e){var t=[],r=e.id;return void 0===r&&t.push({message:"layers.".concat(r,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(r,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(r,': property "renderingMode" must be either "2d" or "3d"')}),t},e.validateFilter=function(e){return mo(Yn(e))},e.validateFog=function(e){return mo(lo(e))},e.validateLayer=function(e){return mo(ro(e))},e.validateLight=function(e){return mo(ao(e))},e.validateSource=function(e){return mo(io(e))},e.validateStyle=ho,e.validateTerrain=function(e){return mo(so(e))},e.values=z,e.vectorTile=Hu,e.version=t,e.warnOnce=Z,e.window=_,e.wrap=P})),g(["./shared"],(function(e){function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){var r,n="[",o=d(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;n+="".concat(t(i),",")}}catch(c){o.e(c)}finally{o.f()}return"".concat(n,"]")}var a,s="{",l=d(Object.keys(e).sort());try{for(l.s();!(a=l.n()).done;){var u=a.value;s+="".concat(u,":").concat(t(e[u]),",")}}catch(c){l.e(c)}finally{l.f()}return"".concat(s,"}")}function r(r){var n,o="",i=d(e.refProperties);try{for(i.s();!(n=i.n()).done;){var a=n.value;o+="/".concat(t(r[a]))}}catch(s){i.e(s)}finally{i.f()}return o}var n=function(){function t(e){m(this,t),this.keyCache={},e&&this.replace(e)}return y(t,[{key:"replace",value:function(e){this._layerConfigs={},this._layers={},this.update(e,[])}},{key:"update",value:function(t,n){var o,i=this,a=d(t);try{for(a.s();!(o=a.n()).done;){var s=o.value;this._layerConfigs[s.id]=s,(this._layers[s.id]=e.createStyleLayer(s)).compileFilter(),this.keyCache[s.id]&&delete this.keyCache[s.id]}}catch(x){a.e(x)}finally{a.f()}var l,u=d(n);try{for(u.s();!(l=u.n()).done;){var c=l.value;delete this.keyCache[c],delete this._layerConfigs[c],delete this._layers[c]}}catch(x){u.e(x)}finally{u.f()}this.familiesBySource={};var f,h=function(e,t){for(var n={},o=0;o<e.length;o++){var i=t&&t[e[o].id]||r(e[o]);t&&(t[e[o].id]=i);var a=n[i];a||(a=n[i]=[]),a.push(e[o])}var s=[];for(var l in n)s.push(n[l]);return s}(e.values(this._layerConfigs),this.keyCache),p=d(h);try{for(p.s();!(f=p.n()).done;){var v=f.value.map((function(e){return i._layers[e.id]})),m=v[0];if("none"!==m.visibility){var y=m.source||"",g=this.familiesBySource[y];g||(g=this.familiesBySource[y]={});var b=m.sourceLayer||"_geojsonTileLayer",_=g[b];_||(_=g[b]=[]),_.push(v)}}}catch(x){p.e(x)}finally{p.f()}}}]),t}(),o=function(){function t(){m(this,t)}return y(t,[{key:"loadTile",value:function(t,r){var n=t.uid,o=t.encoding,i=t.rawImageData,a=t.padding,s=t.buildQuadTree,l=e.window.ImageBitmap&&i instanceof e.window.ImageBitmap?this.getImageData(i,a):i;r(null,new e.DEMData(n,l,o,a<1,s))}},{key:"getImageData",value:function(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}]),t}(),i=function e(t,r){var n,o=t&&t.type;if("FeatureCollection"===o)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===o)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===o)e(t.geometry,r);else if("Polygon"===o)l(t.coordinates,r);else if("MultiPolygon"===o)for(n=0;n<t.coordinates.length;n++)l(t.coordinates[n],r);return t};function l(e,t){if(0!==e.length){u(e[0],t);for(var r=1;r<e.length;r++)u(e[r],!t)}}function u(e,t){for(var r=0,n=0,o=0,i=e.length,a=i-1;o<i;a=o++){var s=(e[o][0]-e[a][0])*(e[a][1]+e[o][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}r+n>=0!=!!t&&e.reverse()}var c=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,h=function(){function t(r){m(this,t),this._feature=r,this.extent=e.EXTENT,this.type=r.type,this.properties=r.tags,"id"in r&&!isNaN(r.id)&&(this.id=parseInt(r.id,10))}return y(t,[{key:"loadGeometry",value:function(){if(1===this._feature.type){var t,r=[],n=d(this._feature.geometry);try{for(n.s();!(t=n.n()).done;){var o=t.value;r.push([new e.pointGeometry(o[0],o[1])])}}catch(p){n.e(p)}finally{n.f()}return r}var i,a=[],s=d(this._feature.geometry);try{for(s.s();!(i=s.n()).done;){var l,u=i.value,c=[],f=d(u);try{for(f.s();!(l=f.n()).done;){var h=l.value;c.push(new e.pointGeometry(h[0],h[1]))}}catch(p){f.e(p)}finally{f.f()}a.push(c)}}catch(p){s.e(p)}finally{s.f()}return a}},{key:"toGeoJSON",value:function(e,t,r){return c.call(this,e,t,r)}}]),t}(),g=function(){function t(r){m(this,t),this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=r.length,this._features=r}return y(t,[{key:"feature",value:function(e){return new h(this._features[e])}}]),t}(),b=e.vectorTile.VectorTileFeature,_=x;function x(e,t){this.options=t||{},this.features=e,this.length=e.length}function w(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}x.prototype.feature=function(e){return new w(this.features[e],this.options.extent)},w.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var r=0;r<t.length;r++){for(var n=t[r],o=[],i=0;i<n.length;i++)o.push(new e.pointGeometry(n[i][0],n[i][1]));this.geometry.push(o)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,o=-1/0,i=0;i<e.length;i++)for(var a=e[i],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[t,n,r,o]},w.prototype.toGeoJSON=b.prototype.toGeoJSON;var k=T,E=_;function T(t){var r=new e.pbf;return function(e,t){for(var r in e.layers)t.writeMessage(3,S,e.layers[r])}(t,r),r.finish()}function S(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,C,n);var o=n.keys;for(r=0;r<o.length;r++)t.writeStringField(3,o[r]);var i=n.values;for(r=0;r<i.length;r++)t.writeMessage(4,O,i[r])}function C(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,A,e),t.writeVarintField(3,r.type),t.writeMessage(4,P,r)}function A(e,t){var r=e.feature,n=e.keys,o=e.values,i=e.keycache,a=e.valuecache;for(var s in r.properties){var l=r.properties[s],u=i[s];if(null!==l){void 0===u&&(n.push(s),i[s]=u=n.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var f=c+":"+l,d=a[f];void 0===d&&(o.push(l),a[f]=d=o.length-1),t.writeVarint(d)}}}function I(e,t){return(t<<3)+(7&e)}function M(e){return e<<1^e>>31}function P(e,t){for(var r=e.loadGeometry(),n=e.type,o=0,i=0,a=r.length,s=0;s<a;s++){var l=r[s],u=1;1===n&&(u=l.length),t.writeVarint(I(1,u));for(var c=3===n?l.length-1:l.length,f=0;f<c;f++){1===f&&1!==n&&t.writeVarint(I(2,c-1));var d=l[f].x-o,h=l[f].y-i;t.writeVarint(M(d)),t.writeVarint(M(h)),o+=d,i+=h}3===n&&t.writeVarint(I(7,1))}}function O(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function z(e,t,r,n,o,i){if(!(o-n<=r)){var a=n+o>>1;R(e,t,a,n,o,i%2),z(e,t,r,n,a-1,i+1),z(e,t,r,a+1,o,i+1)}}function R(e,t,r,n,o,i){for(;o>n;){if(o-n>600){var a=o-n+1,s=r-n+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);R(e,t,r,Math.max(n,Math.floor(r-s*u/a+c)),Math.min(o,Math.floor(r+(a-s)*u/a+c)),i)}var f=t[2*r+i],d=n,h=o;for(D(e,t,n,r),t[2*o+i]>f&&D(e,t,n,o);d<h;){for(D(e,t,d,h),d++,h--;t[2*d+i]<f;)d++;for(;t[2*h+i]>f;)h--}t[2*n+i]===f?D(e,t,n,h):D(e,t,++h,o),h<=r&&(n=h+1),r<=h&&(o=h-1)}}function D(e,t,r,n){L(e,r,n),L(t,2*r,2*n),L(t,2*r+1,2*n+1)}function L(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function j(e,t,r,n){var o=e-r,i=t-n;return o*o+i*i}k.fromVectorTileJs=T,k.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new _(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return T({layers:r})},k.GeoJSONWrapper=E;var F,N=function(e){return e[0]},B=function(e){return e[1]},V=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Float64Array;m(this,e),this.nodeSize=o,this.points=t;for(var a=t.length<65536?Uint16Array:Uint32Array,s=this.ids=new a(t.length),l=this.coords=new i(2*t.length),u=0;u<t.length;u++)s[u]=u,l[2*u]=r(t[u]),l[2*u+1]=n(t[u]);z(s,l,o,0,s.length-1,0)}return y(e,[{key:"range",value:function(e,t,r,n){return function(e,t,r,n,o,i,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var f=u.pop(),d=u.pop(),h=u.pop();if(d-h<=a)for(var p=h;p<=d;p++)s=t[2*p],l=t[2*p+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[p]);else{var v=Math.floor((h+d)/2);s=t[2*v],l=t[2*v+1],s>=r&&s<=o&&l>=n&&l<=i&&c.push(e[v]);var m=(f+1)%2;(0===f?r<=s:n<=l)&&(u.push(h),u.push(v-1),u.push(m)),(0===f?o>=s:i>=l)&&(u.push(v+1),u.push(d),u.push(m))}}return c}(this.ids,this.coords,e,t,r,n,this.nodeSize)}},{key:"within",value:function(e,t,r){return function(e,t,r,n,o,i){for(var a=[0,e.length-1,0],s=[],l=o*o;a.length;){var u=a.pop(),c=a.pop(),f=a.pop();if(c-f<=i)for(var d=f;d<=c;d++)j(t[2*d],t[2*d+1],r,n)<=l&&s.push(e[d]);else{var h=Math.floor((f+c)/2),p=t[2*h],v=t[2*h+1];j(p,v,r,n)<=l&&s.push(e[h]);var m=(u+1)%2;(0===u?r-o<=p:n-o<=v)&&(a.push(f),a.push(h-1),a.push(m)),(0===u?r+o>=p:n+o>=v)&&(a.push(h+1),a.push(c),a.push(m))}}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}]),e}(),U={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},G=Math.fround||(F=new Float32Array(1),function(e){return F[0]=+e,F[0]}),q=function(){function e(t){m(this,e),this.options=J(Object.create(U),t),this.trees=new Array(this.options.maxZoom+1)}return y(e,[{key:"load",value:function(e){var t=this.options,r=t.log,n=t.minZoom,o=t.maxZoom,i=t.nodeSize;r&&console.time("total time");var a="prepare ".concat(e.length," points");r&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(Z(e[l],l));this.trees[o+1]=new V(s,Q,ee,i,Float32Array),r&&console.timeEnd(a);for(var u=o;u>=n;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new V(s,Q,ee,i,Float32Array),r&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return r&&console.timeEnd("total time"),this}},{key:"getClusters",value:function(e,t){var r=((e[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,e[1])),o=180===e[2]?180:((e[2]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){var a=this.getClusters([r,n,180,i],t),s=this.getClusters([-180,n,o,i],t);return a.concat(s)}var l,u=this.trees[this._limitZoom(t)],c=u.range($(r),K(i),$(o),K(n)),f=[],h=d(c);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=u.points[p];f.push(v.numPoints?H(v):this.points[v.index])}}catch(m){h.e(m)}finally{h.f()}return f}},{key:"getChildren",value:function(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(n);var i=o.points[t];if(!i)throw new Error(n);var a,s=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o.within(i.x,i.y,s),u=[],c=d(l);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=o.points[f];h.parentId===e&&u.push(h.numPoints?H(h):this.points[h.index])}}catch(p){c.e(p)}finally{c.f()}if(0===u.length)throw new Error(n);return u}},{key:"getLeaves",value:function(e,t,r){var n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}},{key:"getTile",value:function(e,t,r){var n=this.trees[this._limitZoom(e)],o=Math.pow(2,e),i=this.options,a=i.extent,s=i.radius/a,l=(r-s)/o,u=(r+1+s)/o,c={features:[]};return this._addTileFeatures(n.range((t-s)/o,l,(t+1+s)/o,u),n.points,t,r,o,c),0===t&&this._addTileFeatures(n.range(1-s/o,l,1,u),n.points,o,r,o,c),t===o-1&&this._addTileFeatures(n.range(0,l,s/o,u),n.points,-1,r,o,c),c.features.length?c:null}},{key:"getClusterExpansionZoom",value:function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}},{key:"_appendLeaves",value:function(e,t,r,n,o){var i,a=this.getChildren(t),s=d(a);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l.properties;if(u&&u.cluster?o+u.point_count<=n?o+=u.point_count:o=this._appendLeaves(e,u.cluster_id,r,n,o):o<n?o++:e.push(l),e.length===r)break}}catch(c){s.e(c)}finally{s.f()}return o}},{key:"_addTileFeatures",value:function(e,t,r,n,o,i){var a,s=d(e);try{for(s.s();!(a=s.n()).done;){var l=t[a.value],u=l.numPoints,c=void 0,f=void 0,h=void 0;if(u)c=X(l),f=l.x,h=l.y;else{var p=this.points[l.index];c=p.properties,f=$(p.geometry.coordinates[0]),h=K(p.geometry.coordinates[1])}var v={type:1,geometry:[[Math.round(this.options.extent*(f*o-r)),Math.round(this.options.extent*(h*o-n))]],tags:c},m=void 0;u?m=l.id:this.options.generateId?m=l.index:this.points[l.index].id&&(m=this.points[l.index].id),void 0!==m&&(v.id=m),i.features.push(v)}}catch(y){s.e(y)}finally{s.f()}}},{key:"_limitZoom",value:function(e){return Math.max(this.options.minZoom,Math.min(+e,this.options.maxZoom+1))}},{key:"_cluster",value:function(e,t){for(var r=[],n=this.options,o=n.radius,i=n.extent,a=n.reduce,s=n.minPoints,l=o/(i*Math.pow(2,t)),u=0;u<e.length;u++){var c=e[u];if(!(c.zoom<=t)){c.zoom=t;var f,h=this.trees[t+1],p=h.within(c.x,c.y,l),v=c.numPoints||1,m=v,y=d(p);try{for(y.s();!(f=y.n()).done;){var g=f.value,b=h.points[g];b.zoom>t&&(m+=b.numPoints||1)}}catch(z){y.e(z)}finally{y.f()}if(m>v&&m>=s){var _,x=c.x*v,w=c.y*v,k=a&&v>1?this._map(c,!0):null,E=(u<<5)+(t+1)+this.points.length,T=d(p);try{for(T.s();!(_=T.n()).done;){var S=_.value,C=h.points[S];if(!(C.zoom<=t)){C.zoom=t;var A=C.numPoints||1;x+=C.x*A,w+=C.y*A,C.parentId=E,a&&(k||(k=this._map(c,!0)),a(k,this._map(C)))}}}catch(z){T.e(z)}finally{T.f()}c.parentId=E,r.push(W(x/m,w/m,E,m,k))}else if(r.push(c),m>1){var I,M=d(p);try{for(M.s();!(I=M.n()).done;){var P=I.value,O=h.points[P];O.zoom<=t||(O.zoom=t,r.push(O))}}catch(z){M.e(z)}finally{M.f()}}}}return r}},{key:"_getOriginId",value:function(e){return e-this.points.length>>5}},{key:"_getOriginZoom",value:function(e){return(e-this.points.length)%32}},{key:"_map",value:function(e,t){if(e.numPoints)return t?J({},e.properties):e.properties;var r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?J({},n):n}}]),e}();function W(e,t,r,n,o){return{x:G(e),y:G(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:o}}function Z(e,t){var r=f(e.geometry.coordinates,2),n=r[0],o=r[1];return{x:G($(n)),y:G(K(o)),zoom:1/0,index:t,parentId:-1}}function H(e){return{type:"Feature",id:e.id,properties:X(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Y(e.y)]}};var t}function X(e){var t=e.numPoints,r=t>=1e4?"".concat(Math.round(t/1e3),"k"):t>=1e3?Math.round(t/100)/10+"k":t;return J(J({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function $(e){return e/360+.5}function K(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function Y(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function J(e,t){for(var r in t)e[r]=t[r];return e}function Q(e){return e.x}function ee(e){return e.y}function te(e,t,r,n){for(var o,i=n,a=r-t>>1,s=r-t,l=e[t],u=e[t+1],c=e[r],f=e[r+1],d=t+3;d<r;d+=3){var h=re(e[d],e[d+1],l,u,c,f);if(h>i)o=d,i=h;else if(h===i){var p=Math.abs(d-a);p<s&&(o=d,s=p)}}i>n&&(o-t>3&&te(e,t,o,n),e[o+2]=i,r-o>3&&te(e,o,r,n))}function re(e,t,r,n,o,i){var a=o-r,s=i-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=o,n=i):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function ne(e,t,r,n){var o={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)oe(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)oe(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var o=0;o<t[n].length;o++)oe(e,t[n][o])}(o),o}function oe(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function ie(e,t,r,n){if(t.geometry){var o=t.geometry.coordinates,i=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===i)ae(o,s);else if("MultiPoint"===i)for(var u=0;u<o.length;u++)ae(o[u],s);else if("LineString"===i)se(o,s,a,!1);else if("MultiLineString"===i){if(r.lineMetrics){for(u=0;u<o.length;u++)se(o[u],s=[],a,!1),e.push(ne(l,"LineString",s,t.properties));return}le(o,s,a,!1)}else if("Polygon"===i)le(o,s,a,!0);else{if("MultiPolygon"!==i){if("GeometryCollection"===i){for(u=0;u<t.geometry.geometries.length;u++)ie(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<o.length;u++){var c=[];le(o[u],c,a,!0),s.push(c)}}e.push(ne(l,i,s,t.properties))}}function ae(e,t){t.push(ue(e[0])),t.push(ce(e[1])),t.push(0)}function se(e,t,r,n){for(var o,i,a=0,s=0;s<e.length;s++){var l=ue(e[s][0]),u=ce(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=n?(o*u-l*i)/2:Math.sqrt(Math.pow(l-o,2)+Math.pow(u-i,2))),o=l,i=u}var c=t.length-3;t[2]=1,te(t,0,c,r),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function le(e,t,r,n){for(var o=0;o<e.length;o++){var i=[];se(e[o],i,r,n),t.push(i)}}function ue(e){return e/360+.5}function ce(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function fe(e,t,r,n,o,i,a,s){if(n/=t,i>=(r/=t)&&a<n)return e;if(a<r||i>=n)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],f=c.geometry,d=c.type,h=0===o?c.minX:c.minY,p=0===o?c.maxX:c.maxY;if(h>=r&&p<n)l.push(c);else if(!(p<r||h>=n)){var v=[];if("Point"===d||"MultiPoint"===d)de(f,v,r,n,o);else if("LineString"===d)he(f,v,r,n,o,!1,s.lineMetrics);else if("MultiLineString"===d)ve(f,v,r,n,o,!1);else if("Polygon"===d)ve(f,v,r,n,o,!0);else if("MultiPolygon"===d)for(var m=0;m<f.length;m++){var y=[];ve(f[m],y,r,n,o,!0),y.length&&v.push(y)}if(v.length){if(s.lineMetrics&&"LineString"===d){for(m=0;m<v.length;m++)l.push(ne(c.id,d,v[m],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===v.length?(d="LineString",v=v[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===v.length?"Point":"MultiPoint"),l.push(ne(c.id,d,v,c.tags))}}}return l.length?l:null}function de(e,t,r,n,o){for(var i=0;i<e.length;i+=3){var a=e[i+o];a>=r&&a<=n&&(t.push(e[i]),t.push(e[i+1]),t.push(e[i+2]))}}function he(e,t,r,n,o,i,a){for(var s,l,u=pe(e),c=0===o?ye:ge,f=e.start,d=0;d<e.length-3;d+=3){var h=e[d],p=e[d+1],v=e[d+2],m=e[d+3],y=e[d+4],g=0===o?h:p,b=0===o?m:y,_=!1;a&&(s=Math.sqrt(Math.pow(h-m,2)+Math.pow(p-y,2))),g<r?b>r&&(l=c(u,h,p,m,y,r),a&&(u.start=f+s*l)):g>n?b<n&&(l=c(u,h,p,m,y,n),a&&(u.start=f+s*l)):me(u,h,p,v),b<r&&g>=r&&(l=c(u,h,p,m,y,r),_=!0),b>n&&g<=n&&(l=c(u,h,p,m,y,n),_=!0),!i&&_&&(a&&(u.end=f+s*l),t.push(u),u=pe(e)),a&&(f+=s)}var x=e.length-3;h=e[x],p=e[x+1],v=e[x+2],(g=0===o?h:p)>=r&&g<=n&&me(u,h,p,v),x=u.length-3,i&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&me(u,u[0],u[1],u[2]),u.length&&t.push(u)}function pe(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function ve(e,t,r,n,o,i){for(var a=0;a<e.length;a++)he(e[a],t,r,n,o,i,!1)}function me(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ye(e,t,r,n,o,i){var a=(i-t)/(n-t);return e.push(i),e.push(r+(o-r)*a),e.push(1),a}function ge(e,t,r,n,o,i){var a=(i-r)/(o-r);return e.push(t+(n-t)*a),e.push(i),e.push(1),a}function be(e,t){for(var r=[],n=0;n<e.length;n++){var o,i=e[n],a=i.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)o=_e(i.geometry,t);else if("MultiLineString"===a||"Polygon"===a){o=[];for(var s=0;s<i.geometry.length;s++)o.push(_e(i.geometry[s],t))}else if("MultiPolygon"===a)for(o=[],s=0;s<i.geometry.length;s++){for(var l=[],u=0;u<i.geometry[s].length;u++)l.push(_e(i.geometry[s][u],t));o.push(l)}r.push(ne(i.id,a,o,i.tags))}return r}function _e(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function xe(e,t){if(e.transformed)return e;var r,n,o,i=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(n=0;n<u.length;n+=2)l.geometry.push(we(u[n],u[n+1],t,i,a,s));else for(n=0;n<u.length;n++){var f=[];for(o=0;o<u[n].length;o+=2)f.push(we(u[n][o],u[n][o+1],t,i,a,s));l.geometry.push(f)}}return e.transformed=!0,e}function we(e,t,r,n,o,i){return[Math.round(r*(e*n-o)),Math.round(r*(t*n-i))]}function ke(e,t,r,n,o){for(var i=t===o.maxZoom?0:o.tolerance/((1<<t)*o.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ee(a,e[s],i,o);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,f=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),f>a.maxY&&(a.maxY=f)}return a}function Ee(e,t,r,n){var o=t.geometry,i=t.type,a=[];if("Point"===i||"MultiPoint"===i)for(var s=0;s<o.length;s+=3)a.push(o[s]),a.push(o[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===i)Te(a,o,e,r,!1,!1);else if("MultiLineString"===i||"Polygon"===i)for(s=0;s<o.length;s++)Te(a,o[s],e,r,"Polygon"===i,0===s);else if("MultiPolygon"===i)for(var l=0;l<o.length;l++){var u=o[l];for(s=0;s<u.length;s++)Te(a,u[s],e,r,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===i&&n.lineMetrics){for(var f in c={},t.tags)c[f]=t.tags[f];c.mapbox_clip_start=o.start/o.size,c.mapbox_clip_end=o.end/o.size}var d={geometry:a,type:"Polygon"===i||"MultiPolygon"===i?3:"LineString"===i||"MultiLineString"===i?2:1,tags:c};null!==t.id&&(d.id=t.id),e.features.push(d)}}function Te(e,t,r,n,o,i){var a=n*n;if(n>0&&t.size<(o?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;o&&function(e,t){for(var r=0,n=0,o=e.length,i=o-2;n<o;i=n,n+=2)r+=(e[n]-e[i])*(e[n+1]+e[i+1]);if(r>0===t)for(n=0,o=e.length;n<o/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[o-2-n],e[n+1]=e[o-1-n],e[o-2-n]=a,e[o-1-n]=s}}(s,i),e.push(s)}}function Se(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)ie(r,e.features[n],t,n);else ie(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,o=fe(e,1,-1-r,r,0,-1,2,t),i=fe(e,1,1-r,2+r,0,-1,2,t);return(o||i)&&(n=fe(e,1,-r,1+r,0,-1,2,t)||[],o&&(n=be(o,1).concat(n)),i&&(n=n.concat(be(i,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ce(e,t,r){return 32*((1<<e)*r+t)+e}function Ae(e,t){var r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);var o=new g(n.features),i=k(o);0===i.byteOffset&&i.byteLength===i.buffer.byteLength||(i=new Uint8Array(i)),t(null,{vectorTile:o,rawData:i.buffer})}Se.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Se.prototype.splitTile=function(e,t,r,n,o,i,a){for(var s=[e,t,r,n],l=this.options,u=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,f=Ce(t,r,n),d=this.tiles[f];if(!d&&(u>1&&console.time("creation"),d=this.tiles[f]=ke(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=e,o){if(t===l.maxZoom||t===o)continue;var p=1<<o-t;if(r!==Math.floor(i/p)||n!==Math.floor(a/p))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){u>1&&console.time("clipping");var v,m,y,g,b,_,x=.5*l.buffer/l.extent,w=.5-x,k=.5+x,E=1+x;v=m=y=g=null,b=fe(e,c,r-x,r+k,0,d.minX,d.maxX,l),_=fe(e,c,r+w,r+E,0,d.minX,d.maxX,l),e=null,b&&(v=fe(b,c,n-x,n+k,1,d.minY,d.maxY,l),m=fe(b,c,n+w,n+E,1,d.minY,d.maxY,l),b=null),_&&(y=fe(_,c,n-x,n+k,1,d.minY,d.maxY,l),g=fe(_,c,n+w,n+E,1,d.minY,d.maxY,l),_=null),u>1&&console.timeEnd("clipping"),s.push(v||[],t+1,2*r,2*n),s.push(m||[],t+1,2*r,2*n+1),s.push(y||[],t+1,2*r+1,2*n),s.push(g||[],t+1,2*r+1,2*n+1)}}},Se.prototype.getTile=function(e,t,r){var n=this.options,o=n.extent,i=n.debug;if(e<0||e>24)return null;var a=1<<e,s=Ce(e,t=(t%a+a)%a,r);if(this.tiles[s])return xe(this.tiles[s],o);i>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,u=e,c=t,f=r;!l&&u>0;)u--,c=Math.floor(c/2),f=Math.floor(f/2),l=this.tiles[Ce(u,c,f)];return l&&l.source?(i>1&&console.log("found parent tile z%d-%d-%d",u,c,f),i>1&&console.time("drilling down"),this.splitTile(l.source,u,c,f,e,t,r),i>1&&console.timeEnd("drilling down"),this.tiles[s]?xe(this.tiles[s],o):null):null};var Ie=function(t){p(n,t);var r=v(n);function n(e,t,o,i,a){var s;return m(this,n),s=r.call(this,e,t,o,i,Ae),a&&(s.loadGeoJSON=a),s}return y(n,[{key:"loadData",value:function(t,r){var n=this,o=t&&t.request,a=o&&o.collectResourceTiming;this.loadGeoJSON(t,(function(s,l){if(s||!l)return r(s);if("object"!=typeof l)return r(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));i(l,!0);try{if(t.filter){var u=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===u.result)throw new Error(u.value.map((function(e){return"".concat(e.key,": ").concat(e.message)})).join(", "));var c=l.features.filter((function(e){return u.value.evaluate({zoom:0},e)}));l={type:"FeatureCollection",features:c}}n._geoJSONIndex=t.cluster?new q(function(t){var r=t.superclusterOptions,n=t.clusterProperties;if(!n||!r)return r;for(var o={},i={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),u=0,c=l;u<c.length;u++){var h=c[u],p=f(n[h],2),v=p[0],m=p[1],y=e.createExpression(m),g=e.createExpression("string"==typeof v?[v,["accumulated"],["get",h]]:v);o[h]=y.value,i[h]=g.value}return r.map=function(e){s.properties=e;var t,r={},n=d(l);try{for(n.s();!(t=n.n()).done;){var i=t.value;r[i]=o[i].evaluate(a,s)}}catch(u){n.e(u)}finally{n.f()}return r},r.reduce=function(e,t){s.properties=t;var r,n=d(l);try{for(n.s();!(r=n.n()).done;){var o=r.value;a.accumulated=e[o],e[o]=i[o].evaluate(a,s)}}catch(u){n.e(u)}finally{n.f()}},r}(t)).load(l.features):function(e,t){return new Se(e,t)}(l,t.geojsonVtOptions)}catch(s){return r(s)}n.loaded={};var h={};if(a){var p=e.getPerformanceMeasurement(o);p&&(h.resourceTiming={},h.resourceTiming[t.source]=JSON.parse(JSON.stringify(p)))}r(null,h)}))}},{key:"reloadTile",value:function(e,t){var r=this.loaded;return r&&r[e.uid]?a(s(n.prototype),"reloadTile",this).call(this,e,t):this.loadTile(e,t)}},{key:"loadGeoJSON",value:function(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}}}},{key:"getClusterExpansionZoom",value:function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}},{key:"getClusterChildren",value:function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}},{key:"getClusterLeaves",value:function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}]),n}(e.VectorTileWorkerSource),Me=function(){function t(r){var n=this;m(this,t),this.self=r,this.actor=new e.Actor(r,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:Ie},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}return y(t,[{key:"clearCaches",value:function(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r()}},{key:"checkIfReady",value:function(e,t,r){r()}},{key:"setReferrer",value:function(e,t){this.referrer=t}},{key:"spriteLoaded",value:function(t,r){for(var n in this.isSpriteLoaded[t]=r,this.workerSources[t]){var o=this.workerSources[t][n];for(var i in o)o[i]instanceof e.VectorTileWorkerSource&&(o[i].isSpriteLoaded=r,o[i].fire(new e.Event("isSpriteLoaded")))}}},{key:"setImages",value:function(e,t,r){for(var n in this.availableImages[e]=t,this.workerSources[e]){var o=this.workerSources[e][n];for(var i in o)o[i].availableImages=t}r()}},{key:"enableTerrain",value:function(e,t,r){this.terrain=t,r()}},{key:"setProjection",value:function(t,r){this.projections[t]=e.getProjection(r)}},{key:"setLayers",value:function(e,t,r){this.getLayerIndex(e).replace(t),r()}},{key:"updateLayers",value:function(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()}},{key:"loadTile",value:function(t,r,n){var o=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;o.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).loadTile(o,n)}},{key:"loadDEMTile",value:function(t,r,n){var o=this.enableTerrain?e.extend({buildQuadTree:this.terrain},r):r;this.getDEMWorkerSource(t,r.source).loadTile(o,n)}},{key:"reloadTile",value:function(t,r,n){var o=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;o.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).reloadTile(o,n)}},{key:"abortTile",value:function(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)}},{key:"removeTile",value:function(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)}},{key:"removeSource",value:function(e,t,r){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}}},{key:"loadWorkerSource",value:function(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}}},{key:"syncRTLPluginState",value:function(t,r,n){try{e.plugin.setState(r);var o=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=o){this.self.importScripts(o);var i=e.plugin.isParsed();n(i?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(o)),i)}}catch(e){n(e.toString())}}},{key:"getAvailableImages",value:function(e){var t=this.availableImages[e];return t||(t=[]),t}},{key:"getLayerIndex",value:function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}},{key:"getWorkerSource",value:function(e,t,r){var n=this;return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][r]||(this.workerSources[e][t][r]=new this.workerSourceTypes[t]({send:function(t,r,o,i,a,s){n.actor.send(t,r,o,e,a,s)},scheduler:this.actor.scheduler},this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])),this.workerSources[e][t][r]}},{key:"getDEMWorkerSource",value:function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new o),this.demWorkerSources[e][t]}},{key:"enforceCacheSizeLimit",value:function(t,r){e.enforceCacheSizeLimit(r)}},{key:"getWorkerPerformanceMetrics",value:function(e,t,r){r(void 0,void 0)}}]),t}();return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Me(self)),Me})),g(["./shared"],(function(e){var t=r;function r(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===u[t=e&&e.failIfMajorPerformanceCaveat]&&(u[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(r.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),u[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var u={};function h(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!h(e[r],t[r]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!h(e[n],t[n]))return!1;return!0}return e===t}function g(t,r,n){var o=e.window.document.createElement(t);return void 0!==r&&(o.className=r),n&&n.appendChild(o),o}function b(t,r,n){for(var o=e.window.document.createElementNS("http://www.w3.org/2000/svg",t),i=0,a=Object.keys(r);i<a.length;i++){var s=a[i];o.setAttributeNS(null,s,r[s])}return n&&n.appendChild(o),o}r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};var _,x=e.window.document&&e.window.document.documentElement.style,w=x&&void 0!==x.userSelect?"userSelect":"WebkitUserSelect";function k(){x&&w&&(_=x[w],x[w]="none")}function E(){x&&w&&(x[w]=_)}function T(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",T,!0)}function S(){e.window.addEventListener("click",T,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",T,!0)}),0)}function C(e,t){var r=e.getBoundingClientRect();return M(e,r,t)}function A(e,t){for(var r=e.getBoundingClientRect(),n=[],o=0;o<t.length;o++)n.push(M(e,r,t[o]));return n}function I(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function M(t,r,n){var o=t.offsetWidth===r.width?1:t.offsetWidth/r.width;return new e.pointGeometry((n.clientX-r.left)*o,(n.clientY-r.top)*o)}function P(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r*i-o*n;return a?(e[0]=i*(a=1/a),e[1]=-n*a,e[2]=-o*a,e[3]=r*a,e):null}function O(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}var z=function(t){p(n,t);var r=v(n);function n(){var t;return m(this,n),(t=r.call(this)).images={},t.updatedImages={},t.callbackDispatchedThisFrame={},t.loaded=!1,t.requestors=[],t.patterns={},t.atlasImage=new e.RGBAImage({width:1,height:1}),t.dirty=!0,t}return y(n,[{key:"isLoaded",value:function(){return this.loaded}},{key:"setLoaded",value:function(e){if(this.loaded!==e&&(this.loaded=e,e)){var t,r=d(this.requestors);try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.ids,i=n.callback;this._notify(o,i)}}catch(a){r.e(a)}finally{r.f()}this.requestors=[]}}},{key:"hasImage",value:function(e){return!!this.getImage(e)}},{key:"getImage",value:function(e){return this.images[e]}},{key:"addImage",value:function(e,t){this._validate(e,t)&&(this.images[e]=t)}},{key:"_validate",value:function(t,r){var n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error('Image "'.concat(t,'" has invalid "content" value')))),n=!1),n}},{key:"_validateStretch",value:function(e,t){if(!e)return!0;var r,n=0,o=d(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}}catch(a){o.e(a)}finally{o.f()}return!0}},{key:"_validateContent",value:function(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}},{key:"updateImage",value:function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}},{key:"removeImage",value:function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}},{key:"listImages",value:function(){return Object.keys(this.images)}},{key:"getImages",value:function(e,t){var r=!0;if(!this.isLoaded()){var n,o=d(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.images[i]||(r=!1)}}catch(a){o.e(a)}finally{o.f()}}this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})}},{key:"_notify",value:function(t,r){var n,o={},i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?o[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'.concat(a,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}}catch(l){i.e(l)}finally{i.f()}r(null,o)}},{key:"getPixelSize",value:function(){var e=this.atlasImage;return{width:e.width,height:e.height}}},{key:"getPattern",value:function(t){var r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{var o={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(o,n);this.patterns[t]={bin:o,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}},{key:"bind",value:function(t){var r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}},{key:"_updatePatternAtlas",value:function(){var t=[];for(var r in this.patterns)t.push(this.patterns[r].bin);var n=e.potpack(t),o=n.w,i=n.h,a=this.atlasImage;for(var s in a.resize({width:o||1,height:i||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,f=this.images[s].data,d=f.width,h=f.height;e.RGBAImage.copy(f,a,{x:0,y:0},{x:u,y:c},{width:d,height:h}),e.RGBAImage.copy(f,a,{x:0,y:h-1},{x:u,y:c-1},{width:d,height:1}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:u,y:c+h},{width:d,height:1}),e.RGBAImage.copy(f,a,{x:d-1,y:0},{x:u-1,y:c},{width:1,height:h}),e.RGBAImage.copy(f,a,{x:0,y:0},{x:u+d,y:c},{width:1,height:h})}this.dirty=!0}},{key:"beginFrame",value:function(){this.callbackDispatchedThisFrame={}}},{key:"dispatchRenderCallbacks",value:function(e){var t,r=d(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!this.callbackDispatchedThisFrame[n]){this.callbackDispatchedThisFrame[n]=!0;var o=this.images[n];O(o)&&this.updateImage(n,o)}}}catch(i){r.e(i)}finally{r.f()}}}]),n}(e.Evented),R=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new(function(){function t(){m(this,t),this.specification=e.spec.light.position}return y(t,[{key:"possiblyEvaluate",value:function(t,r){return function(t){var r=f(t,3),n=r[0],o=r[1],i=r[2],a=e.degToRad(o+90),s=e.degToRad(i);return{x:n*Math.cos(a)*Math.sin(s),y:n*Math.sin(a)*Math.sin(s),z:n*Math.cos(s),azimuthal:o,polar:i}}(t.expression.evaluate(r))}},{key:"interpolate",value:function(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n),azimuthal:e.number(t.azimuthal,r.azimuthal,n),polar:e.number(t.polar,r.polar,n)}}}]),t}()),color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),D="-transition",L=function(t){p(n,t);var r=v(n);function n(t){var o;return m(this,n),(o=r.call(this))._transitionable=new e.Transitionable(R),o.setLight(t),o._transitioning=o._transitionable.untransitioned(),o}return y(n,[{key:"getLight",value:function(){return this._transitionable.serialize()}},{key:"setLight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateLight,t,r))for(var n in t){var o=t[n];e.endsWith(n,D)?this._transitionable.setTransition(n.slice(0,-D.length),o):this._transitionable.setValue(n,o)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),n}(e.Evented),j=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),F="-transition",N=function(t){p(n,t);var r=v(n);function n(t,o){var i;return m(this,n),(i=r.call(this))._transitionable=new e.Transitionable(j),i.set(t),i._transitioning=i._transitionable.untransitioned(),i.drapeRenderMode=o,i}return y(n,[{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){for(var r in t){var n=t[r];e.endsWith(r,F)?this._transitionable.setTransition(r.slice(0,-F.length),n):this._transitionable.setValue(r,n)}}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}}]),n}(e.Evented);function B(t,r,n,o){var i=e.smoothstep(45,65,n),a=V(t,o),s=f(a,2),l=s[0],u=s[1],c=e.length(r),d=1-Math.min(1,Math.exp((c-l)/(u-l)*-6));return d*=d*d,(d=Math.min(1,1.00747*d))*i*t.alpha}function V(e,t){var r=.5/Math.tan(.5*t);return[e.range[0]+r,e.range[1]+r]}var U=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"])}),G="-transition",q=function(t){p(n,t);var r=v(n);function n(t,o){var i;return m(this,n),(i=r.call(this))._transitionable=new e.Transitionable(U),i.set(t),i._transitioning=i._transitionable.untransitioned(),i._transform=o,i}return y(n,[{key:"state",get:function(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}},{key:"get",value:function(){return this._transitionable.serialize()}},{key:"set",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.validateFog,t,r))for(var n in t){var o=t[n];e.endsWith(n,G)?this._transitionable.setTransition(n.slice(0,-G.length),o):this._transitionable.setValue(n,o)}}},{key:"getOpacity",value:function(t){if(!this._transform.projection.supportsFog)return 0;var r=this.properties&&this.properties.get("color")||1;return e.smoothstep(45,65,t)*r.a}},{key:"getOpacityAtLatLng",value:function(t,r){return this._transform.projection.supportsFog?function(t,r,n){var o=e.MercatorCoordinate.fromLngLat(r),i=n.elevation?n.elevation.getAtPointOrZero(o):0,a=[o.x,o.y,i];return e.transformMat4(a,a,n.mercatorFogMatrix),B(t,a,n.pitch,n._fov)}(this.state,t,r):0}},{key:"getFovAdjustedRange",value:function(e){return this._transform.projection.supportsFog?V(this.state,e):[0,1]}},{key:"updateTransitions",value:function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}},{key:"hasTransition",value:function(){return this._transitioning.hasTransition()}},{key:"recalculate",value:function(e){this.properties=this._transitioning.possiblyEvaluate(e)}},{key:"_validate",value:function(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}]),n}(e.Evented),W=function(){function t(r,n){var o=this;m(this,t),this.workerPool=r,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var s=new t.Actor(i[a],n,this.id);s.name="Worker ".concat(a),this.actors.push(s)}this.ready=!1,this.broadcast("checkIfReady",null,(function(){o.ready=!0}))}return y(t,[{key:"broadcast",value:function(t,r,n){e.asyncAll(this.actors,(function(e,n){e.send(t,r,n)}),n=n||function(){})}},{key:"getActor",value:function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}},{key:"remove",value:function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)}}]),t}();function Z(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}W.Actor=e.Actor;var H=function(){function t(e,r,n,o){m(this,t),this.screenBounds=e,this.cameraPoint=r,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map((function(e){return o.pointCoordinate3D(e)})),this.cameraGeometry=this.bufferedCameraGeometry(0)}return y(t,[{key:"isPointQuery",value:function(){return 1===this.screenBounds.length}},{key:"bufferedScreenGeometry",value:function(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}},{key:"bufferedCameraGeometry",value:function(t){var r=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],o=e.polygonizeBounds(r,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>r.x&&this.cameraPoint.x<n.x?o.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?o[2]=this.cameraPoint:this.cameraPoint.x<=r.x&&(o[3]=this.cameraPoint)),e.bufferConvexPolygon(o,t)}},{key:"containsTile",value:function(t,r,n){var o,i=t.queryPadding+1,a=t.tileID.wrap,s=n?this._bufferedCameraMercator(i,r).map((function(r){return e.getTilePoint(t.tileTransform,r,a)})):this._bufferedScreenMercator(i,r).map((function(r){return e.getTilePoint(t.tileTransform,r,a)})),l=this.screenGeometryMercator.map((function(r){return e.getTileVec3(t.tileTransform,r,a)})),u=l.map((function(t){return new e.pointGeometry(t[0],t[1])})),c=r.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),f=e.getTileVec3(t.tileTransform,c,a),d=l.map((function(t){var r=e.sub(t,t,f);return e.normalize(r,r),new e.Ray(f,r)})),h=Z(t,1,r.zoom);if(e.polygonIntersectsBox(s,0,0,e.EXTENT,e.EXTENT))return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:d,bufferedTilespaceGeometry:s,bufferedTilespaceBounds:(o=e.getBounds(s),o.min.x=e.clamp(o.min.x,0,e.EXTENT),o.min.y=e.clamp(o.min.y,0,e.EXTENT),o.max.x=e.clamp(o.max.x,0,e.EXTENT),o.max.y=e.clamp(o.max.y,0,e.EXTENT),o),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:h}}},{key:"_bufferedScreenMercator",value:function(e,t){var r=X(e);if(this._screenRaycastCache[r])return this._screenRaycastCache[r];var n=this.bufferedScreenGeometry(e).map((function(e){return t.pointCoordinate3D(e)}));return this._screenRaycastCache[r]=n,n}},{key:"_bufferedCameraMercator",value:function(e,t){var r=X(e);if(this._cameraRaycastCache[r])return this._cameraRaycastCache[r];var n=this.bufferedCameraGeometry(e).map((function(e){return t.pointCoordinate3D(e)}));return this._cameraRaycastCache[r]=n,n}}],[{key:"createFromScreenPoints",value:function(r,n){var o,i;if(r instanceof e.pointGeometry||"number"==typeof r[0]){var a=e.pointGeometry.convert(r);o=[e.pointGeometry.convert(r)],i=n.isPointAboveHorizon(a)}else{var s=e.pointGeometry.convert(r[0]),l=e.pointGeometry.convert(r[1]);o=[s,l],i=e.polygonizeBounds(s,l).every((function(e){return n.isPointAboveHorizon(e)}))}return new t(o,n.getCameraPoint(),i,n)}}]),t}();function X(e){return 100*e|0}function $(t,r,n){var o=function(o,i){if(o)return n(o);if(i){var a=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(a.vectorLayers=i.vector_layers,a.vectorLayerIds=a.vectorLayers.map((function(e){return e.id}))),a.tiles=r.canonicalizeTileset(a,t.url),n(null,a)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url),e.ResourceType.Source),o):e.exported.frame((function(){return o(null,t)}))}var K,Y=function(){function t(r,n,o){m(this,t),this.bounds=e.LngLatBounds.convert(this.validateBounds(r)),this.minzoom=n||0,this.maxzoom=o||24}return y(t,[{key:"validateBounds",value:function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}},{key:"contains",value:function(t){var r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),o=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),i=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<i&&t.y>=o&&t.y<a}}]),t}(),J=function(){function e(t,r,n){m(this,e),this.context=t;var o=t.gl;this.buffer=o.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),o.bufferData(o.ELEMENT_ARRAY_BUFFER,r.arrayBuffer,this.dynamicDraw?o.DYNAMIC_DRAW:o.STATIC_DRAW),this.dynamicDraw||r.destroy()}return y(e,[{key:"bind",value:function(){this.context.bindElementBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),Q={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},ee=function(){function e(t,r,n,o){m(this,e),this.length=r.length,this.attributes=n,this.itemSize=r.bytesPerElement,this.dynamicDraw=o,this.context=t;var i=t.gl;this.buffer=i.createBuffer(),t.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,r.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||r.destroy()}return y(e,[{key:"bind",value:function(){this.context.bindVertexBuffer.set(this.buffer)}},{key:"updateData",value:function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}},{key:"enableAttributes",value:function(e,t){for(var r=0;r<this.attributes.length;r++){var n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}}},{key:"setVertexAttribPointers",value:function(e,t,r){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],i=t.attributes[o.name];void 0!==i&&e.vertexAttribPointer(i,o.components,e[Q[o.type]],!1,this.itemSize,o.offset+this.itemSize*(r||0))}}},{key:"destroy",value:function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}]),e}(),te=function(){function e(t){m(this,e),this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}return y(e,[{key:"get",value:function(){return this.current}},{key:"set",value:function(e){}},{key:"getDefault",value:function(){return this.default}},{key:"setDefault",value:function(){this.set(this.default)}}]),e}(),re=function(t){p(n,t);var r=v(n);function n(){return m(this,n),r.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),n}(te),ne=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return 1}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}]),r}(te),oe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return 0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}]),r}(te),ie=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return[!0,!0,!0,!0]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),r}(te),ae=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}]),r}(te),se=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return 255}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}]),r}(te),le=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return{func:this.gl.ALWAYS,ref:0,mask:255}}},{key:"set",value:function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}]),r}(te),ue=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}]),r}(te),ce=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}}]),r}(te),fe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return[0,1]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}]),r}(te),de=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}}]),r}(te),he=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return this.gl.LESS}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}]),r}(te),pe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}}]),r}(te),ve=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){var e=this.gl;return[e.ONE,e.ZERO]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}]),r}(te),me=function(t){p(n,t);var r=v(n);function n(){return m(this,n),r.apply(this,arguments)}return y(n,[{key:"getDefault",value:function(){return e.Color.transparent}},{key:"set",value:function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}]),n}(te),ye=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return this.gl.FUNC_ADD}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}]),r}(te),ge=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}}]),r}(te),be=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return this.gl.BACK}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}]),r}(te),_e=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return this.gl.CCW}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}]),r}(te),xe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}]),r}(te),we=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return this.gl.TEXTURE0}},{key:"set",value:function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}]),r}(te),ke=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}},{key:"set",value:function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}]),r}(te),Ee=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}}]),r}(te),Te=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),r}(te),Se=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}}]),r}(te),Ce=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}}]),r}(te),Ae=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}]),r}(te),Ie=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this,e)).vao=e.extVertexArrayObject,n}return y(r,[{key:"getDefault",value:function(){return null}},{key:"set",value:function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}]),r}(te),Me=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return 4}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}}]),r}(te),Pe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}}]),r}(te),Oe=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"getDefault",value:function(){return!1}},{key:"set",value:function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}}]),r}(te),ze=function(e){p(r,e);var t=v(r);function r(e,n){var o;return m(this,r),(o=t.call(this,e)).context=e,o.parent=n,o}return y(r,[{key:"getDefault",value:function(){return null}}]),r}(te),Re=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"setDirty",value:function(){this.dirty=!0}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}}]),r}(ze),De=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"attachment",value:function(){return this.gl.DEPTH_ATTACHMENT}},{key:"set",value:function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}}]),r}(ze),Le=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"attachment",value:function(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}]),r}(De),je=function(){function e(t,r,n,o){m(this,e),this.context=t,this.width=r,this.height=n;var i=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new Re(t,i),o&&(this.depthAttachment=new De(t,i))}return y(e,[{key:"destroy",value:function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var r=this.depthAttachment.get();r&&e.deleteRenderbuffer(r)}e.deleteFramebuffer(this.framebuffer)}}]),e}(),Fe=function(){function t(e){m(this,t),this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new re(this),this.clearDepth=new ne(this),this.clearStencil=new oe(this),this.colorMask=new ie(this),this.depthMask=new ae(this),this.stencilMask=new se(this),this.stencilFunc=new le(this),this.stencilOp=new ue(this),this.stencilTest=new ce(this),this.depthRange=new fe(this),this.depthTest=new de(this),this.depthFunc=new he(this),this.blend=new pe(this),this.blendFunc=new ve(this),this.blendColor=new me(this),this.blendEquation=new ye(this),this.cullFace=new ge(this),this.cullFaceSide=new be(this),this.frontFace=new _e(this),this.program=new xe(this),this.activeTexture=new we(this),this.viewport=new ke(this),this.bindFramebuffer=new Ee(this),this.bindRenderbuffer=new Te(this),this.bindTexture=new Se(this),this.bindVertexBuffer=new Ce(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ie(this),this.pixelStoreUnpack=new Me(this),this.pixelStoreUnpackPremultiplyAlpha=new Pe(this),this.pixelStoreUnpackFlipY=new Oe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}return y(t,[{key:"setDefault",value:function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}},{key:"setDirty",value:function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}},{key:"createIndexBuffer",value:function(e,t){return new J(this,e,t)}},{key:"createVertexBuffer",value:function(e,t,r){return new ee(this,e,t,r)}},{key:"createRenderbuffer",value:function(e,t,r){var n=this.gl,o=n.createRenderbuffer();return this.bindRenderbuffer.set(o),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),o}},{key:"createFramebuffer",value:function(e,t,r){return new je(this,e,t,r)}},{key:"clear",value:function(e){var t=e.color,r=e.depth,n=e.stencil,o=this.gl,i=0;t&&(i|=o.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==r&&(i|=o.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(r),this.depthMask.set(!0)),void 0!==n&&(i|=o.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),o.clear(i)}},{key:"setCullFace",value:function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}},{key:"setDepthMode",value:function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}},{key:"setStencilMode",value:function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}},{key:"setColorMode",value:function(t){h(t.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}},{key:"unbindVAO",value:function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}]),t}(),Ne=function(t){p(n,t);var r=v(n);function n(t,i,a,s){var l;return m(this,n),(l=r.call(this)).id=t,l.dispatcher=a,l.setEventedParent(s),l.type="raster",l.minzoom=0,l.maxzoom=22,l.roundZoom=!0,l.scheme="xyz",l.tileSize=512,l._loaded=!1,l._options=e.extend({type:"raster"},i),e.extend(o(l),e.pick(i,["url","scheme","tileSize"])),l}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new Y(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,r){var n=this,o=e.exported.devicePixelRatio>=2,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),o,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(function(o,i,a,s){return delete t.request,t.aborted?(t.state="unloaded",r(null)):o?(t.state="errored",r(o)):i?(n.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s}),t.setTexture(i,n.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(n.dispatcher),void r(null)):r(null)}))}},{key:"abortTile",value:function(e,t){e.request&&(e.request.cancel(),delete e.request),t()}},{key:"unloadTile",value:function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}},{key:"hasTransition",value:function(){return!1}}],[{key:"loadTileData",value:function(e,t,r){e.setTexture(t,r)}},{key:"unloadTileData",value:function(e,t){e.texture&&t.saveTileTexture(e.texture)}}]),n}(e.Evented);function Be(t,r,n,o,i,a,s,l){var u=[t,n,i,r,o,a,1,1,1],c=[s,l,1],d=e.adjoint([],u),h=e.transformMat3(c,c,e.transpose(d,d)),p=f(h,3),v=p[0],m=p[1],y=p[2];return e.multiply(u,[v,0,0,0,m,0,0,0,y],u)}var Ve=function(t){p(n,t);var r=v(n);function n(e,t,o,i){var a;return m(this,n),(a=r.call(this)).id=e,a.dispatcher=o,a.coordinates=t.coordinates,a.type="image",a.minzoom=0,a.maxzoom=22,a.tileSize=512,a.tiles={},a._loaded=!1,a.setEventedParent(i),a.options=t,a}return y(n,[{key:"load",value:function(t){var r=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(function(n,o){if(r._loaded=!0,n)r.fire(new e.ErrorEvent(n));else if(o){var i=e.window.HTMLImageElement;r.image=o instanceof i?e.exported.getImageData(o):o,r.width=r.image.width,r.height=r.image.height,t&&(r.coordinates=t),r._finishLoading()}}))}},{key:"loaded",value:function(){return this._loaded}},{key:"updateImage",value:function(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates),this):this}},{key:"_finishLoading",value:function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"onRemove",value:function(){this.texture&&this.texture.destroy()}},{key:"setCoordinates",value:function(t){this.coordinates=t,this._boundsArray=void 0;var r=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){var r,n=1/0,o=1/0,i=-1/0,a=-1/0,s=d(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;n=Math.min(n,l.x),o=Math.min(o,l.y),i=Math.max(i,l.x),a=Math.max(a,l.y)}}catch(h){s.e(h)}finally{s.f()}var u=Math.max(i-n,a-o),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2)),f=Math.pow(2,c);return new e.CanonicalTileID(c,Math.floor((n+i)/2*f),Math.floor((o+a)/2*f))}(r),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}},{key:"_clear",value:function(){this._boundsArray=void 0}},{key:"_prepareData",value:function(t){for(var r in this.tiles){var n=this.tiles[r];"loaded"!==n.state&&(n.state="loaded",n.texture=this.texture)}if(!this._boundsArray){var o=e.tileTransform(this.tileID,this.map.transform.projection),i=this.coordinates.map((function(t){var r=o.projection.project(t[0],t[1]);return e.getTilePoint(o,r)._round()})),a=f(i,4),s=a[0],l=a[1],u=a[2],c=a[3];this.perspectiveTransform=function(t,r,n,o,i,a,s,l,u,c){var f=Be(0,0,t,0,0,r,t,r),d=Be(n,o,i,a,s,l,u,c);return e.multiply(d,e.adjoint(f,f),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*r/e.EXTENT]}(this.width,this.height,s.x,s.y,l.x,l.y,c.x,c.y,u.x,u.y);var d=this._boundsArray=new e.StructArrayLayout4i8;d.emplaceBack(s.x,s.y,0,0),d.emplaceBack(l.x,l.y,e.EXTENT,0),d.emplaceBack(c.x,c.y,0,e.EXTENT),d.emplaceBack(u.x,u.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(d,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}}},{key:"prepare",value:function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,r=t.gl;this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this._prepareData(t)}}},{key:"loadTile",value:function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}},{key:"serialize",value:function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return!1}}]),n}(e.Evented),Ue={vector:function(t){p(n,t);var r=v(n);function n(t,i,a,s){var u;if(m(this,n),(u=r.call(this)).id=t,u.dispatcher=a,u.type="vector",u.minzoom=0,u.maxzoom=22,u.scheme="xyz",u.tileSize=512,u.reparseOverscaled=!0,u.isTileClipped=!0,u._loaded=!1,e.extend(o(u),e.pick(i,["url","scheme","tileSize","promoteId"])),u._options=e.extend({type:"vector"},i),u._collectResourceTiming=i.collectResourceTiming,512!==u.tileSize)throw new Error("vector tile sources must have a tileSize of 512");return u.setEventedParent(s),u._tileWorkers={},u._deduped=new e.DedupedRequest,l(u)}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=$(this._options,this.map._requestManager,(function(r,n){t._tileJSONRequest=null,t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(e.extend(t,n),n.bounds&&(t.tileBounds=new Y(n.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(n.tiles,t.map._requestManager._customAccessToken),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}},{key:"loaded",value:function(){return this._loaded}},{key:"hasTile",value:function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"onAdd",value:function(e){this.map=e,this.load()}},{key:"setSourceProperty",value:function(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e();var t,r=this.map.style._getSourceCaches(this.id),n=d(r);try{for(n.s();!(t=n.n()).done;)t.value.clearTiles()}catch(o){n.e(o)}finally{n.f()}this.load()}},{key:"setTiles",value:function(e){var t=this;return this.setSourceProperty((function(){t._options.tiles=e})),this}},{key:"setUrl",value:function(e){var t=this;return this.setSourceProperty((function(){t.url=e,t._options.url=e})),this}},{key:"onRemove",value:function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},{key:"serialize",value:function(){return e.extend({},this._options)}},{key:"loadTile",value:function(t,r){var n=this,o=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(o,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,s.bind(this));else if(t.actor=this._tileWorkers[o]=this._tileWorkers[o]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",i,s.bind(this),void 0,!0);else{var a=e.loadVectorTile.call({deduped:this._deduped},i,(function(e,r){e||!r?s.call(n,e):(i.data={cacheControl:r.cacheControl,expires:r.expires,rawData:r.rawData.slice(0)},t.actor&&t.actor.send("loadTile",i,s.bind(n),void 0,!0))}),!0);t.request={cancel:a}}function s(n,o){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(o&&o.resourceTiming&&(t.resourceTiming=o.resourceTiming),this.map._refreshExpiredTiles&&o&&t.setExpiryData(o),t.loadVectorData(o,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"unloadTile",value:function(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"hasTransition",value:function(){return!1}},{key:"afterUpdate",value:function(){this._tileWorkers={}}}]),n}(e.Evented),raster:Ne,"raster-dem":function(t){p(n,t);var r=v(n);function n(t,o,i,a){var s;return m(this,n),(s=r.call(this,t,o,i,a)).type="raster-dem",s.maxzoom=22,s._options=e.extend({type:"raster-dem"},o),s.encoding=o.encoding||"mapbox",s}return y(n,[{key:"loadTile",value:function(t,r){var n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function o(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,i,a,s){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});var l=e.window.ImageBitmap&&i instanceof e.window.ImageBitmap&&(null==K&&(K=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),K),u=1-(i.width-e.prevPowerOfTwo(i.width))/2;u<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));var c=l?i:e.exported.getImageData(i,u),f={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:c,encoding:this.encoding,padding:u};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",f,o.bind(this),void 0,!0))}}.bind(this))}},{key:"_getNeighboringTiles",value:function(t){var r=t.canonical,n=Math.pow(2,r.z),o=(r.x-1+n)%n,i=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,i,r.z,o,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l}},{key:"unloadTile",value:function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}}]),n}(Ne),geojson:function(t){p(n,t);var r=v(n);function n(t,o,i,a){var s;m(this,n),(s=r.call(this)).id=t,s.type="geojson",s.minzoom=0,s.maxzoom=18,s.tileSize=512,s.isTileClipped=!0,s.reparseOverscaled=!0,s._loaded=!1,s.actor=i.getActor(),s.setEventedParent(a),s._data=o.data,s._options=e.extend({},o),s._collectResourceTiming=o.collectResourceTiming,void 0!==o.maxzoom&&(s.maxzoom=o.maxzoom),o.type&&(s.type=o.type),o.attribution&&(s.attribution=o.attribution),s.promoteId=o.promoteId;var l=e.EXTENT/s.tileSize;return s.workerOptions=e.extend({source:s.id,cluster:o.cluster||!1,geojsonVtOptions:{buffer:(void 0!==o.buffer?o.buffer:128)*l,tolerance:(void 0!==o.tolerance?o.tolerance:.375)*l,extent:e.EXTENT,maxZoom:s.maxzoom,lineMetrics:o.lineMetrics||!1,generateId:o.generateId||!1},superclusterOptions:{maxZoom:void 0!==o.clusterMaxZoom?o.clusterMaxZoom:s.maxzoom-1,minPoints:Math.max(2,o.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==o.clusterRadius?o.clusterRadius:50)*l,log:!1,generateId:o.generateId||!1},clusterProperties:o.clusterProperties,filter:o.filter},o.workerOptions),s}return y(n,[{key:"onAdd",value:function(e){this.map=e,this.setData(this._data)}},{key:"setData",value:function(e){return this._data=e,this._updateWorkerData(),this}},{key:"getClusterExpansionZoom",value:function(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}},{key:"getClusterChildren",value:function(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}},{key:"getClusterLeaves",value:function(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this}},{key:"_updateWorkerData",value:function(){var t=this;if(this._pendingLoad)this._coalesce=!0;else{this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;var r=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(r.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(n),this._pendingLoad=this.actor.send("".concat(this.type,".loadData"),r,(function(r,n){if(t._loaded=!0,t._pendingLoad=null,r)t.fire(new e.ErrorEvent(r));else{var o={dataType:"source",sourceDataType:t._metadataFired?"content":"metadata"};t._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[t.id]&&(o.resourceTiming=n.resourceTiming[t.id]),t.fire(new e.Event("data",o)),t._metadataFired=!0}t._coalesce&&(t._updateWorkerData(),t._coalesce=!1)}))}}},{key:"loaded",value:function(){return this._loaded}},{key:"loadTile",value:function(t,r){var n=this,o=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(o,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(function(e,i){return delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,n.map.painter,"reloadTile"===o),r(null))}),void 0,"loadTile"===o)}},{key:"abortTile",value:function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}},{key:"unloadTile",value:function(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}},{key:"onRemove",value:function(){this._pendingLoad&&this._pendingLoad.cancel()}},{key:"serialize",value:function(){return e.extend({},this._options,{type:this.type,data:this._data})}},{key:"hasTransition",value:function(){return!1}}]),n}(e.Evented),video:function(t){p(n,t);var r=v(n);function n(e,t,o,i){var a;return m(this,n),(a=r.call(this,e,t,o,i)).roundZoom=!0,a.type="video",a.options=t,a}return y(n,[{key:"load",value:function(){var t=this;this._loaded=!1;var r=this.options;this.urls=[];var n,o=d(r.urls);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.urls.push(this.map._requestManager.transformRequest(i,e.ResourceType.Source).url)}}catch(a){o.e(a)}finally{o.f()}e.getVideo(this.urls,(function(r,n){t._loaded=!0,r?t.fire(new e.ErrorEvent(r)):n&&(t.video=n,t.video.loop=!0,t.video.setAttribute("playsinline",""),t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"play",value:function(){this.video&&this.video.play()}},{key:"seek",value:function(t){if(this.video){var r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(r.start(0)," and ").concat(r.end(0),"-second mark.")))):this.video.currentTime=t}}},{key:"getVideo",value:function(){return this.video}},{key:"onAdd",value:function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}},{key:"prepare",value:function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,r=t.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}}},{key:"serialize",value:function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this.video&&!this.video.paused}}]),n}(Ve),image:Ve,canvas:function(t){p(n,t);var r=v(n);function n(t,o,i,a){var s;return m(this,n),s=r.call(this,t,o,i,a),o.coordinates?Array.isArray(o.coordinates)&&4===o.coordinates.length&&!o.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "coordinates"'))),o.animate&&"boolean"!=typeof o.animate&&s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),o.canvas?"string"==typeof o.canvas||o.canvas instanceof e.window.HTMLCanvasElement||s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):s.fire(new e.ErrorEvent(new e.ValidationError("sources.".concat(t),null,'missing required property "canvas"'))),s.options=o,s.animate=void 0===o.animate||o.animate,s}return y(n,[{key:"load",value:function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}},{key:"getCanvas",value:function(){return this.canvas}},{key:"onAdd",value:function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}},{key:"onRemove",value:function(){this.pause()}},{key:"prepare",value:function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var r=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,r.gl.RGBA,{premultiply:!0}),this._prepareData(r)}}},{key:"serialize",value:function(){return{type:"canvas",coordinates:this.coordinates}}},{key:"hasTransition",value:function(){return this._playing}},{key:"_hasInvalidDimensions",value:function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e++){var r=t[e];if(isNaN(r)||r<=0)return!0}return!1}}]),n}(Ve),custom:function(t){p(n,t);var r=v(n);function n(t,i,a,s){var l;return m(this,n),(l=r.call(this)).id=t,l.type="custom",l._dataType="raster",l._dispatcher=a,l._implementation=i,l.setEventedParent(s),l.scheme="xyz",l.minzoom=0,l.maxzoom=22,l.tileSize=512,l._loaded=!1,l.roundZoom=!0,l._implementation||l.fire(new e.ErrorEvent(new Error("Missing implementation for ".concat(l.id," custom source")))),l._implementation.loadTile||l.fire(new e.ErrorEvent(new Error("Missing loadTile implementation for ".concat(l.id," custom source")))),l._implementation.bounds&&(l.tileBounds=new Y(l._implementation.bounds,l.minzoom,l.maxzoom)),i.update=l._update.bind(o(l)),i.coveringTiles=l._coveringTiles.bind(o(l)),e.extend(o(l),e.pick(i,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"])),l}return y(n,[{key:"serialize",value:function(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}},{key:"load",value:function(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}},{key:"loaded",value:function(){return this._loaded}},{key:"onAdd",value:function(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}},{key:"onRemove",value:function(e){this._implementation.onRemove&&this._implementation.onRemove(e)}},{key:"hasTile",value:function(e){if(this._implementation.hasTile){var t=e.canonical,r=t.x,n=t.y,o=t.z;return this._implementation.hasTile({x:r,y:n,z:o})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}},{key:"loadTile",value:function(t,r){var n=t.tileID.canonical,o=n.x,i=n.y,a=n.z,s=new e.window.AbortController,l=this._implementation.loadTile({x:o,y:i,z:a},{signal:s.signal});if(!l)return this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",r(null);l.cancel=function(){return s.abort()},t.request=l.then(function(n){return delete t.request,t.aborted?(t.state="unloaded",r(null)):n?function(t){return t instanceof e.window.ImageData||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLCanvasElement}(n)?(this.loadTileData(t,n),t.state="loaded",void r(null)):(t.state="errored",r(new Error("Can't infer data type for ".concat(this.id,", only raster data supported at the moment")))):(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",r(null))}.bind(this)).catch((function(e){20!==e.code&&(t.state="errored",r(e))}))}},{key:"loadTileData",value:function(e,t){Ne.loadTileData(e,t,this._map.painter)}},{key:"unloadTileData",value:function(e){Ne.unloadTileData(e,this._map.painter)}},{key:"prepareTile",value:function(e){if(!this._implementation.prepareTile)return null;var t=e.tileID.canonical,r=t.x,n=t.y,o=t.z,i=this._implementation.prepareTile({x:r,y:n,z:o});return i?(this.loadTileData(e,i),e.state="loaded",i):null}},{key:"unloadTile",value:function(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){var r=e.tileID.canonical,n=r.x,o=r.y,i=r.z;this._implementation.unloadTile({x:n,y:o,z:i})}t()}},{key:"abortTile",value:function(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}},{key:"hasTransition",value:function(){return!1}},{key:"_coveringTiles",value:function(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map((function(e){return{x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}}))}},{key:"_update",value:function(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}]),n}(e.Evented)},Ge=function(t,r,n,o){var i=new Ue[r.type](t,r,n,o);if(i.id!==t)throw new Error("Expected Source id to be ".concat(t," instead of ").concat(i.id));return e.bindAll(["load","abort","unload","serialize","prepare"],i),i};function qe(t,r){var n=e.identity([]);return e.scale(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply$1(n,n,t.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(n)}function We(e,t,r,n,o,i,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=e.tilesIn(n,a,s);l.sort(He);var u,c=[],f=d(l);try{for(f.s();!(u=f.n()).done;){var h=u.value;c.push({wrappedTileID:h.tile.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,r,e._state,h,o,i,qe(e.transform,h.tile.tileID),s)})}}catch(m){f.e(m)}finally{f.f()}var p=function(e){var t,r={},n={},o=d(e);try{for(o.s();!(t=o.n()).done;){var i=t.value,a=i.queryResults,s=i.wrappedTileID,l=n[s]=n[s]||{};for(var u in a){var c,f=a[u],h=l[u]=l[u]||{},p=r[u]=r[u]||[],v=d(f);try{for(v.s();!(c=v.n()).done;){var y=c.value;h[y.featureIndex]||(h[y.featureIndex]=!0,p.push(y))}}catch(m){v.e(m)}finally{v.f()}}}}catch(m){o.e(m)}finally{o.f()}return r}(c);for(var v in p)p[v].forEach((function(t){var r=t.feature,n=r.layer;n&&"background"!==n.type&&"sky"!==n.type&&(r.source=n.source,n["source-layer"]&&(r.sourceLayer=n["source-layer"]),r.state=void 0!==r.id?e.getFeatureState(n["source-layer"],r.id):{})}));return p}function Ze(e,t){for(var r=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),n=[],o={},i=0;i<r.length;i++){var a=r[i],s=a.tileID.canonical.key;o[s]||(o[s]=!0,a.querySourceFeatures(n,t))}return n}function He(e,t){var r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}function Xe(){return null!=_i.workerClass?new _i.workerClass:new e.window.Worker(_i.workerUrl)}var $e,Ke="mapboxgl_preloaded_worker_pool",Ye=function(){function e(){m(this,e),this.active={}}return y(e,[{key:"acquire",value:function(t){if(!this.workers)for(this.workers=[];this.workers.length<e.workerCount;)this.workers.push(new Xe);return this.active[t]=!0,this.workers.slice()}},{key:"release",value:function(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)}},{key:"isPreloaded",value:function(){return!!this.active[Ke]}},{key:"numActive",value:function(){return Object.keys(this.active).length}}]),e}();function Je(){return $e||($e=new Ye),$e}function Qe(t,r){var n={};for(var o in t)"ref"!==o&&(n[o]=t[o]);return e.refProperties.forEach((function(e){e in r&&(n[e]=r[e])})),n}function et(e){e=e.slice();for(var t=Object.create(null),r=0;r<e.length;r++)t[e[r].id]=e[r];for(var n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Qe(e[n],t[e[n].ref]));return e}Ye.workerCount=2;var tt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function rt(e,t,r){r.push({command:tt.addSource,args:[e,t[e]]})}function nt(e,t,r){t.push({command:tt.removeSource,args:[e]}),r[e]=!0}function ot(e,t,r,n){nt(e,r,n),rt(e,t,r)}function it(e,t,r){var n;for(n in e[r])if(e[r].hasOwnProperty(n)&&"data"!==n&&!h(e[r][n],t[r][n]))return!1;for(n in t[r])if(t[r].hasOwnProperty(n)&&"data"!==n&&!h(e[r][n],t[r][n]))return!1;return!0}function at(e,t,r,n,o,i){var a;for(a in t=t||{},e=e||{})e.hasOwnProperty(a)&&(h(e[a],t[a])||r.push({command:i,args:[n,a,t[a],o]}));for(a in t)t.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(h(e[a],t[a])||r.push({command:i,args:[n,a,t[a],o]}))}function st(e){return e.id}function lt(e,t){return e[t.id]=t,e}var ut=function(){function t(e,r){m(this,t),this.reset(e,r)}return y(t,[{key:"reset",value:function(e,t){this.points=e||[],this._distances=[0];for(var r=1;r<this.points.length;r++)this._distances[r]=this._distances[r-1]+this.points[r].dist(this.points[r-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}},{key:"lerp",value:function(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);for(var r=1,n=this._distances[r],o=t*this.paddedLength+this.padding;n<o&&r<this._distances.length;)n=this._distances[++r];var i=r-1,a=this._distances[i],s=n-a,l=s>0?(o-a)/s:0;return this.points[i].mult(1-l).add(this.points[r].mult(l))}}]),t}(),ct=function(){function e(t,r,n){m(this,e);var o=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(r/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)o.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=r,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/r,this.boxUid=0,this.circleUid=0}return y(e,[{key:"keysLength",value:function(){return this.boxKeys.length+this.circleKeys.length}},{key:"insert",value:function(e,t,r,n,o){this._forEachCell(t,r,n,o,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(o)}},{key:"insertCircle",value:function(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}},{key:"_insertBoxCell",value:function(e,t,r,n,o,i){this.boxCells[o].push(i)}},{key:"_insertCircleCell",value:function(e,t,r,n,o,i){this.circleCells[o].push(i)}},{key:"_query",value:function(e,t,r,n,o,i){if(r<0||e>this.width||n<0||t>this.height)return!o&&[];var a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],f=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-f,y1:c-f,x2:u+f,y2:c+f})}return i?a.filter(i):a}return this._forEachCell(e,t,r,n,this._queryCell,a,{hitTest:o,seenUids:{box:{},circle:{}}},i),o?a.length>0:a}},{key:"_queryCircle",value:function(e,t,r,n,o){var i=e-r,a=e+r,s=t-r,l=t+r;if(a<0||i>this.width||l<0||s>this.height)return!n&&[];var u=[];return this._forEachCell(i,s,a,l,this._queryCellCircle,u,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},o),n?u.length>0:u}},{key:"query",value:function(e,t,r,n,o){return this._query(e,t,r,n,!1,o)}},{key:"hitTest",value:function(e,t,r,n,o){return this._query(e,t,r,n,!0,o)}},{key:"hitTestCircle",value:function(e,t,r,n){return this._queryCircle(e,t,r,!0,n)}},{key:"_queryCell",value:function(e,t,r,n,o,i,a,s){var l=a.seenUids,u=this.boxCells[o];if(null!==u){var c,f=this.bboxes,h=d(u);try{for(h.s();!(c=h.n()).done;){var p=c.value;if(!l.box[p]){l.box[p]=!0;var v=4*p;if(e<=f[v+2]&&t<=f[v+3]&&r>=f[v+0]&&n>=f[v+1]&&(!s||s(this.boxKeys[p]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[p],x1:f[v],y1:f[v+1],x2:f[v+2],y2:f[v+3]})}}}}catch(T){h.e(T)}finally{h.f()}}var m=this.circleCells[o];if(null!==m){var y,g=this.circles,b=d(m);try{for(b.s();!(y=b.n()).done;){var _=y.value;if(!l.circle[_]){l.circle[_]=!0;var x=3*_;if(this._circleAndRectCollide(g[x],g[x+1],g[x+2],e,t,r,n)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return i.push(!0),!0;var w=g[x],k=g[x+1],E=g[x+2];i.push({key:this.circleKeys[_],x1:w-E,y1:k-E,x2:w+E,y2:k+E})}}}}catch(T){b.e(T)}finally{b.f()}}}},{key:"_queryCellCircle",value:function(e,t,r,n,o,i,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[o];if(null!==c){var f,h=this.bboxes,p=d(c);try{for(p.s();!(f=p.n()).done;){var v=f.value;if(!u.box[v]){u.box[v]=!0;var m=4*v;if(this._circleAndRectCollide(l.x,l.y,l.radius,h[m+0],h[m+1],h[m+2],h[m+3])&&(!s||s(this.boxKeys[v])))return i.push(!0),!0}}}catch(k){p.e(k)}finally{p.f()}}var y=this.circleCells[o];if(null!==y){var g,b=this.circles,_=d(y);try{for(_.s();!(g=_.n()).done;){var x=g.value;if(!u.circle[x]){u.circle[x]=!0;var w=3*x;if(this._circlesCollide(b[w],b[w+1],b[w+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[x])))return i.push(!0),!0}}}catch(k){_.e(k)}finally{_.f()}}}},{key:"_forEachCell",value:function(e,t,r,n,o,i,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(r),f=this._convertToYCellCoord(n),d=l;d<=c;d++)for(var h=u;h<=f;h++)if(o.call(this,e,t,r,n,this.xCellCount*h+d,i,a,s))return}},{key:"_convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"_convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}},{key:"_circlesCollide",value:function(e,t,r,n,o,i){var a=n-e,s=o-t,l=r+i;return l*l>a*a+s*s}},{key:"_circleAndRectCollide",value:function(e,t,r,n,o,i,a){var s=(i-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;var u=(a-o)/2,c=Math.abs(t-(o+u));if(c>u+r)return!1;if(l<=s||c<=u)return!0;var f=l-s,d=c-u;return f*f+d*d<=r*r}}]),e}(),ft=Math.tan(85*Math.PI/180);function dt(t,r,n,o,i,a){var s=e.create();if(n){if("globe"===i.projection.name)e.multiply$1(s,s,e.calculateGlobeLabelMatrix(i,r));else{var l=P([],a);s[0]=l[0],s[1]=l[1],s[4]=l[2],s[5]=l[3]}o||e.rotateZ(s,s,i.angle)}else e.multiply$1(s,i.labelPlaneMatrix,t);return s}function ht(t,r,n,o,i,a){if(n){if("globe"===i.projection.name){var s=dt(t,r,n,o,i,a);return e.invert(s,s),e.multiply$1(s,t,s),s}var l=e.clone(t),u=e.identity([]);return u[0]=a[0],u[1]=a[1],u[4]=a[2],u[5]=a[3],e.multiply$1(l,l,u),o||e.rotateZ(l,l,-i.angle),l}return i.glCoordMatrix}function pt(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=[t.x,t.y,n,1];n?e.transformMat4$1(o,o,r):Ct(o,o,r);var i=o[3];return{point:new e.pointGeometry(o[0]/i,o[1]/i),signedDistanceFromCamera:i}}function vt(t,r){var n=[t[0],t[1],t[2],1];e.transformMat4$1(n,n,r);var o=n[3];return{point:new e.pointGeometry(n[0]/o,n[1]/o),signedDistanceFromCamera:o}}function mt(e,t){return Math.min(.5+e/t*.5,1.5)}function yt(e,t){var r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function gt(t,r,n,o,i,a,s,l,u,c){var f=n.transform,d=o?t.textSizeData:t.iconSizeData,h=e.evaluateSizeForZoom(d,n.transform.zoom),p=[256/n.width*2+1,256/n.height*2+1],v=o?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;v.clear();for(var m=t.lineVertexArray,y=o?t.text.placedSymbolArray:t.icon.placedSymbolArray,g=n.transform.width/n.transform.height,b=!1,_=0;_<y.length;_++){var x=y.get(_);if(x.writingMode!==e.WritingMode.vertical||b||0!==_&&y.get(_-1).writingMode===e.WritingMode.horizontal||(b=!0),!x.hidden&&x.writingMode!==e.WritingMode.vertical||b){b=!1;var w=new e.pointGeometry(x.tileAnchorX,x.tileAnchorY),k=u?u(w):[0,0,0],E=f.projection.projectTilePoint(w.x,w.y,c.canonical),T=[E.x+k[0],E.y+k[1],E.z+k[2]],S=[].concat(T,[1]);if(e.transformMat4$1(S,S,r),yt(S,p)){var C=mt(n.transform.cameraToCenterDistance,S[3]),A=e.evaluateSizeForFeature(d,h,x),I=s?A/C:A*C,M=pt(new e.pointGeometry(T[0],T[1]),i,T[2]);if(M.signedDistanceFromCamera<=0)St(x.numGlyphs,v);else{var P={},O=s?null:u,z=xt(x,I,!1,l,r,i,a,t.glyphOffsetArray,m,v,M.point,w,P,g,O,f.projection,c);b=z.useVertical,O&&z.needsFlipping&&(P={}),(z.notEnoughRoom||b||z.needsFlipping&&xt(x,I,!0,l,r,i,a,t.glyphOffsetArray,m,v,M.point,w,P,g,O,f.projection,c).notEnoughRoom)&&St(x.numGlyphs,v)}}else St(x.numGlyphs,v)}else St(x.numGlyphs,v)}o?t.text.dynamicLayoutVertexBuffer.updateData(v):t.icon.dynamicLayoutVertexBuffer.updateData(v)}function bt(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p){var v=s.glyphStartIndex+s.numGlyphs,m=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,g=t.getoffsetX(s.glyphStartIndex),b=t.getoffsetX(v-1),_=Et(e*g,r,n,o,i,a,s.segment,m,y,l,u,c,f,d,!0,h,p);if(!_)return null;var x=Et(e*b,r,n,o,i,a,s.segment,m,y,l,u,c,f,d,!0,h,p);return x?{first:_,last:x}:null}function _t(t,r,n,o){return t.writingMode===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*o?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?r.y<n.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,r){var n=(t.x-e.x)*r;return 0===n||Math.abs((t.y-e.y)/n)>ft}(r,n,o)?1===t.flipState?{needsFlipping:!0}:null:r.x>n.x?{needsFlipping:!0}:null}function xt(t,r,n,o,i,a,s,l,u,c,f,h,p,v,m,y,g){var b,_=r/24,x=t.lineOffsetX*_,w=t.lineOffsetY*_;if(t.numGlyphs>1){var k=t.glyphStartIndex+t.numGlyphs,E=t.lineStartIndex,T=t.lineStartIndex+t.lineLength,S=bt(_,l,x,w,n,f,h,t,u,a,p,m,!1,y,g);if(!S)return{notEnoughRoom:!0};var C=pt(S.first.point,s).point,A=pt(S.last.point,s).point;if(o&&!n){var I=_t(t,C,A,v);if(t.flipState=I&&I.needsFlipping?1:2,I)return I}b=[S.first];for(var M=t.glyphStartIndex+1;M<k-1;M++)b.push(Et(_*l.getoffsetX(M),x,w,n,f,h,t.segment,E,T,u,a,p,m,!1,!1,y,g));b.push(S.last)}else{if(o&&!n){var P=pt(h,i).point,O=t.lineStartIndex+t.segment+1,z=new e.pointGeometry(u.getx(O),u.gety(O)),R=pt(z,i),D=_t(t,P,R.signedDistanceFromCamera>0?R.point:kt(h,z,P,1,i,void 0,y,g.canonical),v);if(t.flipState=D&&D.needsFlipping?1:2,D)return D}var L=Et(_*l.getoffsetX(t.glyphStartIndex),x,w,n,f,h,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,p,m,!1,!1,y,g);if(!L)return{notEnoughRoom:!0};b=[L]}var j,F=d(b);try{for(F.s();!(j=F.n()).done;){var N=j.value;e.addDynamicAttributes(c,N.point,N.angle)}}catch(B){F.e(B)}finally{F.f()}return{}}function wt(t,r,n,o,i){var a=o.projectTilePoint(t.x,t.y,r);if(!i)return pt(a,n,a.z);var s=i(t);return pt(new e.pointGeometry(a.x+s[0],a.y+s[1]),n,a.z+s[2])}function kt(e,t,r,n,o,i,a,s){var l=wt(e.add(e.sub(t)._unit()),s,o,a,i).point,u=r.sub(l);return r.add(u._mult(n/u.mag()))}function Et(t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y){var g=o?t-r:t+r,b=g>0?1:-1,_=0;o&&(b*=-1,_=Math.PI),b<0&&(_+=Math.PI);for(var x=b>0?l+s:l+s+1,w=i,k=i,E=0,T=0,S=Math.abs(g),C=[],A=[],I=a,M=function(){var t=x-b;return 0===E?a:new e.pointGeometry(c.getx(t),c.gety(t))},P=function(){return kt(M(),I,k,S-E+1,f,h,m,y.canonical)};E+T<=S;){if((x+=b)<l||x>=u)return null;if(k=w,C.push(w),p&&A.push(I||M()),void 0===(w=d[x])){var O=wt(I=new e.pointGeometry(c.getx(x),c.gety(x)),y.canonical,f,m,h);w=O.signedDistanceFromCamera>0?d[x]=O.point:P()}else I=null;E+=T,T=k.dist(w)}v&&h&&(I=I||new e.pointGeometry(c.getx(x),c.gety(x)),d[x]=w=void 0===d[x]?w:P(),T=k.dist(w));var z=(S-E)/T,R=w.sub(k),D=R.mult(z)._add(k);n&&D._add(R._unit()._perp()._mult(n*b));var L=_+Math.atan2(w.y-k.y,w.x-k.x);return C.push(D),p&&(I=I||new e.pointGeometry(c.getx(x),c.gety(x)),A.push(function(t,r,n){var o=1-n;return new e.pointGeometry(t.x*o+r.x*n,t.y*o+r.y*n)}(A.length>0?A[A.length-1]:I,I,z))),{point:D,angle:L,path:C,tilePath:A}}var Tt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function St(e,t){for(var r=0;r<e;r++){var n=t.length;t.resize(n+4),t.float32.set(Tt,3*n)}}function Ct(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],e[3]=r[3]*n+r[7]*o+r[15],e}var At=100,It=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ct(e.width+200,e.height+200,25),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ct(e.width+200,e.height+200,25);m(this,t),this.transform=e,this.grid=n,this.ignoredGrid=o,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+At,this.screenBottomBoundary=e.height+At,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=r}return y(t,[{key:"placeCollisionBox",value:function(e,t,r,n,o,i,a){var s=t.projectedAnchorX,l=t.projectedAnchorY,u=t.projectedAnchorZ,c=t.elevation,f=t.tileID;if(c&&f){var d=this.transform.projection.upVector(f.canonical,t.tileAnchorX,t.tileAnchorY),h=this.transform.projection.upVectorScale(f.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;s+=d[0]*c*h,l+=d[1]*c*h,u+=d[2]*c*h}var p=this.projectAndGetPerspectiveRatio(i,[s,l,u],t.tileID,"globe"===this.transform.projection.name||!!c||this.transform.pitch>0),v=o*p.perspectiveRatio,m=(t.x1*e+r.x-t.padding)*v+p.point.x,y=(t.y1*e+r.y-t.padding)*v+p.point.y,g=(t.x2*e+r.x+t.padding)*v+p.point.x,b=(t.y2*e+r.y+t.padding)*v+p.point.y,_=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(m,y,g,b)||!n&&this.grid.hitTest(m,y,g,b,a)||_?{box:[],offscreen:!1,occluded:p.occluded}:{box:[m,y,g,b],offscreen:this.isOffscreen(m,y,g,b),occluded:!1}}},{key:"placeCollisionCircles",value:function(t,r,n,o,i,a,s,l,u,c,f,h,p,v){var m=[],y=this.transform.elevation,g=y?y.getAtTileOffsetFunc(v,this.transform.center.lat,this.transform.worldSize,this.transform.projection):function(e){return[0,0,0]},b=new e.pointGeometry(r.tileAnchorX,r.tileAnchorY),_=this.transform.projection.projectTilePoint(r.tileAnchorX,r.tileAnchorY,v.canonical),x=g(b),w=[_.x+x[0],_.y+x[1],_.z+x[2]],k=this.projectAndGetPerspectiveRatio(a,[w[0],w[1],w[2]],v,"globe"===this.transform.projection.name||!!y||this.transform.pitch>0),E=k.perspectiveRatio,T=(c?i/E:i*E)/e.ONE_EM,S=pt(new e.pointGeometry(w[0],w[1]),s,w[2]).point,C=k.signedDistanceFromCamera>0?bt(T,o,r.lineOffsetX*T,r.lineOffsetY*T,!1,S,b,r,n,s,{},y&&!c?g:null,c&&!!y,this.transform.projection,v):null,A=!1,I=!1,M=!0;if(C&&!k.occluded){for(var P=.5*h*E+p,O=new e.pointGeometry(-100,-100),z=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),R=new ut,D=C.first,L=C.last,j=[],F=D.path.length-1;F>=1;F--)j.push(D.path[F]);for(var N=1;N<L.path.length;N++)j.push(L.path[N]);var B=2.5*P;if(l){var V=j.map(y?function(e,t){var r=g(t<D.path.length-1?D.tilePath[D.path.length-1-t]:L.tilePath[t-D.path.length+2]);return pt(e,l,r[2])}:function(e){return pt(e,l)});j=V.some((function(e){return e.signedDistanceFromCamera<=0}))?[]:V.map((function(e){return e.point}))}var U=[];if(j.length>0){for(var G=j[0].clone(),q=j[0].clone(),W=1;W<j.length;W++)G.x=Math.min(G.x,j[W].x),G.y=Math.min(G.y,j[W].y),q.x=Math.max(q.x,j[W].x),q.y=Math.max(q.y,j[W].y);U=G.x>=O.x&&q.x<=z.x&&G.y>=O.y&&q.y<=z.y?[j]:q.x<O.x||G.x>z.x||q.y<O.y||G.y>z.y?[]:e.clipLine([j],O.x,O.y,z.x,z.y)}var Z,H=d(U);try{for(H.s();!(Z=H.n()).done;){var X=Z.value;R.reset(X,.25*P);var $=0;$=R.length<=.5*P?1:Math.ceil(R.paddedLength/B)+1;for(var K=0;K<$;K++){var Y=K/Math.max($-1,1),J=R.lerp(Y),Q=J.x+At,ee=J.y+At;m.push(Q,ee,P,0);var te=Q-P,re=ee-P,ne=Q+P,oe=ee+P;if(M=M&&this.isOffscreen(te,re,ne,oe),I=I||this.isInsideGrid(te,re,ne,oe),!t&&this.grid.hitTestCircle(Q,ee,P,f)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}catch(ie){H.e(ie)}finally{H.f()}}return{circles:!u&&A||!I?[]:m,offscreen:M,collisionDetected:A,occluded:k.occluded}}},{key:"queryRenderedSymbols",value:function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};var r,n=[],o=1/0,i=1/0,a=-1/0,s=-1/0,l=d(t);try{for(l.s();!(r=l.n()).done;){var u=r.value,c=new e.pointGeometry(u.x+At,u.y+At);o=Math.min(o,c.x),i=Math.min(i,c.y),a=Math.max(a,c.x),s=Math.max(s,c.y),n.push(c)}}catch(_){l.e(_)}finally{l.f()}var f,h=this.grid.query(o,i,a,s).concat(this.ignoredGrid.query(o,i,a,s)),p={},v={},m=d(h);try{for(m.s();!(f=m.n()).done;){var y=f.value,g=y.key;if(void 0===p[g.bucketInstanceId]&&(p[g.bucketInstanceId]={}),!p[g.bucketInstanceId][g.featureIndex]){var b=[new e.pointGeometry(y.x1,y.y1),new e.pointGeometry(y.x2,y.y1),new e.pointGeometry(y.x2,y.y2),new e.pointGeometry(y.x1,y.y2)];e.polygonIntersectsPolygon(n,b)&&(p[g.bucketInstanceId][g.featureIndex]=!0,void 0===v[g.bucketInstanceId]&&(v[g.bucketInstanceId]=[]),v[g.bucketInstanceId].push(g.featureIndex))}}}catch(_){m.e(_)}finally{m.f()}return v}},{key:"insertCollisionBox",value:function(e,t,r,n,o){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:o},e[0],e[1],e[2],e[3])}},{key:"insertCollisionCircles",value:function(e,t,r,n,o){for(var i=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:o},s=0;s<e.length;s+=4)i.insertCircle(a,e[s],e[s+1],e[s+2])}},{key:"projectAndGetPerspectiveRatio",value:function(t,r,n,o){var i=[r[0],r[1],r[2],1],a=!1;return r[2]||this.transform.pitch>0?(e.transformMat4$1(i,i,t),this.fogState&&n&&(a=function(t,r,n,o,i,a){var s=a.calculateFogTileMatrix(i),l=[r,n,o];return e.transformMat4(l,l,s),B(t,l,a.pitch,a._fov)}(this.fogState,r[0],r[1],r[2],n.toUnwrapped(),this.transform)>.9)):Ct(i,i,t),{point:new e.pointGeometry((i[0]/i[3]+1)/2*this.transform.width+At,(-i[1]/i[3]+1)/2*this.transform.height+At),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/i[3]*.5,1.5),signedDistanceFromCamera:i[3],occluded:o&&i[2]>i[3]||a}}},{key:"isOffscreen",value:function(e,t,r,n){return r<At||e>=this.screenRightBoundary||n<At||t>this.screenBottomBoundary}},{key:"isInsideGrid",value:function(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}},{key:"getViewportMatrix",value:function(){var t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}]),t}(),Mt=function(){function e(t,r,n,o){m(this,e),this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?r:-r))):o&&n?1:0,this.placed=n}return y(e,[{key:"isHidden",value:function(){return 0===this.opacity&&!this.placed}}]),e}(),Pt=function(){function e(t,r,n,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];m(this,e),this.text=new Mt(t?t.text:null,r,n,i),this.icon=new Mt(t?t.icon:null,r,o,i),this.clipped=a}return y(e,[{key:"isHidden",value:function(){return this.text.isHidden()&&this.icon.isHidden()}}]),e}(),Ot=y((function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];m(this,e),this.text=t,this.icon=r,this.skipFade=n,this.clipped=o})),zt=y((function t(){m(this,t),this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]})),Rt=y((function e(t,r,n,o,i){m(this,e),this.bucketInstanceId=t,this.featureIndex=r,this.sourceLayerIndex=n,this.bucketIndex=o,this.tileID=i})),Dt=function(){function e(t){m(this,e),this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}}return y(e,[{key:"get",value:function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]}}]),e}();function Lt(t,r,n,o,i){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*r,l=-(a.verticalAlign-.5)*n,u=e.evaluateVariableOffset(t,o);return new e.pointGeometry(s+u[0]*i,l+u[1]*i)}function jt(t,r,n,o,i){var a=new e.pointGeometry(t,r);return n&&a._rotate(o?i:-i),a}var Ft=function(){function t(e,r,n,o,i){m(this,t),this.transform=e.clone(),this.collisionIndex=new It(this.transform,i),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=r,this.retainedQueryData={},this.collisionGroups=new Dt(n),this.collisionCircleArrays={},this.prevPlacement=o,o&&(o.prevPlacement=void 0),this.placedOrientations={}}return y(t,[{key:"getBucketParts",value:function(t,r,n,o){var i=n.getBucket(r),a=n.latestFeatureIndex;if(i&&a&&r.id===i.layerIds[0]){var s=i.layers[0].layout,l=n.collisionBoxArray,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,f=n.tileID.toUnwrapped(),h=this.transform.calculateProjMatrix(f),p="map"===s.get("text-pitch-alignment"),v="map"===s.get("text-rotation-alignment");r.compileFilter();var m=r.dynamicFilter(),y=r.dynamicFilterNeedsFeature(),g=this.transform.calculatePixelsToTileUnitsMatrix(n),b=dt(h,n.tileID.canonical,p,v,this.transform,g),_=null;if(p){var x=ht(h,n.tileID.canonical,p,v,this.transform,g);_=e.multiply$1([],this.transform.labelPlaneMatrix,x)}var w=null;m&&n.latestFeatureIndex&&(w={unwrappedTileID:f,dynamicFilter:m,dynamicFilterNeedsFeature:y,featureIndex:n.latestFeatureIndex}),this.retainedQueryData[i.bucketInstanceId]=new Rt(i.bucketInstanceId,a,i.sourceLayerIndex,i.index,n.tileID);var k={bucket:i,layout:s,posMatrix:h,textLabelPlaneMatrix:b,labelToScreenMatrix:_,clippingData:w,scale:u,textPixelRatio:c,holdingForFade:n.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(i.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(i.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(i.sourceID)};if(o){var E,T=d(i.sortKeyRanges);try{for(T.s();!(E=T.n()).done;){var S=E.value,C=S.sortKey,A=S.symbolInstanceStart,I=S.symbolInstanceEnd;t.push({sortKey:C,symbolInstanceStart:A,symbolInstanceEnd:I,parameters:k})}}catch(M){T.e(M)}finally{T.f()}}else t.push({symbolInstanceStart:0,symbolInstanceEnd:i.symbolInstances.length,parameters:k})}}},{key:"attemptAnchorPlacement",value:function(e,t,r,n,o,i,a,s,l,u,c,f,d,h,p,v,m,y){var g,b=[f.textOffset0,f.textOffset1],_=Lt(e,r,n,b,o),x=this.collisionIndex.placeCollisionBox(o,t,jt(_.x,_.y,i,a,this.transform.angle),c,s,l,u.predicate);if((!v||0!==this.collisionIndex.placeCollisionBox(h.getSymbolInstanceIconSize(y,this.transform.zoom,d),v,jt(_.x,_.y,i,a,this.transform.angle),c,s,l,u.predicate).box.length)&&x.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID]&&this.prevPlacement.placements[f.crossTileID].text&&(g=this.prevPlacement.variableOffsets[f.crossTileID].anchor),this.variableOffsets[f.crossTileID]={textOffset:b,width:r,height:n,anchor:e,textScale:o,prevAnchor:g},this.markUsedJustification(h,e,f,p),h.allowVerticalPlacement&&(this.markUsedOrientation(h,p,f),this.placedOrientations[f.crossTileID]=p),{shift:_,placedGlyphBoxes:x}}},{key:"placeLayerBucketPart",value:function(t,r,n,o){var i=this,a=t.parameters,s=a.bucket,l=a.layout,u=a.posMatrix,c=a.textLabelPlaneMatrix,f=a.labelToScreenMatrix,h=a.clippingData,p=a.textPixelRatio,v=a.holdingForFade,m=a.collisionBoxArray,y=a.partiallyEvaluatedTextSize,g=a.partiallyEvaluatedIconSize,b=a.collisionGroup,_=l.get("text-optional"),x=l.get("icon-optional"),w=l.get("text-allow-overlap"),k=l.get("icon-allow-overlap"),E="map"===l.get("text-rotation-alignment"),T="map"===l.get("text-pitch-alignment"),S="none"!==l.get("icon-text-fit"),C="viewport-y"===l.get("symbol-z-order"),A=w&&(k||!s.hasIconData()||x),I=k&&(w||!s.hasTextData()||_);!s.collisionArrays&&m&&s.deserializeCollisionBoxes(m),n&&o&&s.updateCollisionDebugBuffers(this.transform.zoom,m);var M=function(t,o,a){if(h){var m={zoom:i.transform.zoom,pitch:i.transform.pitch},C=null;if(h.dynamicFilterNeedsFeature){var M=i.retainedQueryData[s.bucketInstanceId];C=h.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:M.bucketIndex,sourceLayerIndex:M.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,h.dynamicFilter)(m,C,i.retainedQueryData[s.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),i.transform.calculateDistanceTileData(h.unwrappedTileID)))return i.placements[t.crossTileID]=new Ot(!1,!1,!1,!0),void(r[t.crossTileID]=!0)}if(!r[t.crossTileID])if(v)i.placements[t.crossTileID]=new Ot(!1,!1,!1);else{var P=!1,O=!1,z=!0,R=!1,D=!1,L=null,j={box:null,offscreen:null,occluded:null},F={box:null,offscreen:null,occluded:null},N=null,B=null,V=null,U=0,G=0,q=0;a.textFeatureIndex?U=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(U=t.featureIndex),a.verticalTextFeatureIndex&&(G=a.verticalTextFeatureIndex);var W=function(e){e.tileID=i.retainedQueryData[s.bucketInstanceId].tileID,(i.transform.elevation||e.elevation)&&(e.elevation=i.transform.elevation?i.transform.elevation.getAtTileOffset(i.retainedQueryData[s.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},Z=a.textBox;if(Z){W(Z);var H=function(r){var n=e.WritingMode.horizontal;if(s.allowVerticalPlacement&&!r&&i.prevPlacement){var o=i.prevPlacement.placedOrientations[t.crossTileID];o&&(i.placedOrientations[t.crossTileID]=o,n=o,i.markUsedOrientation(s,n,t))}return n},X=function(r,n){if(s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox){var o,i=d(s.writingModes);try{for(i.s();!(o=i.n()).done&&(o.value===e.WritingMode.vertical?(j=n(),F=j):j=r(),!(j&&j.box&&j.box.length)););}catch(l){i.e(l)}finally{i.f()}}else j=r()};if(l.get("text-variable-anchor")){var $=l.get("text-variable-anchor");if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var K=i.prevPlacement.variableOffsets[t.crossTileID];$.indexOf(K.anchor)>0&&($=$.filter((function(e){return e!==K.anchor})),$.unshift(K.anchor))}var Y=function(e,r,n){var a=s.getSymbolInstanceTextSize(y,t,i.transform.zoom,o),l=(e.x2-e.x1)*a+2*e.padding,c=(e.y2-e.y1)*a+2*e.padding,f=S&&!k?r:null;f&&W(f);for(var d={box:[],offscreen:!1,occluded:!1},h=w?2*$.length:$.length,v=0;v<h;++v){var m=i.attemptAnchorPlacement($[v%$.length],e,l,c,a,E,T,p,u,b,v>=$.length,t,o,s,n,f,y,g);if(m&&(d=m.placedGlyphBoxes)&&d.box&&d.box.length){P=!0,L=m.shift;break}}return d};X((function(){return Y(Z,a.iconBox,e.WritingMode.horizontal)}),(function(){var r=a.verticalTextBox;return r&&W(r),s.allowVerticalPlacement&&!(j&&j.box&&j.box.length)&&t.numVerticalGlyphVertices>0&&r?Y(r,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}})),j&&(P=j.box,z=j.offscreen,R=j.occluded);var J=H(j&&j.box);if(!P&&i.prevPlacement){var Q=i.prevPlacement.variableOffsets[t.crossTileID];Q&&(i.variableOffsets[t.crossTileID]=Q,i.markUsedJustification(s,Q.anchor,t,J))}}else{var ee=function(r,n){var a=s.getSymbolInstanceTextSize(y,t,i.transform.zoom,o),l=i.collisionIndex.placeCollisionBox(a,r,new e.pointGeometry(0,0),w,p,u,b.predicate);return l&&l.box&&l.box.length&&(i.markUsedOrientation(s,n,t),i.placedOrientations[t.crossTileID]=n),l};X((function(){return ee(Z,e.WritingMode.horizontal)}),(function(){var r=a.verticalTextBox;return s.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?(W(r),ee(r,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}})),H(j&&j.box&&j.box.length)}}if(P=(N=j)&&N.box&&N.box.length>0,z=N&&N.offscreen,R=N&&N.occluded,t.useRuntimeCollisionCircles){var te=s.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),re=e.evaluateSizeForFeature(s.textSizeData,y,te),ne=l.get("text-padding");B=i.collisionIndex.placeCollisionCircles(w,te,s.lineVertexArray,s.glyphOffsetArray,re,u,c,f,n,T,b.predicate,t.collisionCircleDiameter*re/e.ONE_EM,ne,i.retainedQueryData[s.bucketInstanceId].tileID),P=w||B.circles.length>0&&!B.collisionDetected,z=z&&B.offscreen,R=B.occluded}if(a.iconFeatureIndex&&(q=a.iconFeatureIndex),a.iconBox){var oe=function(t){W(t);var r=S&&L?jt(L.x,L.y,E,T,i.transform.angle):new e.pointGeometry(0,0),n=s.getSymbolInstanceIconSize(g,i.transform.zoom,o);return i.collisionIndex.placeCollisionBox(n,t,r,k,p,u,b.predicate)};O=F&&F.box&&F.box.length&&a.verticalIconBox?(V=oe(a.verticalIconBox)).box.length>0:(V=oe(a.iconBox)).box.length>0,z=z&&V.offscreen,D=V.occluded}var ie=_||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,ae=x||0===t.numIconVertices;if(ie||ae?ae?ie||(O=O&&P):P=O&&P:O=P=O&&P,P&&N&&N.box&&i.collisionIndex.insertCollisionBox(N.box,l.get("text-ignore-placement"),s.bucketInstanceId,F&&F.box&&G?G:U,b.ID),O&&V&&i.collisionIndex.insertCollisionBox(V.box,l.get("icon-ignore-placement"),s.bucketInstanceId,q,b.ID),B&&(P&&i.collisionIndex.insertCollisionCircles(B.circles,l.get("text-ignore-placement"),s.bucketInstanceId,U,b.ID),n)){var se=s.bucketInstanceId,le=i.collisionCircleArrays[se];void 0===le&&(le=i.collisionCircleArrays[se]=new zt);for(var ue=0;ue<B.circles.length;ue+=4)le.circles.push(B.circles[ue+0]),le.circles.push(B.circles[ue+1]),le.circles.push(B.circles[ue+2]),le.circles.push(B.collisionDetected?1:0)}var ce="globe"!==i.transform.projection.name;A=A&&(ce||!R),I=I&&(ce||!D),i.placements[t.crossTileID]=new Ot(P||A,O||I,z||s.justReloaded),r[t.crossTileID]=!0}};if(C)for(var P=s.getSortedSymbolIndexes(this.transform.angle),O=P.length-1;O>=0;--O){var z=P[O];M(s.symbolInstances.get(z),z,s.collisionArrays[z])}else for(var R=t.symbolInstanceStart;R<t.symbolInstanceEnd;R++)M(s.symbolInstances.get(R),R,s.collisionArrays[R]);if(n&&s.bucketInstanceId in this.collisionCircleArrays){var D=this.collisionCircleArrays[s.bucketInstanceId];e.invert(D.invProjMatrix,u),D.viewportMatrix=this.collisionIndex.getViewportMatrix()}s.justReloaded=!1}},{key:"markUsedJustification",value:function(t,r,n,o){var i;i=o===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];for(var a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];a<s.length;a++){var l=s[a];l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=i>=0&&l!==i?0:n.crossTileID)}}},{key:"markUsedOrientation",value:function(t,r,n){for(var o=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,i=r===e.WritingMode.vertical?r:0,a=0,s=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex];a<s.length;a++){var l=s[a];t.text.placedSymbolArray.get(l).placedOrientation=o}n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=i)}},{key:"commit",value:function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var n=t?t.symbolFadeChange(e):1,o=t?t.opacities:{},i=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(var s in this.placements){var l=this.placements[s],u=o[s];u?(this.opacities[s]=new Pt(u,n,l.text,l.icon,null,l.clipped),r=r||l.text!==u.text.placed||l.icon!==u.icon.placed):(this.opacities[s]=new Pt(null,n,l.text,l.icon,l.skipFade,l.clipped),r=r||l.text||l.icon)}for(var c in o){var f=o[c];if(!this.opacities[c]){var d=new Pt(f,n,!1,!1);d.isHidden()||(this.opacities[c]=d,r=r||f.text.placed||f.icon.placed)}}for(var h in i)this.variableOffsets[h]||!this.opacities[h]||this.opacities[h].isHidden()||(this.variableOffsets[h]=i[h]);for(var p in a)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=a[p]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}},{key:"updateLayerOpacities",value:function(e,t){var r,n={},o=d(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.getBucket(e);a&&i.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,i.collisionBoxArray)}}catch(s){o.e(s)}finally{o.f()}}},{key:"updateBucketOpacities",value:function(t,r,n){var o=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var i=t.layers[0].layout,a=!!t.layers[0].dynamicFilter(),s=new Pt(null,0,!1,!1,!0),l=i.get("text-allow-overlap"),u=i.get("icon-allow-overlap"),c=i.get("text-variable-anchor"),f="map"===i.get("text-rotation-alignment"),d="map"===i.get("text-pitch-alignment"),h="none"!==i.get("icon-text-fit"),p=new Pt(null,0,l&&(u||!t.hasIconData()||i.get("icon-optional")),u&&(l||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);for(var v=function(e,t,r){for(var n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)},m=0,y=function(n){var i=t.symbolInstances.get(n),l=i.numHorizontalGlyphVertices,u=i.numVerticalGlyphVertices,y=i.crossTileID,g=o.opacities[y];r[y]?g=s:g||(g=p,o.opacities[y]=g),r[y]=!0;var b=l>0||u>0,_=i.numIconVertices>0,x=o.placedOrientations[i.crossTileID],w=x===e.WritingMode.vertical,k=x===e.WritingMode.horizontal||x===e.WritingMode.horizontalOnly;if(!b&&!_||g.isHidden()||m++,b){var E=Ht(g.text);v(t.text,l,w?Xt:E),v(t.text,u,k?Xt:E);var T=g.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=T||w?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=T||k?1:0);var S=o.variableOffsets[i.crossTileID];S&&o.markUsedJustification(t,S.anchor,i,x);var C=o.placedOrientations[i.crossTileID];C&&(o.markUsedJustification(t,"left",i,C),o.markUsedOrientation(t,C,i))}if(_){var A=Ht(g.icon);i.placedIconSymbolIndex>=0&&(v(t.icon,i.numIconVertices,w?Xt:A),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=g.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(v(t.icon,i.numVerticalIconVertices,k?Xt:A),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var I=t.collisionArrays[n];if(I){var M=new e.pointGeometry(0,0),P=!0;if(I.textBox||I.verticalTextBox){if(c){var O=o.variableOffsets[y];O?(M=Lt(O.anchor,O.width,O.height,O.textOffset,O.textScale),f&&M._rotate(d?o.transform.angle:-o.transform.angle)):P=!1}a&&(P=!g.clipped),I.textBox&&Nt(t.textCollisionBox.collisionVertexArray,g.text.placed,!P||w,M.x,M.y),I.verticalTextBox&&Nt(t.textCollisionBox.collisionVertexArray,g.text.placed,!P||k,M.x,M.y)}var z=P&&Boolean(!k&&I.verticalIconBox);I.iconBox&&Nt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,z,h?M.x:0,h?M.y:0),I.verticalIconBox&&Nt(t.iconCollisionBox.collisionVertexArray,g.icon.placed,!z,h?M.x:0,h?M.y:0)}}},g=0;g<t.symbolInstances.length;g++)y(g);if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var b=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=b.invProjMatrix,t.placementViewportMatrix=b.viewportMatrix,t.collisionCircleArray=b.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}},{key:"symbolFadeChange",value:function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}},{key:"zoomAdjustment",value:function(e){return Math.max(0,(this.transform.zoom-e)/1.5)}},{key:"hasTransitions",value:function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}},{key:"stillRecent",value:function(e,t){var r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}},{key:"setStale",value:function(){this.stale=!0}}]),t}();function Nt(e,t,r,n,o){e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0),e.emplaceBack(t?1:0,r?1:0,n||0,o||0)}var Bt=Math.pow(2,25),Vt=Math.pow(2,24),Ut=Math.pow(2,17),Gt=Math.pow(2,16),qt=Math.pow(2,9),Wt=Math.pow(2,8),Zt=Math.pow(2,1);function Ht(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Bt+t*Vt+r*Ut+t*Gt+r*qt+t*Wt+r*Zt+t}var Xt=0,$t=function(){function e(t){m(this,e),this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}return y(e,[{key:"continuePlacement",value:function(e,t,r,n,o){for(var i=this._bucketParts;this._currentTileIndex<e.length;)if(t.getBucketParts(i,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,o())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,i.sort((function(e,t){return e.sortKey-t.sortKey})));this._currentPartIndex<i.length;){var a=i[this._currentPartIndex];if(t.placeLayerBucketPart(a,this._seenCrossTileIDs,r,0===a.symbolInstanceStart),this._currentPartIndex++,o())return!0}return!1}}]),e}(),Kt=function(){function t(e,r,n,o,i,a,s,l){m(this,t),this.placement=new Ft(e,i,a,s,l),this._currentPlacementIndex=r.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=o,this._done=!1}return y(t,[{key:"isDone",value:function(){return this._done}},{key:"continuePlacement",value:function(t,r,n){for(var o=this,i=e.exported.now(),a=function(){var t=e.exported.now()-i;return!o._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=r[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new $t(s)),this._inProgressLayer.continuePlacement(n[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}},{key:"commit",value:function(e){return this.placement.commit(e),this.placement}}]),t}(),Yt=512/e.EXTENT/2,Jt=function(){function t(e,r,n){m(this,t),this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var o=0;o<r.length;o++){var i=r.get(o),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}}return y(t,[{key:"getScaledCoordinates",value:function(t,r){var n=Yt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.tileAnchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.tileAnchorY)*n)}}},{key:"findMatches",value:function(e,t,r){for(var n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),o=0;o<e.length;o++){var i=e.get(o);if(!i.crossTileID){var a=this.indexedSymbolInstances[i.key];if(a){var s,l=this.getScaledCoordinates(i,t),u=d(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;if(Math.abs(c.coord.x-l.x)<=n&&Math.abs(c.coord.y-l.y)<=n&&!r[c.crossTileID]){r[c.crossTileID]=!0,i.crossTileID=c.crossTileID;break}}}catch(f){u.e(f)}finally{u.f()}}}}}}]),t}(),Qt=function(){function e(){m(this,e),this.maxCrossTileID=0}return y(e,[{key:"generate",value:function(){return++this.maxCrossTileID}}]),e}(),er=function(){function e(){m(this,e),this.indexes={},this.usedCrossTileIDs={},this.lng=0}return y(e,[{key:"handleWrapJump",value:function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var r in this.indexes){var n=this.indexes[r],o={};for(var i in n){var a=n[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),o[a.tileID.key]=a}this.indexes[r]=o}this.lng=e}},{key:"addBucket",value:function(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var n=0;n<t.symbolInstances.length;n++)t.symbolInstances.get(n).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var o=this.usedCrossTileIDs[e.overscaledZ];for(var i in this.indexes){var a=this.indexes[i];if(Number(i)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,o)}else{var u=a[e.scaledTo(Number(i)).key];u&&u.findMatches(t.symbolInstances,e,o)}}for(var c=0;c<t.symbolInstances.length;c++){var f=t.symbolInstances.get(c);f.crossTileID||(f.crossTileID=r.generate(),o[f.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Jt(e,t.symbolInstances,t.bucketInstanceId),!0}},{key:"removeBucketCrossTileIDs",value:function(e,t){for(var r in t.indexedSymbolInstances){var n,o=d(t.indexedSymbolInstances[r]);try{for(o.s();!(n=o.n()).done;){var i=n.value;delete this.usedCrossTileIDs[e][i.crossTileID]}}catch(a){o.e(a)}finally{o.f()}}}},{key:"removeStaleBuckets",value:function(e){var t=!1;for(var r in this.indexes){var n=this.indexes[r];for(var o in n)e[n[o].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[o]),delete n[o],t=!0)}return t}}]),e}(),tr=function(){function e(){m(this,e),this.layerIndexes={},this.crossTileIDs=new Qt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}return y(e,[{key:"addLayer",value:function(e,t,r,n){var o=this.layerIndexes[e.id];void 0===o&&(o=this.layerIndexes[e.id]=new er);var i=!1,a={};"globe"!==n.name&&o.handleWrapJump(r);var s,l=d(t);try{for(l.s();!(s=l.n()).done;){var u=s.value,c=u.getBucket(e);c&&e.id===c.layerIds[0]&&(c.bucketInstanceId||(c.bucketInstanceId=++this.maxBucketInstanceId),o.addBucket(u.tileID,c,this.crossTileIDs)&&(i=!0),a[c.bucketInstanceId]=!0)}}catch(f){l.e(f)}finally{l.f()}return o.removeStaleBuckets(a)&&(i=!0),i}},{key:"pruneUnusedLayers",value:function(e){var t={};for(var r in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[r]||delete this.layerIndexes[r]}}]),e}(),rr=function(t,r){return e.emitValidationErrors(t,r&&r.filter((function(e){return"source.canvas"!==e.identifier})))},nr=e.pick(tt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),or=e.pick(tt,["setCenter","setZoom","setBearing","setPitch"]),ir={version:8,layers:[],sources:{}},ar={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0},sr=function(t){p(n,t);var r=v(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,n),(i=r.call(this)).map=t,i.dispatcher=new W(Je(),o(i)),i.imageManager=new z,i.imageManager.setEventedParent(o(i)),i.glyphManager=new e.GlyphManager(t._requestManager,a.localFontFamily?e.LocalGlyphMode.all:a.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,a.localFontFamily||a.localIdeographFontFamily),i.lineAtlas=new e.LineAtlas(256,512),i.crossTileSymbolIndex=new tr,i._layers={},i._num3DLayers=0,i._numSymbolLayers=0,i._numCircleLayers=0,i._serializedLayers={},i._sourceCaches={},i._otherSourceCaches={},i._symbolSourceCaches={},i.zoomHistory=new e.ZoomHistory,i._loaded=!1,i._availableImages=[],i._order=[],i._drapedFirstOrder=[],i._markersNeedUpdate=!1,i._resetUpdates(),i.dispatcher.broadcast("setReferrer",e.getReferrer());var s=o(i);return i._rtlTextPluginCallback=n.registerForPluginStateChange((function(t){s.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(function(t,r){if(e.triggerPluginCompletionEvent(t),r&&r.every((function(e){return e})))for(var n in s._sourceCaches){var o=s._sourceCaches[n],i=o.getSource().type;"vector"!==i&&"geojson"!==i||o.reload()}}))})),i.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=i.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(var r in i._layers){var n=i._layers[r];n.source===t.id&&i._validateLayer(n)}}})),i}return y(n,[{key:"loadURL",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"}));var o="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,(function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,o)}))}},{key:"loadJSON",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((function(){r._request=null,r._load(t,!1!==n.validate)}))}},{key:"loadEmpty",value:function(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(ir,!1)}},{key:"_updateLayerCount",value:function(e,t){var r=t?1:-1;e.is3D()&&(this._num3DLayers+=r),"circle"===e.type&&(this._numCircleLayers+=r),"symbol"===e.type&&(this._numSymbolLayers+=r)}},{key:"_load",value:function(t,r){if(!r||!rr(this,e.validateStyle(t))){for(var n in this._loaded=!0,this.stylesheet=t,this._updateMapProjection(),t.sources)this.addSource(n,t.sources[n],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);var o=et(this.stylesheet.layers);this._order=o.map((function(e){return e.id})),this._layers={},this._serializedLayers={};var i,a=d(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;(s=e.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize(),this._updateLayerCount(s,!0)}}catch(l){a.e(l)}finally{a.f()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new L(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}}},{key:"terrainSetForDrapingOnly",value:function(){return!!this.terrain&&0===this.terrain.drapeRenderMode}},{key:"setProjection",value:function(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this.map._explicitProjection||this.map._updateProjection()}},{key:"_updateMapProjection",value:function(){this.map._explicitProjection?this.applyProjectionUpdate():this.map._updateProjection()}},{key:"applyProjectionUpdate",value:function(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}},{key:"_loadSprite",value:function(t){var r=this;this._spriteRequest=function(t,r,n){var o,i,a,s=e.exported.devicePixelRatio>1?"@2x":"",l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,o=t,c())})),u=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,a||(a=e,i=t,c())}));function c(){if(a)n(a);else if(o&&i){var t=e.exported.getImageData(i),r={};for(var s in o){var l=o[s],u=l.width,c=l.height,f=l.x,d=l.y,h=l.sdf,p=l.pixelRatio,v=l.stretchX,m=l.stretchY,y=l.content,g=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,g,{x:f,y:d},{x:0,y:0},{width:u,height:c}),r[s]={data:g,pixelRatio:p,sdf:h,stretchX:v,stretchY:m,content:y}}n(null,r)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t,this.map._requestManager,(function(t,n){if(r._spriteRequest=null,t)r.fire(new e.ErrorEvent(t));else if(n)for(var o in n)r.imageManager.addImage(o,n[o]);r.imageManager.setLoaded(!0),r._availableImages=r.imageManager.listImages(),r.dispatcher.broadcast("setImages",r._availableImages),r.dispatcher.broadcast("spriteLoaded",!0),r.fire(new e.Event("data",{dataType:"style"}))}))}},{key:"_validateLayer",value:function(t){var r=this.getSource(t.source);if(r){var n=t.sourceLayer;n&&("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error('Source layer "'.concat(n,'" does not exist on source "').concat(r.id,'" as specified by style layer "').concat(t.id,'"'))))}}},{key:"loaded",value:function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}},{key:"_serializeLayers",value:function(e){var t,r=[],n=d(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,i=this._layers[o];"custom"!==i.type&&r.push(i.serialize())}}catch(a){n.e(a)}finally{n.f()}return r}},{key:"hasTransitions",value:function(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(var e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1}},{key:"order",get:function(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}},{key:"isLayerDraped",value:function(e){return!!this.terrain&&ar[e.type]}},{key:"_checkLoaded",value:function(){if(!this._loaded)throw new Error("Style is not done loading")}},{key:"update",value:function(t){if(this._loaded){var r=this._changed;if(this._changed){var n=Object.keys(this._updatedLayers),o=Object.keys(this._removedLayers);for(var i in(n.length||o.length)&&this._updateWorkerLayers(n,o),this._updatedSources){var a=this._updatedSources[i];"reload"===a?this._reloadSource(i):"clear"===a&&this._clearSource(i)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}var l={};for(var u in this._sourceCaches){var c=this._sourceCaches[u];l[u]=c.used,c.used=!1}var f,h=d(this._order);try{for(h.s();!(f=h.n()).done;){var p=f.value,v=this._layers[p];if(v.recalculate(t,this._availableImages),!v.isHidden(t.zoom)){var m=this._getLayerSourceCache(v);m&&(m.used=!0)}var y=this.map.painter;if(y){var g=v.getProgramIds();if(!g)continue;var b,_=v.getProgramConfiguration(t.zoom),x=d(g);try{for(x.s();!(b=x.n()).done;){var w=b.value;y.useProgram(w,_)}}catch(T){x.e(T)}finally{x.f()}}}}catch(T){h.e(T)}finally{h.f()}for(var k in l){var E=this._sourceCaches[k];l[k]!==E.used&&E.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:E.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),r&&this.fire(new e.Event("data",{dataType:"style"}))}}},{key:"_updateTilesForChangedImages",value:function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}},{key:"_updateWorkerLayers",value:function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}},{key:"_resetUpdates",value:function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}},{key:"setState",value:function(t){var r=this;if(this._checkLoaded(),rr(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=et(t.layers);var n=function(e,t){if(!e)return[{command:tt.setStyle,args:[t]}];var r=[];try{if(!h(e.version,t.version))return[{command:tt.setStyle,args:[t]}];h(e.center,t.center)||r.push({command:tt.setCenter,args:[t.center]}),h(e.zoom,t.zoom)||r.push({command:tt.setZoom,args:[t.zoom]}),h(e.bearing,t.bearing)||r.push({command:tt.setBearing,args:[t.bearing]}),h(e.pitch,t.pitch)||r.push({command:tt.setPitch,args:[t.pitch]}),h(e.sprite,t.sprite)||r.push({command:tt.setSprite,args:[t.sprite]}),h(e.glyphs,t.glyphs)||r.push({command:tt.setGlyphs,args:[t.glyphs]}),h(e.transition,t.transition)||r.push({command:tt.setTransition,args:[t.transition]}),h(e.light,t.light)||r.push({command:tt.setLight,args:[t.light]}),h(e.fog,t.fog)||r.push({command:tt.setFog,args:[t.fog]}),h(e.projection,t.projection)||r.push({command:tt.setProjection,args:[t.projection]});var n={},o=[];!function(e,t,r,n){var o;for(o in t=t||{},e=e||{})e.hasOwnProperty(o)&&(t.hasOwnProperty(o)||nt(o,r,n));for(o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)?h(e[o],t[o])||("geojson"===e[o].type&&"geojson"===t[o].type&&it(e,t,o)?r.push({command:tt.setGeoJSONSourceData,args:[o,t[o].data]}):ot(o,t,r,n)):rt(o,t,r))}(e.sources,t.sources,o,n);var i=[];e.layers&&e.layers.forEach((function(e){e.source&&n[e.source]?r.push({command:tt.removeLayer,args:[e.id]}):i.push(e)}));var a=e.terrain;a&&n[a.source]&&(r.push({command:tt.setTerrain,args:[void 0]}),a=void 0),r=r.concat(o),h(a,t.terrain)||r.push({command:tt.setTerrain,args:[t.terrain]}),function(e,t,r){t=t||[];var n,o,i,a,s,l,u,c=(e=e||[]).map(st),f=t.map(st),d=e.reduce(lt,{}),p=t.reduce(lt,{}),v=c.slice(),m=Object.create(null);for(n=0,o=0;n<c.length;n++)i=c[n],p.hasOwnProperty(i)?o++:(r.push({command:tt.removeLayer,args:[i]}),v.splice(v.indexOf(i,o),1));for(n=0,o=0;n<f.length;n++)i=f[f.length-1-n],v[v.length-1-n]!==i&&(d.hasOwnProperty(i)?(r.push({command:tt.removeLayer,args:[i]}),v.splice(v.lastIndexOf(i,v.length-o),1)):o++,l=v[v.length-n],r.push({command:tt.addLayer,args:[p[i],l]}),v.splice(v.length-n,0,i),m[i]=!0);for(n=0;n<f.length;n++)if(a=d[i=f[n]],s=p[i],!m[i]&&!h(a,s))if(h(a.source,s.source)&&h(a["source-layer"],s["source-layer"])&&h(a.type,s.type)){for(u in at(a.layout,s.layout,r,i,null,tt.setLayoutProperty),at(a.paint,s.paint,r,i,null,tt.setPaintProperty),h(a.filter,s.filter)||r.push({command:tt.setFilter,args:[i,s.filter]}),h(a.minzoom,s.minzoom)&&h(a.maxzoom,s.maxzoom)||r.push({command:tt.setLayerZoomRange,args:[i,s.minzoom,s.maxzoom]}),a)a.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?at(a[u],s[u],r,i,u.slice(6),tt.setPaintProperty):h(a[u],s[u])||r.push({command:tt.setLayerProperty,args:[i,u,s[u]]}));for(u in s)s.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?at(a[u],s[u],r,i,u.slice(6),tt.setPaintProperty):h(a[u],s[u])||r.push({command:tt.setLayerProperty,args:[i,u,s[u]]}))}else r.push({command:tt.removeLayer,args:[i]}),l=v[v.lastIndexOf(i)+1],r.push({command:tt.addLayer,args:[s,l]})}(i,t.layers,r)}catch(e){console.warn("Unable to compute style diff:",e),r=[{command:tt.setStyle,args:[t]}]}return r}(this.serialize(),t).filter((function(e){return!(e.command in or)}));if(0===n.length)return!1;var o=n.filter((function(e){return!(e.command in nr)}));if(o.length>0)throw new Error("Unimplemented: ".concat(o.map((function(e){return e.command})).join(", "),"."));return n.forEach((function(e){"setTransition"!==e.command&&r[e.command].apply(r,e.args)})),this.stylesheet=t,this._updateMapProjection(),!0}},{key:"addImage",value:function(t,r){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,r),this._afterImageUpdated(t),this)}},{key:"updateImage",value:function(e,t){this.imageManager.updateImage(e,t)}},{key:"getImage",value:function(e){return this.imageManager.getImage(e)}},{key:"removeImage",value:function(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}},{key:"_afterImageUpdated",value:function(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}},{key:"listImages",value:function(){return this._checkLoaded(),this._availableImages.slice()}},{key:"addSource",value:function(t,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!r.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(r).join(", "),"."));if(!(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateSource,"sources.".concat(t),r,null,o))){this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);var i=Ge(t,r,this.dispatcher,this);i.setEventedParent(this,(function(){return{isSourceLoaded:n._isSourceCacheLoaded(t),source:i.serialize(),sourceId:t}}));var a=function(r){var o=(r?"symbol:":"other:")+t,a=n._sourceCaches[o]=new e.SourceCache(o,i,r);(r?n._symbolSourceCaches:n._otherSourceCaches)[t]=a,a.style=n,a.onAdd(n.map)};a(!1),"vector"!==r.type&&"geojson"!==r.type||a(!0),i.onAdd&&i.onAdd(this.map),this._changed=!0}}},{key:"removeSource",value:function(t){this._checkLoaded();var r=this.getSource(t);if(!r)throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(n,'" is using it.'))));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error('Source "'.concat(t,'" cannot be removed while terrain is using it.'))));var o,i=this._getSourceCaches(t),a=d(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;delete this._sourceCaches[s.id],delete this._updatedSources[s.id],s.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:s.getSource().id})),s.setEventedParent(null),s.clearTiles()}}catch(l){a.e(l)}finally{a.f()}return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],r.setEventedParent(null),r.onRemove&&r.onRemove(this.map),this._changed=!0,this}},{key:"setGeoJSONSourceData",value:function(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}},{key:"getSource",value:function(e){var t=this._getSourceCache(e);return t&&t.getSource()}},{key:"addLayer",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var o=t.id;if(this.getLayer(o))this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(o,'" already exists on this map'))));else{var i;if("custom"===t.type){if(rr(this,e.validateCustomStyleLayer(t)))return;i=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(o,t.source),t=e.clone$1(t),t=e.extend(t,{source:o})),this._validate(e.validateLayer,"layers.".concat(o),t,{arrayIndex:-1},n))return;i=e.createStyleLayer(t),this._validateLayer(i),i.setEventedParent(this,{layer:{id:o}}),this._serializedLayers[i.id]=i.serialize(),this._updateLayerCount(i,!0)}var a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(r,'" does not exist on this map.'))));else{this._order.splice(a,0,o),this._layerOrderChanged=!0,this._layers[o]=i;var s=this._getLayerSourceCache(i);if(this._removedLayers[o]&&i.source&&s&&"custom"!==i.type){var l=this._removedLayers[o];delete this._removedLayers[o],l.type!==i.type?this._updatedSources[i.source]="clear":(this._updatedSources[i.source]="reload",s.pause())}this._updateLayer(i),i.onAdd&&i.onAdd(this.map),this._updateDrapeFirstLayers()}}}},{key:"moveLayer",value:function(t,r){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==r){var n=this._order.indexOf(t);this._order.splice(n,1);var o=r?this._order.indexOf(r):this._order.length;r&&-1===o?this.fire(new e.ErrorEvent(new Error('Layer with id "'.concat(r,'" does not exist on this map.')))):(this._order.splice(o,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))))}},{key:"removeLayer",value:function(t){this._checkLoaded();var r=this._layers[t];if(r){r.setEventedParent(null),this._updateLayerCount(r,!1);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map),this._updateDrapeFirstLayers()}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be removed."))))}},{key:"getLayer",value:function(e){return this._layers[e]}},{key:"hasLayer",value:function(e){return e in this._layers}},{key:"hasLayerType",value:function(e){for(var t in this._layers)if(this._layers[t].type===e)return!0;return!1}},{key:"setLayerZoomRange",value:function(t,r,n){this._checkLoaded();var o=this.getLayer(t);o?o.minzoom===r&&o.maxzoom===n||(null!=r&&(o.minzoom=r),null!=n&&(o.maxzoom=n),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot have zoom extent."))))}},{key:"setFilter",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();var o=this.getLayer(t);if(o){if(!h(o.filter,r))return null==r?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,"layers.".concat(o.id,".filter"),r,{layerType:o.type},n)||(o.filter=e.clone$1(r),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be filtered."))))}},{key:"getFilter",value:function(t){var r=this.getLayer(t);return r&&e.clone$1(r.filter)}},{key:"setLayoutProperty",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var i=this.getLayer(t);i?h(i.getLayoutProperty(r),n)||(i.setLayoutProperty(r,n,o),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be styled."))))}},{key:"getLayoutProperty",value:function(t,r){var n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style."))))}},{key:"setPaintProperty",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();var i=this.getLayer(t);i?h(i.getPaintProperty(r),n)||(i.setPaintProperty(r,n,o)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be styled."))))}},{key:"getPaintProperty",value:function(e,t){var r=this.getLayer(e);return r&&r.getPaintProperty(t)}},{key:"setFeatureState",value:function(t,r){this._checkLoaded();var n=t.source,o=t.sourceLayer,i=this.getSource(n);if(i){var a=i.type;if("geojson"===a&&o)this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));else if("vector"!==a||o){void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));var s,l=this._getSourceCaches(n),u=d(l);try{for(u.s();!(s=u.n()).done;)s.value.setFeatureState(o,t.id,r)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"removeFeatureState",value:function(t,r){this._checkLoaded();var n=t.source,o=this.getSource(n);if(o){var i=o.type,a="vector"===i?t.sourceLayer:void 0;if("vector"!==i||a)if(r&&"string"!=typeof t.id&&"number"!=typeof t.id)this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));else{var s,l=this._getSourceCaches(n),u=d(l);try{for(u.s();!(s=u.n()).done;)s.value.removeFeatureState(a,t.id,r)}catch(c){u.e(c)}finally{u.f()}}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(n,"' does not exist in the map's style."))))}},{key:"getFeatureState",value:function(t){this._checkLoaded();var r=t.source,n=t.sourceLayer,o=this.getSource(r);if(o){if("vector"!==o.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(r)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '".concat(r,"' does not exist in the map's style."))))}},{key:"getTransition",value:function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}},{key:"serialize",value:function(){var t={};for(var r in this._sourceCaches){var n=this._sourceCaches[r].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))}},{key:"_updateLayer",value:function(e){this._updatedLayers[e.id]=!0;var t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}},{key:"_flattenAndSortRenderedFeatures",value:function(e){for(var t=this,r=function(e){return"fill-extrusion"===t._layers[e].type},n={},o=[],i=this._order.length-1;i>=0;i--){var a=this._order[i];if(r(a)){n[a]=i;var s,l=d(e);try{for(l.s();!(s=l.n()).done;){var u=s.value[a];if(u){var c,f=d(u);try{for(f.s();!(c=f.n()).done;){var h=c.value;o.push(h)}}catch(T){f.e(T)}finally{f.f()}}}}catch(T){l.e(T)}finally{l.f()}}}o.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var p=[],v=this._order.length-1;v>=0;v--){var m=this._order[v];if(r(m))for(var y=o.length-1;y>=0;y--){var g=o[y].feature;if(n[g.layer.id]<v)break;p.push(g),o.pop()}else{var b,_=d(e);try{for(_.s();!(b=_.n()).done;){var x=b.value[m];if(x){var w,k=d(x);try{for(k.s();!(w=k.n()).done;){var E=w.value;p.push(E.feature)}}catch(T){k.e(T)}finally{k.f()}}}}catch(T){_.e(T)}finally{_.f()}}}return p}},{key:"queryRenderedFeatures",value:function(t,r,n){var o=this;r&&r.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",r.filter,null,r);var i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];var a,s=d(r.layers);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=this._layers[l];if(!u)return this.fire(new e.ErrorEvent(new Error("The layer '".concat(l,"' does not exist in the map's style and cannot be queried for features.")))),[];i[u.source]=!0}}catch(m){s.e(m)}finally{s.f()}}var c=[];r.availableImages=this._availableImages;var f=r&&r.layers?r.layers.some((function(e){var t=o.getLayer(e);return t&&t.is3D()})):this.has3DLayers(),h=H.createFromScreenPoints(t,n);for(var p in this._sourceCaches){var v=this._sourceCaches[p].getSource().id;r.layers&&!i[v]||c.push(We(this._sourceCaches[p],this._layers,this._serializedLayers,h,r,n,f,!!this.map._showQueryGeometry))}return this.placement&&c.push(function(e,t,r,n,o,i,a){var s,l={},u=i.queryRenderedSymbols(n),c=[],f=d(Object.keys(u).map(Number));try{for(f.s();!(s=f.n()).done;){var h=s.value;c.push(a[h])}}catch(m){f.e(m)}finally{f.f()}c.sort(He);for(var p=function(){var r=y[v],n=r.featureIndex.lookupSymbolFeatures(u[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,o.filter,o.layers,o.availableImages,e);for(var i in n){var a=l[i]=l[i]||[],s=n[i];s.sort((function(e,t){var n=r.featureSortOrder;if(n){var o=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-o}return t.featureIndex-e.featureIndex}));var c,f=d(s);try{for(f.s();!(c=f.n()).done;){var h=c.value;a.push(h)}}catch(m){f.e(m)}finally{f.f()}}},v=0,y=c;v<y.length;v++)p();var g=function(t){l[t].forEach((function(n){var o=n.feature,i=r(e[t]).getFeatureState(o.layer["source-layer"],o.id);o.source=o.layer.source,o.layer["source-layer"]&&(o.sourceLayer=o.layer["source-layer"]),o.state=i}))};for(var b in l)g(b);return l}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),h.screenGeometry,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(c)}},{key:"querySourceFeatures",value:function(t,r){r&&r.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",r.filter,null,r);var n,o=this._getSourceCaches(t),i=[],a=d(o);try{for(a.s();!(n=a.n()).done;){var s=n.value;i=i.concat(Ze(s,r))}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"addSourceType",value:function(e,t,r){return n.getSourceType(e)?r(new Error('A source type called "'.concat(e,'" already exists.'))):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))}},{key:"getLight",value:function(){return this.light.getLight()}},{key:"setLight",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();var n=this.light.getLight(),o=!1;for(var i in t)if(!h(t[i],n[i])){o=!0;break}if(o){var a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,r),this.light.updateTransitions(a)}}},{key:"getTerrain",value:function(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}},{key:"setTerrainForDraping",value:function(){this.setTerrain({source:"",exaggeration:0},0)}},{key:"setTerrain",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this._checkLoaded(),!t)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===r){if("object"==typeof t.source){var n="terrain-dem-src";this.addSource(n,t.source),t=e.clone$1(t),t=e.extend(t,{source:n})}if(this._validate(e.validateTerrain,"terrain",t))return}if(!this.terrain||this.terrain&&r!==this.terrain.drapeRenderMode)this._createTerrain(t,r);else{var o=this.terrain,i=o.get();for(var a in t)if(!h(t[a],i[a])){o.set(t),this.stylesheet.terrain=t;var s={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};o.updateTransitions(s);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}},{key:"_createFog",value:function(t){var r=this.fog=new q(t,this.map.transform);this.stylesheet.fog=t;var n={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};r.updateTransitions(n)}},{key:"_updateMarkersOpacity",value:function(){var e=this;0!==this.map._markers.length&&this.map._requestDomTask((function(){var t,r=d(e.map._markers);try{for(r.s();!(t=r.n()).done;)t.value._evaluateOpacity()}catch(n){r.e(n)}finally{r.f()}}))}},{key:"getFog",value:function(){return this.fog?this.fog.get():null}},{key:"setFog",value:function(t){if(this._checkLoaded(),!t)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){var r=this.fog,n=r.get();for(var o in t)if(!h(t[o],n[o])){r.set(t),this.stylesheet.fog=t;var i={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};r.updateTransitions(i);break}}else this._createFog(t);this._markersNeedUpdate=!0}},{key:"_updateDrapeFirstLayers",value:function(){var e,t,r=this;if(this.map._optimizeForTerrain&&this.terrain){var n=this._order.filter((function(e){return r.isLayerDraped(r._layers[e])})),o=this._order.filter((function(e){return!r.isLayerDraped(r._layers[e])}));this._drapedFirstOrder=[],(e=this._drapedFirstOrder).push.apply(e,c(n)),(t=this._drapedFirstOrder).push.apply(t,c(o))}}},{key:"_createTerrain",value:function(t,r){var n=this.terrain=new N(t,r);this.stylesheet.terrain=t,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();var o={now:e.exported.now(),transition:e.extend({duration:0},this.stylesheet.transition)};n.updateTransitions(o)}},{key:"_force3DLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}},{key:"_forceSymbolLayerUpdate",value:function(){for(var e in this._layers){var t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}},{key:"_validate",value:function(t,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!i||!1!==i.validate)&&rr(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.spec},o)))}},{key:"_remove",value:function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var r in this._sourceCaches)this._sourceCaches[r].clearTiles(),this._sourceCaches[r].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}},{key:"_clearSource",value:function(e){var t,r=this._getSourceCaches(e),n=d(r);try{for(n.s();!(t=n.n()).done;)t.value.clearTiles()}catch(o){n.e(o)}finally{n.f()}}},{key:"_reloadSource",value:function(e){var t,r=this._getSourceCaches(e),n=d(r);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.resume(),o.reload()}}catch(i){n.e(i)}finally{n.f()}}},{key:"_updateSources",value:function(e){for(var t in this._sourceCaches)this._sourceCaches[t].update(e)}},{key:"_generateCollisionBoxes",value:function(){for(var e in this._sourceCaches){var t=this._sourceCaches[e];t.resume(),t.reload()}}},{key:"_updatePlacement",value:function(t,r,n,o){var i,a=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=!1,u=!1,c={},f=d(this._order);try{for(f.s();!(i=f.n()).done;){var h=i.value,p=this._layers[h];if("symbol"===p.type){if(!c[p.source]){var v=function(){var e=a._getLayerSourceCache(p);if(!e)return"continue";c[p.source]=e.getRenderableIds(!0).map((function(t){return e.getTileByID(t)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}();if("continue"===v)continue}var m=this.crossTileSymbolIndex.addLayer(p,c[p.source],t.center.lng,t.projection);l=l||m}}}catch(x){f.e(x)}finally{f.f()}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),s=s||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(s||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Kt(t,this._order,s,r,n,o,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),u=!0),l&&this.pauseablePlacement.placement.setStale()),u||l){var y,g=d(this._order);try{for(g.s();!(y=g.n()).done;){var b=y.value,_=this._layers[b];"symbol"===_.type&&this.placement.updateLayerOpacities(_,c[_.source])}}catch(x){g.e(x)}finally{g.f()}}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}},{key:"_releaseSymbolFadeTiles",value:function(){for(var e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}},{key:"getImages",value:function(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();var n=function(e){e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}},{key:"getGlyphs",value:function(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)}},{key:"getResource",value:function(t,r,n){return e.makeRequest(r,n)}},{key:"_getSourceCache",value:function(e){return this._otherSourceCaches[e]}},{key:"_getLayerSourceCache",value:function(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}},{key:"_getSourceCaches",value:function(e){var t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}},{key:"_isSourceCacheLoaded",value:function(t){var r=this._getSourceCaches(t);return 0===r.length?(this.fire(new e.ErrorEvent(new Error("There is no source with ID '".concat(t,"'")))),!1):r.every((function(e){return e.loaded()}))}},{key:"has3DLayers",value:function(){return this._num3DLayers>0}},{key:"hasSymbolLayers",value:function(){return this._numSymbolLayers>0}},{key:"hasCircleLayers",value:function(){return this._numCircleLayers>0}},{key:"_clearWorkerCaches",value:function(){this.dispatcher.broadcast("clearCaches")}},{key:"destroy",value:function(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}]),n}(e.Evented);sr.getSourceType=function(e){return Ue[e]},sr.setSourceType=function(e,t){Ue[e]=t},sr.registerForPluginStateChange=e.registerForPluginStateChange;var lr="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0\n#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}\n#endif",ur="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",cr={},fr={};cr=vr("","\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nfloat unpack_depth(vec4 rgba_depth)\n{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",!0),fr=vr("#ifdef FOG\nuniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif","#ifdef FOG\nuniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",!0);var dr=vr("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}\n#ifdef TERRAIN\nhighp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}\n#endif","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),hr=lr,pr={background:vr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:vr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:vr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nvec2 scaled_extrude=extrude*a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=scaled_extrude.x*surface_vectors[0]+scaled_extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);\n#else \nmat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\n#if defined(SCALE_WITH_MAP) && defined(PROJECTION_GLOBE_VIEW)\nview_scale*=a_scale;\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nvec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:vr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:vr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\ngl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);\n#ifdef PROJECTION_GLOBE_VIEW\nextrude*=a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\nvec3 pos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:vr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:vr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:vr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:vr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:vr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:vr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:vr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:vr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:vr("varying vec4 v_color;void main() {vec4 color=v_color;\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);\n#else\nvec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(pos.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:vr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);\n#else\nvec3 p=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:vr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:vr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:vr("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nvec4 out_color=texture2D(u_gradient_image,v_uv);\n#else\nvec4 out_color=color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#ifdef RENDER_LINE_GRADIENT\nattribute vec3 a_packed;\n#else\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;varying highp vec2 v_uv;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:vr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:vr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:vr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);\n#else\nvec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);\n#endif\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:vr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);\n#else\nvec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);\n#endif\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:vr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nvec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);\n#else\nvec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);\n#endif\n#ifdef PROJECTED_POS_ON_VIEWPORT\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);\n#else\nvec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:vr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n}"),terrainDepth:vr("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:vr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ur),skyboxGradient:vr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",ur),skyboxCapture:vr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:vr("uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 merc_pos=a_merc_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;uv=uv*EXTENT;vec4 up_vector=vec4(elevationVector(uv),1.0);float height=elevation(uv);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nvec4 globe=u_globe_matrix*vec4(globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(0.0);if (u_zoom_transition > 0.0) {mercator=vec4(merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;}vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}"),globeAtmosphere:vr("uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;varying highp vec3 v_ray_dir;void main() {highp vec3 dir=normalize(v_ray_dir);highp vec3 closest_point=abs(dot(u_globe_pos,dir))*dir;float norm_dist_from_center=length(closest_point-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 1.0)\ndiscard;float t=clamp(1.0-sqrt(norm_dist_from_center-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;varying highp vec3 v_ray_dir;void main() {v_ray_dir=mix(mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);gl_Position=vec4(a_pos,1.0);}")};function vr(e,t,r){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,o=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),a=e.match(o),s=t.match(o),l=lr.match(o),u=s?s.concat(a):a;r||(cr.staticUniforms&&(u=cr.staticUniforms.concat(u)),fr.staticUniforms&&(u=fr.staticUniforms.concat(u))),u&&(u=u.concat(l));var c={};return{fragmentSource:e=e.replace(n,(function(e,t,r,n,o){return c[o]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nvarying ").concat(r," ").concat(n," ").concat(o,";\n#else\nuniform ").concat(r," ").concat(n," u_").concat(o,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(o,"\n    ").concat(r," ").concat(n," ").concat(o," = u_").concat(o,";\n#endif\n")})),vertexSource:t=t.replace(n,(function(e,t,r,n,o){var i="float"===n?"vec2":"vec4",a=o.match(/color/)?"color":i;return c[o]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nuniform lowp float u_").concat(o,"_t;\nattribute ").concat(r," ").concat(i," a_").concat(o,";\nvarying ").concat(r," ").concat(n," ").concat(o,";\n#else\nuniform ").concat(r," ").concat(n," u_").concat(o,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(o," = a_").concat(o,";\n#else\n    ").concat(r," ").concat(n," ").concat(o," = u_").concat(o,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(o," = unpack_mix_").concat(a,"(a_").concat(o,", u_").concat(o,"_t);\n#else\n    ").concat(r," ").concat(n," ").concat(o," = u_").concat(o,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\nuniform lowp float u_").concat(o,"_t;\nattribute ").concat(r," ").concat(i," a_").concat(o,";\n#else\nuniform ").concat(r," ").concat(n," u_").concat(o,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(r," ").concat(n," ").concat(o," = a_").concat(o,";\n#else\n    ").concat(r," ").concat(n," ").concat(o," = u_").concat(o,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(o,"\n    ").concat(r," ").concat(n," ").concat(o," = unpack_mix_").concat(a,"(a_").concat(o,", u_").concat(o,"_t);\n#else\n    ").concat(r," ").concat(n," ").concat(o," = u_").concat(o,";\n#endif\n")})),staticAttributes:i,staticUniforms:u}}var mr=function(){function e(){m(this,e),this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}return y(e,[{key:"bind",value:function(e,t,r,n,o,i,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==n.length,u=0;!l&&u<n.length;u++)this.boundPaintVertexBuffers[u]!==n[u]&&(l=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===r&&!l&&this.boundIndexBuffer===o&&this.boundVertexOffset===i&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),o&&o.dynamicDraw&&o.bind(),s&&s.bind()):this.freshBind(t,r,n,o,i,a,s)}},{key:"freshBind",value:function(e,t,r,n,o,i,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=i,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var f=l;f<s;f++)c.disableVertexAttribArray(f)}t.enableAttributes(c,e);var h,p=d(r);try{for(p.s();!(h=p.n()).done;)h.value.enableAttributes(c,e)}catch(g){p.e(g)}finally{p.f()}i&&i.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,o);var v,m=d(r);try{for(m.s();!(v=m.n()).done;){var y=v.value;y.bind(),y.setVertexAttribPointers(c,e,o)}}catch(g){m.e(g)}finally{m.f()}i&&(i.bind(),i.setVertexAttribPointers(c,e,o)),n&&n.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,o)),u.currentNumAttributes=l}},{key:"destroy",value:function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}]),e}();function yr(t,r){var n=Math.pow(2,r.canonical.z),o=r.canonical.y;return[new e.MercatorCoordinate(0,o/n).toLngLat().lat,new e.MercatorCoordinate(0,(o+1)/n).toLngLat().lat]}function gr(t,r,n,o,i,a,s){var l=t.context,u=l.gl,c=n.fbo;if(c){t.prepareDrawTile();var f=t.useProgram("hillshade");l.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,c.colorAttachment.get());var d=function(e,t,r,n){var o=r.paint.get("hillshade-shadow-color"),i=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color"),s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var l=!e.options.moving;return{u_matrix:n||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:yr(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:o,u_highlight:i,u_accent:a}}(t,n,o,t.terrain?r.projMatrix:null);t.prepareDrawProgram(l,f,r.toUnwrapped());var h=t.getTileBoundsBuffers(n),p=h.tileBoundsBuffer,v=h.tileBoundsIndexBuffer,m=h.tileBoundsSegments;f.draw(l,u.TRIANGLES,i,a,s,e.CullFaceMode.disabled,d,o.id,p,v,m)}}function br(t,r,n){if(r.needsDEMTextureUpload){var o=t.context,i=o.gl;o.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(n.stride);var a=n.getPixels();r.demTexture?r.demTexture.update(a,{premultiply:!1}):r.demTexture=new e.Texture(o,a,i.RGBA,{premultiply:!1}),r.needsDEMTextureUpload=!1}}function _r(t,r,n,o,i,a){var s=t.context,l=s.gl;if(r.dem){var u=r.dem;if(s.activeTexture.set(l.TEXTURE1),br(t,r,u),r.demTexture){r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);var c=u.dim;s.activeTexture.set(l.TEXTURE0);var f=r.fbo;if(!f){var d=new e.Texture(s,{width:c,height:c,data:null},l.RGBA);d.bind(l.LINEAR,l.CLAMP_TO_EDGE),(f=r.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(d.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,c,c]);var h=t.getMercatorTileBoundsBuffers(),p=h.tileBoundsBuffer,v=h.tileBoundsIndexBuffer,m=h.tileBoundsSegments;t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,o,i,a,e.CullFaceMode.disabled,function(t,r){var n=r.stride,o=e.create();return e.ortho(o,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(o,o,[0,-e.EXTENT,0]),{u_matrix:o,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.unpackVector}}(r.tileID,u),n.id,p,v,m),r.needsHillshadePrepare=!1}}}var xr=function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image0:new e.Uniform1i(t,r.u_image0),u_skirt_height:new e.Uniform1f(t,r.u_skirt_height)}},wr=function(e,t){return{u_matrix:e,u_image0:0,u_skirt_height:t}},kr=function(e,t,r,n,o,i){return{u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_merc_matrix:r,u_zoom_transition:n,u_merc_center:o,u_image0:0,u_grid_matrix:i?Float32Array.from(i):new Float32Array(9)}};function Er(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}var Tr=new(function(){function e(){m(this,e),this.operations={}}return y(e,[{key:"newMorphing",value:function(e,t,r,n,o){if(e in this.operations){var i=this.operations[e];i.to.tileID.key!==r.tileID.key&&(i.queued=r)}else this.operations[e]={startTime:n,phase:0,duration:o,from:t,to:r,queued:null}}},{key:"getMorphValuesForProxy",value:function(e){if(!(e in this.operations))return null;var t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}},{key:"update",value:function(e){for(var t in this.operations){var r=this.operations[t];for(r.phase=(e-r.startTime)/r.duration;r.phase>=1||!this._validOp(r);)if(!this._nextOp(r,e)){delete this.operations[t];break}}}},{key:"_nextOp",value:function(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}},{key:"_validOp",value:function(e){return e.from.hasData()&&e.to.hasData()}}]),e}()),Sr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Cr(e,t){var r=1<<e.z;return!t&&(0===e.x||e.x===r-1)||0===e.y||e.y===r-1}var Ar=function(e){return{u_matrix:e}};function Ir(t,r,n,o,i){if(i>0){var a=e.exported.now(),s=(a-t.timeAdded)/i,l=r?(a-r.timeAdded)/i:-1,u=n.getSource(),c=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!r||Math.abs(r.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),d=f&&t.refreshedUponExpiration?1:e.clamp(f?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}var Mr=2*e.mercatorZfromAltitude(1,0)*e.GLOBE_RADIUS*Math.PI,Pr=function(e){p(r,e);var t=v(r);function r(e){var n;m(this,r);var i={type:"raster-dem",maxzoom:e.transform.maxZoom},a=new W(Je(),null),s=Ge("mock-dem",i,a,e.style);return n=t.call(this,"mock-dem",s,!1),s.setEventedParent(o(n)),n._sourceLoaded=!0,n}return y(r,[{key:"_loadTile",value:function(e,t){e.state="loaded",t(null)}}]),r}(e.SourceCache),Or=function(t){p(n,t);var r=v(n);function n(e){var t;m(this,n);var i=Ge("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new W(Je(),null),e.style);return t=r.call(this,"proxy",i,!1),i.setEventedParent(o(t)),t.map=t.getSource().map=e,t.used=t._sourceLoaded=!0,t.renderCache=[],t.renderCachePool=[],t.proxyCachedFBO={},t}return y(n,[{key:"update",value:function(t,r,n){var o=this;if(!t.freezeTileCoverage){this.transform=t;var i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((function(r,n){if(r[n.key]="",!o._tiles[n.key]){var i=new e.Tile(n,o._source.tileSize*n.overscaleFactor(),t.tileZoom);i.state="loaded",o._tiles[n.key]=i}return r}),{});for(var a in this._tiles)a in i||(this.freeFBO(a),this._tiles[a].unloadVectorData(),delete this._tiles[a])}}},{key:"freeFBO",value:function(e){var t=this.proxyCachedFBO[e];if(void 0!==t){var r,n=Object.values(t);(r=this.renderCachePool).push.apply(r,c(n)),delete this.proxyCachedFBO[e]}}},{key:"deallocRenderCache",value:function(){this.renderCache.forEach((function(e){return e.fb.destroy()})),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}]),n}(e.SourceCache),zr=function(e){p(r,e);var t=v(r);function r(e,n,o){var i;return m(this,r),(i=t.call(this,e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)).proxyTileKey=n,i.projMatrix=o,i}return y(r)}(e.OverscaledTileID),Rr=function(t){p(n,t);var r=v(n);function n(t,o){var i;m(this,n),(i=r.call(this)).painter=t,i.terrainTileForTile={},i.prevTerrainTileForTile={};var a=function(t){var r=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6,o=131;r.reserve(17161),n.reserve(33800);for(var i=e.EXTENT/128,a=e.EXTENT+i/2,s=a+i,l=-i;l<s;l+=i)for(var u=-i;u<s;u+=i){var c=u<0||u>a||l<0||l>a?24575:0,f=e.clamp(Math.round(u),0,e.EXTENT),d=e.clamp(Math.round(l),0,e.EXTENT);r.emplaceBack(f+c,d,f,d)}for(var h=function(e,t){var r=t*o+e;n.emplaceBack(r+1,r,r+o),n.emplaceBack(r+o,r+o+1,r+1)},p=1;p<129;p++)for(var v=1;v<129;v++)h(v,p);return[0,129].forEach((function(e){for(var t=0;t<130;t++)h(t,e),h(e,t)})),[r,n,32768]}(),s=f(a,3),l=s[0],u=s[1],c=s[2],d=t.context;i.gridBuffer=d.createVertexBuffer(l,e.boundsAttributes.members),i.gridIndexBuffer=d.createIndexBuffer(u),i.gridSegments=e.SegmentVector.simpleSegment(0,0,l.length,u.length),i.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,l.length,c),i.proxyCoords=[],i.proxiedCoords={},i._visibleDemTiles=[],i._drapedRenderBatches=[],i._sourceTilesOverlap={},i.proxySourceCache=new Or(o.map),i.orthoMatrix=e.create(),e.ortho(i.orthoMatrix,0,e.EXTENT,0,e.EXTENT,0,1);var h=d.gl;return i._overlapStencilMode=new e.StencilMode({func:h.GEQUAL,mask:255},0,255,h.KEEP,h.KEEP,h.REPLACE),i._previousZoom=t.transform.zoom,i.pool=[],i._findCoveringTileCache={},i._tilesDirty={},i.style=o,i._useVertexMorphing=!0,i._exaggeration=1,i._mockSourceCache=new Pr(o.map),i}return y(n,[{key:"style",set:function(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}},{key:"update",value:function(t,r,n){var o=this;if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;var i=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(i.get("source")),this._exaggeration=i.get("exaggeration");var a=function(){o.sourceCache.used&&e.warnOnce("Raster DEM source '".concat(o.sourceCache.id,"' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source."));var t=o.getScaledDemTileSize();o.sourceCache.update(r,t,!0),o.resetTileLookupCache(o.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,a(),this._initializing=!0),a(),r.updateElevation(!n),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(r),this._emptyDEMTextureDirty=!0}else this._disable()}},{key:"resetTileLookupCache",value:function(e){this._findCoveringTileCache[e]={}}},{key:"getScaledDemTileSize",value:function(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}},{key:"_checkRenderCacheEfficiency",value:function(){var t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce("Terrain render cache efficiency is not optimal (".concat(t.efficiency,"%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '").concat(t.firstUndrapedLayer,"' or create a map using optimizeForTerrain: true option."))}},{key:"_onStyleDataEvent",value:function(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}},{key:"_disable",value:function(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(var e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}},{key:"destroy",value:function(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach((function(e){return e.fb.destroy()})),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}},{key:"_source",value:function(){return this.enabled?this.sourceCache:null}},{key:"exaggeration",value:function(){return this._exaggeration}},{key:"visibleDemTiles",get:function(){return this._visibleDemTiles}},{key:"drapeBufferSize",get:function(){var e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}},{key:"useVertexMorphing",set:function(e){this._useVertexMorphing=e}},{key:"updateTileBinding",value:function(t){var r=this;if(this.enabled){this.prevTerrainTileForTile=this.terrainTileForTile;var n=this.proxySourceCache,o=this.painter.transform;this._initializing&&(this._initializing=0===o._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(o.center),-1),this._emptyDEMTextureDirty=!this._initializing);var i=this.proxyCoords=n.getIds().map((function(e){var t=n.getTileByID(e).tileID;return t.projMatrix=o.calculateProjMatrix(t.toUnwrapped()),t}));!function(t,r){var n=r.transform.pointCoordinate(r.transform.getCameraPoint()),o=new e.pointGeometry(n.x,n.y);t.sort((function(t,r){if(r.overscaledZ-t.overscaledZ)return r.overscaledZ-t.overscaledZ;var n=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),i=new e.pointGeometry(r.canonical.x+(1<<r.canonical.z)*r.wrap,r.canonical.y),a=o.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(n)-a.distSqr(i)}))}(i,this.painter),this._previousZoom=o.zoom;var a=this.proxyToSource||{};this.proxyToSource={},i.forEach((function(e){r.proxyToSource[e.key]={}})),this.terrainTileForTile={};var s=this._style._sourceCaches;for(var l in s){var u=s[l];if(u.used&&(u!==this.sourceCache&&this.resetTileLookupCache(u.id),this._setupProxiedCoordsForOrtho(u,t[l],a),!u.usedForTerrain)){var c=t[l];u.getSource().reparseOverscaled&&this._assignTerrainTiles(c)}}this.proxiedCoords[n.id]=i.map((function(e){return new zr(e,e.key,r.orthoMatrix)})),this._assignTerrainTiles(i),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(a),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();var f={};this._visibleDemTiles=[];var h,p=d(this.proxyCoords);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=this.terrainTileForTile[v.key];if(m){var y=m.tileID.key;y in f||(this._visibleDemTiles.push(m),f[y]=y)}}}catch(g){p.e(g)}finally{p.f()}}}},{key:"_assignTerrainTiles",value:function(e){var t=this;this._initializing||e.forEach((function(e){if(!t.terrainTileForTile[e.key]){var r=t._findTileCoveringTileID(e,t.sourceCache);r&&(t.terrainTileForTile[e.key]=r)}}))}},{key:"_prepareDEMTextures",value:function(){var e=this.painter.context,t=e.gl;for(var r in this.terrainTileForTile){var n=this.terrainTileForTile[r],o=n.dem;!o||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),br(this.painter,n,o))}}},{key:"_prepareDemTileUniforms",value:function(e,t,r,n){if(!t||null==t.demTexture)return!1;var o=e.tileID.canonical,i=Math.pow(2,t.tileID.canonical.z-o.z),a=n||"";return r["u_dem_tl".concat(a)]=[o.x*i%1,o.y*i%1],r["u_dem_scale".concat(a)]=i,!0}},{key:"emptyDEMTexture",get:function(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}},{key:"emptyDepthBufferTexture",get:function(){var t=this.painter.context,r=t.gl;if(!this._emptyDepthBufferTexture){var n=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,n,r.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}},{key:"_getLoadedAreaMinimum",value:function(){var e=0,t=this._visibleDemTiles.reduce((function(t,r){if(!r.dem)return t;var n=r.dem.tree.minimums[0];return n>0&&e++,t+n}),0);return e?t/e:0}},{key:"_updateEmptyDEMTexture",value:function(){var t=this.painter.context,r=t.gl;t.activeTexture.set(r.TEXTURE2);var n=this._getLoadedAreaMinimum(),o=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;var i=this._emptyDEMTexture;return i?i.update(o,{premultiply:!1}):i=this._emptyDEMTexture=new e.Texture(t,o,r.RGBA,{premultiply:!1}),i}},{key:"setupElevationDraw",value:function(t,r,n){var o,i=this.painter.context,a=i.gl,s=(o=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(o),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});s.u_dem_size=this.sourceCache.getSource().tileSize,s.u_exaggeration=this.exaggeration();var l=this.painter.transform,u=l.projection,c=t.tileID.canonical;s.u_tile_tl_up=u.upVector(c,0,0),s.u_tile_tr_up=u.upVector(c,e.EXTENT,0),s.u_tile_br_up=u.upVector(c,e.EXTENT,e.EXTENT),s.u_tile_bl_up=u.upVector(c,0,e.EXTENT),s.u_tile_up_scale=n&&n.useDenormalizedUpVectorScale?Mr:u.upVectorScale(c,l.center.lat,l.worldSize).metersToTile;var f=null,d=null,h=1;if(n&&n.morphing&&this._useVertexMorphing){var p=n.morphing.srcDemTile,v=n.morphing.dstDemTile;h=n.morphing.phase,p&&v&&(this._prepareDemTileUniforms(t,p,s,"_prev")&&(d=p),this._prepareDemTileUniforms(t,v,s)&&(f=v))}if(d&&f?(i.activeTexture.set(a.TEXTURE2),f.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),i.activeTexture.set(a.TEXTURE4),d.demTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE,a.NEAREST),s.u_dem_lerp=h):(f=this.terrainTileForTile[t.tileID.key],i.activeTexture.set(a.TEXTURE2),(this._prepareDemTileUniforms(t,f,s)?f.demTexture:this.emptyDEMTexture).bind(a.NEAREST,a.CLAMP_TO_EDGE)),i.activeTexture.set(a.TEXTURE3),n&&n.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE),this._depthFBO&&(s.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(a.NEAREST,a.CLAMP_TO_EDGE),s.u_depth_size_inv=[1,1]),n&&n.useMeterToDem&&f){var m=(1<<f.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;s.u_meter_to_dem=m}n&&n.labelPlaneMatrixInv&&(s.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),r.setTerrainUniformValues(i,s)}},{key:"renderToBackBuffer",value:function(t){var r=this.painter,n=this.painter.context;0!==t.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,r.width,r.height]),this.renderingToTexture=!1,function(t,r,n,o,i){if("globe"===t.transform.projection.name)!function(t,r,n,o,i){var a,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,h=function(e,r){if(s!==e){var n=[Sr[e],"PROJECTION_GLOBE_VIEW"];r&&n.push(Sr[c]),a=t.useProgram("globeRaster",null,n),s=e}},p=t.colorModeForRenderPass(),v=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tr.update(i);var m=t.transform,y=e.calculateGlobeMercatorMatrix(m),g=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],b=t.globeSharedBuffers;if((c?[!1,!0]:[!1]).forEach((function(c){s=-1;var _,x=c?u.LINES:u.TRIANGLES,w=d(o);try{for(w.s();!(_=w.n()).done;){var k=_.value,E=n.getTile(k),T=e.StencilMode.disabled,S=r.prevTerrainTileForTile[k.key],C=r.terrainTileForTile[k.key];Er(S,C)&&Tr.newMorphing(k.key,S,C,i,250),l.activeTexture.set(u.TEXTURE0),E.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var A=Tr.getMorphValuesForProxy(k.key),I=A?1:0,M={useDenormalizedUpVectorScale:!0};A&&e.extend$1(M,{morphing:{srcDemTile:A.from,dstDemTile:A.to,phase:e.easeCubicInOut(A.phase)}});var P=Float32Array.from(m.globeMatrix),O=e.globeTileLatLngCorners(k.canonical),z=e.getGridMatrix(k.canonical,O),R=kr(m.projMatrix,P,y,e.globeToMercatorTransition(m.zoom),g,z);if(h(I,c),r.setupElevationDraw(E,a,M),t.prepareDrawProgram(l,a,k.toUnwrapped()),b){var D=c?b.getWirefameBuffers(t.context):b.getGridBuffers(),L=f(D,3),j=L[0],F=L[1],N=L[2];a.draw(l,x,v,T,p,e.CullFaceMode.backCCW,R,"globe_raster",j,F,N)}}}catch(B){w.e(B)}finally{w.f()}})),b){a=t.useProgram("globeRaster",null,["GLOBE_POLES","PROJECTION_GLOBE_VIEW"]);var _,x=d(o);try{var w=function(){var o=_.value,i=o.canonical,s=i.x,c=i.y,d=i.z,h=0===c,y=c===(1<<d)-1,x=b.getPoleBuffers(d),w=f(x,4),k=w[0],E=w[1],T=w[2],S=w[3];if(S&&(h||y)){var C=n.getTile(o);l.activeTexture.set(u.TEXTURE0),C.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE);var A=e.globePoleMatrixForTile(d,s,m),I=function(t,r){return t.draw(l,u.TRIANGLES,v,e.StencilMode.disabled,p,e.CullFaceMode.disabled,kr(m.projMatrix,A,A,0,g),"globe_pole_raster",r,T,S)};r.setupElevationDraw(C,a,{}),t.prepareDrawProgram(l,a,o.toUnwrapped()),h&&I(a,k),y&&(A=e.scale(e.create(),A,[1,-1,1]),I(a,E))}};for(x.s();!(_=x.n()).done;)w()}catch(k){x.e(k)}finally{x.f()}}}(t,r,n,o,i);else{var a,s,l=t.context,u=l.gl,c=t.options.showTerrainWireframe?2:0,h=function(e,r){if(s!==e){var n=[Sr[e]];r&&n.push(Sr[c]),a=t.useProgram("terrainRaster",null,n),s=e}},p=t.colorModeForRenderPass(),v=new e.DepthMode(u.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tr.update(i);var m=t.transform,y=6*Math.pow(1.5,22-m.zoom)*r.exaggeration();(c?[!1,!0]:[!1]).forEach((function(c){s=-1;var g,b=c?u.LINES:u.TRIANGLES,_=c?r.getWirefameBuffer():[r.gridIndexBuffer,r.gridSegments],x=f(_,2),w=x[0],k=x[1],E=d(o);try{for(E.s();!(g=E.n()).done;){var T=g.value,S=n.getTile(T),C=e.StencilMode.disabled,A=r.prevTerrainTileForTile[T.key],I=r.terrainTileForTile[T.key];Er(A,I)&&Tr.newMorphing(T.key,A,I,i,250),l.activeTexture.set(u.TEXTURE0),S.texture.bind(u.LINEAR,u.CLAMP_TO_EDGE,u.LINEAR_MIPMAP_NEAREST);var M=Tr.getMorphValuesForProxy(T.key),P=M?1:0,O=void 0;M&&(O={morphing:{srcDemTile:M.from,dstDemTile:M.to,phase:e.easeCubicInOut(M.phase)}});var z=wr(T.projMatrix,Cr(T.canonical,m.renderWorldCopies)?y/10:y);h(P,c),r.setupElevationDraw(S,a,O),t.prepareDrawProgram(l,a,T.toUnwrapped()),a.draw(l,b,v,C,p,e.CullFaceMode.backCCW,z,"terrain_raster",r.gridBuffer,w,k)}}catch(R){E.e(R)}finally{E.f()}}))}}(r,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,t.splice(0,t.length))}},{key:"renderBatch",value:function(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;var r,n=this.painter,o=this.painter.context,i=this.proxySourceCache,a=this.proxiedCoords[i.id],s=this._drapedRenderBatches.shift(),l=[],u=n.style.order,c=0,f=d(a);try{for(f.s();!(r=f.n()).done;){var h=r.value,p=i.getTileByID(h.proxyTileKey),v=i.proxyCachedFBO[h.key]?i.proxyCachedFBO[h.key][t]:void 0,m=void 0!==v?i.renderCache[v]:this.pool[c++],y=void 0!==v;if(p.texture=m.tex,!y||m.dirty){var g=void 0;o.bindFramebuffer.set(m.fb.framebuffer),this.renderedToTile=!1,m.dirty&&(o.clear({color:e.Color.transparent,stencil:0}),m.dirty=!1);for(var b=s.start;b<=s.end;++b){var _=n.style._layers[u[b]];if(!_.isHidden(n.transform.zoom)){var x=n.style._getLayerSourceCache(_),w=x?this.proxyToSource[h.key][x.id]:[h];if(w){var k=w;o.viewport.set([0,0,m.fb.width,m.fb.height]),g!==(x?x.id:null)&&(this._setupStencil(m,w,_,x),g=x?x.id:null),n.renderLayer(n,x,_,k)}}}this.renderedToTile?(m.dirty=!0,l.push(p.tileID)):y||--c,5===c&&(c=0,this.renderToBackBuffer(l))}else l.push(p.tileID)}}catch(E){f.e(E)}finally{f.f()}return this.renderToBackBuffer(l),this.renderingToTexture=!1,o.bindFramebuffer.set(null),o.viewport.set([0,0,n.width,n.height]),s.end+1}},{key:"postRender",value:function(){}},{key:"renderCacheEfficiency",value:function(e){var t=e.order.length;if(0===t)return{efficiency:100};for(var r,n=0,o=0,i=!1,a=0;a<t;++a){var s=e._layers[e.order[a]];this._style.isLayerDraped(s)?(i&&++n,++o):i||(i=!0,r=s.id)}return 0===o?{efficiency:100}:{efficiency:100*(1-n/o),firstUndrapedLayer:r}}},{key:"getMinElevationBelowMSL",value:function(){var e=0;return this._visibleDemTiles.filter((function(e){return e.dem})).forEach((function(t){e=Math.min(e,t.dem.tree.minimums[0])})),0===e?e:(e-30)*this._exaggeration}},{key:"raycast",value:function(e,t,r){if(!this._visibleDemTiles)return null;var n=this._visibleDemTiles.filter((function(e){return e.dem})).map((function(n){var o=n.tileID,i=Math.pow(2,o.overscaledZ),a=o.canonical,s=a.x,l=a.y,u=s/i,c=(s+1)/i,f=l/i,d=(l+1)/i;return{minx:u,miny:f,maxx:c,maxy:d,t:n.dem.tree.raycastRoot(u,f,c,d,e,t,r),tile:n}}));n.sort((function(e,t){return(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE)}));var o,i=d(n);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(null==a.t)return null;var s=a.tile.dem.tree.raycast(a.minx,a.miny,a.maxx,a.maxy,e,t,r);if(null!=s)return s}}catch(l){i.e(l)}finally{i.f()}return null}},{key:"_createFBO",value:function(){var t=this.painter.context,r=t.gl,n=this.drapeBufferSize;t.activeTexture.set(r.TEXTURE0);var o=new e.Texture(t,{width:n[0],height:n[1],data:null},r.RGBA);o.bind(r.LINEAR,r.CLAMP_TO_EDGE);var i=t.createFramebuffer(n[0],n[1],!1);return i.colorAttachment.set(o.texture),i.depthAttachment=new Le(t,i.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,i.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):i.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&r.texParameterf(r.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:i,tex:o,dirty:!1}}},{key:"_initFBOPool",value:function(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}},{key:"_shouldDisableRenderCache",value:function(){var e=this;if(this._style.light&&this._style.light.hasTransition())return!0;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t].hasTransition())return!0;return this._style.order.some((function(t){var r=e._style._layers[t],n=r.isHidden(e.painter.transform.zoom),o=r.getCrossfadeParameters(),i=!!o&&1!==o.t,a=r.hasTransition();return"custom"!==r.type&&!n&&(i||a)}))}},{key:"_clearRasterFadeFromRenderCache",value:function(){var e=!1;for(var t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ne){e=!0;break}if(e)for(var r=0;r<this._style.order.length;++r){var n=this._style._layers[this._style.order[r]],o=n.isHidden(this.painter.transform.zoom),i=this._style._getLayerSourceCache(n);if("raster"===n.type&&!o&&i){var a,s=n.paint.get("raster-fade-duration"),l=d(this.proxyCoords);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=this.proxyToSource[u.key][i.id];if(c){var f,h=d(c);try{for(h.s();!(f=h.n()).done;){var p=f.value,v=Ir(i.getTile(p),i.findLoadedParent(p,0),i,this.painter.transform,s);(1!==v.opacity||0!==v.mix)&&this._clearRenderCacheForTile(i.id,p)}}catch(m){h.e(m)}finally{h.f()}}}}catch(m){l.e(m)}finally{l.f()}}}}},{key:"_setupDrapedRenderBatches",value:function(){var e=this._style.order,t=e.length;if(0!==t){for(var r,n=[],o=0,i=this._style._layers[e[o]];!this._style.isLayerDraped(i)&&i.isHidden(this.painter.transform.zoom)&&++o<t;)i=this._style._layers[e[o]];for(;o<t;++o){var a=this._style._layers[e[o]];a.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(a)?void 0===r&&(r=o):void 0!==r&&(n.push({start:r,end:o-1}),r=void 0))}void 0!==r&&n.push({start:r,end:o-1}),this._drapedRenderBatches=n}}},{key:"_setupRenderCache",value:function(e){var t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){var r=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(var n=0;n<r.length;++n){var o,i=Object.values(r[n]);(o=t.renderCachePool).push.apply(o,c(i))}}}else{this._clearRasterFadeFromRenderCache();for(var a=this.proxyCoords,s=this._tilesDirty,l=a.length-1;l>=0;l--){var u=a[l];if(t.getTileByID(u.key),void 0!==t.proxyCachedFBO[u.key]){var f=e[u.key],h=this.proxyToSource[u.key],p=0,v=function(e){var t=h[e],r=f[e];if(!r||r.length!==t.length||t.some((function(t,n){return t!==r[n]||s[e]&&s[e].hasOwnProperty(t.key)})))return p=-1,"break";++p};for(var m in h)if("break"===v(m))break;for(var y in t.proxyCachedFBO[u.key])t.renderCache[t.proxyCachedFBO[u.key][y]].dirty=p<0||p!==Object.values(f).length}}var g=c(this._drapedRenderBatches);g.sort((function(e,t){return t.end-t.start-(e.end-e.start)}));var b,_=d(g);try{for(_.s();!(b=_.n()).done;){var x,w=b.value,k=d(a);try{for(k.s();!(x=k.n()).done;){var E=x.value;if(!t.proxyCachedFBO[E.key]){var T=t.renderCachePool.pop();void 0===T&&t.renderCache.length<50&&(T=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==T&&(t.proxyCachedFBO[E.key]={},t.proxyCachedFBO[E.key][w.start]=T,t.renderCache[T].dirty=!0)}}}catch(S){k.e(S)}finally{k.f()}}}catch(S){_.e(S)}finally{_.f()}this._tilesDirty={}}}},{key:"_setupStencil",value:function(e,t,r,n){if(n&&this._sourceTilesOverlap[n.id]){var o=this.painter.context,i=o.gl;if(t.length<=1)this._overlapStencilType=!1;else{var a;if(r.isTileClipped())a=t.length,this._overlapStencilMode.test={func:i.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:i.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(o.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,r.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}}else this._overlapStencilType&&(this._overlapStencilType=!1)}},{key:"clipOrMaskOverlapStencilType",value:function(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}},{key:"stencilModeForRTTOverlap",value:function(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs.get(t.key)||0),this._overlapStencilMode):e.StencilMode.disabled}},{key:"_renderTileClippingMasks",value:function(t,r){var n=this.painter,o=this.painter.context,i=o.gl;n._tileClippingMaskIDs.clear(),o.setColorMode(e.ColorMode.disabled),o.setDepthMode(e.DepthMode.disabled);var a,s=n.useProgram("clippingMask"),l=d(t);try{for(l.s();!(a=l.n()).done;){var u=a.value,c=--r;n._tileClippingMaskIDs.set(u.key,c),s.draw(o,i.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:i.ALWAYS,mask:0},c,255,i.KEEP,i.KEEP,i.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ar(u.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}catch(f){l.e(f)}finally{l.f()}}},{key:"pointCoordinate",value:function(t){var r=this.painter.transform;if(t.x<0||t.x>r.width||t.y<0||t.y>r.height)return null;var n=[t.x,t.y,1,1];e.transformMat4$1(n,n,r.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),n[0]/=r.worldSize,n[1]/=r.worldSize;var o=r._camera.position,i=e.mercatorZfromAltitude(1,r.center.lat),a=[o[0],o[1],o[2]/i,0],s=e.subtract([],n.slice(0,3),a);e.normalize(s,s);var l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=i,a):null}},{key:"drawDepth",value:function(){var t=this.painter,r=t.context,n=this.proxySourceCache,o=Math.ceil(t.width),i=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===o&&this._depthFBO.height===i||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){var a=r.gl,s=r.createFramebuffer(o,i,!0);r.activeTexture.set(a.TEXTURE0);var l=new e.Texture(r,{width:o,height:i,data:null},a.RGBA);l.bind(a.NEAREST,a.CLAMP_TO_EDGE),s.colorAttachment.set(l.texture);var u=r.createRenderbuffer(r.gl.DEPTH_COMPONENT16,o,i);s.depthAttachment.set(u),this._depthFBO=s,this._depthTexture=l}r.bindFramebuffer.set(this._depthFBO.framebuffer),r.viewport.set([0,0,o,i]),function(t,r,n,o){if("globe"!==t.transform.projection.name){var i=t.context,a=i.gl;i.clear({depth:1});var s,l=t.useProgram("terrainDepth"),u=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D),c=d(o);try{for(c.s();!(s=c.n()).done;){var f=s.value,h=n.getTile(f),p=wr(f.projMatrix,0);r.setupElevationDraw(h,l),l.draw(i,a.TRIANGLES,u,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,p,"terrain_depth",r.gridBuffer,r.gridIndexBuffer,r.gridNoSkirtSegments)}}catch(v){c.e(v)}finally{c.f()}}}(t,this,n,this.proxyCoords)}},{key:"_setupProxiedCoordsForOrtho",value:function(e,t,r){if(e.getSource()instanceof Ve)return this._setupProxiedCoordsForImageSource(e,t,r);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};for(var n=this.proxiedCoords[e.id]=[],o=this.proxyCoords,i=0;i<o.length;i++){var a=o[i],s=this._findTileCoveringTileID(a,e);if(s){var l=this._createProxiedId(a,s,r[a.key]&&r[a.key][e.id]);n.push(l),this.proxyToSource[a.key][e.id]=[l]}}for(var u=!1,c=0;c<t.length;c++){var f=e.getTile(t[c]);if(f&&f.hasData()){var d=this._findTileCoveringTileID(f.tileID,this.proxySourceCache);if(d&&d.tileID.canonical.z!==f.tileID.canonical.z){var h=this.proxyToSource[d.tileID.key][e.id],p=this._createProxiedId(d.tileID,f,r[d.tileID.key]&&r[d.tileID.key][e.id]);h?h.splice(h.length-1,0,p):this.proxyToSource[d.tileID.key][e.id]=[p],n.push(p),u=!0}}}this._sourceTilesOverlap[e.id]=u}},{key:"_setupProxiedCoordsForImageSource",value:function(t,r,n){if(t.getSource().loaded())for(var o=this.proxiedCoords[t.id]=[],i=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((function(e,t){return e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e}),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),u=function(t,r){var n=t.wrap+t.canonical.x/(1<<t.canonical.z),o=t.canonical.y/(1<<t.canonical.z),i=e.EXTENT/(1<<t.canonical.z),a=r.wrap+r.canonical.x/(1<<r.canonical.z),s=r.canonical.y/(1<<r.canonical.z);return n+i<a+l.min.x||n>a+l.max.x||o+i<s+l.min.y||o>s+l.max.y},c=0;c<i.length;c++)for(var f=i[c],d=0;d<r.length;d++){var h=t.getTile(r[d]);if(h&&h.hasData()&&!u(f,h.tileID)){var p=this._createProxiedId(f,h,n[f.key]&&n[f.key][t.id]),v=this.proxyToSource[f.key][t.id];v?v.push(p):this.proxyToSource[f.key][t.id]=[p],o.push(p)}}}},{key:"_createProxiedId",value:function(t,r,n){var o=this.orthoMatrix;if(n){var i=n.find((function(e){return e.key===r.tileID.key}));if(i)return i}if(r.tileID.key!==t.key){var a,s,l,u=t.canonical.z-r.tileID.canonical.z;o=e.create();var c=r.tileID.wrap-t.wrap<<t.overscaledZ;u>0?(s=(a=e.EXTENT>>u)*((r.tileID.canonical.x<<u)-t.canonical.x+c),l=a*((r.tileID.canonical.y<<u)-t.canonical.y)):(a=e.EXTENT<<-u,s=e.EXTENT*(r.tileID.canonical.x-(t.canonical.x+c<<-u)),l=e.EXTENT*(r.tileID.canonical.y-(t.canonical.y<<-u))),e.ortho(o,0,a,0,a,0,1),e.translate(o,o,[s,l,0])}return new zr(r.tileID,t.key,o)}},{key:"_findTileCoveringTileID",value:function(t,r){var n=r.getTile(t);if(n&&n.hasData())return n;var o=this._findCoveringTileCache[r.id],i=o[t.key];if((n=i?r.getTileByID(i):null)&&n.hasData()||null===i)return n;var a=n?n.tileID:t,s=a.overscaledZ,l=r.getSource().minzoom,u=[];if(!i){var c=r.getSource().maxzoom;if(t.canonical.z>=c){var f=t.canonical.z-c;r.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,r.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>f,t.canonical.y>>f)):0!==f&&(s=c,a=new e.OverscaledTileID(s,t.wrap,c,t.canonical.x>>f,t.canonical.y>>f))}a.key!==t.key&&(u.push(a.key),n=r.getTile(a))}var d=function(e){u.forEach((function(t){o[t]=e})),u.length=0};for(s-=1;s>=l&&(!n||!n.hasData());s--){n&&d(n.tileID.key);var h=a.calculateScaledKey(s);if((n=r.getTileByID(h))&&n.hasData())break;var p=o[h];if(null===p)break;void 0===p?u.push(h):n=r.getTileByID(p)}return d(n?n.tileID.key:null),n&&n.hasData()?n:null}},{key:"findDEMTileFor",value:function(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}},{key:"prepareDrawTile",value:function(){this.renderedToTile=!0}},{key:"_clearRenderCacheForTile",value:function(e,t){var r=this._tilesDirty[e];r||(r=this._tilesDirty[e]={}),r[t.key]=!0}},{key:"getWirefameBuffer",value:function(){if(!this.wireframeSegments){var t=function(t){for(var r=0,n=new e.StructArrayLayout2ui4,o=131,i=1;i<129;i++){for(var a=1;a<129;a++)r=i*o+a,n.emplaceBack(r,r+1),n.emplaceBack(r,r+o),n.emplaceBack(r+1,r+o),128===i&&n.emplaceBack(r+o,r+o+1);n.emplaceBack(r+1,r+1+o)}return n}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}]),n}(e.Elevation);function Dr(e){for(var t=[],r=0;r<e.length;r++)if(null!==e[r]){var n=e[r].split(" ");t.push(n.pop())}return t}var Lr=function(){function t(r,n,o,i,a,s){m(this,t);var l=r.gl;this.program=l.createProgram();var u,c=Dr(o.staticAttributes),f=i?i.getBinderAttributes():[],h=c.concat(f),p=o.staticUniforms?Dr(o.staticUniforms):[],v=i?i.getBinderUniforms():[],y=p.concat(v),g=[],b=d(y);try{for(b.s();!(u=b.n()).done;){var _=u.value;g.indexOf(_)<0&&g.push(_)}}catch(P){b.e(P)}finally{b.f()}var x=i?i.defines():[];x=x.concat(s.map((function(e){return"#define ".concat(e)})));var w=x.concat("\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",hr,dr.fragmentSource,fr.fragmentSource,o.fragmentSource).join("\n"),k=x.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",hr,dr.vertexSource,fr.vertexSource,cr.vertexSource,o.vertexSource).join("\n"),E=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(E,w),l.compileShader(E),l.attachShader(this.program,E);var T=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())this.failedToCreate=!0;else{l.shaderSource(T,k),l.compileShader(T),l.attachShader(this.program,T),this.attributes={};var S={};this.numAttributes=h.length;for(var C=0;C<this.numAttributes;C++)h[C]&&(l.bindAttribLocation(this.program,C,h[C]),this.attributes[h[C]]=C);l.linkProgram(this.program),l.deleteShader(T),l.deleteShader(E);for(var A=0;A<g.length;A++){var I=g[A];if(I&&!S[I]){var M=l.getUniformLocation(this.program,I);M&&(S[I]=M)}}this.fixedUniforms=a(r,S),this.binderUniforms=i?i.getUniforms(r,S):[],-1!==s.indexOf("TERRAIN")&&(this.terrainUniforms=function(t,r){return{u_dem:new e.Uniform1i(t,r.u_dem),u_dem_prev:new e.Uniform1i(t,r.u_dem_prev),u_dem_unpack:new e.Uniform4f(t,r.u_dem_unpack),u_dem_tl:new e.Uniform2f(t,r.u_dem_tl),u_dem_scale:new e.Uniform1f(t,r.u_dem_scale),u_dem_tl_prev:new e.Uniform2f(t,r.u_dem_tl_prev),u_dem_scale_prev:new e.Uniform1f(t,r.u_dem_scale_prev),u_dem_size:new e.Uniform1f(t,r.u_dem_size),u_dem_lerp:new e.Uniform1f(t,r.u_dem_lerp),u_exaggeration:new e.Uniform1f(t,r.u_exaggeration),u_depth:new e.Uniform1i(t,r.u_depth),u_depth_size_inv:new e.Uniform2f(t,r.u_depth_size_inv),u_meter_to_dem:new e.Uniform1f(t,r.u_meter_to_dem),u_label_plane_matrix_inv:new e.UniformMatrix4f(t,r.u_label_plane_matrix_inv),u_tile_tl_up:new e.Uniform3f(t,r.u_tile_tl_up),u_tile_tr_up:new e.Uniform3f(t,r.u_tile_tr_up),u_tile_br_up:new e.Uniform3f(t,r.u_tile_br_up),u_tile_bl_up:new e.Uniform3f(t,r.u_tile_bl_up),u_tile_up_scale:new e.Uniform1f(t,r.u_tile_up_scale)}}(r,S)),-1!==s.indexOf("FOG")&&(this.fogUniforms=function(t,r){return{u_fog_matrix:new e.UniformMatrix4f(t,r.u_fog_matrix),u_fog_range:new e.Uniform2f(t,r.u_fog_range),u_fog_color:new e.Uniform4f(t,r.u_fog_color),u_fog_horizon_blend:new e.Uniform1f(t,r.u_fog_horizon_blend),u_fog_temporal_offset:new e.Uniform1f(t,r.u_fog_temporal_offset)}}(r,S))}}}return y(t,[{key:"setTerrainUniformValues",value:function(e,t){if(this.terrainUniforms){var r=this.terrainUniforms;if(!this.failedToCreate)for(var n in e.program.set(this.program),t)r[n].set(t[n])}}},{key:"setFogUniformValues",value:function(e,t){if(this.fogUniforms){var r=this.fogUniforms;if(!this.failedToCreate)for(var n in e.program.set(this.program),t)r[n].location&&r[n].set(t[n])}}},{key:"draw",value:function(e,t,r,o,i,a,s,l,u,c,f,h,p,v,m,y){var g,b=e.gl;if(!this.failedToCreate){e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(o),e.setColorMode(i),e.setCullFace(a);for(var _=0,x=Object.keys(this.fixedUniforms);_<x.length;_++){var w=x[_];this.fixedUniforms[w].set(s[w])}v&&v.setUniforms(e,this.binderUniforms,h,{zoom:p});var k,E=(g={},n(g,b.LINES,2),n(g,b.TRIANGLES,3),n(g,b.LINE_STRIP,1),g)[t],T=d(f.get());try{for(T.s();!(k=T.n()).done;){var S=k.value,C=S.vaos||(S.vaos={});(C[l]||(C[l]=new mr)).bind(e,this,u,v?v.getPaintVertexBuffers():[],c,S.vertexOffset,m,y),b.drawElements(t,S.primitiveLength*E,b.UNSIGNED_SHORT,S.primitiveOffset*E*2)}}catch(A){T.e(A)}finally{T.f()}}}}],[{key:"cacheKey",value:function(e,t,r){var n,o="".concat(e).concat(r?r.cacheKey:""),i=d(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;o+="/".concat(a)}}catch(s){i.e(s)}finally{i.f()}return o}}]),t}();function jr(e,t,r){var n=1/Z(r,1,t.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),i=r.tileSize*Math.pow(2,t.transform.tileZoom)/o,a=i*(r.tileID.canonical.x+r.tileID.wrap*o),s=i*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}var Fr=e.create(),Nr=function(t,r,n,o,i,a,s,l,u){var c=r.style.light,f=c.properties.get("position"),d=[f.x,f.y,f.z],h=e.create$1();"viewport"===c.properties.get("anchor")&&(e.fromRotation(h,-r.transform.angle),e.transformMat3(d,d,h));var p=c.properties.get("color"),v=r.transform,m={u_matrix:t,u_lightpos:d,u_lightintensity:c.properties.get("intensity"),u_lightcolor:[p.r,p.g,p.b],u_vertical_gradient:+n,u_opacity:o,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Fr,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0};return"globe"===v.projection.name&&(m.u_tile_id=[i.canonical.x,i.canonical.y,1<<i.canonical.z],m.u_zoom_transition=s,m.u_inv_rot_matrix=u,m.u_merc_center=l,m.u_up_dir=v.projection.upVector(new e.CanonicalTileID(0,0,0),l[0]*e.EXTENT,l[1]*e.EXTENT),m.u_height_lift=a),m},Br=function(t,r,n,o,i,a,s,l,u,c,f){var d=Nr(t,r,n,o,i,l,u,c,f),h={u_height_factor:-Math.pow(2,i.overscaledZ)/s.tileSize/8};return e.extend(d,jr(a,r,s),h)},Vr=function(e){return{u_matrix:e}},Ur=function(t,r,n,o){return e.extend(Vr(t),jr(n,r,o))},Gr=function(e,t){return{u_matrix:e,u_world:t}},qr=function(t,r,n,o,i){return e.extend(Ur(t,r,n,o),{u_world:i})},Wr=e.create(),Zr=function(t,r,n,o,i,a){var s,l=t.transform,u="globe"===l.projection.name;if("map"===a.paint.get("circle-pitch-alignment"))if(u){var c=e.globePixelsToTileUnits(l.zoom,r.canonical);s=Float32Array.from([c,0,0,c])}else s=l.calculatePixelsToTileUnitsMatrix(n);else s=new Float32Array([l.pixelsToGLUnits[0],0,0,l.pixelsToGLUnits[1]]);var f={u_camera_to_center_distance:l.cameraToCenterDistance,u_matrix:t.translatePosMatrix(r.projMatrix,n,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:s,u_inv_rot_matrix:Wr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};return u&&(f.u_inv_rot_matrix=o,f.u_merc_center=i,f.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],f.u_zoom_transition=e.globeToMercatorTransition(l.zoom),f.u_up_dir=l.projection.upVector(r.canonical,i[0],i[1])),f},Hr=function(e){var t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Xr=function(t,r,n){var o=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:r.cameraToCenterDistance,u_extrude_scale:[r.pixelsToGLUnits[0]/o,r.pixelsToGLUnits[1]/o]}},$r=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},Kr=e.create(),Yr=function(t,r,n,o,i,a,s){var l=t.transform,u="globe"===l.projection.name,c=u?e.globePixelsToTileUnits(l.zoom,r.canonical):Z(n,1,a),f={u_matrix:r.projMatrix,u_extrude_scale:c,u_intensity:s,u_inv_rot_matrix:Kr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};return u&&(f.u_inv_rot_matrix=o,f.u_merc_center=i,f.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],f.u_zoom_transition=e.globeToMercatorTransition(l.zoom),f.u_up_dir=l.projection.upVector(r.canonical,i[0],i[1])),f},Jr=function(e,t,r,n,o,i,a){var s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t),u={u_matrix:tn(e,t,r,o),u_pixels_to_tile_units:l,u_device_pixel_ratio:a,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:i,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0};if(rn(r)){var c=en(t,e.transform);u.u_texsize=t.lineAtlasTexture.size,u.u_scale=[c,n.fromScale,n.toScale],u.u_mix=n.t}return u},Qr=function(e,t,r,n,o,i){var a=e.transform,s=en(t,a);return{u_matrix:tn(e,t,r,o),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:i,u_image:0,u_scale:[s,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function en(e,t){return 1/Z(e,1,t.tileZoom)}function tn(e,t,r,n){return e.translatePosMatrix(n||t.tileID.projMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}function rn(e){var t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}var nn=function(e,t,r,n,o,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_fade_t:n.mix,u_opacity:n.opacity*o.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:o.paint.get("raster-brightness-min"),u_brightness_high:o.paint.get("raster-brightness-max"),u_saturation_factor:(s=o.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=o.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:on(o.paint.get("raster-hue-rotate")),u_perspective_transform:i};var a,s};function on(e){e*=Math.PI/180;var t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}var an,sn=e.create(),ln=function(t,r,n,o,i,a,s,l,u,c,f,d,h,p){var v=i.transform,m={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:v.cameraToCenterDistance,u_rotate_symbol:+n,u_aspect_ratio:v.width/v.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+u,u_pitch_with_map:+o,u_texsize:c,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:sn,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:sn};return"globe"===v.projection.name&&(m.u_tile_id=[f.canonical.x,f.canonical.y,1<<f.canonical.z],m.u_zoom_transition=d,m.u_inv_rot_matrix=p,m.u_merc_center=h,m.u_camera_forward=v._camera.forward(),m.u_ecef_origin=e.globeECEFOrigin(v.globeMatrix,f.toUnwrapped()),m.u_tile_matrix=Float32Array.from(v.globeMatrix)),m},un=function(t,r,n,o,i,a,s,l,u,c,f,d,h,p,v){var m=i.transform,y=m.cameraToCenterDistance,g=m._pitch;return e.extend(ln(t,r,n,o,i,a,s,l,u,c,d,h,p,v),{u_gamma_scale:o?y*Math.cos(i.terrain?0:g):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+f})},cn=function(t,r,n,o,i,a,s,l,u,c,f,d,h,p){return e.extend(un(t,r,n,o,i,a,s,l,!0,u,!0,f,d,h,p),{u_texsize_icon:c,u_texture_icon:1})},fn=function(e,t,r){return{u_matrix:e,u_opacity:t,u_color:r}},dn=function(t,r,n,o,i,a){return e.extend(function(e,t,r,n){var o=r.imageManager.getPattern(e.from.toString()),i=r.imageManager.getPattern(e.to.toString()),a=r.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/u,f=c*(n.tileID.canonical.x+n.tileID.wrap*u),d=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:i.tl,u_pattern_br_b:i.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:i.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Z(n,1,r.transform.tileZoom),u_pixel_coord_upper:[f>>16,d>>16],u_pixel_coord_lower:[65535&f,65535&d]}}(o,a,n,i),{u_matrix:t,u_opacity:r})},hn={fillExtrusion:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_opacity:new e.Uniform1f(t,r.u_opacity),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_up_dir:new e.Uniform3f(t,r.u_up_dir),u_height_lift:new e.Uniform1f(t,r.u_height_lift)}},fillExtrusionPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_lightpos:new e.Uniform3f(t,r.u_lightpos),u_lightintensity:new e.Uniform1f(t,r.u_lightintensity),u_lightcolor:new e.Uniform3f(t,r.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,r.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,r.u_height_factor),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_up_dir:new e.Uniform3f(t,r.u_up_dir),u_height_lift:new e.Uniform1f(t,r.u_height_lift),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_opacity:new e.Uniform1f(t,r.u_opacity)}},fill:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},fillPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},fillOutline:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world)}},fillOutlinePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_world:new e.Uniform2f(t,r.u_world),u_image:new e.Uniform1i(t,r.u_image),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade)}},circle:function(t,r){return{u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_extrude_scale:new e.UniformMatrix2f(t,r.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_up_dir:new e.Uniform3f(t,r.u_up_dir)}},collisionBox:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_extrude_scale:new e.Uniform2f(t,r.u_extrude_scale)}},collisionCircle:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,r.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,r.u_viewport_size)}},debug:function(t,r){return{u_color:new e.UniformColor(t,r.u_color),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_overlay:new e.Uniform1i(t,r.u_overlay),u_overlay_scale:new e.Uniform1f(t,r.u_overlay_scale)}},clippingMask:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix)}},heatmap:function(t,r){return{u_extrude_scale:new e.Uniform1f(t,r.u_extrude_scale),u_intensity:new e.Uniform1f(t,r.u_intensity),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_up_dir:new e.Uniform3f(t,r.u_up_dir)}},heatmapTexture:function(t,r){return{u_image:new e.Uniform1i(t,r.u_image),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_opacity:new e.Uniform1f(t,r.u_opacity)}},hillshade:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_latrange:new e.Uniform2f(t,r.u_latrange),u_light:new e.Uniform2f(t,r.u_light),u_shadow:new e.UniformColor(t,r.u_shadow),u_highlight:new e.UniformColor(t,r.u_highlight),u_accent:new e.UniformColor(t,r.u_accent)}},hillshadePrepare:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_image:new e.Uniform1i(t,r.u_image),u_dimension:new e.Uniform2f(t,r.u_dimension),u_zoom:new e.Uniform1f(t,r.u_zoom),u_unpack:new e.Uniform4f(t,r.u_unpack)}},line:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_pixels_to_tile_units:new e.UniformMatrix2f(t,r.u_pixels_to_tile_units),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_dash_image:new e.Uniform1i(t,r.u_dash_image),u_gradient_image:new e.Uniform1i(t,r.u_gradient_image),u_image_height:new e.Uniform1f(t,r.u_image_height),u_texsize:new e.Uniform2f(t,r.u_texsize),u_scale:new e.Uniform3f(t,r.u_scale),u_mix:new e.Uniform1f(t,r.u_mix),u_alpha_discard_threshold:new e.Uniform1f(t,r.u_alpha_discard_threshold)}},linePattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_texsize:new e.Uniform2f(t,r.u_texsize),u_pixels_to_tile_units:new e.UniformMatrix2f(t,r.u_pixels_to_tile_units),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_image:new e.Uniform1i(t,r.u_image),u_units_to_pixels:new e.Uniform2f(t,r.u_units_to_pixels),u_scale:new e.Uniform3f(t,r.u_scale),u_fade:new e.Uniform1f(t,r.u_fade),u_alpha_discard_threshold:new e.Uniform1f(t,r.u_alpha_discard_threshold)}},raster:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_tl_parent:new e.Uniform2f(t,r.u_tl_parent),u_scale_parent:new e.Uniform1f(t,r.u_scale_parent),u_fade_t:new e.Uniform1f(t,r.u_fade_t),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image0:new e.Uniform1i(t,r.u_image0),u_image1:new e.Uniform1i(t,r.u_image1),u_brightness_low:new e.Uniform1f(t,r.u_brightness_low),u_brightness_high:new e.Uniform1f(t,r.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,r.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,r.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,r.u_spin_weights),u_perspective_transform:new e.Uniform2f(t,r.u_perspective_transform)}},symbolIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_camera_forward:new e.Uniform3f(t,r.u_camera_forward),u_tile_matrix:new e.UniformMatrix4f(t,r.u_tile_matrix),u_ecef_origin:new e.Uniform3f(t,r.u_ecef_origin),u_texture:new e.Uniform1i(t,r.u_texture)}},symbolSDF:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texture:new e.Uniform1i(t,r.u_texture),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_tile_id:new e.Uniform3f(t,r.u_tile_id),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_inv_rot_matrix:new e.UniformMatrix4f(t,r.u_inv_rot_matrix),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_camera_forward:new e.Uniform3f(t,r.u_camera_forward),u_tile_matrix:new e.UniformMatrix4f(t,r.u_tile_matrix),u_ecef_origin:new e.Uniform3f(t,r.u_ecef_origin),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},symbolTextAndIcon:function(t,r){return{u_is_size_zoom_constant:new e.Uniform1i(t,r.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,r.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,r.u_size_t),u_size:new e.Uniform1f(t,r.u_size),u_camera_to_center_distance:new e.Uniform1f(t,r.u_camera_to_center_distance),u_rotate_symbol:new e.Uniform1i(t,r.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,r.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,r.u_fade_change),u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,r.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,r.u_coord_matrix),u_is_text:new e.Uniform1i(t,r.u_is_text),u_pitch_with_map:new e.Uniform1i(t,r.u_pitch_with_map),u_texsize:new e.Uniform2f(t,r.u_texsize),u_texsize_icon:new e.Uniform2f(t,r.u_texsize_icon),u_texture:new e.Uniform1i(t,r.u_texture),u_texture_icon:new e.Uniform1i(t,r.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,r.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,r.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,r.u_is_halo)}},background:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_color:new e.UniformColor(t,r.u_color)}},backgroundPattern:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_opacity:new e.Uniform1f(t,r.u_opacity),u_image:new e.Uniform1i(t,r.u_image),u_pattern_tl_a:new e.Uniform2f(t,r.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,r.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,r.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,r.u_pattern_br_b),u_texsize:new e.Uniform2f(t,r.u_texsize),u_mix:new e.Uniform1f(t,r.u_mix),u_pattern_size_a:new e.Uniform2f(t,r.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,r.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,r.u_scale_a),u_scale_b:new e.Uniform1f(t,r.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,r.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,r.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,r.u_tile_units_to_pixels)}},terrainRaster:xr,terrainDepth:xr,skybox:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_sun_direction:new e.Uniform3f(t,r.u_sun_direction),u_cubemap:new e.Uniform1i(t,r.u_cubemap),u_opacity:new e.Uniform1f(t,r.u_opacity),u_temporal_offset:new e.Uniform1f(t,r.u_temporal_offset)}},skyboxGradient:function(t,r){return{u_matrix:new e.UniformMatrix4f(t,r.u_matrix),u_color_ramp:new e.Uniform1i(t,r.u_color_ramp),u_center_direction:new e.Uniform3f(t,r.u_center_direction),u_radius:new e.Uniform1f(t,r.u_radius),u_opacity:new e.Uniform1f(t,r.u_opacity),u_temporal_offset:new e.Uniform1f(t,r.u_temporal_offset)}},skyboxCapture:function(t,r){return{u_matrix_3f:new e.UniformMatrix3f(t,r.u_matrix_3f),u_sun_direction:new e.Uniform3f(t,r.u_sun_direction),u_sun_intensity:new e.Uniform1f(t,r.u_sun_intensity),u_color_tint_r:new e.Uniform4f(t,r.u_color_tint_r),u_color_tint_m:new e.Uniform4f(t,r.u_color_tint_m),u_luminance:new e.Uniform1f(t,r.u_luminance)}},globeRaster:function(t,r){return{u_proj_matrix:new e.UniformMatrix4f(t,r.u_proj_matrix),u_globe_matrix:new e.UniformMatrix4f(t,r.u_globe_matrix),u_merc_matrix:new e.UniformMatrix4f(t,r.u_merc_matrix),u_zoom_transition:new e.Uniform1f(t,r.u_zoom_transition),u_merc_center:new e.Uniform2f(t,r.u_merc_center),u_image0:new e.Uniform1i(t,r.u_image0),u_grid_matrix:new e.UniformMatrix3f(t,r.u_grid_matrix)}},globeAtmosphere:function(t,r){return{u_frustum_tl:new e.Uniform3f(t,r.u_frustum_tl),u_frustum_tr:new e.Uniform3f(t,r.u_frustum_tr),u_frustum_br:new e.Uniform3f(t,r.u_frustum_br),u_frustum_bl:new e.Uniform3f(t,r.u_frustum_bl),u_globe_pos:new e.Uniform3f(t,r.u_globe_pos),u_globe_radius:new e.Uniform1f(t,r.u_globe_radius),u_opacity:new e.Uniform1f(t,r.u_opacity),u_fadeout_range:new e.Uniform1f(t,r.u_fadeout_range),u_start_color:new e.Uniform3f(t,r.u_start_color),u_end_color:new e.Uniform3f(t,r.u_end_color)}}};function pn(t,r,n,o,i,a,s){for(var l=t.context,u=l.gl,c=t.useProgram("collisionBox"),f=[],d=0,h=0,p=0;p<o.length;p++){var v=o[p],m=r.getTile(v),y=m.getBucket(n);if(y){var g=v.projMatrix;0===i[0]&&0===i[1]||(g=t.translatePosMatrix(v.projMatrix,m,i,a));var b=s?y.textCollisionBox:y.iconCollisionBox,_=y.collisionCircleArray;if(_.length>0){var x=e.create(),w=g;e.mul(x,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,y.placementViewportMatrix),f.push({circleArray:_,circleOffset:h,transform:w,invTransform:x}),h=d+=_.length/4}b&&(t.terrain&&t.terrain.setupElevationDraw(m,c),c.draw(l,u.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Xr(g,t.transform,m),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,t.transform.zoom,null,b.collisionVertexBuffer,b.collisionVertexBufferExt))}}if(s&&f.length){var k=t.useProgram("collisionCircle"),E=new e.StructArrayLayout2f1f2i16;E.resize(4*d),E._trim();for(var T=0,S=0,C=f;S<C.length;S++)for(var A=C[S],I=0;I<A.circleArray.length/4;I++){var M=4*I,P=A.circleArray[M+0],O=A.circleArray[M+1],z=A.circleArray[M+2],R=A.circleArray[M+3];E.emplace(T++,P,O,z,R,0),E.emplace(T++,P,O,z,R,1),E.emplace(T++,P,O,z,R,2),E.emplace(T++,P,O,z,R,3)}(!an||an.length<2*d)&&(an=function(t){var r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(var o=0;o<r;o++){var i=6*o;n.uint16[i+0]=4*o+0,n.uint16[i+1]=4*o+1,n.uint16[i+2]=4*o+2,n.uint16[i+3]=4*o+2,n.uint16[i+4]=4*o+3,n.uint16[i+5]=4*o+0}return n}(d));for(var D,L=l.createIndexBuffer(an,!0),j=l.createVertexBuffer(E,e.collisionCircleLayout.members,!0),F=0,N=f;F<N.length;F++){var B=N[F],V={u_matrix:B.transform,u_inv_matrix:B.invTransform,u_camera_to_center_distance:(D=t.transform).cameraToCenterDistance,u_viewport_size:[D.width,D.height]};k.draw(l,u.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,V,n.id,j,L,e.SegmentVector.simpleSegment(0,2*B.circleOffset,B.circleArray.length,B.circleArray.length/2),null,t.transform.zoom,null,null,null)}j.destroy(),L.destroy()}}var vn=e.create();function mn(t,r,n,o,i,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*r,u=-(s.verticalAlign-.5)*n,c=e.evaluateVariableOffset(t,o);return new e.pointGeometry((l/i+c[0])*a,(u/i+c[1])*a)}function yn(t,r,n,o,i,a,s,l,u,c,f,d){var h=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,v=t.icon.dynamicLayoutVertexArray,m={},y=l.projMatrix,g=a.elevation,b=d.upVectorScale(l.canonical,a.center.lat,a.worldSize);p.clear();for(var _=0;_<h.length;_++){var x=h.get(_),w=t.allowVerticalPlacement&&!x.placedOrientation,k=x.hidden||!x.crossTileID||w?null:o[x.crossTileID];if(k){var E=new e.pointGeometry(x.tileAnchorX,x.tileAnchorY),T=d.upVector(l.canonical,E.x,E.y),S=g?g.getAtTileOffset(l,E.x,E.y):0,C=vt([x.projectedAnchorX+S*T[0]*b.metersToTile,x.projectedAnchorY+S*T[1]*b.metersToTile,x.projectedAnchorZ+S*T[2]*b.metersToTile],n?y:s),A=mt(a.cameraToCenterDistance,C.signedDistanceFromCamera),I=i.evaluateSizeForFeature(t.textSizeData,c,x)*A/e.ONE_EM;n&&(I*=t.tilePixelRatio/u);for(var M=k.width,P=k.height,O=mn(k.anchor,M,P,k.textOffset,k.textScale,I),z=n?pt(E.add(O),s,S*b.metersToLabelSpace).point:C.point.add(r?O.rotate(-a.angle):O),R=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,D=0;D<x.numGlyphs;D++)e.addDynamicAttributes(p,z,R);f&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={shiftedAnchor:z,angle:R})}else St(x.numGlyphs,p)}if(f){v.clear();for(var L=t.icon.placedSymbolArray,j=0;j<L.length;j++){var F=L.get(j);if(F.hidden)St(F.numGlyphs,v);else{var N=m[j];if(N)for(var B=0;B<F.numGlyphs;B++)e.addDynamicAttributes(v,N.shiftedAnchor,N.angle);else St(F.numGlyphs,v)}}t.icon.dynamicLayoutVertexBuffer.updateData(v)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function gn(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function bn(t,r,n,o,i,a,s,l,u,c,f,h){var p=t.context,v=p.gl,m=t.transform,y="map"===l,g="map"===u,b=y&&"point"!==n.layout.get("symbol-placement"),_=y&&!g&&!b,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1),w=!1,k=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),E=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],T=n.layout.get("text-variable-anchor"),S="globe"===m.projection.name,C=S?e.globeToMercatorTransition(m.zoom):0,A=[],I=[];t.terrain&&g&&I.push("PITCH_WITH_MAP_TERRAIN"),S&&I.push("PROJECTION_GLOBE_VIEW");var M,P=d(o);try{for(P.s();!(M=P.n()).done;){var O=M.value,z=r.getTile(O),R=z.getBucket(n);if(R&&R.projection===m.projection.name){var D=i?R.text:R.icon;if(D&&!R.fullyClipped&&D.segments.get().length){var L=D.programConfigurations.get(n.id),j=i||R.sdfIcons,F=i?R.textSizeData:R.iconSizeData,N=g||0!==m.pitch,B=e.evaluateSizeForZoom(F,m.zoom),V=void 0,U=void 0,G=void 0,q=void 0,W=[0,0],Z=null;if(i){if(U=z.glyphAtlasTexture,G=v.LINEAR,V=z.glyphAtlasTexture.size,R.iconsInText){W=z.imageAtlasTexture.size,Z=z.imageAtlasTexture;var H="composite"===F.kind||"camera"===F.kind;q=N||t.options.rotating||t.options.zooming||H?v.LINEAR:v.NEAREST}}else{var X=1!==n.layout.get("icon-size").constantOr(0)||R.iconsNeedLinear;U=z.imageAtlasTexture,G=j||t.options.rotating||t.options.zooming||X||N?v.LINEAR:v.NEAREST,V=z.imageAtlasTexture.size}var $=t.transform.calculatePixelsToTileUnitsMatrix(z),K=dt(O.projMatrix,z.tileID.canonical,g,y,t.transform,$),Y=t.terrain&&g&&b?e.invert(e.create(),K):vn,J=ht(O.projMatrix,z.tileID.canonical,g,y,t.transform,$),Q=T&&R.hasTextData(),ee="none"!==n.layout.get("icon-text-fit")&&Q&&R.hasIconData();if(b){var te=m.elevation,re=te?te.getAtTileOffsetFunc(O,m.center.lat,m.worldSize,m.projection):function(e){return[0,0,0]};gt(R,O.projMatrix,t,i,K,J,g,c,re,O)}var ne=b||i&&T||ee,oe=t.translatePosMatrix(O.projMatrix,z,a,s),ie=ne?vn:K,ae=t.translatePosMatrix(J,z,a,s,!0),se=m.projection.createInversionMatrix(m,O.canonical),le=ne?I.concat(["PROJECTED_POS_ON_VIEWPORT"]):I,ue=j&&0!==n.paint.get(i?"text-halo-width":"icon-halo-width").constantOr(1),ce=void 0;ce=j?R.iconsInText?cn(F.kind,B,_,g,t,oe,ie,ae,V,W,O,C,E,se):un(F.kind,B,_,g,t,oe,ie,ae,i,V,!0,O,C,E,se):ln(F.kind,B,_,g,t,oe,ie,ae,i,V,O,C,E,se);var fe={program:t.useProgram(gn(j,i,R),L,le),buffers:D,uniformValues:ce,atlasTexture:U,atlasTextureIcon:Z,atlasInterpolation:G,atlasInterpolationIcon:q,isSDF:j,hasHalo:ue,tile:z,labelPlaneMatrixInv:Y};if(x&&R.canOverlap){w=!0;var de,he=D.segments.get(),pe=d(he);try{for(pe.s();!(de=pe.n()).done;){var ve=de.value;A.push({segments:new e.SegmentVector([ve]),sortKey:ve.sortKey,state:fe})}}catch(xe){pe.e(xe)}finally{pe.f()}}else A.push({segments:D.segments,sortKey:0,state:fe})}}}}catch(xe){P.e(xe)}finally{P.f()}w&&A.sort((function(e,t){return e.sortKey-t.sortKey}));for(var me=0,ye=A;me<ye.length;me++){var ge=ye[me],be=ge.state;if(t.terrain&&t.terrain.setupElevationDraw(be.tile,be.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:be.labelPlaneMatrixInv}),p.activeTexture.set(v.TEXTURE0),be.atlasTexture.bind(be.atlasInterpolation,v.CLAMP_TO_EDGE),be.atlasTextureIcon&&(p.activeTexture.set(v.TEXTURE1),be.atlasTextureIcon&&be.atlasTextureIcon.bind(be.atlasInterpolationIcon,v.CLAMP_TO_EDGE)),be.isSDF){var _e=be.uniformValues;be.hasHalo&&(_e.u_is_halo=1,_n(be.buffers,ge.segments,n,t,be.program,k,f,h,_e)),_e.u_is_halo=0}_n(be.buffers,ge.segments,n,t,be.program,k,f,h,be.uniformValues)}}function _n(t,r,n,o,i,a,s,l,u){var c=o.context;i.draw(c,c.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,r,n.paint,o.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function xn(t,r,n,o,i,a,s){var l,u,c,f,h,p=t.context.gl,v=n.paint.get("fill-pattern"),m=v&&v.constantOr(1),y=n.getCrossfadeParameters();s?(u=m&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",l=p.LINES):(u=m?"fillPattern":"fill",l=p.TRIANGLES);var g,b=d(o);try{for(b.s();!(g=b.n()).done;){var _=g.value,x=r.getTile(_);if(!m||x.patternsLoaded()){var w=x.getBucket(n);if(w){t.prepareDrawTile();var k=w.programConfigurations.get(n.id),E=t.useProgram(u,k);m&&(t.context.activeTexture.set(p.TEXTURE0),x.imageAtlasTexture.bind(p.LINEAR,p.CLAMP_TO_EDGE),k.updatePaintBuffers(y));var T=v.constantOr(null);if(T&&x.imageAtlas){var S=x.imageAtlas,C=S.patternPositions[T.to.toString()],A=S.patternPositions[T.from.toString()];C&&A&&k.setConstantPatternPositions(C,A)}var I=t.translatePosMatrix(_.projMatrix,x,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(s){f=w.indexBuffer2,h=w.segments2;var M=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[p.drawingBufferWidth,p.drawingBufferHeight];c="fillOutlinePattern"===u&&m?qr(I,t,y,x,M):Gr(I,M)}else f=w.indexBuffer,h=w.segments,c=m?Ur(I,t,y,x):Vr(I);t.prepareDrawProgram(t.context,E,_.toUnwrapped()),E.draw(t.context,l,i,t.stencilModeForClipping(_),a,e.CullFaceMode.disabled,c,n.id,w.layoutVertexBuffer,f,h,n.paint,t.transform.zoom,k)}}}}catch(P){b.e(P)}finally{b.f()}}function wn(t,r,n,o,i,a,s){var l=t.context,u=l.gl,c=t.transform,f=n.paint.get("fill-extrusion-pattern"),h=f.constantOr(1),p=n.getCrossfadeParameters(),v=n.paint.get("fill-extrusion-opacity"),m=function(t){if("globe"!==t.projection.name)return 0;var r=Math.PI/32,n=Math.tan(r),o=e.earthRadius;return o*Math.sqrt(1+2*n*n)-o}(c),y="globe"===c.projection.name,g=y?e.globeToMercatorTransition(c.zoom):0,b=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)],_=[];y&&_.push("PROJECTION_GLOBE_VIEW");var x,w=d(o);try{for(w.s();!(x=w.n()).done;){var k=x.value,E=r.getTile(k),T=E.getBucket(n);if(T&&T.projection===c.projection.name){var S=T.programConfigurations.get(n.id),C=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",S,_);if(t.terrain){var A=t.terrain;if(t.style.terrainSetForDrapingOnly())A.setupElevationDraw(E,C,{useMeterToDem:!0});else{if(!T.enableTerrain)continue;if(A.setupElevationDraw(E,C,{useMeterToDem:!0}),kn(l,r,k,T,n,A),!T.centroidVertexBuffer){var I=C.attributes.a_centroid_pos;void 0!==I&&u.vertexAttrib2f(I,0,0)}}}h&&(t.context.activeTexture.set(u.TEXTURE0),E.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),S.updatePaintBuffers(p));var M=f.constantOr(null);if(M&&E.imageAtlas){var P=E.imageAtlas,O=P.patternPositions[M.to.toString()],z=P.patternPositions[M.from.toString()];O&&z&&S.setConstantPatternPositions(O,z)}var R=t.translatePosMatrix(k.projMatrix,E,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),D=c.projection.createInversionMatrix(c,k.canonical),L=n.paint.get("fill-extrusion-vertical-gradient"),j=h?Br(R,t,L,v,k,p,E,m,g,b,D):Nr(R,t,L,v,k,m,g,b,D);t.prepareDrawProgram(l,C,k.toUnwrapped()),C.draw(l,l.gl.TRIANGLES,i,a,s,e.CullFaceMode.backCCW,j,n.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,n.paint,t.transform.zoom,S,t.terrain?T.centroidVertexBuffer:null,y?T.layoutVertexExtBuffer:null)}}}catch(F){w.e(F)}finally{w.f()}}function kn(t,r,n,o,i,a){for(var s,l,u,c=[function(t){var r=t.canonical.x-1,n=t.wrap;return r<0&&(r=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},function(t){var r=t.canonical.x+1,n=t.wrap;return r===1<<t.canonical.z&&(r=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1)},function(t){return new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)}],f=function(e){for(var t=r.getSource().minzoom,n=function(e){var t=r.getTileByID(e);if(t&&t.hasData())return t.getBucket(i)},o=0,a=[0,-1,1];o<a.length;o++){var s=a[o];if(!(e.overscaledZ+s<t)){var l=n(e.calculateScaledKey(e.overscaledZ+s));if(l)return l}}},h=[0,0,0],p=function(t,r){return h[0]=Math.min(t.min.y,r.min.y),h[1]=Math.max(t.max.y,r.max.y),h[2]=e.EXTENT-r.min.x>t.max.x?r.min.x-e.EXTENT:t.max.x,h},v=function(t,r){return h[0]=Math.min(t.min.x,r.min.x),h[1]=Math.max(t.max.x,r.max.x),h[2]=e.EXTENT-r.min.y>t.max.y?r.min.y-e.EXTENT:t.max.y,h},m=[function(e,t){return p(e,t)},function(e,t){return p(t,e)},function(e,t){return v(e,t)},function(e,t){return v(t,e)}],y=new e.pointGeometry(0,0),g=function(t,r,o,i,c){var f=[[i?o:t,i?t:o,0],[i?o:r,i?r:o,0]],d=c<0?e.EXTENT+c:c,h=[i?d:(t+r)/2,i?(t+r)/2:d,0];return 0===o&&c<0||0!==o&&c>0?a.getForTilePoints(u,[h],!0,l):f.push(h),a.getForTilePoints(n,f,!0,s),Math.max(f[0][2],f[1][2],h[2])/a.exaggeration()},b=0;b<4;b++){var _=(b<2?1:5)-b,x=o.borders[b];if(0!==x.length){var w=u=c[b](n),k=f(w);if(k&&k instanceof e.FillExtrusionBucket&&k.enableTerrain&&(o.borderDoneWithNeighborZ[b]!==k.canonical.z||k.borderDoneWithNeighborZ[_]!==o.canonical.z)&&(l=a.findDEMTileFor(w))&&l.dem){if(!s){var E=a.findDEMTileFor(n);if(!E||!E.dem)return;s=E}var T=k.borders[_],S=0,C=k.borderDoneWithNeighborZ[_]!==o.canonical.z;if(o.canonical.z===k.canonical.z){for(var A=0;A<x.length;A++){for(var I=o.featuresOnBorder[x[A]],M=I.borders[b],P=void 0;S<T.length&&!((P=k.featuresOnBorder[T[S]]).borders[_][1]>M[0]+3);)C&&k.encodeCentroid(void 0,P,!1),S++;if(P&&S<T.length){for(var O=S,z=0;!(P.borders[_][0]>M[1]-3)&&(z++,++S!==T.length);)P=k.featuresOnBorder[T[S]];if(P=k.featuresOnBorder[T[O]],I.intersectsCount()>1||P.intersectsCount()>1||1!==z){1!==z&&(S=O),o.encodeCentroid(void 0,I,!1),C&&k.encodeCentroid(void 0,P,!1);continue}var R=m[b](I,P),D=b%2?e.EXTENT-1:0;y.x=g(R[0],Math.min(e.EXTENT-1,R[1]),D,b<2,R[2]),y.y=0,o.encodeCentroid(y,I,!1),C&&k.encodeCentroid(y,P,!1)}else o.encodeCentroid(void 0,I,!1)}o.borderDoneWithNeighborZ[b]=k.canonical.z,o.needsCentroidUpdate=!0,C&&(k.borderDoneWithNeighborZ[_]=o.canonical.z,k.needsCentroidUpdate=!0)}else{var L,j=d(x);try{for(j.s();!(L=j.n()).done;){var F=L.value;o.encodeCentroid(void 0,o.featuresOnBorder[F],!1)}}catch(U){j.e(U)}finally{j.f()}if(C){var N,B=d(T);try{for(B.s();!(N=B.n()).done;){var V=N.value;k.encodeCentroid(void 0,k.featuresOnBorder[V],!1)}}catch(U){B.e(U)}finally{B.f()}k.borderDoneWithNeighborZ[_]=o.canonical.z,k.needsCentroidUpdate=!0}o.borderDoneWithNeighborZ[b]=k.canonical.z,o.needsCentroidUpdate=!0}}}}(o.needsCentroidUpdate||!o.centroidVertexBuffer&&0!==o.centroidVertexArray.length)&&o.uploadCentroid(t)}var En=new e.Color(1,0,0,1),Tn=new e.Color(0,1,0,1),Sn=new e.Color(0,0,1,1),Cn=new e.Color(1,0,1,1),An=new e.Color(0,1,1,1);function In(e,t,r,n){Pn(e,0,t+r/2,e.transform.width,r,n)}function Mn(e,t,r,n){Pn(e,t-r/2,0,r,e.transform.height,n)}function Pn(t,r,n,o,i,a){var s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}function On(t,r,n){var o=t.context,i=o.gl,a="globe"===t.transform.projection.name,s=n.projMatrix,l=t.useProgram("debug",null,a?["PROJECTION_GLOBE_VIEW"]:null),u=r.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(u,l);var c=e.DepthMode.disabled,f=e.StencilMode.disabled,d=t.colorModeForRenderPass(),h="$debug";o.activeTexture.set(i.TEXTURE0),t.emptyTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE),a?u._makeGlobeTileDebugBuffers(t.context,t.transform.projection):u._makeDebugTileBoundsBuffers(t.context,t.transform.projection);var p=u._tileDebugBuffer||t.debugBuffer,v=u._tileDebugIndexBuffer||t.debugIndexBuffer,m=u._tileDebugSegments||t.debugSegments;l.draw(o,i.LINE_STRIP,c,f,d,e.CullFaceMode.disabled,$r(s,e.Color.red),h,p,v,m,null,null,null,u._globeTileDebugBorderBuffer);var y=u.latestRawTileData,g=Math.floor((y&&y.byteLength||0)/1024),b=r.getTile(n).tileSize,_=512/Math.min(b,512)*(n.overscaledZ/t.transform.zoom)*.5,x=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(x+=" => ".concat(n.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();var r=e.debugOverlayCanvas,n=e.context.gl,o=e.debugOverlayCanvas.getContext("2d");o.clearRect(0,0,r.width,r.height),o.shadowColor="white",o.shadowBlur=2,o.lineWidth=1.5,o.strokeStyle="white",o.textBaseline="top",o.font="bold 36px Open Sans, sans-serif",o.fillText(t,5,5),o.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,"".concat(x," ").concat(g,"kb"));var w=u._tileDebugTextBuffer||t.debugBuffer,k=u._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,E=u._tileDebugTextSegments||t.debugSegments;l.draw(o,i.TRIANGLES,c,f,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,$r(s,e.Color.transparent,_),h,w,k,E,null,null,null,u._globeTileDebugTextBuffer)}var zn=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]).members;function Rn(e,t,r,n){e.emplaceBack(t,r,n)}var Dn=y((function t(r){m(this,t),this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Rn(this.vertexArray,-1,-1,1),Rn(this.vertexArray,1,-1,1),Rn(this.vertexArray,-1,1,1),Rn(this.vertexArray,1,1,1),Rn(this.vertexArray,-1,-1,-1),Rn(this.vertexArray,1,-1,-1),Rn(this.vertexArray,-1,1,-1),Rn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,zn),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}));function Ln(t,r,n,o,i,a){var s=t.gl,l=r.paint.get("sky-atmosphere-color"),u=r.paint.get("sky-atmosphere-halo-color"),c=r.paint.get("sky-atmosphere-sun-intensity"),f=function(e,t,r,n,o){return{u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:r,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[o.r,o.g,o.b,o.a],u_luminance:5e-5}}(e.fromMat4(e.create$1(),o),i,c,l,u);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,r.skyboxTexture,0),n.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,f,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}function jn(t,r){return e.transformMat4(t,t,r)}var Fn={symbol:function(t,r,n,o,i){if("translucent"===t.renderPass){var a=e.StencilMode.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,o,i,a,s){var l,u=r.transform,c="map"===i,f="map"===a,h=d(t);try{for(h.s();!(l=h.n()).done;){var p=l.value,v=o.getTile(p),m=v.getBucket(n);if(m&&m.projection===u.projection.name&&m.text&&m.text.segments.get().length){var y=e.evaluateSizeForZoom(m.textSizeData,u.zoom),g=r.transform.calculatePixelsToTileUnitsMatrix(v),b=dt(p.projMatrix,v.tileID.canonical,f,c,r.transform,g),_="none"!==n.layout.get("icon-text-fit")&&m.hasIconData();if(y){var x=Math.pow(2,u.zoom-v.tileID.overscaledZ);yn(m,c,f,s,e.symbolSize,u,b,p,x,y,_,u.projection)}}}}catch(w){h.e(w)}finally{h.f()}}(o,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),i),0!==n.paint.get("icon-opacity").constantOr(1)&&bn(t,r,n,o,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&bn(t,r,n,o,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(pn(t,r,n,o,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),pn(t,r,n,o,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))}},circle:function(t,r,n,o){if("translucent"===t.renderPass){var i=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0!==i.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var u=t.context,c=u.gl,f=t.transform,h=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,v=t.colorModeForRenderPass(),m="globe"===f.projection.name,y=[e.mercatorXfromLng(f.center.lng),e.mercatorYfromLat(f.center.lat)],g=[],b=0;b<o.length;b++){var _=o[b],x=r.getTile(_),w=x.getBucket(n);if(w){var k=w.programConfigurations.get(n.id),E=Hr(n);m&&E.push("PROJECTION_GLOBE_VIEW");var T=t.useProgram("circle",k,E),S=w.layoutVertexBuffer,C=w.globeExtVertexBuffer,A=w.indexBuffer,I=f.projection.createInversionMatrix(f,_.canonical),M={programConfiguration:k,program:T,layoutVertexBuffer:S,globeExtVertexBuffer:C,indexBuffer:A,uniformValues:Zr(t,_,x,I,y,n),tile:x};if(l){var P,O=w.segments.get(),z=d(O);try{for(z.s();!(P=z.n()).done;){var R=P.value;g.push({segments:new e.SegmentVector([R]),sortKey:R.sortKey,state:M})}}catch(X){z.e(X)}finally{z.f()}}else g.push({segments:w.segments,sortKey:0,state:M})}}l&&g.sort((function(e,t){return e.sortKey-t.sortKey}));for(var D={useDepthForOcclusion:!m},L=0,j=g;L<j.length;L++){var F=j[L],N=F.state,B=N.programConfiguration,V=N.program,U=N.layoutVertexBuffer,G=N.globeExtVertexBuffer,q=N.indexBuffer,W=N.uniformValues,Z=N.tile,H=F.segments;t.terrain&&t.terrain.setupElevationDraw(Z,V,D),t.prepareDrawProgram(u,V,Z.tileID.toUnwrapped()),V.draw(u,c.TRIANGLES,h,p,v,e.CullFaceMode.disabled,W,n.id,U,q,H,n.paint,f.zoom,B,m?G:null)}}}},heatmap:function(t,r,n,o){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var i=t.context,a=i.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r){var n=e.gl;e.activeTexture.set(n.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var o=r.heatmapFbo;if(o)n.bindTexture(n.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer);else{var i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),o=r.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,r,n){var o=e.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,t.width/4,t.height/4,0,o.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,t,i,o)}}(i,t,n),i.clear({color:e.Color.transparent});for(var u=t.transform,c="globe"===u.projection.name,f=c?["PROJECTION_GLOBE_VIEW"]:null,d=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],h=0;h<o.length;h++){var p=o[h];if(!r.hasRenderableParent(p)){var v=r.getTile(p),m=v.getBucket(n);if(m){var y=m.programConfigurations.get(n.id),g=t.useProgram("heatmap",y,f),b=t.transform.zoom;t.terrain&&t.terrain.setupElevationDraw(v,g),t.prepareDrawProgram(i,g,p.toUnwrapped());var _=u.projection.createInversionMatrix(u,p.canonical);g.draw(i,a.TRIANGLES,e.DepthMode.disabled,s,l,e.CullFaceMode.disabled,Yr(t,p,v,_,d,b,n.paint.get("heatmap-intensity")),n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,n.paint,t.transform.zoom,y,c?m.globeExtVertexBuffer:null)}}}i.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){var n=t.context,o=n.gl,i=r.heatmapFbo;if(i){n.activeTexture.set(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i.colorAttachment.get()),n.activeTexture.set(o.TEXTURE1);var a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,o.RGBA)),a.bind(o.LINEAR,o.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,o.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,function(e,t,r,n){return{u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}}(0,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}}(t,n))},line:function(t,r,n,o){if("translucent"===t.renderPass){var i=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0!==i.constantOr(1)&&0!==a.constantOr(1)){var s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,c=n.paint.get("line-dasharray"),f=c.constantOr(1),h=n.layout.get("line-cap"),p=n.paint.get("line-pattern"),v=p.constantOr(1),m=n.paint.get("line-gradient"),y=n.getCrossfadeParameters(),g=v?"linePattern":"line",b=t.context,_=b.gl,x=function(e){var t=[];rn(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");var r=e.paint.get("line-pattern").constantOr(1),n=1!==e.paint.get("line-opacity").constantOr(1);return!r&&n&&t.push("RENDER_LINE_ALPHA_DISCARD"),t}(n),w=x.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(w=!1);var k,E=d(o);try{var T=function(){var o=k.value,i=r.getTile(o);if(v&&!i.patternsLoaded())return"continue";var a=i.getBucket(n);if(!a)return"continue";t.prepareDrawTile();var d=a.programConfigurations.get(n.id),E=t.useProgram(g,d,x),T=p.constantOr(null);if(T&&i.imageAtlas){var S=i.imageAtlas,C=S.patternPositions[T.to.toString()],A=S.patternPositions[T.from.toString()];C&&A&&d.setConstantPatternPositions(C,A)}var I=c.constantOr(null),M=h.constantOr(null);if(!v&&I&&M&&i.lineAtlas){var P=i.lineAtlas,O=P.getDash(I.to,M),z=P.getDash(I.from,M);O&&z&&d.setConstantPatternPositions(O,z)}var R=t.terrain?o.projMatrix:null,D=v?Qr(t,i,n,y,R,u):Jr(t,i,n,y,R,a.lineClipsArray.length,u);if(m){var L=a.gradients[n.id],j=L.texture;if(n.gradientVersion!==L.version){var F=256;if(n.stepInterpolant){var N=r.getSource().maxzoom,B=o.canonical.z===N?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;F=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*B),256,b.maxTextureSize)}L.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:F,image:L.gradient||void 0,clips:a.lineClipsArray}),L.texture?L.texture.update(L.gradient):L.texture=new e.Texture(b,L.gradient,_.RGBA),L.version=n.gradientVersion,j=L.texture}b.activeTexture.set(_.TEXTURE1),j.bind(n.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}f&&(b.activeTexture.set(_.TEXTURE0),i.lineAtlasTexture.bind(_.LINEAR,_.REPEAT),d.updatePaintBuffers(y)),v&&(b.activeTexture.set(_.TEXTURE0),i.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),d.updatePaintBuffers(y)),t.prepareDrawProgram(b,E,o.toUnwrapped());var V=function(r){E.draw(b,_.TRIANGLES,s,r,l,e.CullFaceMode.disabled,D,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,n.paint,t.transform.zoom,d,a.layoutVertexBuffer2)};if(w){var U=t.stencilModeForClipping(o).ref;0===U&&t.terrain&&b.clear({stencil:0});var G={func:_.EQUAL,mask:255};D.u_alpha_discard_threshold=.8,V(new e.StencilMode(G,U,255,_.KEEP,_.KEEP,_.INVERT)),D.u_alpha_discard_threshold=0,V(new e.StencilMode(G,U,255,_.KEEP,_.KEEP,_.KEEP))}else V(t.stencilModeForClipping(o))};for(E.s();!(k=E.n()).done;)T()}catch(S){E.e(S)}finally{E.f()}w&&(t.resetStencilClippingMasks(),t.terrain&&b.clear({stencil:0}))}}},fill:function(t,r,n,o){var i=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===i.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);xn(t,r,n,o,c,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){var f=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);xn(t,r,n,o,f,s,!0)}}},"fill-extrusion":function(t,r,n,o){var i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===t.renderPass){var a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))wn(t,r,n,o,a,e.StencilMode.disabled,e.ColorMode.disabled),wn(t,r,n,o,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{var s=t.colorModeForRenderPass();wn(t,r,n,o,a,e.StencilMode.disabled,s)}}},hillshade:function(t,r,n,o){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var i,a=t.context,s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),u=t.terrain&&t.terrain.renderingToTexture,c="translucent"!==t.renderPass||u?[{},o]:t.stencilConfigForOverlap(o),h=f(c,2),p=h[0],v=h[1],m=d(v);try{for(m.s();!(i=m.n()).done;){var y=i.value,g=r.getTile(y);if(g.needsHillshadePrepare&&"offscreen"===t.renderPass)_r(t,g,n,s,e.StencilMode.disabled,l);else if("translucent"===t.renderPass){var b=u&&t.terrain?t.terrain.stencilModeForRTTOverlap(y):p[y.overscaledZ];gr(t,y,g,n,s,b,l)}}}catch(_){m.e(_)}finally{m.f()}a.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()}},raster:function(t,r,n,o,i,a){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&o.length){var s,l=t.context,u=l.gl,c=r.getSource(),h=t.useProgram("raster"),p=t.colorModeForRenderPass(),v=t.terrain&&t.terrain.renderingToTexture,m=c instanceof Ve||v?[{},o]:t.stencilConfigForOverlap(o),y=f(m,2),g=y[0],b=y[1],_=b[b.length-1].overscaledZ,x=!t.options.moving,w=d(b);try{for(w.s();!(s=w.n()).done;){var k=s.value,E=v?e.DepthMode.disabled:t.depthModeForSublayer(k.overscaledZ-_,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,u.LESS),T=k.toUnwrapped(),S=r.getTile(k);if(!v||S&&S.hasData()){var C=v?k.projMatrix:t.transform.calculateProjMatrix(T,x),A=t.terrain&&v?t.terrain.stencilModeForRTTOverlap(k):g[k.overscaledZ],I=a?0:n.paint.get("raster-fade-duration");S.registerFadeDuration(I);var M=r.findLoadedParent(k,0),P=Ir(S,M,r,t.transform,I),O=void 0,z=void 0;t.terrain&&t.terrain.prepareDrawTile();var R="nearest"===n.paint.get("raster-resampling")?u.NEAREST:u.LINEAR;l.activeTexture.set(u.TEXTURE0),S.texture.bind(R,u.CLAMP_TO_EDGE),l.activeTexture.set(u.TEXTURE1),M?(M.texture.bind(R,u.CLAMP_TO_EDGE),O=Math.pow(2,M.tileID.overscaledZ-S.tileID.overscaledZ),z=[S.tileID.canonical.x*O%1,S.tileID.canonical.y*O%1]):S.texture.bind(R,u.CLAMP_TO_EDGE);var D=nn(C,z||[0,0],O||1,P,n,c instanceof Ve?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(l,h,T),c instanceof Ve)c.boundsBuffer&&c.boundsSegments&&h.draw(l,u.TRIANGLES,E,e.StencilMode.disabled,p,e.CullFaceMode.disabled,D,n.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{var L=t.getTileBoundsBuffers(S),j=L.tileBoundsBuffer,F=L.tileBoundsIndexBuffer,N=L.tileBoundsSegments;h.draw(l,u.TRIANGLES,E,A,p,e.CullFaceMode.disabled,D,n.id,j,F,N)}}}}catch(B){w.e(B)}finally{w.f()}t.resetStencilClippingMasks()}},background:function(t,r,n,o){var i=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0!==a){var s=t.context,l=s.gl,u=t.transform,c=u.tileSize,f=n.paint.get("background-pattern");if(!t.isPatternMissing(f)){var h=!f&&1===i.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===h){var p,v=e.StencilMode.disabled,m=t.depthModeForSublayer(0,"opaque"===h?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),y=t.colorModeForRenderPass(),g=t.useProgram(f?"backgroundPattern":"background"),b=o;b||(p=t.getBackgroundTiles(),b=Object.values(p).map((function(e){return e.tileID}))),f&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));var _,x=n.getCrossfadeParameters(),w=d(b);try{for(w.s();!(_=w.n()).done;){var k=_.value,E=k.toUnwrapped(),T=o?k.projMatrix:t.transform.calculateProjMatrix(E);t.prepareDrawTile();var S=r?r.getTile(k):p?p[k.key]:new e.Tile(k,c,u.zoom,t),C=f?dn(T,a,t,f,{tileID:k,tileSize:c},x):fn(T,a,i);t.prepareDrawProgram(s,g,E);var A=t.getTileBoundsBuffers(S),I=A.tileBoundsBuffer,M=A.tileBoundsIndexBuffer,P=A.tileBoundsSegments;g.draw(s,l.TRIANGLES,m,v,y,e.CullFaceMode.disabled,C,n.id,I,M,P)}}catch(O){w.e(O)}finally{w.f()}}}}},sky:function(t,r,n){var o=t.transform,i="mercator"===o.projection.name||"globe"===o.projection.name?1:e.smoothstep(7,8,o.zoom),a=n.paint.get("sky-opacity")*i;if(0!==a){var s=t.context,l=n.paint.get("sky-type"),u=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),c=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,r,n,o){var i=t.context,a=i.gl,s=r.skyboxFbo;if(!s){s=r.skyboxFbo=i.createFramebuffer(32,32,!1),r.skyboxGeometry=new Dn(i),r.skyboxTexture=i.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,r.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(var l=0;l<6;++l)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}i.bindFramebuffer.set(s.framebuffer),i.viewport.set([0,0,32,32]);var u=r.getCenter(t,!0),c=t.useProgram("skyboxCapture"),f=new Float64Array(16);e.identity(f),e.rotateY(f,f,.5*-Math.PI),Ln(i,r,c,f,u,0),e.identity(f),e.rotateY(f,f,.5*Math.PI),Ln(i,r,c,f,u,1),e.identity(f),e.rotateX(f,f,.5*-Math.PI),Ln(i,r,c,f,u,2),e.identity(f),e.rotateX(f,f,.5*Math.PI),Ln(i,r,c,f,u,3),e.identity(f),Ln(i,r,c,f,u,4),e.identity(f),e.rotateY(f,f,Math.PI),Ln(i,r,c,f,u,5),i.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,r,n,o,i){var a=t.context,s=a.gl,l=t.transform,u=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,r.skyboxTexture);var c=function(e,t,r,n,o){return{u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:o}}(l.skyboxMatrix,r.getCenter(t,!1),0,o,i);t.prepareDrawProgram(a,u),u.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,c,"skybox",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,u,a,c):"gradient"===l&&"sky"===t.renderPass&&function(t,r,n,o,i){var a=t.context,s=a.gl,l=t.transform,u=t.useProgram("skyboxGradient");r.skyboxGeometry||(r.skyboxGeometry=new Dn(a)),a.activeTexture.set(s.TEXTURE0);var c=r.colorRampTexture;c||(c=r.colorRampTexture=new e.Texture(a,r.colorRamp,s.RGBA)),c.bind(s.LINEAR,s.CLAMP_TO_EDGE);var f=function(t,r,n,o,i){return{u_matrix:t,u_color_ramp:0,u_center_direction:r,u_radius:e.degToRad(n),u_opacity:o,u_temporal_offset:i}}(l.skyboxMatrix,r.getCenter(t,!1),r.paint.get("sky-gradient-radius"),o,i);t.prepareDrawProgram(a,u),u.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,f,"skyboxGradient",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,u,a,c)}},debug:function(e,t,r){for(var n=0;n<r.length;n++)On(e,t,r[n])},custom:function(t,r,n){var o=t.context,i=n.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){var a=i.prerender;a&&(t.setCustomLayerDefaults(),o.setColorMode(t.colorModeForRenderPass()),a.call(i,o.gl,t.transform.customLayerMatrix()),o.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),o.setColorMode(t.colorModeForRenderPass()),o.setStencilMode(e.StencilMode.disabled);var s="3d"===i.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);o.setDepthMode(s),i.render(o.gl,t.transform.customLayerMatrix()),o.setDirty(),t.setBaseState(),o.bindFramebuffer.set(null)}}},Nn=function(){function t(r,n){m(this,t),this.context=new Fe(r),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new tr,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this._tileClippingMaskIDs=new Map,this._skippedStencilTileIDs=new Set}return y(t,[{key:"updateTerrain",value:function(e,t){var r=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(r||this._terrain&&this._terrain.enabled){this._terrain||(this._terrain=new Rr(this,e));var n=this._terrain;this.transform.elevation=r?n:null,n.update(e,this.transform,t)}}},{key:"_updateFog",value:function(e){var t=e.fog;if(!t||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)this.transform.fogCullDistSq=null;else{var r=t.getFovAdjustedRange(this.transform._fov),n=f(r,2),o=n[0],i=n[1];if(o>i)this.transform.fogCullDistSq=null;else{var a=o+.78*(i-o);this.transform.fogCullDistSq=a*a}}}},{key:"terrain",get:function(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}},{key:"resize",value:function(t,r){if(this.width=t*e.exported.devicePixelRatio,this.height=r*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style){var n,o=d(this.style.order);try{for(o.s();!(n=o.n()).done;){var i=n.value;this.style._layers[i].resize()}}catch(a){o.e(a)}finally{o.f()}}}},{key:"setup",value:function(){var t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var o=new e.StructArrayLayout2i4;o.emplaceBack(-1,-1),o.emplaceBack(1,-1),o.emplaceBack(-1,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(i,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);for(var s=new e.StructArrayLayout1ui2,l=0,u=[0,1,3,2,0];l<u.length;l++){var c=u[l];s.emplaceBack(c)}this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();var f=this.context.gl;this.stencilClearMode=new e.StencilMode({func:f.ALWAYS,mask:0},0,255,f.ZERO,f.ZERO,f.ZERO),this.loadTimeStamps.push(e.window.performance.now())}},{key:"getMercatorTileBoundsBuffers",value:function(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}},{key:"getTileBoundsBuffers",value:function(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}},{key:"clearStencil",value:function(){var t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear(),this.useProgram("clippingMask").draw(t,r.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Ar(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}},{key:"resetStencilClippingMasks",value:function(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear())}},{key:"_renderTileClippingMasks",value:function(t,r,n){var o=this;if(r&&this.currentStencilSource!==r.id&&t.isTileClipped()&&n&&0!==n.length){var i=[],a=!1;if(this._tileClippingMaskIDs&&!this.terrain){var s,l=d(n);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(this._tileClippingMaskIDs.has(u.key)||(a=!0),this._skippedStencilTileIDs.has(u.key)){if(!r.getTile(u).getBucket(t))continue;this._skippedStencilTileIDs.delete(u.key),i.push(u)}}}catch(_){l.e(_)}finally{l.f()}if(!a&&0===i.length)return}var c=this.context,f=c.gl;c.setColorMode(e.ColorMode.disabled),c.setDepthMode(e.DepthMode.disabled);var h=this.useProgram("clippingMask"),p=function(t){var n=r.getTile(t),i=o.getTileBoundsBuffers(n),a=i.tileBoundsBuffer,s=i.tileBoundsIndexBuffer,l=i.tileBoundsSegments;h.draw(c,f.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:f.GREATER,mask:255},o._tileClippingMaskIDs.get(t.key)||0,255,f.KEEP,f.KEEP,f.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Ar(t.projMatrix),"$clipping",a,s,l)};if(!a&&i.length>0){var v,m=d(i);try{for(m.s();!(v=m.n()).done;)p(v.value)}catch(_){m.e(_)}finally{m.f()}}else{(0===this._tileClippingMaskIDs.size||this.nextStencilID+n.length>256)&&this.clearStencil(),this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear();var y,g=d(n);try{for(g.s();!(y=g.n()).done;){var b=y.value;this._tileClippingMaskIDs.set(b.key,this.nextStencilID++),r.getTile(b).getBucket(t)?p(b):this._skippedStencilTileIDs.add(b.key)}}catch(_){g.e(_)}finally{g.f()}}0===this._skippedStencilTileIDs.size&&(this.currentStencilSource=r.id)}}},{key:"stencilModeFor3D",value:function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,r=this.context.gl;return new e.StencilMode({func:r.NOTEQUAL,mask:255},t,255,r.KEEP,r.KEEP,r.REPLACE)}},{key:"stencilModeForClipping",value:function(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);var r=this.context.gl;return new e.StencilMode({func:r.EQUAL,mask:255},this._tileClippingMaskIDs.get(t.key)||0,0,r.KEEP,r.KEEP,r.REPLACE)}},{key:"stencilConfigForOverlap",value:function(t){var r=this.context.gl,o=t.sort((function(e,t){return t.overscaledZ-e.overscaledZ})),i=o[o.length-1].overscaledZ,a=o[0].overscaledZ-i+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var s={},l=0;l<a;l++)s[l+i]=new e.StencilMode({func:r.GEQUAL,mask:255},l+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=a,[s,o]}return[n({},i,e.StencilMode.disabled),o]}},{key:"colorModeForRenderPass",value:function(){var t=this.context.gl;if(this._showOverdrawInspector){var r=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(r,r,r,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}},{key:"depthModeForSublayer",value:function(t,r,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;var o=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,r,[o,o])}},{key:"opaquePassEnabledForLayer",value:function(){return this.currentLayer<this.opaquePassCutoff}},{key:"render",value:function(t,r){var n=this;this.style=t,this.options=r,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();var o=this.style.order,i=this.style._sourceCaches;for(var a in i){var s=i[a];s.used&&s.prepare(this.context)}var l={},u={},c={};for(var f in i){var h=i[f];l[f]=h.getVisibleCoordinates(),u[f]=l[f].slice().reverse(),c[f]=h.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var p=0;p<o.length;p++)if(this.style._layers[o[p]].is3D()){this.opaquePassCutoff=p;break}if(this.terrain&&(this.terrain.updateTileBinding(c),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";var v,m=d(o);try{for(m.s();!(v=m.n()).done;){var y=v.value,g=this.style._layers[y],b=t._getLayerSourceCache(g);if(g.hasOffscreenPass()&&!g.isHidden(this.transform.zoom)){var _=b?u[b.id]:void 0;("custom"===g.type||g.isSky()||_&&_.length)&&this.renderLayer(this,b,g,_)}}}catch(P){m.e(P)}finally{m.f()}this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);var x=e.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(x=this.style.fog.properties.get("color")),this.context.clear({color:r.showOverdrawInspector?e.Color.black:x,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){var w=this.style._layers[o[this.currentLayer]],k=t._getLayerSourceCache(w);if(!w.isSky()){var E=k?u[k.id]:void 0;this._renderTileClippingMasks(w,k,E),this.renderLayer(this,k,w,E)}}if(this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){var T=this.style._layers[o[this.currentLayer]],S=t._getLayerSourceCache(T);T.isSky()&&this.renderLayer(this,S,T,S?u[S.id]:void 0)}for("globe"===this.transform.projection.name&&function(t){var r=t.context,n=r.gl,o=t.transform,i=new e.DepthMode(n.LEQUAL,e.DepthMode.ReadOnly,[0,1]),a=t.useProgram("globeAtmosphere"),s=o.centerOffset,l=o._camera.getCameraToClipPerspective(o._fov,o.width/o.height,o._nearZ,o._farZ);l[8]=2*-s.x/o.width,l[9]=2*s.y/o.height;var u=e.invert([],l),c=e.mul([],u,o.projMatrix),f={u_frustum_tl:jn([-1,1,1],u),u_frustum_tr:jn([1,1,1],u),u_frustum_br:jn([1,-1,1],u),u_frustum_bl:jn([-1,-1,1],u),u_globe_pos:jn([o.globeMatrix[12],o.globeMatrix[13],o.globeMatrix[14]],c),u_globe_radius:o.worldSize/2/Math.PI-1,u_opacity:1-e.globeToMercatorTransition(o.zoom),u_fadeout_range:2,u_start_color:[1,1,1],u_end_color:[.0118,.7451,.9882]};t.prepareDrawProgram(r,a);var d=t.globeSharedBuffers;d&&a.draw(r,n.TRIANGLES,i,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,f,"skybox",d.atmosphereVertexBuffer,d.atmosphereIndexBuffer,d.atmosphereSegments)}(this),this.renderPass="translucent",this.currentLayer=0;this.currentLayer<o.length;){var C=this.style._layers[o[this.currentLayer]],A=t._getLayerSourceCache(C);if(C.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(C)){if(C.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer)}else{var I=A?("symbol"===C.type?c:u)[A.id]:void 0;this._renderTileClippingMasks(C,A,A?l[A.id]:void 0),this.renderLayer(this,A,C,I),++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){var M=null;e.values(this.style._layers).forEach((function(e){var r=t._getLayerSourceCache(e);r&&!e.isHidden(n.transform.zoom)&&(!M||M.getSource().maxzoom<r.getSource().maxzoom)&&(M=r)})),M&&this.options.showTileBoundaries&&Fn.debug(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(e){var t=e.transform.padding;In(e,e.transform.height-(t.top||0),3,En),In(e,t.bottom||0,3,Tn),Mn(e,t.left||0,3,Sn),Mn(e,e.transform.width-(t.right||0),3,Cn);var r=e.transform.centerPoint;!function(e,t,r,n){Pn(e,t-1,r-10,2,20,n),Pn(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,An)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}},{key:"renderLayer",value:function(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"sky"===r.type||"custom"===r.type||n&&n.length)&&(this.id=r.id,this.gpuTimingStart(r),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(r.type)||Fn[r.type](e,t,r,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}},{key:"gpuTimingStart",value:function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}}},{key:"gpuTimingEnd",value:function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}}},{key:"collectGpuTimers",value:function(){var e=this.gpuTimers;return this.gpuTimers={},e}},{key:"queryGpuTimers",value:function(e){var t={};for(var r in e){var n=e[r],o=this.context.extTimerQuery,i=o.getQueryObjectEXT(n.query,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n.query),t[r]=i}return t}},{key:"translatePosMatrix",value:function(t,r,n,o,i){if(!n[0]&&!n[1])return t;var a=i?"map"===o?this.transform.angle:0:"viewport"===o?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);n=[n[0]*l-n[1]*s,n[0]*s+n[1]*l]}var u=[i?n[0]:Z(r,n[0],this.transform.zoom),i?n[1]:Z(r,n[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c}},{key:"saveTileTexture",value:function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}},{key:"getTileTexture",value:function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null}},{key:"isPatternMissing",value:function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r}},{key:"currentGlobalDefines",value:function(){var e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,r=[];return this.terrain&&!this.terrain.renderingToTexture&&r.push("TERRAIN"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&r.push("FOG"),e&&r.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&r.push("OVERDRAW_INSPECTOR"),r}},{key:"useProgram",value:function(e,t,r){this.cache=this.cache||{};var n=r||[],o=this.currentGlobalDefines().concat(n),i=Lr.cacheKey(e,o,t);return this.cache[i]||(this.cache[i]=new Lr(this.context,e,pr[e],t,hn[e],o)),this.cache[i]}},{key:"setCustomLayerDefaults",value:function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}},{key:"setBaseState",value:function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}},{key:"initDebugOverlayCanvas",value:function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}},{key:"destroy",value:function(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}},{key:"prepareDrawTile",value:function(){this.terrain&&this.terrain.prepareDrawTile()}},{key:"prepareDrawProgram",value:function(e,t,r){if(!this.terrain||!this.terrain.renderingToTexture){var n=this.style.fog;if(n){var o=n.getOpacity(this.transform.pitch);0!==o&&t.setFogUniformValues(e,function(e,t,r,n){var o=t.properties.get("color"),i=e.frameCounter/1e3%1,a=[o.r/o.a,o.g/o.a,o.b/o.a,n];return{u_fog_matrix:r?e.transform.calculateFogTileMatrix(r):e.identityMat,u_fog_range:t.getFovAdjustedRange(e.transform._fov),u_fog_color:a,u_fog_horizon_blend:t.properties.get("horizon-blend"),u_fog_temporal_offset:i}}(this,n,r,o))}}}},{key:"setTileLoadedFlag",value:function(e){this.tileLoaded=e}},{key:"saveCanvasCopy",value:function(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}},{key:"canvasCopy",value:function(){var e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}},{key:"getCanvasCopiesAndTimestamps",value:function(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}},{key:"averageElevationNeedsEasing",value:function(){if(!this.transform._elevation)return!1;var e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}},{key:"getBackgroundTiles",value:function(){var t,r=this._backgroundTiles,n=this._backgroundTiles={},o=this.transform.coveringTiles({tileSize:512}),i=d(o);try{for(i.s();!(t=i.n()).done;){var a=t.value;n[a.key]=r[a.key]||new e.Tile(a,512,this.transform.tileZoom,this)}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"clearBackgroundTiles",value:function(){this._backgroundTiles={}}}]),t}(),Bn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(m(this,t),isNaN(e)||e<0||isNaN(r)||r<0||isNaN(n)||n<0||isNaN(o)||o<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=r,this.left=n,this.right=o}return y(t,[{key:"interpolate",value:function(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this}},{key:"getCenter",value:function(t,r){var n=e.clamp((this.left+t-this.right)/2,0,t),o=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.pointGeometry(n,o)}},{key:"equals",value:function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}},{key:"clone",value:function(){return new t(this.top,this.bottom,this.left,this.right)}},{key:"toJSON",value:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}]),t}();function Vn(t,r){var n=e.getColumn(t,3);e.fromQuat(t,r),e.setColumn(t,3,n)}function Un(t,r){var n=e.identity$1([]);return e.rotateZ$1(n,n,-r),e.rotateX$1(n,n,-t),n}function Gn(t,r){var n=[t[0],t[1],0],o=[r[0],r[1],0];if(e.length(n)>=1e-15){var i=e.normalize([],n);e.scale$2(o,i,e.dot(o,i)),r[0]=o[0],r[1]=o[1]}var a=e.cross([],r,t);if(e.len(a)<1e-15)return null;var s=Math.atan2(-a[1],a[0]);return Un(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),s)}var qn=function(){function t(e,r){m(this,t),this.position=e,this.orientation=r}return y(t,[{key:"position",get:function(){return this._position},set:function(t){if(t){var r=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(r.x=e.wrap(r.x,0,1)),this._position=r}else this._position=null}},{key:"lookAtPoint",value:function(t,r){if(this.orientation=null,this.position){var n=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,o=this.position,i=e.MercatorCoordinate.fromLngLat(t,n),a=[i.x-o.x,i.y-o.y,i.z-o.z];r||(r=[0,0,1]),r[2]=Math.abs(r[2]),this.orientation=Gn(a,r)}}},{key:"setPitchBearing",value:function(t,r){this.orientation=Un(e.degToRad(t),e.degToRad(-r))}}]),t}(),Wn=function(){function t(r,n){m(this,t),this._transform=e.identity([]),this.orientation=n,this.position=r}return y(t,[{key:"mercatorPosition",get:function(){var t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}},{key:"position",get:function(){var t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]},set:function(t){var r;t&&e.setColumn(this._transform,3,[(r=t)[0],r[1],r[2],1])}},{key:"orientation",get:function(){return this._orientation},set:function(t){this._orientation=t||e.identity$1([]),t&&Vn(this._transform,this._orientation)}},{key:"getPitchBearing",value:function(){var e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}},{key:"setPitchBearing",value:function(e,t){this._orientation=Un(e,t),Vn(this._transform,this._orientation)}},{key:"forward",value:function(){var t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}},{key:"up",value:function(){var t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}},{key:"right",value:function(){var t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}},{key:"getCameraToWorld",value:function(t,r){var n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,r)),n}},{key:"getWorldToCameraPosition",value:function(t,r,n){var o=this.position;e.scale$2(o,o,-t);var i=new Float64Array(16);return e.fromScaling(i,[n,n,n]),e.translate(i,i,o),i[10]*=r,i}},{key:"getWorldToCamera",value:function(t,r){var n=new Float64Array(16),o=new Float64Array(4),i=this.position;return e.conjugate(o,this._orientation),e.scale$2(i,i,-t),e.fromQuat(n,o),e.translate(n,n,i),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=r,n[9]*=r,n[10]*=r,n[11]*=r,n}},{key:"getCameraToClipPerspective",value:function(t,r,n,o){var i=new Float64Array(16);return e.perspective(i,t,r,n,o),i}},{key:"getDistanceToElevation",value:function(t){var r=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),n=this.forward();return(r-this.position[2])/n[2]}},{key:"clone",value:function(){return new t(c(this.position),c(this.orientation))}}]),t}();function Zn(t,r){var n=Xn(t),o=function(t,r,n,o,i){var a=new e.LngLat(n.lng-180*$n,n.lat),s=new e.LngLat(n.lng+180*$n,n.lat),l=t.project(a.lng,a.lat),u=t.project(s.lng,s.lat),c=-Math.atan2(u.y-l.y,u.x-l.x),f=e.MercatorCoordinate.fromLngLat(n);f.y=e.clamp(f.y,-.999975,.999975);var d=f.toLngLat(),h=t.project(d.lng,d.lat),p=e.MercatorCoordinate.fromLngLat(d);p.x+=$n;var v=p.toLngLat(),m=t.project(v.lng,v.lat),y=Yn(m.x-h.x,m.y-h.y,c),g=e.MercatorCoordinate.fromLngLat(d);g.y+=$n;var b=g.toLngLat(),_=t.project(b.lng,b.lat),x=Yn(_.x-h.x,_.y-h.y,c),w=Math.abs(y.x)/Math.abs(x.y),k=e.identity([]);e.rotateZ(k,k,-c*(1-(i?0:o)));var E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*o,1]),E[4]=-x.x/x.y*o,e.rotateZ(E,E,c),e.multiply$1(E,k,E),E}(t.projection,0,t.center,n,r),i=Hn(t);return e.scale(o,o,[i,i,1]),o}function Hn(t){var r=t.projection,n=Xn(t),o=Kn(r,t.center),i=Kn(r,e.LngLat.convert(r.center));return Math.pow(2,o*n+(1-n)*i)}function Xn(t){var r=t.projection.range;if(!r)return 0;var n=Math.max(t.width,t.height),o=Math.log(n/1024)/Math.LN2;return e.smoothstep(r[0]+o,r[1]+o,t.zoom)}var $n=1/4e4;function Kn(t,r){var n=e.clamp(r.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),o=new e.LngLat(r.lng-180*$n,n),i=new e.LngLat(r.lng+180*$n,n),a=t.project(o.lng,n),s=t.project(i.lng,n),l=e.MercatorCoordinate.fromLngLat(o),u=e.MercatorCoordinate.fromLngLat(i),c=s.x-a.x,f=s.y-a.y,d=u.x-l.x,h=u.y-l.y,p=Math.sqrt((d*d+h*h)/(c*c+f*f));return Math.log(p)/Math.LN2}function Yn(e,t,r){var n=Math.cos(r),o=Math.sin(r);return{x:e*n-t*o,y:e*o+t*n}}var Jn=function(){function t(r,n,o,i,a,s,l){m(this,t),this.tileSize=512,this._renderWorldCopies=void 0===a||a,this._minZoom=r||0,this._maxZoom=n||22,this._minPitch=null==o?0:o,this._maxPitch=null==i?60:i,this.setProjection(s),this.setMaxBounds(l),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Wn,this._centerAltitude=0,this._centerAltitudeValidForExaggeration=0,this._averageElevation=0,this.cameraElevationReference="ground",this._projectionScaler=1,this._horizonShift=.1}return y(t,[{key:"clone",value:function(){var e=new t(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e}},{key:"elevation",get:function(){return this._elevation},set:function(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}},{key:"updateElevation",value:function(e){var t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices()}},{key:"getProjection",value:function(){return e.pick(this.projection,["name","center","parallels"])}},{key:"setProjection",value:function(t){null==t&&(t={name:"mercator"}),this.projectionOptions=t;var r=this.projection?this.getProjection():void 0;this.projection=e.getProjection(t);var n=this.getProjection();return h(r,n)?null:(this._calcMatrices(),n)}},{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}},{key:"minPitch",get:function(){return this._minPitch},set:function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}},{key:"maxPitch",get:function(){return this._maxPitch},set:function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}},{key:"renderWorldCopies",get:function(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies},set:function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"cameraWorldSize",get:function(){var e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}},{key:"pixelsPerMeter",get:function(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}},{key:"cameraPixelsPerMeter",get:function(){return this.projection.pixelsPerMeter(this.center.lat,this.cameraWorldSize)}},{key:"centerOffset",get:function(){return this.centerPoint._sub(this.size._div(2))}},{key:"size",get:function(){return new e.pointGeometry(this.width,this.height)}},{key:"bearing",get:function(){return e.wrap(this.rotation,-180,180)},set:function(e){this.rotation=e}},{key:"rotation",get:function(){return-this.angle/Math.PI*180},set:function(t){var r,n=-t*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(r=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r),function(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);e[0]=n*l+i*s,e[1]=o*l+a*s,e[2]=n*-s+i*l,e[3]=o*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}},{key:"pitch",get:function(){return this._pitch/Math.PI*180},set:function(t){var r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}},{key:"fov",get:function(){return this._fov/Math.PI*180},set:function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}},{key:"averageElevation",get:function(){return this._averageElevation},set:function(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}},{key:"_setZoom",value:function(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}},{key:"_updateCameraOnTerrain",value:function(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=0);var e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}},{key:"_updateSeaLevelZoom",value:function(){0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}},{key:"sampleAverageElevation",value:function(){if(!this._elevation)return 0;for(var t=this._elevation,r=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop(),o=0,i=0,a=0;a<r.length;a++){var s=new e.pointGeometry(r[a][0]*this.width,n+r[a][1]*(this.height-n)),l=t.pointCoordinate(s);if(l){var u=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);o+=l[3]*u,i+=u}}return 0===i?NaN:o/i}},{key:"center",get:function(){return this._center},set:function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}},{key:"_updateZoomFromElevation",value:function(){if(null!=this._seaLevelZoom&&this._elevation){var e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),r=this.pixelsPerMeter/this.worldSize*t,n=this._mercatorZfromZoom(e),o=this._mercatorZfromZoom(this._maxZoom),i=Math.max(n-r,o);this._setZoom(this._zoomFromMercatorZ(i))}}},{key:"padding",get:function(){return this._edgeInsets.toJSON()},set:function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}},{key:"computeZoomRelativeTo",value:function(t){var r,n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));r=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];var o=e.length(e.sub([],this._camera.position,r));return e.clamp(this._zoomFromMercatorZ(o),this._minZoom,this._maxZoom)}},{key:"setFreeCameraOptions",value:function(t){if(this.height&&(t.position||t.orientation)){this._updateCameraState();var r=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(r=this._setCameraOrientation(t.orientation)),t.position){var n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),r=!0)}r&&(this._updateStateFromCamera(),this.recenterOnTerrain())}}},{key:"getFreeCameraOptions",value:function(){this._updateCameraState();var t=this._camera.position,r=new qn;return r.position=new e.MercatorCoordinate(t[0],t[1],t[2]),r.orientation=this._camera.orientation,r._elevation=this.elevation,r._renderWorldCopies=this.renderWorldCopies,r}},{key:"_setCameraOrientation",value:function(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);var r=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;var o=Gn(r,n);return!!o&&(this._camera.orientation=o,!0)}},{key:"_setCameraPosition",value:function(t){var r=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,o=this.cameraToCenterDistance;t[2]=e.clamp(t[2],o/n,o/r),this._camera.position=t}},{key:"centerPoint",get:function(){return this._edgeInsets.getCenter(this.width,this.height)}},{key:"fovAboveCenter",get:function(){return this._fov*(.5+this.centerOffset.y/this.height)}},{key:"isPaddingEqual",value:function(e){return this._edgeInsets.equals(e)}},{key:"interpolatePadding",value:function(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}},{key:"coveringZoomLevel",value:function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}},{key:"getVisibleUnwrappedCoordinates",value:function(t){var r=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies)for(var n=this.pointCoordinate(new e.pointGeometry(0,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,o.x,i.x,a.x)),l=Math.floor(Math.max(n.x,o.x,i.x,a.x)),u=1,c=s-u;c<=l+u;c++)0!==c&&r.push(new e.UnwrappedTileID(c,t));return r}},{key:"coveringTiles",value:function(t){var r=this,n=this.coveringZoomLevel(t),o=n,i=this.elevation&&!t.isTerrainDEM,a="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var s=this.locationCoordinate(this.center),l=this.center.lat,u=1<<n,c=[u*s.x,u*s.y,0],f="globe"===this.projection.name,d=!f,h=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,d),p=f?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),v=u*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),y=[u*p.x,u*p.y,m*(d?1:v)],g=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),b=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,_=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-_:this._elevation?this._elevation.getMinElevationBelowMSL():0,w=this.projection.isReprojectedInTileSpace?Hn(this):1,k=function(t){var n=1/4e4,o=new e.MercatorCoordinate(t.x+n,t.y,t.z),i=new e.MercatorCoordinate(t.x,t.y+n,t.z),a=t.toLngLat(),s=o.toLngLat(),l=i.toLngLat(),u=r.locationCoordinate(a),c=r.locationCoordinate(s),f=r.locationCoordinate(l),d=Math.hypot(c.x-u.x,c.y-u.y),h=Math.hypot(f.x-u.x,f.y-u.y);return Math.sqrt(d*h)*w/n},E=function(t){var n=_,o=x;return{aabb:e.tileAABB(r,u,0,0,0,t,o,n,r.projection),zoom:0,x:0,y:0,minZ:o,maxZ:n,wrap:t,fullyVisible:!1}},T=[],S=[],C=n,A=t.reparseOverscaled?o:n,I=function(e){return e*e},M=I((m-this._centerAltitude)*v),P=function(e){if(r._elevation&&e.tileID&&a){var t=r._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=O(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=r._centerAltitude))}},O=function(t){if(t.zoom<b)return!0;if(t.zoom===C)return!1;if(null!=t.shouldSplit)return t.shouldSplit;var n=t.aabb.distanceX(y),a=t.aabb.distanceY(y),s=M,u=1;if(f){s=I(t.aabb.distanceZ(y));var c=Math.pow(2,t.zoom),d=e.latFromMercatorY((t.y+1)/c),h=e.latFromMercatorY(t.y/c),p=Math.min(Math.max(l,d),h),m=e.circumferenceAtLatitude(p)/e.circumferenceAtLatitude(l);u=Math.min(m,1)}else if(i&&(s=I(t.aabb.distanceZ(y)*v)),r.projection.isReprojectedInTileSpace&&o<=5){var _=Math.pow(2,t.zoom),x=k(new e.MercatorCoordinate((t.x+.5)/_,(t.y+.5)/_));u=x>.85?1:x}var w=n*n+a*a+s;return w<I((1<<C-t.zoom)*g*u*function(e,t){if(t*I(.707)<e)return 1;var r=Math.sqrt(t/e);return r/(1.4144271570014144+(Math.pow(1.1,r-1.4144271570014144+1)-1)/(1.1-1)-1)}(Math.max(s,M),w))};if(this.renderWorldCopies)for(var z=1;z<=3;z++)T.push(E(-z)),T.push(E(z));for(T.push(E(0));T.length>0;){var R=T.pop(),D=R.x,L=R.y,j=R.fullyVisible;if(!j){var F=R.aabb.intersects(h);if(0===F)continue;j=2===F}if(R.zoom!==C&&O(R))for(var N=0;N<4;N++){var B=(D<<1)+N%2,V=(L<<1)+(N>>1),U={aabb:a?R.aabb.quadrant(N):e.tileAABB(this,u,R.zoom+1,B,V,R.wrap,R.minZ,R.maxZ,this.projection),zoom:R.zoom+1,x:B,y:V,wrap:R.wrap,fullyVisible:j,tileID:void 0,shouldSplit:void 0,minZ:R.minZ,maxZ:R.maxZ};i&&!f&&(U.tileID=new e.OverscaledTileID(R.zoom+1===C?A:R.zoom+1,R.wrap,R.zoom+1,B,V),P(U)),T.push(U)}else{var G=R.zoom===C?A:R.zoom;if(t.minzoom&&t.minzoom>G)continue;var q=c[0]-(.5+D+(R.wrap<<R.zoom))*(1<<n-R.zoom),W=c[1]-.5-L,Z=R.tileID?R.tileID:new e.OverscaledTileID(G,R.wrap,R.zoom,D,L);S.push({tileID:Z,distanceSq:q*q+W*W})}}if(this.fogCullDistSq){var H=this.fogCullDistSq,X=this.horizonLineFromTop();S=S.filter((function(n){var o=[0,0,0,1],i=[e.EXTENT,e.EXTENT,0,1],a=r.calculateFogTileMatrix(n.tileID.toUnwrapped());e.transformMat4$1(o,o,a),e.transformMat4$1(i,i,a);var s=e.getAABBPointSquareDist(o,i);if(0===s)return!0;var l=!1,u=r._elevation;if(u&&s>H&&0!==X){var c,f=r.calculateProjMatrix(n.tileID.toUnwrapped());t.isTerrainDEM||(c=u.getMinMaxForTile(n.tileID)),c||(c={min:x,max:_});var d=e.furthestTileCorner(r.rotation),h=[d[0]*e.EXTENT,d[1]*e.EXTENT,c.max];e.transformMat4(h,h,f),l=(1-h[1])*r.height*.5<X}return s<H||l}))}return S.sort((function(e,t){return e.distanceSq-t.distanceSq})).map((function(e){return e.tileID}))}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}},{key:"unmodified",get:function(){return this._unmodified}},{key:"zoomScale",value:function(e){return Math.pow(2,e)}},{key:"scaleZoom",value:function(e){return Math.log(e)/Math.LN2}},{key:"project",value:function(t){var r=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),n=this.projection.project(t.lng,r);return new e.pointGeometry(n.x*this.worldSize,n.y*this.worldSize)}},{key:"unproject",value:function(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}},{key:"point",get:function(){return this.project(this.center)}},{key:"setLocationAtPoint",value:function(t,r){var n,o,i=this.centerPoint;if("globe"===this.projection.name){var a=this.worldSize;n=(r.x-i.x)/a,o=(r.y-i.y)/a}else{var s=this.pointCoordinate(r),l=this.pointCoordinate(i);n=s.x-l.x,o=s.y-l.y}var u=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(u.x-n,u.y-o))}},{key:"setLocation",value:function(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"locationPoint",value:function(e){return this.projection.locationPoint(this,e)}},{key:"locationPoint3D",value:function(e){return this._coordinatePoint(this.locationCoordinate(e),!0)}},{key:"pointLocation",value:function(e){return this.coordinateLocation(this.pointCoordinate(e))}},{key:"pointLocation3D",value:function(e){return this.coordinateLocation(this.pointCoordinate3D(e))}},{key:"locationCoordinate",value:function(t,r){var n=r?e.mercatorZfromAltitude(r,t.lat):void 0,o=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(o.x,o.y,n)}},{key:"coordinateLocation",value:function(e){return this.projection.unproject(e.x,e.y)}},{key:"pointRayIntersection",value:function(t,r){var n=null!=r?r:this._centerAltitude,o=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.transformMat4$1(o,o,this.pixelMatrixInverse),e.transformMat4$1(i,i,this.pixelMatrixInverse);var a=i[3];e.scale$1(o,o,1/o[3]),e.scale$1(i,i,1/a);var s=o[2],l=i[2];return{p0:o,p1:i,t:s===l?0:(n-s)/(l-s)}}},{key:"screenPointToMercatorRay",value:function(t){var r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/n[3]),r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$1(r,r,1/this.worldSize),e.scale$1(n,n,1/this.worldSize),new e.Ray([r[0],r[1],r[2]],e.normalize([],e.sub([],n,r)))}},{key:"rayIntersectionCoordinate",value:function(t){var r=t.p0,n=t.p1,o=t.t,i=e.mercatorZfromAltitude(r[2],this._center.lat),a=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(r[0],n[0],o)/this.worldSize,e.number(r[1],n[1],o)/this.worldSize,e.number(i,a,o))}},{key:"pointCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._centerAltitude;return this.projection.pointCoordinate(this,e.x,e.y,t)}},{key:"pointCoordinate3D",value:function(t){if(!this.elevation)return this.pointCoordinate(t);var r=this.elevation,n=this.elevation.pointCoordinate(t);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);var o=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);for(var a=.02*i,s=t.clone(),l=0;l<10&&i-o>a;l++){s.y=e.number(o,i,.66);var u=r.pointCoordinate(s);u?(i=s.y,n=u):o=s.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}},{key:"isPointAboveHorizon",value:function(e){if(this.elevation)return!this.elevation.pointCoordinate(e);var t=this.horizonLineFromTop();return e.y<t}},{key:"_coordinatePoint",value:function(t,r){var n=r&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,o=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4$1(o,o,this.pixelMatrix),o[3]>0?new e.pointGeometry(o[0]/o[3],o[1]/o[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}},{key:"_getBounds",value:function(t,r){var n=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom),s=this.pointCoordinate(n,t),l=this.pointCoordinate(o,t),u=this.pointCoordinate(i,r),c=this.pointCoordinate(a,r),f=function(e,t){return(t.y-e.y)/(t.x-e.x)};return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-c.y)/f(c,s)+c.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-c.y/f(c,s)+c.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-u.y)/f(u,l)+u.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-u.y/f(u,l)+u.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(c)).extend(this.coordinateLocation(u))}},{key:"_getBounds3D",value:function(){var e=this.elevation;if(!e.visibleDemTiles.length)return this._getBounds(0,0);var t=e.visibleDemTiles.reduce((function(e,t){if(t.dem){var r=t.dem.tree;e.min=Math.min(e.min,r.minimums[0]),e.max=Math.max(e.max,r.maximums[0])}return e}),{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}},{key:"getBounds",value:function(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}},{key:"horizonLineFromTop",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,r=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,r):r}},{key:"getMaxBounds",value:function(){return this.maxBounds}},{key:"setMaxBounds",value:function(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}},{key:"calculatePosMatrix",value:function(e,t){return this.projection.createTileMatrix(this,t,e)}},{key:"calculateDistanceTileData",value:function(t){var r=t.key,n=this._distanceTileDataCache;if(n[r])return n[r];var o=t.canonical,i=1/this.height,a=this.cameraWorldSize/this.zoomScale(o.z),s=(o.x+Math.pow(2,o.z)*t.wrap)*a,l=o.y*a,u=this.point,c=this.angle,f=Math.sin(-c),d=-Math.cos(-c);return n[r]={bearing:[f,d],center:[(u.x-s)*i,(u.y-l)*i],scale:a/e.EXTENT*i},n[r]}},{key:"calculateFogTileMatrix",value:function(t){var r=t.key,n=this._fogTileMatrixCache;if(n[r])return n[r];var o=this.calculatePosMatrix(t,this.cameraWorldSize);return e.multiply$1(o,this.worldToFogMatrix,o),n[r]=new Float32Array(o),n[r]}},{key:"calculateProjMatrix",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.key,o=r?this._alignedProjMatrixCache:this._projMatrixCache;if(o[n])return o[n];var i=this.calculatePosMatrix(t,this.worldSize);return e.multiply$1(i,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:r?this.alignedProjMatrix:this.projMatrix,i),o[n]=new Float32Array(i),o[n]}},{key:"calculatePixelsToTileUnitsMatrix",value:function(t){var r=t.tileID.key,n=this._pixelsToTileUnitsCache;if(n[r])return n[r];var o=function(t,r){var n,o,i,a,s,l,u,c,f=t.tileTransform.scale*e.EXTENT/(t.tileSize*Math.pow(2,r.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return n=new Float32Array(4),a=(o=r.inverseAdjustmentMatrix)[1],s=o[2],l=o[3],c=(i=[f,f])[1],n[0]=o[0]*(u=i[0]),n[1]=a*u,n[2]=s*c,n[3]=l*c,n}(t,this);return n[r]=o,n[r]}},{key:"customLayerMatrix",value:function(){return this.mercatorMatrix.slice()}},{key:"recenterOnTerrain",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),o=this._camera.forward(),i=e.mercatorZfromAltitude(1,this._center.lat);n[2]/=i,o[2]/=i,e.normalize(o,o);var a=t.raycast(n,o,t.exaggeration());if(a){var s=e.scaleAndAdd([],n,o,a),l=new e.MercatorCoordinate(s[0],s[1],e.mercatorZfromAltitude(s[2],e.latFromMercatorY(s[1]))),u=(l.z+e.length([l.x-n[0],l.y-n[1],l.z-n[2]*i]))*this._projectionScaler;this._seaLevelZoom=this._zoomFromMercatorZ(u),this._centerAltitude=l.toAltitude(),this._center=this.coordinateLocation(l),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}}},{key:"_constrainCameraAltitude",value:function(){if(this._elevation){var t=this._elevation;this._updateCameraState();var r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),o=t.getAtPointOrZero(i(e.MercatorCoordinate,c(n))),a=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),s=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*o;if(s<a){var l=this.locationCoordinate(this._center,this._centerAltitude),u=[l.x-n[0],l.y-n[1],l.z-n[2]],f=e.length(u);u[2]-=(a-s)/this._projectionScaler;var d=e.length(u);if(0===d)return;e.scale$2(u,u,f/d*this._projectionScaler),this._camera.position=[l.x-u[0],l.y-u[1],l.z*this._projectionScaler-u[2]],this._camera.orientation=Gn(u,this._camera.up()),this._updateStateFromCamera()}}}},{key:"_constrain",value:function(){if(this.center&&this.width&&this.height&&!this._constraining){if(this._constraining=!0,this.projection.isReprojectedInTileSpace){var t=this.center;return t.lat=e.clamp(t.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(t.lng=e.clamp(t.lng,this.minLng,this.maxLng)),this.center=t,void(this._constraining=!1)}var r=this._unmodified,n=this.point,o=n.x,i=n.y,a=0,s=o,l=i,u=this.width/2,c=this.height/2,f=this.worldMinY*this.scale,d=this.worldMaxY*this.scale;if(i-c<f&&(l=f+c),i+c>d&&(l=d-c),d-f<this.height&&(a=Math.max(a,this.height/(d-f)),l=(d+f)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){var h=this.worldMinX*this.scale,p=this.worldMaxX*this.scale,v=this.worldSize/2-(h+p)/2;(s=(o+v+this.worldSize)%this.worldSize-v)-u<h&&(s=h+u),s+u>p&&(s=p-u),p-h<this.width&&(a=Math.max(a,this.width/(p-h)),s=(p+h)/2)}s===o&&l===i||(this.center=this.unproject(new e.pointGeometry(s,l))),a&&(this.zoom+=this.scaleZoom(a)),this._constrainCameraAltitude(),this._unmodified=r,this._constraining=!1}}},{key:"_minZoomForBounds",value:function(){var e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}},{key:"_maxCameraBoundsDistance",value:function(){return this._mercatorZfromZoom(this._minZoomForBounds())}},{key:"_calcMatrices",value:function(){if(this.height){var t=this._fov/2,r=this.centerOffset,n=this.pixelsPerMeter;this._projectionScaler=n/(e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize),this.cameraToCenterDistance=.5/Math.tan(t)*this.height*this._projectionScaler,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;var o=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),i=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);i[8]=2*-r.x/this.width,i[9]=2*r.y/this.height;var a=e.mul([],i,o);if(this.projection.isReprojectedInTileSpace){var s=this.locationCoordinate(this.center),l=e.identity([]);e.translate(l,l,[s.x*this.worldSize,s.y*this.worldSize,0]),e.multiply$1(l,l,Zn(this)),e.translate(l,l,[-s.x*this.worldSize,-s.y*this.worldSize,0]),e.multiply$1(a,a,l),this.inverseAdjustmentMatrix=function(e){var t=Zn(e,!0);return P([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);var u=new Float32Array(16);e.identity(u),e.scale(u,u,[1,-1,1]),e.rotateX(u,u,this._pitch),e.rotateZ(u,u,this.angle);var c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),f=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-r.x/this.width,c[9]=2*(r.y+f)/this.height,this.skyboxMatrix=e.multiply$1(u,c,u);var d=this.point,h=d.x,p=d.y,v=this.width%2/2,m=this.height%2/2,y=Math.cos(this.angle),g=Math.sin(this.angle),b=h-Math.round(h)+y*v+g*m,_=p-Math.round(p)+y*m+g*v,x=new Float64Array(a);if(e.translate(x,x,[b>.5?b-1:b,_>.5?_-1:_,0]),this.alignedProjMatrix=x,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply$1(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},!(a=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=a,this.globeMatrix="globe"===this.projection.name?e.calculateGlobeMatrix(this):a,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}}},{key:"_calcFogMatrices",value:function(){this._fogTileMatrixCache={};var t=this.cameraWorldSize,r=this.cameraPixelsPerMeter,n=this._camera.position,o=1/this.height,i=[t,t,r];e.scale$2(i,i,o),e.scale$2(n,n,-1),e.multiply$2(n,n,i);var a=e.create();e.translate(a,a,n),e.scale(a,a,i),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,r,o)}},{key:"_computeCameraPosition",value:function(e){var t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,r=this._camera.forward(),n=this.point,o=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[n.x/this.worldSize-r[0]*o,n.y/this.worldSize-r[1]*o,e/this.worldSize*this._centerAltitude-r[2]*o]}},{key:"_updateCameraState",value:function(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}},{key:"_translateCameraConstrained",value:function(t){var r=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=t[2],o=1;n>0&&(o=Math.min((r-this._camera.position[2])/n,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}},{key:"_updateStateFromCamera",value:function(){var t=this._camera.position,r=this._camera.forward(),n=this._camera.getPitchBearing(),o=n.pitch,i=n.bearing,a=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._projectionScaler,s=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),l=Math.max((t[2]-a)/Math.cos(o),s),u=this._zoomFromMercatorZ(l);e.scaleAndAdd(t,t,r,l),this._pitch=e.clamp(o,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(i,-Math.PI,Math.PI),this._setZoom(e.clamp(u,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}},{key:"_worldSizeFromZoom",value:function(e){return Math.pow(2,e)*this.tileSize}},{key:"_mercatorZfromZoom",value:function(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}},{key:"_minimumHeightOverTerrain",value:function(){var e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}},{key:"_zoomFromMercatorZ",value:function(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}},{key:"_terrainEnabled",value:function(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}},{key:"anyCornerOffEdge",value:function(t,r){var n=Math.min(t.x,r.x),o=Math.max(t.x,r.x),i=Math.min(t.y,r.y),a=Math.max(t.y,r.y);if(i<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;for(var s=[new e.pointGeometry(n,i),new e.pointGeometry(o,a),new e.pointGeometry(n,a),new e.pointGeometry(o,i)],l=this.renderWorldCopies?-3:0,u=this.renderWorldCopies?4:1,c=0,f=s;c<f.length;c++){var d=f[c],h=this.pointRayIntersection(d);if(h.t<0)return!0;var p=this.rayIntersectionCoordinate(h);if(p.x<l||p.y<0||p.x>u||p.y>1)return!0}return!1}},{key:"isHorizonVisible",value:function(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}},{key:"zoomDeltaToMovement",value:function(t,r){var n=e.length(e.sub([],this._camera.position,t)),o=this._zoomFromMercatorZ(n)+r;return n-this._mercatorZfromZoom(o)}},{key:"getCameraPoint",value:function(){var t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}]),t}();function Qn(e,t){var r=!1,n=null,o=function o(){n=null,r&&(e(),n=setTimeout(o,t),r=!1)};return function(){return r=!0,n||o(),n}}var eo=function(){function t(r){m(this,t),this._hashName=r&&encodeURIComponent(r),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Qn(this._updateHashUnthrottled.bind(this),300)}return y(t,[{key:"addTo",value:function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}},{key:"remove",value:function(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}},{key:"getHashString",value:function(t){var r=this._map;if(!r)return"";var n=r.getCenter(),o=Math.round(100*r.getZoom())/100,i=Math.ceil((o*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.pow(10,i),s=Math.round(n.lng*a)/a,l=Math.round(n.lat*a)/a,u=r.getBearing(),c=r.getPitch(),f="";if(f+=t?"/".concat(s,"/").concat(l,"/").concat(o):"".concat(o,"/").concat(l,"/").concat(s),(u||c)&&(f+="/"+Math.round(10*u)/10),c&&(f+="/".concat(Math.round(c))),this._hashName){var d=this._hashName,h=!1,p=e.window.location.hash.slice(1).split("&").map((function(e){var t=e.split("=")[0];return t===d?(h=!0,"".concat(t,"=").concat(f)):e})).filter((function(e){return e}));return h||p.push("".concat(d,"=").concat(f)),"#".concat(p.join("&"))}return"#".concat(f)}},{key:"_getCurrentHash",value:function(){var t,r=this,n=e.window.location.hash.replace("#","");return this._hashName?(n.split("&").map((function(e){return e.split("=")})).forEach((function(e){e[0]===r._hashName&&(t=e)})),(t&&t[1]||"").split("/")):n.split("/")}},{key:"_onHashChange",value:function(){var e=this._map;if(!e)return!1;var t=this._getCurrentHash();if(t.length>=3&&!t.some((function(e){return isNaN(e)}))){var r=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:r,pitch:+(t[4]||0)}),!0}return!1}},{key:"_updateHashUnthrottled",value:function(){var t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}]),t}(),to={linearity:.3,easing:e.bezier(0,0,.3,1)},ro=e.extend({deceleration:2500,maxSpeed:1400},to),no=e.extend({deceleration:20,maxSpeed:1400},to),oo=e.extend({deceleration:1e3,maxSpeed:360},to),io=e.extend({deceleration:1e3,maxSpeed:90},to),ao=function(){function t(e){m(this,t),this._map=e,this.clear()}return y(t,[{key:"clear",value:function(){this._inertiaBuffer=[]}},{key:"record",value:function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}},{key:"_drainInertiaBuffer",value:function(){for(var t=this._inertiaBuffer,r=e.exported.now();t.length>0&&r-t[0].time>160;)t.shift()}},{key:"_onMoveEnd",value:function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){var r,n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0},o=d(this._inertiaBuffer);try{for(o.s();!(r=o.n()).done;){var i=r.value.settings;n.zoom+=i.zoomDelta||0,n.bearing+=i.bearingDelta||0,n.pitch+=i.pitchDelta||0,i.panDelta&&n.pan._add(i.panDelta),i.around&&(n.around=i.around),i.pinchAround&&(n.pinchAround=i.pinchAround)}}catch(p){o.e(p)}finally{o.f()}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var l=lo(n.pan.mag(),a,e.extend({},ro,t||{}));s.offset=n.pan.mult(l.amount/n.pan.mag()),s.center=this._map.transform.center,so(s,l)}if(n.zoom){var u=lo(n.zoom,a,no);s.zoom=this._map.transform.zoom+u.amount,so(s,u)}if(n.bearing){var c=lo(n.bearing,a,oo);s.bearing=this._map.transform.bearing+e.clamp(c.amount,-179,179),so(s,c)}if(n.pitch){var f=lo(n.pitch,a,io);s.pitch=this._map.transform.pitch+f.amount,so(s,f)}if(s.zoom||s.bearing){var h=void 0===n.pinchAround?n.around:n.pinchAround;s.around=h?this._map.unproject(h):this._map.getCenter()}return this.clear(),s.noMoveStart=!0,s}}}]),t}();function so(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function lo(t,r,n){var o=n.maxSpeed,i=n.linearity,a=n.deceleration,s=e.clamp(t*i/(r/1e3),-o,o),l=Math.abs(s)/(a*i);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}var uo=function(t){p(n,t);var r=v(n);function n(t,o,i){var a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m(this,n);var l=C(o.getCanvasContainer(),i),u=o.unproject(l);return(a=r.call(this,t,e.extend({point:l,lngLat:u,originalEvent:i},s)))._defaultPrevented=!1,a.target=o,a}return y(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),co=function(t){p(n,t);var r=v(n);function n(t,o,i){var a;m(this,n);var s="touchend"===t?i.changedTouches:i.touches,l=A(o.getCanvasContainer(),s),u=l.map((function(e){return o.unproject(e)})),c=l.reduce((function(e,t,r,n){return e.add(t.div(n.length))}),new e.pointGeometry(0,0));return(a=r.call(this,t,{points:l,point:c,lngLats:u,lngLat:o.unproject(c),originalEvent:i}))._defaultPrevented=!1,a}return y(n,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),n}(e.Event),fo=function(e){p(r,e);var t=v(r);function r(e,n,o){var i;return m(this,r),(i=t.call(this,e,{originalEvent:o}))._defaultPrevented=!1,i}return y(r,[{key:"preventDefault",value:function(){this._defaultPrevented=!0}},{key:"defaultPrevented",get:function(){return this._defaultPrevented}}]),r}(e.Event),ho=function(){function t(e,r){m(this,t),this._map=e,this._clickTolerance=r.clickTolerance}return y(t,[{key:"reset",value:function(){this._mousedownPos=void 0}},{key:"wheel",value:function(e){return this._firePreventable(new fo(e.type,this._map,e))}},{key:"mousedown",value:function(e,t){return this._mousedownPos=t,this._firePreventable(new uo(e.type,this._map,e))}},{key:"mouseup",value:function(e){this._map.fire(new uo(e.type,this._map,e))}},{key:"preclick",value:function(t){var r=e.extend({},t);r.type="preclick",this._map.fire(new uo(r.type,this._map,r))}},{key:"click",value:function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new uo(e.type,this._map,e)))}},{key:"dblclick",value:function(e){return this._firePreventable(new uo(e.type,this._map,e))}},{key:"mouseover",value:function(e){this._map.fire(new uo(e.type,this._map,e))}},{key:"mouseout",value:function(e){this._map.fire(new uo(e.type,this._map,e))}},{key:"touchstart",value:function(e){return this._firePreventable(new co(e.type,this._map,e))}},{key:"touchmove",value:function(e){this._map.fire(new co(e.type,this._map,e))}},{key:"touchend",value:function(e){this._map.fire(new co(e.type,this._map,e))}},{key:"touchcancel",value:function(e){this._map.fire(new co(e.type,this._map,e))}},{key:"_firePreventable",value:function(e){if(this._map.fire(e),e.defaultPrevented)return{}}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),t}(),po=function(){function e(t){m(this,e),this._map=t}return y(e,[{key:"reset",value:function(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}},{key:"mousemove",value:function(e){this._map.fire(new uo(e.type,this._map,e))}},{key:"mousedown",value:function(){this._delayContextMenu=!0}},{key:"mouseup",value:function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new uo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}},{key:"contextmenu",value:function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new uo(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}},{key:"isEnabled",value:function(){return!0}},{key:"isActive",value:function(){return!1}},{key:"enable",value:function(){}},{key:"disable",value:function(){}}]),e}(),vo=function(){function t(e,r){m(this,t),this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=r.clickTolerance||1}return y(t,[{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active}},{key:"enable",value:function(){this.isEnabled()||(this._enabled=!0)}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1)}},{key:"mousedown",value:function(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(k(),this._startPos=this._lastPos=t,this._active=!0)}},{key:"mousemoveWindow",value:function(e,t){var r=this;if(this._active){var n=t;if(!(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)){var o=this._startPos;this._lastPos=n,this._box||(this._box=g("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var i=Math.min(o.x,n.x),a=Math.max(o.x,n.x),s=Math.min(o.y,n.y),l=Math.max(o.y,n.y);this._map._requestDomTask((function(){r._box&&(r._box.style.transform="translate(".concat(i,"px,").concat(s,"px)"),r._box.style.width=a-i+"px",r._box.style.height=l-s+"px")}))}}}},{key:"mouseupWindow",value:function(t,r){var n=this;if(this._active&&0===t.button){var o=this._startPos,i=r;if(this.reset(),S(),o.x!==i.x||o.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(o,i,n._map.getBearing(),{linear:!1})}};this._fireEvent("boxzoomcancel",t)}}},{key:"keydown",value:function(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),E(),delete this._startPos,delete this._lastPos}},{key:"_fireEvent",value:function(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))}}]),t}();function mo(e,t){for(var r={},n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}var yo=function(){function t(e){m(this,t),this.reset(),this.numTouches=e.numTouches}return y(t,[{key:"reset",value:function(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}},{key:"touchstart",value:function(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){var r,n=new e.pointGeometry(0,0),o=d(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;n._add(i)}}catch(a){o.e(a)}finally{o.f()}return n.div(t.length)}(r),this.touches=mo(n,r)))}},{key:"touchmove",value:function(e,t,r){if(!this.aborted&&this.centroid){var n=mo(r,t);for(var o in this.touches){var i=this.touches[o],a=n[o];(!a||a.dist(i)>30)&&(this.aborted=!0)}}}},{key:"touchend",value:function(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){var n=!this.aborted&&this.centroid;if(this.reset(),n)return n}}}]),t}(),go=function(){function e(t){m(this,e),this.singleTap=new yo(t),this.numTaps=t.numTaps,this.reset()}return y(e,[{key:"reset",value:function(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}},{key:"touchstart",value:function(e,t,r){this.singleTap.touchstart(e,t,r)}},{key:"touchmove",value:function(e,t,r){this.singleTap.touchmove(e,t,r)}},{key:"touchend",value:function(e,t,r){var n=this.singleTap.touchend(e,t,r);if(n){var o=e.timeStamp-this.lastTime<500,i=!this.lastTap||this.lastTap.dist(n)<30;if(o&&i||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}]),e}(),bo=function(){function e(){m(this,e),this._zoomIn=new go({numTouches:1,numTaps:2}),this._zoomOut=new go({numTouches:2,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}},{key:"touchstart",value:function(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}},{key:"touchmove",value:function(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}},{key:"touchend",value:function(e,t,r){var n=this,o=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r);return o?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(o)},{originalEvent:e})}}):i?(this._active=!0,e.preventDefault(),setTimeout((function(){return n.reset()}),0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}}):void 0}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),_o={0:1,2:2},xo=function(){function e(t){m(this,e),this.reset(),this._clickTolerance=t.clickTolerance||1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}},{key:"_correctButton",value:function(e,t){return!1}},{key:"_move",value:function(e,t){return{}}},{key:"mousedown",value:function(e,t){if(!this._lastPoint){var r=I(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}}},{key:"mousemoveWindow",value:function(e,t){var r=this._lastPoint;if(r)if(e.preventDefault(),null!=this._eventButton&&function(e,t){var r=_o[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)}},{key:"mouseupWindow",value:function(e){this._lastPoint&&I(e)===this._eventButton&&(this._moved&&S(),this.reset())}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),wo=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"mousedown",value:function(e,t){a(s(r.prototype),"mousedown",this).call(this,e,t),this._lastPoint&&(this._active=!0)}},{key:"_correctButton",value:function(e,t){return 0===t&&!e.ctrlKey}},{key:"_move",value:function(e,t){return{around:t,panDelta:t.sub(e)}}}]),r}(xo),ko=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),r}(xo),Eo=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"_correctButton",value:function(e,t){return 0===t&&e.ctrlKey||2===t}},{key:"_move",value:function(e,t){var r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}}},{key:"contextmenu",value:function(e){e.preventDefault()}}]),r}(xo),To=function(){function t(r,n){m(this,t),this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}return y(t,[{key:"reset",value:function(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}},{key:"touchstart",value:function(e,t,r){return this._calculateTransform(e,t,r)}},{key:"touchmove",value:function(e,t,r){if(this._active&&!(r.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===r.length)return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return e.preventDefault(),this._calculateTransform(e,t,r)}}},{key:"touchend",value:function(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()}},{key:"touchcancel",value:function(){this.reset()}},{key:"_calculateTransform",value:function(t,r,n){n.length>0&&(this._active=!0);var o=mo(n,r),i=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0),s=0;for(var l in o){var u=o[l],c=this._touches[l];c&&(i._add(u),a._add(u.sub(c)),s++,o[l]=u)}if(this._touches=o,!(s<this._minTouches)&&a.mag()){var f=a.div(s);return this._sum._add(f),this._sum.mag()<this._clickTolerance?void 0:{around:i.div(s),panDelta:f}}}},{key:"enable",value:function(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}},{key:"disable",value:function(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"_addTouchPanBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_showTouchPanBlockerAlert",value:function(){var e=this;"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")}),500)}}]),t}(),So=function(){function e(){m(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._firstTwoTouches=void 0}},{key:"_start",value:function(e){}},{key:"_move",value:function(e,t,r){return{}}},{key:"touchstart",value:function(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}},{key:"touchmove",value:function(e,t,r){var n=this._firstTwoTouches;if(n){e.preventDefault();var o=f(n,2),i=o[0],a=o[1],s=Co(r,t,i),l=Co(r,t,a);if(s&&l){var u=this._aroundCenter?null:s.add(l).div(2);return this._move([s,l],u,e)}}}},{key:"touchend",value:function(e,t,r){if(this._firstTwoTouches){var n=f(this._firstTwoTouches,2),o=n[0],i=n[1],a=Co(r,t,o),s=Co(r,t,i);a&&s||(this._active&&S(),this.reset())}}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}();function Co(e,t,r){for(var n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Ao(e,t){return Math.log(e/t)/Math.LN2}var Io=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"reset",value:function(){a(s(r.prototype),"reset",this).call(this),this._distance=0,this._startDistance=0}},{key:"_start",value:function(e){this._startDistance=this._distance=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Ao(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ao(this._distance,r),pinchAround:t}}}]),r}(So);function Mo(e,t){return 180*e.angleWith(t)/Math.PI}var Po=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r,[{key:"reset",value:function(){a(s(r.prototype),"reset",this).call(this),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}},{key:"_start",value:function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}},{key:"_move",value:function(e,t){var r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Mo(this._vector,r),pinchAround:t}}},{key:"_isBelowThreshold",value:function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=25/(Math.PI*this._minDiameter)*360,r=Mo(e,this._startVector);return Math.abs(r)<t}}]),r}(So);function Oo(e){return Math.abs(e.y)>Math.abs(e.x)}var zo=function(e){p(r,e);var t=v(r);function r(e){var n;return m(this,r),(n=t.call(this))._map=e,n}return y(r,[{key:"reset",value:function(){a(s(r.prototype),"reset",this).call(this),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}},{key:"_start",value:function(e){this._lastPoints=e,Oo(e[0].sub(e[1]))&&(this._valid=!1)}},{key:"_move",value:function(e,t,r){var n=this._lastPoints;if(n){var o=e[0].sub(n[0]),i=e[1].sub(n[1]);return this._map._cooperativeGestures&&r.touches.length<3||(this._valid=this.gestureBeginsVertically(o,i,r.timeStamp),!this._valid)?void 0:(this._lastPoints=e,this._active=!0,{pitchDelta:(o.y+i.y)/2*-.5})}}},{key:"gestureBeginsVertically",value:function(e,t,r){if(void 0!==this._valid)return this._valid;var n=e.mag()>=2,o=t.mag()>=2;if(n||o){if(!n||!o)return null==this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;var i=e.y>0==t.y>0;return Oo(e)&&Oo(t)&&i}}}]),r}(So),Ro={panStep:100,bearingStep:15,pitchStep:10},Do=function(){function e(){m(this,e);var t=Ro;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}return y(e,[{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"keydown",value:function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var r=0,n=0,o=0,i=0,a=0;switch(e.keyCode){case 61:case 107:case 171:case 187:r=1;break;case 189:case 109:case 173:r=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?o=1:(e.preventDefault(),a=-1);break;case 40:e.shiftKey?o=-1:(e.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(n=0,o=0),{cameraAnimation:function(s){var l=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:Lo,zoom:r?Math.round(l)+r*(e.shiftKey?2:1):l,bearing:s.getBearing()+n*t._bearingStep,pitch:s.getPitch()+o*t._pitchStep,offset:[-i*t._panStep,-a*t._panStep],center:s.getCenter()},{originalEvent:e})}}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}},{key:"disableRotation",value:function(){this._rotationDisabled=!0}},{key:"enableRotation",value:function(){this._rotationDisabled=!1}}]),e}();function Lo(e){return e*(2-e)}var jo=4.000244140625,Fo=function(){function t(r,n){m(this,t),this._map=r,this._el=r.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}return y(t,[{key:"setZoomRate",value:function(e){this._defaultZoomRate=e}},{key:"setWheelZoomRate",value:function(e){this._wheelZoomRate=e}},{key:"isEnabled",value:function(){return!!this._enabled}},{key:"isActive",value:function(){return!!this._active||void 0!==this._finishTimeout}},{key:"isZooming",value:function(){return!!this._zooming}},{key:"enable",value:function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}},{key:"disable",value:function(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}},{key:"wheel",value:function(t){if(this.isEnabled()){if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}var r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,n=e.exported.now(),o=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%jo==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":o>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(o*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}}},{key:"_onTimeout",value:function(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}},{key:"_start",value:function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var t=C(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}}},{key:"renderFrame",value:function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var r=this._map.transform,n=function(){return r._terrainEnabled()&&t._aroundCoord?r.computeZoomRelativeTo(t._aroundCoord):r.zoom};if(0!==this._delta){var o="wheel"===this._type&&Math.abs(this._delta)>jo?this._wheelZoomRate:this._defaultZoomRate,i=2/(1+Math.exp(-Math.abs(this._delta*o)));this._delta<0&&0!==i&&(i=1/i);var a=n(),s=Math.pow(2,a),l="number"==typeof this._targetZoom?r.zoomScale(this._targetZoom):s;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(l*i))),"wheel"===this._type&&(this._startZoom=n(),this._easing=this._smoothOutEasing(200)),this._delta=0}var u,c="number"==typeof this._targetZoom?this._targetZoom:n(),f=this._startZoom,d=this._easing,h=!1;if("wheel"===this._type&&f&&d){var p=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),v=d(p);u=e.number(f,c,v),p<1?this._frameId||(this._frameId=!0):h=!0}else u=c,h=!0;return this._active=!0,h&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!h,zoomDelta:u-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}}},{key:"_smoothOutEasing",value:function(t){var r=e.ease;if(this._prevEase){var n=this._prevEase,o=(e.exported.now()-n.start)/n.duration,i=n.easing(o+.01)-n.easing(o),a=.27/Math.sqrt(i*i+1e-4)*.01,s=Math.sqrt(.0729-a*a);r=e.bezier(a,s,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:r},r}},{key:"blur",value:function(){this.reset()}},{key:"reset",value:function(){this._active=!1}},{key:"_addScrollZoomBlocker",value:function(){this._map&&!this._alertContainer&&(this._alertContainer=g("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize="".concat(Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth))),"px"))}},{key:"_isFullscreen",value:function(){return!!e.window.document.fullscreenElement||!!e.window.document.webkitFullscreenElement}},{key:"_showBlockerAlert",value:function(){var e=this;"hidden"===this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout((function(){e._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")}),200)}}]),t}(),No=function(){function e(t,r){m(this,e),this._clickZoom=t,this._tapZoom=r}return y(e,[{key:"enable",value:function(){this._clickZoom.enable(),this._tapZoom.enable()}},{key:"disable",value:function(){this._clickZoom.disable(),this._tapZoom.disable()}},{key:"isEnabled",value:function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}},{key:"isActive",value:function(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}]),e}(),Bo=function(){function e(){m(this,e),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1}},{key:"blur",value:function(){this.reset()}},{key:"dblclick",value:function(e,t){return e.preventDefault(),{cameraAnimation:function(r){r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Vo=function(){function e(){m(this,e),this._tap=new go({numTouches:1,numTaps:1}),this.reset()}return y(e,[{key:"reset",value:function(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}},{key:"touchstart",value:function(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))}},{key:"touchmove",value:function(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;var n=t[0],o=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:o/128}}}else this._tap.touchmove(e,t,r)}},{key:"touchend",value:function(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)}},{key:"touchcancel",value:function(){this.reset()}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1,this.reset()}},{key:"isEnabled",value:function(){return this._enabled}},{key:"isActive",value:function(){return this._active}}]),e}(),Uo=function(){function e(t,r,n){m(this,e),this._el=t,this._mousePan=r,this._touchPan=n}return y(e,[{key:"enable",value:function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}},{key:"disable",value:function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}},{key:"isEnabled",value:function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}},{key:"isActive",value:function(){return this._mousePan.isActive()||this._touchPan.isActive()}}]),e}(),Go=function(){function e(t,r,n){m(this,e),this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=r,this._mousePitch=n}return y(e,[{key:"enable",value:function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}},{key:"disable",value:function(){this._mouseRotate.disable(),this._mousePitch.disable()}},{key:"isEnabled",value:function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}},{key:"isActive",value:function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}]),e}(),qo=function(){function e(t,r,n,o){m(this,e),this._el=t,this._touchZoom=r,this._touchRotate=n,this._tapDragZoom=o,this._rotationDisabled=!1,this._enabled=!0}return y(e,[{key:"enable",value:function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}},{key:"disable",value:function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}},{key:"isEnabled",value:function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}},{key:"isActive",value:function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}},{key:"disableRotation",value:function(){this._rotationDisabled=!0,this._touchRotate.disable()}},{key:"enableRotation",value:function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}]),e}(),Wo=function(e){return e.zoom||e.drag||e.pitch||e.rotate},Zo=function(e){p(r,e);var t=v(r);function r(){return m(this,r),t.apply(this,arguments)}return y(r)}(e.Event),Ho=function(){function t(){m(this,t),this.constants=[1,1,.01],this.radius=0}return y(t,[{key:"setup",value:function(t,r){var n=e.sub([],r,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}},{key:"projectRay",value:function(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);var r=e.scale$2([],t,this.radius);if(r[2]>0){var n=e.scale$2([],[0,0,1],e.dot(r,[0,0,1])),o=e.scale$2([],e.normalize([],[r[0],r[1],0]),this.radius),i=e.add([],r,e.scale$2([],e.sub([],e.add([],o,n),r),2));r[0]=i[0],r[1]=i[1]}return r}}]),t}();function Xo(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var $o=function(){function t(r,n){m(this,t),this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ao(r),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Ho,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);var o=this._el;this._listeners=[[o,"touchstart",{passive:!0}],[o,"touchmove",{passive:!1}],[o,"touchend",void 0],[o,"touchcancel",void 0],[o,"mousedown",void 0],[o,"mousemove",void 0],[o,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[o,"mouseover",void 0],[o,"mouseout",void 0],[o,"dblclick",void 0],[o,"click",void 0],[o,"keydown",{capture:!1}],[o,"keyup",void 0],[o,"wheel",{passive:!1}],[o,"contextmenu",void 0],[e.window,"blur",void 0]];var i,a=d(this._listeners);try{for(a.s();!(i=a.n()).done;){var s=f(i.value,3),l=s[0],u=s[1],c=s[2];l.addEventListener(u,l===e.window.document?this.handleWindowEvent:this.handleEvent,c)}}catch(h){a.e(h)}finally{a.f()}}return y(t,[{key:"destroy",value:function(){var t,r=d(this._listeners);try{for(r.s();!(t=r.n()).done;){var n=f(t.value,3),o=n[0],i=n[1],a=n[2];o.removeEventListener(i,o===e.window.document?this.handleWindowEvent:this.handleEvent,a)}}catch(s){r.e(s)}finally{r.f()}}},{key:"_addDefaultHandlers",value:function(e){var t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new ho(t,e));var n=t.boxZoom=new vo(t,e);this._add("boxZoom",n);var o=new bo,i=new Bo;t.doubleClickZoom=new No(i,o),this._add("tapZoom",o),this._add("clickZoom",i);var a=new Vo;this._add("tapDragZoom",a);var s=t.touchPitch=new zo(t);this._add("touchPitch",s);var l=new ko(e),u=new Eo(e);t.dragRotate=new Go(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);var c=new wo(e),f=new To(t,e);t.dragPan=new Uo(r,c,f),this._add("mousePan",c),this._add("touchPan",f,["touchZoom","touchRotate"]);var d=new Po,h=new Io;t.touchZoomRotate=new qo(r,h,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]),this._add("blockableMapEvent",new po(t));var p=t.scrollZoom=new Fo(t,this);this._add("scrollZoom",p,["mousePan"]);var v=t.keyboard=new Do;this._add("keyboard",v);for(var m=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];m<y.length;m++){var g=y[m];e.interactive&&e[g]&&t[g].enable(e[g])}}},{key:"_add",value:function(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}},{key:"stop",value:function(e){if(!this._updatingCamera){var t,r=d(this._handlers);try{for(r.s();!(t=r.n()).done;)t.value.handler.reset()}catch(n){r.e(n)}finally{r.f()}this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}},{key:"isActive",value:function(){var e,t=d(this._handlers);try{for(t.s();!(e=t.n()).done;)if(e.value.handler.isActive())return!0}catch(r){t.e(r)}finally{t.f()}return!1}},{key:"isZooming",value:function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}},{key:"isRotating",value:function(){return!!this._eventsInProgress.rotate}},{key:"isMoving",value:function(){return!!Wo(this._eventsInProgress)||this.isZooming()}},{key:"_blockedByActive",value:function(e,t,r){for(var n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1}},{key:"handleWindowEvent",value:function(e){this.handleEvent(e,"".concat(e.type,"Window"))}},{key:"_getMapTouches",value:function(e){var t,r=[],n=d(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this._el.contains(o.target)&&r.push(o)}}catch(i){n.e(i)}finally{n.f()}return r}},{key:"handleEvent",value:function(e,t){this._updatingCamera=!0;var r,n="renderFrame"===e.type,o=n?void 0:e,i={needsRenderFrame:!1},a={},s={},l=e.touches?this._getMapTouches(e.touches):void 0,u=l?A(this._el,l):n?void 0:C(this._el,e),c=d(this._handlers);try{for(c.s();!(r=c.n()).done;){var f=r.value,h=f.handlerName,p=f.handler,v=f.allowed;if(p.isEnabled()){var m=void 0;this._blockedByActive(s,v,h)?p.reset():p[t||e.type]&&(m=p[t||e.type](e,u,l),this.mergeHandlerResult(i,a,m,h,o),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||p.isActive())&&(s[h]=p)}}}catch(_){c.e(_)}finally{c.f()}var y={};for(var g in this._previousActiveHandlers)s[g]||(y[g]=o);this._previousActiveHandlers=s,(Object.keys(y).length||Xo(i))&&(this._changes.push([i,a,y]),this._triggerRenderFrame()),(Object.keys(s).length||Xo(i))&&this._map._stop(!0),this._updatingCamera=!1;var b=i.cameraAnimation;b&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],b(this._map))}},{key:"mergeHandlerResult",value:function(t,r,n,o,i){if(n){e.extend(t,n);var a={handlerName:o,originalEvent:n.originalEvent||i};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}}},{key:"_applyChanges",value:function(){var t,r={},n={},o={},i=d(this._changes);try{for(i.s();!(t=i.n()).done;){var a=f(t.value,3),s=a[0],l=a[1],u=a[2];s.panDelta&&(r.panDelta=(r.panDelta||new e.pointGeometry(0,0))._add(s.panDelta)),s.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(r.around=s.around),void 0!==s.aroundCoord&&(r.aroundCoord=s.aroundCoord),void 0!==s.pinchAround&&(r.pinchAround=s.pinchAround),s.noInertia&&(r.noInertia=s.noInertia),e.extend(n,l),e.extend(o,u)}}catch(c){i.e(c)}finally{i.f()}this._updateMapTransform(r,n,o),this._changes=[]}},{key:"_updateMapTransform",value:function(t,r,n){var o=this,i=this._map,a=i.transform,s=function(e){return[e.x,e.y,e.z]};if(function(e){var t=o._eventsInProgress.drag;return t&&!o._handlersById[t.handlerName].isActive()}()&&!Xo(t)){var l=a.zoom;a.cameraElevationReference="sea",a.recenterOnTerrain(),a.cameraElevationReference="ground",l!==a.zoom&&this._map._update(!0)}if(Xo(t)){var u=t.panDelta,c=t.zoomDelta,f=t.bearingDelta,d=t.pitchDelta,h=t.around,p=t.aroundCoord,v=t.pinchAround;void 0!==v&&(h=v),r.drag&&!o._eventsInProgress.drag&&h&&(this._dragOrigin=s(a.pointCoordinate3D(h)),this._trackingEllipsoid.setup(a._camera.position,this._dragOrigin)),a.cameraElevationReference="sea",i._stop(!0),h=h||i.transform.centerPoint,f&&(a.bearing+=f),d&&(a.pitch+=d),a._updateCameraState();var m=[0,0,0];if(u){var y=a.pointCoordinate(h);if("globe"===a.projection.name){var g=e.latFromMercatorY(y.y),b=a.center.lat,_=Math.min(e.mercatorZfromAltitude(1,g)/e.mercatorZfromAltitude(1,b),2);u=u.rotate(-a.angle),m[0]=-u.x/a.worldSize*_,m[1]=-u.y/a.worldSize*_}else{var x=a.pointCoordinate(h.sub(u));y&&x&&(m[0]=x.x-y.x,m[1]=x.y-y.y)}}var w=a.zoom,k=[0,0,0];if(c){var E=s(p||a.pointCoordinate3D(h)),T={dir:e.normalize([],e.sub([],E,a._camera.position))};if(T.dir[2]<0){var S=a.zoomDeltaToMovement(E,c);e.scale$2(k,T.dir,S)}}var C=e.add(m,m,k);a._translateCameraConstrained(C),c&&Math.abs(a.zoom-w)>1e-4&&a.recenterOnTerrain(),a.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(r,n,!0)}else this._fireEvents(r,n,!0)}},{key:"_fireEvents",value:function(t,r,n){var o=this,i=Wo(this._eventsInProgress),a=Wo(t),s={};for(var l in t){var u=t[l].originalEvent;this._eventsInProgress[l]||(s["".concat(l,"start")]=u),this._eventsInProgress[l]=t[l]}for(var c in!i&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(c,s[c]);for(var f in a&&this._fireEvent("move",a.originalEvent),t){var d=t[f].originalEvent;this._fireEvent(f,d)}var h,p={};for(var v in this._eventsInProgress){var m=this._eventsInProgress[v],y=m.handlerName,g=m.originalEvent;this._handlersById[y].isActive()||(delete this._eventsInProgress[v],h=r[y]||g,p["".concat(v,"end")]=h)}for(var b in p)this._fireEvent(b,p[b]);var _=Wo(this._eventsInProgress);if(n&&(i||a)&&!_){this._updatingCamera=!0;var x=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),w=function(e){return 0!==e&&-o._bearingSnap<e&&e<o._bearingSnap};x?(w(x.bearing||this._map.getBearing())&&(x.bearing=0),this._map.easeTo(x,{originalEvent:h})):(this._map.fire(new e.Event("moveend",{originalEvent:h})),w(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}},{key:"_fireEvent",value:function(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))}},{key:"_requestFrame",value:function(){var e=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add((function(t){e._frameId=void 0,e.handleEvent(new Zo("renderFrame",{timeStamp:t})),e._applyChanges()}))}},{key:"_triggerRenderFrame",value:function(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}]),t}(),Ko="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.",Yo=function(t){p(n,t);var r=v(n);function n(t,i){var a;return m(this,n),(a=r.call(this))._moving=!1,a._zooming=!1,a.transform=t,a._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],o(a)),a}return y(n,[{key:"getCenter",value:function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}},{key:"setCenter",value:function(e,t){return this.jumpTo({center:e},t)}},{key:"panBy",value:function(t,r,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)}},{key:"panTo",value:function(t,r,n){return this.easeTo(e.extend({center:t},r),n)}},{key:"getZoom",value:function(){return this.transform.zoom}},{key:"setZoom",value:function(e,t){return this.jumpTo({zoom:e},t),this}},{key:"zoomTo",value:function(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)}},{key:"zoomIn",value:function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}},{key:"zoomOut",value:function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}},{key:"getBearing",value:function(){return this.transform.bearing}},{key:"setBearing",value:function(e,t){return this.jumpTo({bearing:e},t),this}},{key:"getPadding",value:function(){return this.transform.padding}},{key:"setPadding",value:function(e,t){return this.jumpTo({padding:e},t),this}},{key:"rotateTo",value:function(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)}},{key:"resetNorth",value:function(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this}},{key:"resetNorthPitch",value:function(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this}},{key:"snapToNorth",value:function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}},{key:"getPitch",value:function(){return this.transform.pitch}},{key:"setPitch",value:function(e,t){return this.jumpTo({pitch:e},t),this}},{key:"cameraForBounds",value:function(t,r){t=e.LngLatBounds.convert(t);var n=r&&r.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),n,r)}},{key:"_extendCameraOptions",value:function(t){var r={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:r,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){var n=t.padding;t.padding={top:n,bottom:n,right:n,left:n}}return t.padding=e.extend(r,t.padding),t}},{key:"_cameraForBoxAndBearing",value:function(t,r,n,o){var i=this._extendCameraOptions(o),a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),u=a.project(e.LngLat.convert(r)),c=new e.pointGeometry(l.x,u.y),f=new e.pointGeometry(u.x,l.y),d=-e.degToRad(n),h=l.rotate(d),p=u.rotate(d),v=c.rotate(d),m=f.rotate(d),y=new e.pointGeometry(Math.max(h.x,p.x,v.x,m.x),Math.max(h.y,p.y,v.y,m.y)),g=new e.pointGeometry(Math.min(h.x,p.x,v.x,m.x),Math.min(h.y,p.y,v.y,m.y)),b=y.sub(g),_=(a.width-((s.left||0)+(s.right||0)+i.padding.left+i.padding.right))/b.x,x=(a.height-((s.top||0)+(s.bottom||0)+i.padding.top+i.padding.bottom))/b.y;if(!(x<0||_<0)){var w=Math.min(a.scaleZoom(a.scale*Math.min(_,x)),i.maxZoom),k="number"==typeof i.offset.x&&"number"==typeof i.offset.y?new e.pointGeometry(i.offset.x,i.offset.y):e.pointGeometry.convert(i.offset),E=new e.pointGeometry((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(n*Math.PI/180),T=k.add(E).mult(a.scale/a.zoomScale(w));return{center:a.unproject(l.add(u).div(2).sub(T)),zoom:w,bearing:n}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"_cameraForBox",value:function(t,r,n,o,i){var a=this._extendCameraOptions(i);n=n||0,o=o||0,t=e.LngLat.convert(t),r=e.LngLat.convert(r);var s=this.transform.clone();s.padding=a.padding;var l=this.getFreeCameraOptions(),u=new e.LngLat(.5*(t.lng+r.lng),.5*(t.lat+r.lat)),c=.5*(n+o);if(!(s._camera.position[2]<e.mercatorZfromAltitude(c,u.lat))){l.lookAtPoint(u),s.setFreeCameraOptions(l);var f,d,h=e.MercatorCoordinate.fromLngLat(t),p=e.MercatorCoordinate.fromLngLat(r),v=s.pointRayIntersection(s.centerPoint,c),m=[(f=s.rayIntersectionCoordinate(v)).x,f.y,f.z],y=s.screenPointToMercatorRay(s.centerPoint),g="globe"!==s.projection.name,b=0;do{var _=Math.floor(s.zoom),x=1<<_,w=Math.min(x*h.x,x*p.x),k=Math.min(x*h.y,x*p.y),E=Math.max(x*h.x,x*p.x),T=Math.max(x*h.y,x*p.y),S=new e.Aabb([w,k,n],[E,T,o]),C=e.Frustum.fromInvProjectionMatrix(s.invProjMatrix,s.worldSize,_,g);if(2!==S.intersects(C)){d&&(s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,-d),s._updateStateFromCamera());break}var A=e.sub([],s._camera.position,m);d=.5*e.length(A),s._camera.position=e.scaleAndAdd([],s._camera.position,y.dir,d);try{s._updateStateFromCamera()}catch(t){return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++b<10);return{center:s.center,zoom:s.zoom,bearing:s.bearing,pitch:s.pitch}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}},{key:"fitBounds",value:function(e,t,r){return this._fitInternal(this.cameraForBounds(e,t),t,r)}},{key:"_raycastElevationBox",value:function(t,r){var n=this.transform.elevation;if(n){var o=new e.pointGeometry(t.x,r.y),i=new e.pointGeometry(r.x,t.y),a=n.pointCoordinate(t);if(a){var s=n.pointCoordinate(r);if(s){var l=n.pointCoordinate(o);if(l){var u=n.pointCoordinate(i);if(u){var c=new e.MercatorCoordinate(a[0],a[1]).toLngLat(),f=new e.MercatorCoordinate(s[0],s[1]).toLngLat(),d=new e.MercatorCoordinate(l[0],l[1]).toLngLat(),h=new e.MercatorCoordinate(u[0],u[1]).toLngLat(),p=Math.min(c.lng,Math.min(f.lng,Math.min(d.lng,h.lng))),v=Math.min(c.lat,Math.min(f.lat,Math.min(d.lat,h.lat))),m=Math.max(c.lng,Math.max(f.lng,Math.max(d.lng,h.lng))),y=Math.max(c.lat,Math.max(f.lat,Math.max(d.lat,h.lat))),g=Math.min(a[3],Math.min(s[3],Math.min(l[3],u[3]))),b=Math.max(a[3],Math.max(s[3],Math.max(l[3],u[3])));return{minLngLat:new e.LngLat(p,v),maxLngLat:new e.LngLat(m,y),minAltitude:g,maxAltitude:b}}}}}}}},{key:"fitScreenCoordinates",value:function(t,r,n,o,i){var a,s,l,u,c=e.pointGeometry.convert(t),f=e.pointGeometry.convert(r),d=this._raycastElevationBox(c,f);if(d)a=d.minLngLat,s=d.maxLngLat,l=d.minAltitude,u=d.maxAltitude;else{if(this.transform.anyCornerOffEdge(c,f))return this;a=this.transform.pointLocation(c),s=this.transform.pointLocation(f)}return this._fitInternal(0===this.transform.pitch?this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(r)),n,o):this._cameraForBox(a,s,l,u,o),o,i)}},{key:"_fitInternal",value:function(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}},{key:"jumpTo",value:function(t,r){this.stop();var n=t.preloadOnly?this.transform.clone():this.transform,o=!1,i=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(o=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(i=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),t.preloadOnly?(this._preloadTiles(n),this):(this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),o&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),i&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)))}},{key:"getFreeCameraOptions",value:function(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Ko),this.transform.getFreeCameraOptions()}},{key:"setFreeCameraOptions",value:function(t,r){var n=this.transform;if(!n.projection.supportsFreeCamera)return e.warnOnce(Ko),this;this.stop();var o=n.zoom,i=n.pitch,a=n.bearing;n.setFreeCameraOptions(t);var s=o!==n.zoom,l=i!==n.pitch,u=a!==n.bearing;return this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),s&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),u&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),l&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)),this}},{key:"easeTo",value:function(t,r){var n=this;this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);var o,i,a,s=this.transform,l=this.getZoom(),u=this.getBearing(),c=this.getPitch(),f=this.getPadding(),d="zoom"in t?+t.zoom:l,h="bearing"in t?this._normalizeBearing(t.bearing,u):u,p="pitch"in t?+t.pitch:c,v="padding"in t?t.padding:s.padding,m=e.pointGeometry.convert(t.offset);if("globe"===s.projection.name){var y=e.MercatorCoordinate.fromLngLat(s.center),g=m.rotate(-s.angle);y.x+=g.x/s.worldSize,y.y+=g.y/s.worldSize;var b=y.toLngLat(),_=e.LngLat.convert(t.center||b);this._normalizeCenter(_),o=s.centerPoint.add(g),i=new e.pointGeometry(y.x,y.y).mult(s.worldSize),a=new e.pointGeometry(e.mercatorXfromLng(_.lng),e.mercatorYfromLat(_.lat)).mult(s.worldSize).sub(i)}else{o=s.centerPoint.add(m);var x=s.pointLocation(o),w=e.LngLat.convert(t.center||x);this._normalizeCenter(w),i=s.project(x),a=s.project(w).sub(i)}var k,E,T=s.zoomScale(d-l);t.around&&(k=e.LngLat.convert(t.around),E=s.locationPoint(k));var S=this._zooming||d!==l,C=this._rotating||u!==h,A=this._pitching||p!==c,I=!s.isPaddingEqual(v),M=function(s){return function(y){if(S&&(s.zoom=e.number(l,d,y)),C&&(s.bearing=e.number(u,h,y)),A&&(s.pitch=e.number(c,p,y)),I&&(s.interpolatePadding(f,v,y),o=s.centerPoint.add(m)),k)s.setLocationAtPoint(k,E);else{var g=s.zoomScale(s.zoom-l),b=d>l?Math.min(2,T):Math.max(.5,T),_=Math.pow(b,1-y),x=s.unproject(i.add(a.mult(y*_)).mult(g));s.setLocationAtPoint(s.renderWorldCopies?x.wrap():x,o)}return t.preloadOnly||n._fireMoveEvents(r),s}};if(t.preloadOnly){var P=this._emulate(M,t.duration,s);return this._preloadTiles(P),this}var O={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=S,this._rotating=C,this._pitching=A,this._padding=I,this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,O),this._ease(M(s),(function(e){s.recenterOnTerrain(),n._afterEase(r,e)}),t),this}},{key:"_prepareEase",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,this.transform.cameraElevationReference="sea",r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}},{key:"_fireMoveEvents",value:function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}},{key:"_afterEase",value:function(t,r){if(!this._easeId||!r||this._easeId!==r){this._easeId=void 0,this.transform.cameraElevationReference="ground";var n=this._zooming,o=this._rotating,i=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),o&&this.fire(new e.Event("rotateend",t)),i&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}}},{key:"flyTo",value:function(t,r){var n=this;if(!t.essential&&e.exported.prefersReducedMotion){var o=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(o,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var i=this.transform,a=this.getZoom(),s=this.getBearing(),l=this.getPitch(),u=this.getPadding(),c="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):a,f="bearing"in t?this._normalizeBearing(t.bearing,s):s,d="pitch"in t?+t.pitch:l,h="padding"in t?t.padding:i.padding,p=i.zoomScale(c-a),v=e.pointGeometry.convert(t.offset),m=i.centerPoint.add(v),y=i.pointLocation(m),g=e.LngLat.convert(t.center||y);this._normalizeCenter(g);var b=i.project(y),_=i.project(g).sub(b),x=t.curve,w=Math.max(i.width,i.height),k=w/p,E=_.mag();if("minZoom"in t){var T=e.clamp(Math.min(t.minZoom,a,c),i.minZoom,i.maxZoom),S=w/i.zoomScale(T-a);x=Math.sqrt(S/E*2)}var C=x*x;function A(e){var t=(k*k-w*w+(e?-1:1)*C*C*E*E)/(2*(e?k:w)*C*E);return Math.log(Math.sqrt(t*t+1)-t)}function I(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}var P=A(0),O=function(e){return M(P)/M(P+x*e)},z=function(e){return w*((M(P)*(I(t=P+x*e)/M(t))-I(P))/C)/E;var t},R=(A(1)-P)/x;if(Math.abs(E)<1e-6||!isFinite(R)){if(Math.abs(w-k)<1e-6)return this.easeTo(t,r);var D=k<w?-1:1;R=Math.abs(Math.log(k/w))/x,z=function(){return 0},O=function(e){return Math.exp(D*x*e)}}t.duration="duration"in t?+t.duration:1e3*R/("screenSpeed"in t?+t.screenSpeed/x:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);var L=s!==f,j=d!==l,F=!i.isPaddingEqual(h),N=function(o){return function(i){var p=i*R,y=1/O(p);o.zoom=1===i?c:a+o.scaleZoom(y),L&&(o.bearing=e.number(s,f,i)),j&&(o.pitch=e.number(l,d,i)),F&&(o.interpolatePadding(u,h,i),m=o.centerPoint.add(v));var x=1===i?g:o.unproject(b.add(_.mult(z(p))).mult(y));return o.setLocationAtPoint(o.renderWorldCopies?x.wrap():x,m),o._updateCameraOnTerrain(),t.preloadOnly||n._fireMoveEvents(r),o}};if(t.preloadOnly){var B=this._emulate(N,t.duration,i);return this._preloadTiles(B),this}return this._zooming=!0,this._rotating=L,this._pitching=j,this._padding=F,this._prepareEase(r,!1),this._ease(N(i),(function(){return n._afterEase(r)}),t),this}},{key:"isEasing",value:function(){return!!this._easeFrameId}},{key:"stop",value:function(){return this._stop()}},{key:"_stop",value:function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){var r=this._onEaseEnd;this._onEaseEnd=void 0,r.call(this,t)}if(!e){var n=this.handlers;n&&n.stop(!1)}return this}},{key:"_ease",value:function(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}},{key:"_renderFrameCallback",value:function(){var t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),r=this._onEaseFrame;r&&r(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}},{key:"_normalizeBearing",value:function(t,r){t=e.wrap(t,-180,180);var n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t}},{key:"_normalizeCenter",value:function(e){var t=this.transform;if(t.renderWorldCopies&&!t.maxBounds){var r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}}},{key:"_emulate",value:function(e,t,r){for(var n=Math.ceil(15*t/1e3),o=[],i=e(r.clone()),a=0;a<=n;a++){var s=i(a/n);o.push(s.clone())}return o}}]),n}(e.Evented),Jo=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(this,t),this.options=r,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-right"}},{key:"onAdd",value:function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=g("button","mapboxgl-ctrl-attrib-button",this._container),g("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=g("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}},{key:"_setElementTitle",value:function(e,t){var r=this._map._getUIString("AttributionControl.".concat(t));e.setAttribute("aria-label",r),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}},{key:"_toggleAttribution",value:function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}},{key:"_updateEditLink",value:function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var n=r.reduce((function(e,t,n){return t.value&&(e+="".concat(t.key,"=").concat(t.value).concat(n<r.length-1?"&":"")),e}),"?");t.href="".concat(e.config.FEEDBACK_URL,"/").concat(n).concat(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}},{key:"_updateData",value:function(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}},{key:"_updateAttributions",value:function(){if(this._map.style){var e=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var r=this._map.style._sourceCaches;for(var n in r){var o=r[n];if(o.used){var i=o.getSource();i.attribution&&e.indexOf(i.attribution)<0&&e.push(i.attribution)}}e.sort((function(e,t){return e.length-t.length})),e=e.filter((function(t,r){for(var n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0})),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[].concat(c(this.options.customAttribution),c(e)):e.unshift(this.options.customAttribution));var a=e.join(" | ");a!==this._attribHTML&&(this._attribHTML=a,e.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}}},{key:"_updateCompact",value:function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}]),t}(),Qo=function(){function t(){m(this,t),e.bindAll(["_updateLogo","_updateCompact"],this)}return y(t,[{key:"onAdd",value:function(e){this._map=e,this._container=g("div","mapboxgl-ctrl");var t=g("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}},{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_updateLogo",value:function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}},{key:"_logoRequired",value:function(){if(!this._map.style)return!0;var e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(var t in e){var r=e[t].getSource();if(r.hasOwnProperty("mapbox_logo")&&!r.mapbox_logo)return!1}return!0}},{key:"_updateCompact",value:function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}]),t}(),ei=function(){function e(){m(this,e),this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}return y(e,[{key:"add",value:function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}},{key:"remove",value:function(e){var t,r=this._currentlyRunning,n=r?this._queue.concat(r):this._queue,o=d(n);try{for(o.s();!(t=o.n()).done;){var i=t.value;if(i.id===e)return void(i.cancelled=!0)}}catch(a){o.e(a)}finally{o.f()}}},{key:"run",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this._currentlyRunning=this._queue;this._queue=[];var r,n=d(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!o.cancelled&&(o.callback(e),this._cleared))break}}catch(i){n.e(i)}finally{n.f()}this._cleared=!1,this._currentlyRunning=!1}},{key:"clear",value:function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}]),e}();function ti(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){var o=new e.LngLat(t.lng-360,t.lat),i=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),s=n.locationPoint(t).distSqr(r),l=r.x<0||r.y<0||r.x>n.width||r.y>n.height;n.locationPoint(o).distSqr(r)<s&&(l||Math.abs(o.lng-n.center.lng)<a)?t=o:n.locationPoint(i).distSqr(r)<s&&(l||Math.abs(i.lng-n.center.lng)<a)&&(t=i)}for(;Math.abs(t.lng-n.center.lng)>180;){var u=n.locationPoint(t);if(u.x>=0&&u.y>=0&&u.x<=n.width&&u.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}var ri={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},ni=function(t){p(n,t);var r=v(n);function n(t,i){var a;if(m(this,n),a=r.call(this),(t instanceof e.window.HTMLElement||i)&&(t=e.extend({element:t},i)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],o(a)),a._anchor=t&&t.anchor||"center",a._color=t&&t.color||"#3FB1CE",a._scale=t&&t.scale||1,a._draggable=t&&t.draggable||!1,a._clickTolerance=t&&t.clickTolerance||0,a._isDragging=!1,a._state="inactive",a._rotation=t&&t.rotation||0,a._rotationAlignment=t&&t.rotationAlignment||"auto",a._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:a._rotationAlignment,a._updateMoving=function(){return a._update(!0)},t&&t.element)a._element=t.element,a._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{a._defaultMarker=!0,a._element=g("div");var s=41,u=27,c=b("svg",{display:"block",height:s*a._scale+"px",width:u*a._scale+"px",viewBox:"0 0 ".concat(u," ").concat(s)},a._element),f=b("radialGradient",{id:"shadowGradient"},b("defs",{},c));b("stop",{offset:"10%","stop-opacity":.4},f),b("stop",{offset:"100%","stop-opacity":.05},f),b("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},c),b("path",{fill:a._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},c),b("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},c),b("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},c),a._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}a._element.hasAttribute("aria-label")||a._element.setAttribute("aria-label","Map marker"),a._element.classList.add("mapboxgl-marker"),a._element.addEventListener("dragstart",(function(e){e.preventDefault()})),a._element.addEventListener("mousedown",(function(e){e.preventDefault()}));var d=a._element.classList;for(var h in ri)d.remove("mapboxgl-marker-anchor-".concat(h));return d.add("mapboxgl-marker-anchor-".concat(a._anchor)),a._popup=null,l(a)}return y(n,[{key:"addTo",value:function(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}},{key:"remove",value:function(){var e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}},{key:"getElement",value:function(){return this._element}},{key:"setPopup",value:function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){var t=38.1,r=13.5,n=Math.sqrt(Math.pow(r,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-r+n)],"bottom-right":[-n,-1*(t-r+n)],left:[r,-1*(t-r)],right:[-r,-1*(t-r)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}},{key:"_onKeyPress",value:function(e){var t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()}},{key:"_onMapClick",value:function(e){var t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()}},{key:"getPopup",value:function(){return this._popup}},{key:"togglePopup",value:function(){var e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}},{key:"_evaluateOpacity",value:function(){var e=this._map;if(e){var t=this._pos;if(!t||t.x<0||t.x>e.transform.width||t.y<0||t.y>e.transform.height)this._clearFadeTimer();else{var r=e.unproject(t),n=!1;if(e.transform._terrainEnabled()&&e.getTerrain()){var o=e.getFreeCameraOptions();if(o.position){var i=o.position.toLngLat();n=i.distanceTo(r)<.9*i.distanceTo(this._lngLat)}}var a=(1-e._queryFogOpacity(r))*(n?.2:1);this._element.style.opacity="".concat(a),this._popup&&this._popup._setOpacity("".concat(a)),this._fadeTimer=null}}}},{key:"_clearFadeTimer",value:function(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}},{key:"_updateDOM",value:function(){var e=this._pos;if(e){var t=this._offset.mult(this._scale),r=this._calculatePitch(),n=this._calculateRotation();this._element.style.transform="\n            translate(".concat(e.x,"px, ").concat(e.y,"px) ").concat(ri[this._anchor],"\n            rotateX(").concat(r,"deg) rotateZ(").concat(n,"deg)\n            translate(").concat(t.x,"px, ").concat(t.y,"px)\n        ")}}},{key:"_calculatePitch",value:function(){return"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?0:this._map&&"map"===this._pitchAlignment?this._map.getPitch():0}},{key:"_calculateRotation",value:function(){return"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?this._rotation:this._map&&"map"===this._rotationAlignment?this._rotation-this._map.getBearing():0}},{key:"_update",value:function(t){var r=this;e.window.cancelAnimationFrame(this._updateFrameId);var n=this._map;n&&(n.transform.renderWorldCopies&&(this._lngLat=ti(this._lngLat,this._pos,n.transform)),this._pos=n.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame((function(){r._element&&r._pos&&r._anchor&&(r._pos=r._pos.round(),r._updateDOM())})):this._pos=this._pos.round(),n._requestDomTask((function(){r._map&&(r._element&&r._pos&&r._anchor&&r._updateDOM(),!n.getTerrain()&&!n.getFog()||r._fadeTimer||(r._fadeTimer=setTimeout(r._evaluateOpacity.bind(r),60)))})))}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}},{key:"_onMove",value:function(t){var r=this._map;if(r){if(!this._isDragging){var n=this._clickTolerance||r._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=r.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}}},{key:"_onUp",value:function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;var t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}},{key:"_addDragHandler",value:function(e){var t=this._map;t&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}},{key:"setDraggable",value:function(e){this._draggable=!!e;var t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}},{key:"isDraggable",value:function(){return this._draggable}},{key:"setRotation",value:function(e){return this._rotation=e||0,this._update(),this}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotationAlignment",value:function(e){return this._rotationAlignment=e||"auto",this._update(),this}},{key:"getRotationAlignment",value:function(){return this._rotationAlignment}},{key:"setPitchAlignment",value:function(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}},{key:"getPitchAlignment",value:function(){return this._pitchAlignment}}]),n}(e.Evented),oi=function(){function t(e){m(this,t),this.jumpTo(e)}return y(t,[{key:"getValue",value:function(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;var r=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-r)+this._end*r}},{key:"isEasing",value:function(e){return e>=this._startTime&&e<=this._endTime}},{key:"jumpTo",value:function(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}},{key:"easeTo",value:function(e,t,r){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+r}}]),t}(),ii={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ai={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function si(e){e.parentNode&&e.parentNode.removeChild(e)}var li,ui={showCompass:!0,showZoom:!0,visualizePitch:!1},ci=function(){function t(r,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m(this,t),this._clickTolerance=10,this.element=n,this.mouseRotate=new ko({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,o&&(this.mousePitch=new Eo({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}return y(t,[{key:"down",value:function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),k()}},{key:"move",value:function(e,t){var r=this.map,n=this.mouseRotate.mousemoveWindow(e,t),o=n&&n.bearingDelta;if(o&&r.setBearing(r.getBearing()+o),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t),a=i&&i.pitchDelta;a&&r.setPitch(r.getPitch()+a)}}},{key:"off",value:function(){var e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}},{key:"offTemp",value:function(){E(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}},{key:"mousedown",value:function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),C(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}},{key:"mousemove",value:function(e){this.move(e,C(this.element,e))}},{key:"mouseup",value:function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}},{key:"touchstart",value:function(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=A(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos))}},{key:"touchmove",value:function(e){1!==e.targetTouches.length?this.reset():(this._lastPos=A(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos))}},{key:"touchend",value:function(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}},{key:"reset",value:function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}]),t}(),fi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},di=0,hi=!1,pi={maxWidth:100,unit:"metric"};function vi(e,t,r){var n=r&&r.maxWidth||100,o=e._containerHeight/2,i=e._containerWidth/2-n/2,a=e.unproject([i,o]),s=e.unproject([i+n,o]),l=a.distanceTo(s);if(r&&"imperial"===r.unit){var u=3.2808*l;u>5280?mi(t,n,u/5280,e._getUIString("ScaleControl.Miles"),e):mi(t,n,u,e._getUIString("ScaleControl.Feet"),e)}else r&&"nautical"===r.unit?mi(t,n,l/1852,e._getUIString("ScaleControl.NauticalMiles"),e):l>=1e3?mi(t,n,l/1e3,e._getUIString("ScaleControl.Kilometers"),e):mi(t,n,l,e._getUIString("ScaleControl.Meters"),e)}function mi(e,t,r,n,o){var i=function(e){var t=Math.pow(10,"".concat(Math.floor(e)).length-1),r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r),t*r}(r),a=i/r;o._requestDomTask((function(){e.style.width=t*a+"px",e.innerHTML="".concat(i,"&nbsp;").concat(n)}))}var yi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},gi=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new e.pointGeometry(0,0),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";if("number"==typeof t){var n=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(r){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(n,n);case"top-right":return new e.pointGeometry(-n,n);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(n,-n);case"bottom-right":return new e.pointGeometry(-n,-n);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[r]||[0,0])}var _i={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:function(r){p(c,r);var i=v(c);function c(t){var r;if(m(this,c),null!=(t=e.extend({},ai,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),(r=i.call(this,new Jn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t))._interactive=t.interactive,r._minTileCacheSize=t.minTileCacheSize,r._maxTileCacheSize=t.maxTileCacheSize,r._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,r._preserveDrawingBuffer=t.preserveDrawingBuffer,r._antialias=t.antialias,r._trackResize=t.trackResize,r._bearingSnap=t.bearingSnap,r._refreshExpiredTiles=t.refreshExpiredTiles,r._fadeDuration=t.fadeDuration,r._isInitialLoad=!0,r._crossSourceCollisions=t.crossSourceCollisions,r._crossFadingFactor=1,r._collectResourceTiming=t.collectResourceTiming,r._optimizeForTerrain=t.optimizeForTerrain,r._renderTaskQueue=new ei,r._domRenderTaskQueue=new ei,r._controls=[],r._markers=[],r._mapId=e.uniqueId(),r._locale=e.extend({},ii,t.locale),r._clickTolerance=t.clickTolerance,r._cooperativeGestures=t.cooperativeGestures,r._containerWidth=0,r._containerHeight=0,r._averageElevationLastSampledAt=-1/0,r._averageElevationExaggeration=0,r._averageElevation=new oi(0),r._explicitProjection=null,r._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),r._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(r._container=e.window.document.getElementById(t.container),!r._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");r._container=t.container}if(r._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&r.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],o(r)),r._setupContainer(),r._setupPainter(),void 0===r.painter)throw new Error("Failed to initialize WebGL.");return r.on("move",(function(){return r._update(!1)})),r.on("moveend",(function(){return r._update(!1)})),r.on("zoom",(function(){return r._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",r._onWindowOnline,!1),e.window.addEventListener("resize",r._onWindowResize,!1),e.window.addEventListener("orientationchange",r._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",r._onWindowResize,!1)),r.handlers=new $o(o(r),t),r._localFontFamily=t.localFontFamily,r._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&r.setStyle(t.style,{localFontFamily:r._localFontFamily,localIdeographFontFamily:r._localIdeographFontFamily}),t.projection&&r.setProjection(t.projection),r._hash=t.hash&&new eo("string"==typeof t.hash&&t.hash||void 0).addTo(o(r)),r._hash&&r._hash._onHashChange()||(r.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(r.resize(),r.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),r.resize(),t.attributionControl&&r.addControl(new Jo({customAttribution:t.customAttribution})),r._logoControl=new Qo,r.addControl(r._logoControl,t.logoPosition),r.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),r.on("data",(function(t){r._update("style"===t.dataType),r.fire(new e.Event("".concat(t.dataType,"data"),t))})),r.on("dataloading",(function(t){r.fire(new e.Event("".concat(t.dataType,"dataloading"),t))})),l(r)}return y(c,[{key:"_getMapId",value:function(){return this._mapId}},{key:"addControl",value:function(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var n=t.onAdd(this);this._controls.push(t);var o=this._controlPositions[r];return-1!==r.indexOf("bottom")?o.insertBefore(n,o.firstChild):o.appendChild(n),this}},{key:"removeControl",value:function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this}},{key:"hasControl",value:function(e){return this._controls.indexOf(e)>-1}},{key:"getContainer",value:function(){return this._container}},{key:"getCanvasContainer",value:function(){return this._canvasContainer}},{key:"getCanvas",value:function(){return this._canvas}},{key:"resize",value:function(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));var r=!this._moving;return r&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),r&&this.fire(new e.Event("moveend",t)),this}},{key:"getBounds",value:function(){return this.transform.getBounds()}},{key:"getMaxBounds",value:function(){return this.transform.getMaxBounds()||null}},{key:"setMaxBounds",value:function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}},{key:"setMinZoom",value:function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}},{key:"getMinZoom",value:function(){return this.transform.minZoom}},{key:"setMaxZoom",value:function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}},{key:"getMaxZoom",value:function(){return this.transform.maxZoom}},{key:"setMinPitch",value:function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}},{key:"getMinPitch",value:function(){return this.transform.minPitch}},{key:"setMaxPitch",value:function(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}},{key:"getMaxPitch",value:function(){return this.transform.maxPitch}},{key:"getRenderWorldCopies",value:function(){return this.transform.renderWorldCopies}},{key:"setRenderWorldCopies",value:function(e){return this.transform.renderWorldCopies=e,this._update()}},{key:"getProjection",value:function(){return this._explicitProjection?this._explicitProjection:this.style&&this.style.stylesheet&&this.style.stylesheet.projection?this.style.stylesheet.projection:{name:"mercator",center:[0,0]}}},{key:"setProjection",value:function(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._updateProjection(e)}},{key:"_updateProjection",value:function(e){null===e&&(this._explicitProjection=null);var t=e||this.getProjection(),r=this.transform.setProjection(t);if(e&&(this._explicitProjection=this.transform.getProjection()),r){for(var n in this.painter.clearBackgroundTiles(),this.style._sourceCaches)this.style._sourceCaches[n].clearTiles();this.style.applyProjectionUpdate(),this._update(!0)}return this}},{key:"project",value:function(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}},{key:"unproject",value:function(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}},{key:"isMoving",value:function(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}},{key:"isZooming",value:function(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}},{key:"isRotating",value:function(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}},{key:"_createDelegatedListener",value:function(e,t,r){var o=this;if("mouseenter"===e||"mouseover"===e){var i=!1,a=function(n){var a=t.filter((function(e){return o.getLayer(e)})),s=a.length?o.queryRenderedFeatures(n.point,{layers:a}):[];s.length?i||(i=!0,r.call(o,new uo(e,o,n.originalEvent,{features:s}))):i=!1},s=function(){i=!1};return{layers:new Set(t),listener:r,delegates:{mousemove:a,mouseout:s}}}if("mouseleave"===e||"mouseout"===e){var l=!1,u=function(n){var i=t.filter((function(e){return o.getLayer(e)}));(i.length?o.queryRenderedFeatures(n.point,{layers:i}):[]).length?l=!0:l&&(l=!1,r.call(o,new uo(e,o,n.originalEvent)))},c=function(t){l&&(l=!1,r.call(o,new uo(e,o,t.originalEvent)))};return{layers:new Set(t),listener:r,delegates:{mousemove:u,mouseout:c}}}var f=function(e){var n=t.filter((function(e){return o.getLayer(e)})),i=n.length?o.queryRenderedFeatures(e.point,{layers:n}):[];i.length&&(e.features=i,r.call(o,e),delete e.features)};return{layers:new Set(t),listener:r,delegates:n({},e,f)}}},{key:"on",value:function(e,t,r){if(void 0===r)return a(s(c.prototype),"on",this).call(this,e,t);Array.isArray(t)||(t=[t]);var n=this._createDelegatedListener(e,t,r);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n),n.delegates)this.on(o,n.delegates[o]);return this}},{key:"once",value:function(e,t,r){if(void 0===r)return a(s(c.prototype),"once",this).call(this,e,t);Array.isArray(t)||(t=[t]);var n=this._createDelegatedListener(e,t,r);for(var o in n.delegates)this.once(o,n.delegates[o]);return this}},{key:"off",value:function(e,t,r){var n=this;if(void 0===r)return a(s(c.prototype),"off",this).call(this,e,t);t=new Set(Array.isArray(t)?t:[t]);var o=function(e,t){if(e.size!==t.size)return!1;var r,n=d(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(!t.has(o))return!1}}catch(i){n.e(i)}finally{n.f()}return!0},i=this._delegatedListeners?this._delegatedListeners[e]:void 0;return i&&function(e){for(var i=0;i<e.length;i++){var a=e[i];if(a.listener===r&&o(a.layers,t)){for(var s in a.delegates)n.off(s,a.delegates[s]);return e.splice(i,1),n}}}(i),this}},{key:"queryRenderedFeatures",value:function(t,r){return this.style?(void 0!==r||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(r=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],r=r||{},this.transform)):[]}},{key:"querySourceFeatures",value:function(e,t){return this.style.querySourceFeatures(e,t)}},{key:"queryTerrainElevation",value:function(t,r){var n=this.transform.elevation;return n?(r=e.extend({},{exaggerated:!0},r),n.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,r.exaggerated)):null}},{key:"setStyle",value:function(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&r.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(t,r))}},{key:"_getUIString",value:function(e){var t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}},{key:"_updateStyle",value:function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new sr(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}},{key:"_lazyInitEmptyStyle",value:function(){this.style||(this.style=new sr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}},{key:"_diffStyle",value:function(t,r){var n=this;if("string"==typeof t){var o=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(o,e.ResourceType.Style);e.getJSON(i,(function(t,o){t?n.fire(new e.ErrorEvent(t)):o&&n._updateDiff(o,r)}))}else"object"==typeof t&&this._updateDiff(t,r)}},{key:"_updateDiff",value:function(t,r){try{this.style.setState(t)&&this._update(!0)}catch(u){e.warnOnce("Unable to perform style diff: ".concat(u.message||u.error||u,".  Rebuilding the style from scratch.")),this._updateStyle(t,r)}}},{key:"getStyle",value:function(){if(this.style)return this.style.serialize()}},{key:"isStyleLoaded",value:function(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}},{key:"addSource",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}},{key:"isSourceLoaded",value:function(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}},{key:"areTilesLoaded",value:function(){var e=this.style&&this.style._sourceCaches;for(var t in e){var r=e[t]._tiles;for(var n in r){var o=r[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0}},{key:"addSourceType",value:function(e,t,r){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)}},{key:"removeSource",value:function(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}},{key:"getSource",value:function(e){return this.style.getSource(e)}},{key:"addImage",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.pixelRatio,i=void 0===o?1:o,a=n.sdf,s=void 0!==a&&a,l=n.stretchX,u=n.stretchY,c=n.content;if(this._lazyInitEmptyStyle(),r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap){var f=e.exported.getImageData(r),d=f.width,h=f.height,p=f.data;this.style.addImage(t,{data:new e.RGBAImage({width:d,height:h},p),pixelRatio:i,stretchX:l,stretchY:u,content:c,sdf:s,version:0})}else if(void 0===r.width||void 0===r.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{var v=r.width,m=r.height,y=r;this.style.addImage(t,{data:new e.RGBAImage({width:v,height:m},new Uint8Array(y.data)),pixelRatio:i,stretchX:l,stretchY:u,content:c,sdf:s,version:0,userImage:y}),y.onAdd&&y.onAdd(this,t)}}},{key:"updateImage",value:function(t,r){var n=this.style.getImage(t);if(n){var o=r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap?e.exported.getImageData(r):r,i=o.width,a=o.height;void 0!==i&&void 0!==a?i===n.data.width&&a===n.data.height?(n.data.replace(o.data,!(r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap)),this.style.updateImage(t,n)):this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}else this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")))}},{key:"hasImage",value:function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}},{key:"removeImage",value:function(e){this.style.removeImage(e)}},{key:"loadImage",value:function(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(function(t,n){r(t,n instanceof e.window.HTMLImageElement?e.exported.getImageData(n):n)}))}},{key:"listImages",value:function(){return this.style.listImages()}},{key:"addLayer",value:function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}},{key:"moveLayer",value:function(e,t){return this.style.moveLayer(e,t),this._update(!0)}},{key:"removeLayer",value:function(e){return this.style.removeLayer(e),this._update(!0)}},{key:"getLayer",value:function(e){return this.style.getLayer(e)}},{key:"setLayerZoomRange",value:function(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}},{key:"setFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,r),this._update(!0)}},{key:"getFilter",value:function(e){return this.style.getFilter(e)}},{key:"setPaintProperty",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,r,n),this._update(!0)}},{key:"getPaintProperty",value:function(e,t){return this.style.getPaintProperty(e,t)}},{key:"setLayoutProperty",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}},{key:"getLayoutProperty",value:function(e,t){return this.style.getLayoutProperty(e,t)}},{key:"setLight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}},{key:"getLight",value:function(){return this.style.getLight()}},{key:"setTerrain",value:function(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}},{key:"getTerrain",value:function(){return this.style?this.style.getTerrain():null}},{key:"setFog",value:function(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}},{key:"getFog",value:function(){return this.style?this.style.getFog():null}},{key:"_queryFogOpacity",value:function(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}},{key:"setFeatureState",value:function(e,t){return this.style.setFeatureState(e,t),this._update()}},{key:"removeFeatureState",value:function(e,t){return this.style.removeFeatureState(e,t),this._update()}},{key:"getFeatureState",value:function(e){return this.style.getFeatureState(e)}},{key:"_updateContainerDimensions",value:function(){if(this._container){for(var t,r,n,o=this._container.getBoundingClientRect().width||400,i=this._container.getBoundingClientRect().height||300,a=this._container;a&&(!r||!n);){var s=e.window.getComputedStyle(a).transform;s&&"none"!==s&&((t=s.match(/matrix.*\((.+)\)/)[1].split(", "))[0]&&"0"!==t[0]&&"1"!==t[0]&&(r=t[0]),t[3]&&"0"!==t[3]&&"1"!==t[3]&&(n=t[3])),a=a.parentElement}this._containerWidth=r?Math.abs(o/r):o,this._containerHeight=n?Math.abs(i/n):i}}},{key:"_detectMissingCSS",value:function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}},{key:"_setupContainer",value:function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=g("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=g("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=g("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);var r=this._controlContainer=g("div","mapboxgl-control-container",e),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){n[e]=g("div","mapboxgl-ctrl-".concat(e),r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}},{key:"_resizeCanvas",value:function(t,r){var n=e.exported.devicePixelRatio||1;this._canvas.width=n*Math.ceil(t),this._canvas.height=n*Math.ceil(r),this._canvas.style.width="".concat(t,"px"),this._canvas.style.height="".concat(r,"px")}},{key:"_addMarker",value:function(e){this._markers.push(e)}},{key:"_removeMarker",value:function(e){var t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}},{key:"_setupPainter",value:function(){var r=this,n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),o=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);o?(e.storeAuthState(o,!0),this.painter=new Nn(o,this.transform),this.on("data",(function(e){"source"===e.dataType&&r.painter.setTileLoadedFlag(!0)})),e.exported$1.testSupport(o)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}},{key:"_contextLost",value:function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}},{key:"_contextRestored",value:function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}},{key:"_onMapScroll",value:function(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}},{key:"loaded",value:function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}},{key:"_update",value:function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}},{key:"_requestRenderFrame",value:function(e){return this._update(),this._renderTaskQueue.add(e)}},{key:"_cancelRenderFrame",value:function(e){this._renderTaskQueue.remove(e)}},{key:"_requestDomTask",value:function(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}},{key:"_render",value:function(t){var r,n=this,o=this.painter.context.extTimerQuery,i=e.exported.now();if(this.listens("gpu-timing-frame")&&(r=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),!this._removed){var a=!1,s=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;var l=this.transform.zoom,u=this.transform.pitch,c=e.exported.now();this.style.zoomHistory.update(l,c);var f=new e.EvaluationParameters(l,{now:c,fadeDuration:s,pitch:u,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),d=f.crossFadingFactor();1===d&&d===this._crossFadingFactor||(a=!0,this._crossFadingFactor=d),this.style.update(f)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);var h=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),h=this._updateAverageElevation(i),this.style._updateSources(this.transform),this._forceMarkerUpdate()):h=this._updateAverageElevation(i),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,s,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var p=e.exported.now()-i;o.endQueryEXT(o.TIME_ELAPSED_EXT,r),setTimeout((function(){var t=o.getQueryObjectEXT(r,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(r),n.fire(new e.Event("gpu-timing-frame",{cpuTime:p,gpuTime:t}))}),50)}if(this.listens("gpu-timing-layer")){var v=this.painter.collectGpuTimers();setTimeout((function(){var t=n.painter.queryGpuTimers(v);n.fire(new e.Event("gpu-timing-layer",{layerTimes:t}))}),50)}var m=this._sourcesDirty||this._styleDirty||this._placementDirty||h;if(m||this._repaint)this.triggerRepaint();else{var y=!this.isMoving()&&this.loaded();if(y&&(h=this._updateAverageElevation(i,!0)),h)this.triggerRepaint();else if(this._triggerFrame(!1),y&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){var g=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:g})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,this._authenticate())}}},{key:"_forceMarkerUpdate",value:function(){var e,t=d(this._markers);try{for(t.s();!(e=t.n()).done;)e.value._update()}catch(r){t.e(r)}finally{t.f()}}},{key:"_updateAverageElevation",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e){return t.transform.averageElevation=e,t._update(!1),!0};if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((r||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){var o=this.transform.averageElevation,i=this.transform.sampleAverageElevation(),a=!1;this.transform.elevation&&(a=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(i)?i=0:this._averageElevationLastSampledAt=e;var s=Math.abs(o-i);if(s>1){if(this._isInitialLoad||a)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,e,300)}else if(s>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}},{key:"_authenticate",value:function(){var t=this;e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(r){if(r&&(r.message===e.AUTH_ERR_MSG||401===r.status)){var n=t.painter.context.gl;e.storeAuthState(n,!1),t._logoControl instanceof Qo&&t._logoControl._updateLogo(),n&&n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT|n.STENCIL_BUFFER_BIT),t._silenceAuthErrors||t.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}})),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,(function(){}))}},{key:"_updateTerrain",value:function(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}},{key:"_calculateSpeedIndex",value:function(){var e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());var r=this.painter.context.gl,n=r.createFramebuffer();function o(e){r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);var t=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);return r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,t),t}return r.bindFramebuffer(r.FRAMEBUFFER,n),this._canvasPixelComparison(o(e),t.canvasCopies.map(o),t.timeStamps)}},{key:"_canvasPixelComparison",value:function(e,t,r){for(var n=r[1]-r[0],o=e.length/4,i=0;i<t.length;i++){for(var a=t[i],s=0,l=0;l<a.length;l+=4)a[l]===e[l]&&a[l+1]===e[l+1]&&a[l+2]===e[l+2]&&a[l+3]===e[l+3]&&(s+=1);n+=(r[i+2]-r[i+1])*(1-s/o)}return n}},{key:"remove",value:function(){this._hash&&this._hash.remove();var t,r=d(this._controls);try{for(r.s();!(t=r.n()).done;)t.value.onRemove(this)}catch(o){r.e(o)}finally{r.f()}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var n=this.painter.context.gl.getExtension("WEBGL_lose_context");n&&n.loseContext(),si(this._canvasContainer),si(this._controlContainer),si(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}},{key:"triggerRepaint",value:function(){this._triggerFrame(!0)}},{key:"_triggerFrame",value:function(t){var r=this;this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame((function(e){var t=!!r._renderNextFrame;r._frame=null,r._renderNextFrame=null,t&&r._render(e)})))}},{key:"_preloadTiles",value:function(t){var r=this,n=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(n,(function(e,r){return e._preloadTiles(t,r)}),(function(){r.triggerRepaint()})),this}},{key:"_onWindowOnline",value:function(){this._update()}},{key:"_onWindowResize",value:function(e){this._trackResize&&this.resize({originalEvent:e})._update()}},{key:"showTileBoundaries",get:function(){return!!this._showTileBoundaries},set:function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}},{key:"showTerrainWireframe",get:function(){return!!this._showTerrainWireframe},set:function(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}},{key:"speedIndexTiming",get:function(){return!!this._speedIndexTiming},set:function(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}},{key:"showPadding",get:function(){return!!this._showPadding},set:function(e){this._showPadding!==e&&(this._showPadding=e,this._update())}},{key:"showCollisionBoxes",get:function(){return!!this._showCollisionBoxes},set:function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}},{key:"showOverdrawInspector",get:function(){return!!this._showOverdrawInspector},set:function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}},{key:"repaint",get:function(){return!!this._repaint},set:function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}},{key:"vertices",get:function(){return!!this._vertices},set:function(e){this._vertices=e,this._update()}},{key:"_setCacheLimits",value:function(t,r){e.setCacheLimits(t,r)}},{key:"version",get:function(){return e.version}}]),c}(Yo),NavigationControl:function(){function t(r){var n=this;m(this,t),this.options=e.extend({},ui,r),this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",(function(e){n._map&&n._map.zoomIn({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",(function(e){n._map&&n._map.zoomOut({},{originalEvent:e})})),g("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",(function(e){var t=n._map;t&&(n.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))})),this._compassIcon=g("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}return y(t,[{key:"_updateZoomButtons",value:function(){var e=this._map;if(e){var t=e.getZoom(),r=t===e.getMaxZoom(),n=t===e.getMinZoom();this._zoomInButton.disabled=r,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",r.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}}},{key:"_rotateCompassArrow",value:function(){var e=this,t=this._map;if(t){var r=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(t.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(t.transform.pitch,"deg) rotateZ(").concat(t.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(t.transform.angle*(180/Math.PI),"deg)");t._requestDomTask((function(){e._compassIcon&&(e._compassIcon.style.transform=r)}))}}},{key:"onAdd",value:function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ci(e,this._compass,this.options.visualizePitch)),this._container}},{key:"onRemove",value:function(){var e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}},{key:"_createButton",value:function(e,t){var r=g("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}},{key:"_setButtonTitle",value:function(e,t){if(this._map){var r=this._map._getUIString("NavigationControl.".concat(t));e.setAttribute("aria-label",r),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}}}]),t}(),GeolocateControl:function(t){p(n,t);var r=v(n);function n(t){var i;return m(this,n),(i=r.call(this)).options=e.extend({},fi,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],o(i)),i._updateMarkerRotationThrottled=Qn(i._updateMarkerRotation,20),i}return y(n,[{key:"onAdd",value:function(t){var r;return this._map=t,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),r=this._setupUI,void 0!==li?r(li):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){li="denied"!==e.state,r(li)})):(li=!!e.window.navigator.geolocation,r(li)),this._container}},{key:"onRemove",value:function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,di=0,hi=!1}},{key:"_isOutOfMapMaxBounds",value:function(e){var t=this._map.getMaxBounds(),r=e.coords;return!!t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())}},{key:"_setErrorState",value:function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}},{key:"_onSuccess",value:function(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}},{key:"_updateCamera",value:function(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,o=this._map.getBearing(),i=e.extend({bearing:o},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),i,{geolocateSource:!0})}},{key:"_updateMarker",value:function(t){if(t){var r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}},{key:"_updateCircleRadius",value:function(){var e=this._map._containerHeight/2,t=this._map.unproject([0,e]),r=this._map.unproject([100,e]),n=t.distanceTo(r)/100,o=Math.ceil(2*this._accuracy/n);this._circleElement.style.width="".concat(o,"px"),this._circleElement.style.height="".concat(o,"px")}},{key:"_onZoom",value:function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}},{key:"_updateMarkerRotation",value:function(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}},{key:"_onError",value:function(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&hi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}},{key:"_finish",value:function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}},{key:"_setupUI",value:function(t){var r=this;if(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=g("button","mapboxgl-ctrl-geolocate",this._container),g("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",o),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=g("div","mapboxgl-user-location"),this._dotElement.appendChild(g("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(g("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ni({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=g("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ni({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==r._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(r._watchState="BACKGROUND",r._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),r._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),r.fire(new e.Event("trackuserlocationend")))}))}},{key:"_onDeviceOrientation",value:function(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}},{key:"trigger",value:function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":di--,hi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var t;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++di>1?(t={maximumAge:6e5,timeout:0},hi=!0):(t=this.options.positionOptions,hi=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}},{key:"_addDeviceOrientationListener",value:function(){var t=this,r=function(){e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(e){"granted"===e&&r()})).catch(console.error):r()}},{key:"_clearWatch",value:function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}}]),n}(e.Evented),AttributionControl:Jo,ScaleControl:function(){function t(r){m(this,t),this.options=e.extend({},pi,r),e.bindAll(["_onMove","setUnit"],this)}return y(t,[{key:"getDefaultPosition",value:function(){return"bottom-left"}},{key:"_onMove",value:function(){vi(this._map,this._container,this.options)}},{key:"onAdd",value:function(e){return this._map=e,this._container=g("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}},{key:"onRemove",value:function(){this._container.remove(),this._map.off("move",this._onMove),this._map=void 0}},{key:"setUnit",value:function(e){this.options.unit=e,vi(this._map,this._container,this.options)}}]),t}(),FullscreenControl:function(){function t(r){m(this,t),this._fullscreen=!1,r&&r.container&&(r.container instanceof e.window.HTMLElement?this._container=r.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}return y(t,[{key:"onAdd",value:function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=g("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}},{key:"onRemove",value:function(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_checkFullscreenSupport",value:function(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}},{key:"_setupUI",value:function(){var t=this._fullscreenButton=g("button","mapboxgl-ctrl-fullscreen",this._controlContainer);g("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}},{key:"_updateTitle",value:function(){var e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}},{key:"_getTitle",value:function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}},{key:"_isFullscreen",value:function(){return this._fullscreen}},{key:"_changeIcon",value:function(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}},{key:"_onClickFullscreen",value:function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}}]),t}(),Popup:function(t){p(n,t);var r=v(n);function n(t){var i;return m(this,n),(i=r.call(this)).options=e.extend(Object.create(yi),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],o(i)),i._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[]),i}return y(n,[{key:"addTo",value:function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}},{key:"isOpen",value:function(){return!!this._map}},{key:"remove",value:function(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);var t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new e.Event("close")),this}},{key:"getLngLat",value:function(){return this._lngLat}},{key:"setLngLat",value:function(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();var r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}},{key:"trackPointer",value:function(){this._trackPointer=!0,this._pos=null,this._update();var e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}},{key:"getElement",value:function(){return this._container}},{key:"setText",value:function(t){return this.setDOMContent(e.window.document.createTextNode(t))}},{key:"setHTML",value:function(t){var r,n=e.window.document.createDocumentFragment(),o=e.window.document.createElement("body");for(o.innerHTML=t;r=o.firstChild;)n.appendChild(r);return this.setDOMContent(n)}},{key:"getMaxWidth",value:function(){return this._container&&this._container.style.maxWidth}},{key:"setMaxWidth",value:function(e){return this.options.maxWidth=e,this._update(),this}},{key:"setDOMContent",value:function(e){var t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=g("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){var r=this._closeButton=g("button","mapboxgl-popup-close-button",t);r.type="button",r.setAttribute("aria-label","Close popup"),r.setAttribute("aria-hidden","true"),r.innerHTML="&#215;",r.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}},{key:"addClassName",value:function(e){return this._classList.add(e),this._updateClassList(),this}},{key:"removeClassName",value:function(e){return this._classList.delete(e),this._updateClassList(),this}},{key:"setOffset",value:function(e){return this.options.offset=e,this._update(),this}},{key:"toggleClassName",value:function(e){var t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}},{key:"_onMouseEvent",value:function(e){this._update(e.point)}},{key:"_getAnchor",value:function(e){if(this.options.anchor)return this.options.anchor;var t=this._map,r=this._container,n=this._pos;if(!t||!r||!n)return"bottom";var o=r.offsetWidth,i=r.offsetHeight,a=n.x<o/2,s=n.x>t.transform.width-o/2;if(n.y+e<i)return a?"top-left":s?"top-right":"top";if(n.y>t.transform.height-i){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}},{key:"_updateClassList",value:function(){var e=this._container;if(e){var t=c(this._classList);t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-".concat(this._anchor)),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}}},{key:"_update",value:function(e){var t=this,r=this._map,n=this._content;if(r&&(this._lngLat||this._trackPointer)&&n){var o=this._container;if(o||(o=this._container=g("div","mapboxgl-popup",r.getContainer()),this._tip=g("div","mapboxgl-popup-tip",o),o.appendChild(n)),this.options.maxWidth&&o.style.maxWidth!==this.options.maxWidth&&(o.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ti(this._lngLat,this._pos,r.transform)),!this._trackPointer||e){var i=this._pos=this._trackPointer&&e?e:r.project(this._lngLat),a=bi(this.options.offset),s=this._anchor=this._getAnchor(a.y),l=bi(this.options.offset,s),u=i.add(l).round();r._requestDomTask((function(){t._container&&s&&(t._container.style.transform="".concat(ri[s]," translate(").concat(u.x,"px,").concat(u.y,"px)"))}))}this._updateClassList()}}},{key:"_focusFirstElement",value:function(){if(this.options.focusAfterOpen&&this._container){var e=this._container.querySelector(gi);e&&e.focus()}}},{key:"_onClose",value:function(){this.remove()}},{key:"_setOpacity",value:function(e){this._content&&(this._content.style.opacity=e),this._tip&&(this._tip.style.opacity=e)}}]),n}(e.Evented),Marker:ni,Style:sr,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:qn,Evented:e.Evented,config:e.config,prewarm:function(){Je().acquire(Ke)},clearPrewarmedResources:function(){var e=$e;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Ke),$e=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Ye.workerCount},set workerCount(e){Ye.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return _i})),r}()},8660:function(e,t,r){var n=r(4575).default,o=r(3913).default;e.exports=function(){"use strict";function e(){n(this,e),this.x=0,this.y=0,this.z=0}return o(e,[{key:"findFurthestPoint",value:function(e,t,r,n,o,i){return this.x=e-r>t/2?0:t,this.y=n-i>o/2?0:o,this.z=Math.hypot(this.x-(e-r),this.y-(n-i)),this.z}},{key:"appyStyles",value:function(e,t,r,n,o){e.classList.add("ripple"),e.style.backgroundColor="dark"===t?"rgba(0,0,0, 0.2)":"rgba(255,255,255, 0.3)",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.position="absolute",e.style.left=o.clientX-r.left-n+"px",e.style.top=o.clientY-r.top-n+"px",e.style.width=e.style.height=2*n+"px"}},{key:"applyAnimation",value:function(e){e.animate([{transform:"scale(0)",opacity:1},{transform:"scale(1.5)",opacity:0}],{duration:500,easing:"linear"})}},{key:"create",value:function(e,t){var r=e.currentTarget;r.style.position="relative",r.style.overflow="hidden";var n=r.getBoundingClientRect(),o=this.findFurthestPoint(e.clientX,r.offsetWidth,n.left,e.clientY,r.offsetHeight,n.top),i=document.createElement("span");this.appyStyles(i,t,n,o,e),this.applyAnimation(i),r.appendChild(i),setTimeout((function(){return i.remove()}),500)}}]),e}()},9526:function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n,o=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function a(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},n=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],u=r[l]||0,c="".concat(l," ").concat(u);r[l]=u+1;var f=a(c),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==f?(i[f].references++,i[f].updater(d)):i.push({identifier:c,updater:v(d,t),references:1}),n.push(c)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,p=0;function v(e,t){var r,n,o;if(t.singleton){var i=p++;r=h||(h=l(t)),n=f.bind(null,r,i,!1),o=f.bind(null,r,i,!0)}else r=l(t),n=d.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=a(r[n]);i[o].references--}for(var l=s(e,t),u=0;u<r.length;u++){var c=a(r[u]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=l}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,o,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=(r=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&o[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=r(3),a=(n=i)&&n.__esModule?n:{default:n};r(4),r(6);var s=a.default.forwardRef((function(e,t){var r=e.baseClassName||"multi-range-slider",n=parseFloat(e.min||0),s=parseFloat(e.max||100),l=parseFloat(e.step||5),u=(s-n)/l,c=void 0===e.ruler||null===e.ruler||e.ruler,f=void 0===e.label||null===e.label||e.label;c=!("false"===c||!c),f=!("false"===f||!f);var d="true"===e.preventWheel||!0===e.preventWheel||!1,h=(0,i.useState)(parseFloat(e.minValue||25)),p=o(h,2),v=p[0],m=p[1],y=(0,i.useState)(parseFloat(e.maxValue||75)),g=o(y,2),b=g[0],_=g[1],x=(0,i.useState)((v-n)/(s-n)*100),w=o(x,2),k=w[0],E=w[1],T=(0,i.useState)((s-b)/(s-n)*100),S=o(T,2),C=S[0],A=S[1],I=(0,i.useRef)(),M=null,P=null,O=0,z=null,R=function(e){if(P=e.clientX,"touchstart"===e.type){if(1!==e.touches.length)return;P=e.touches[0].clientX}O=v,z=e.target.parentNode,M=z.getBoundingClientRect(),document.addEventListener("mousemove",D),document.addEventListener("mouseup",L),document.addEventListener("touchmove",D),document.addEventListener("touchend",L),z.classList.add("active")},D=function(e){var t=e.clientX;"touchmove"===e.type&&(t=e.touches[0].clientX);var r=(t-P)/M.width,o=O+(s-n)*r,i=0;(""+l).indexOf(".")>=0&&(i=2),(o=parseFloat(o.toFixed(i)))<n?o=n:o>b-l&&(o=b-l),m(o),E((o-n)/(s-n)*100),B(o,b)},L=function e(t){document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",e),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",e),z.classList.remove("active")},j=function(e){if(P=e.clientX,"touchstart"===e.type){if(1!==e.touches.length)return;P=e.touches[0].clientX}O=b,z=e.target.parentNode,M=z.getBoundingClientRect(),document.addEventListener("mousemove",F),document.addEventListener("mouseup",N),document.addEventListener("touchmove",F),document.addEventListener("touchend",N),z.classList.add("active")},F=function(e){var t=e.clientX;"touchmove"===e.type&&(t=e.touches[0].clientX);var r=(t-P)/M.width,o=O+(s-n)*r,i=0;(""+l).indexOf(".")>=0&&(i=2),(o=parseFloat(o.toFixed(i)))<v+l?o=v+l:o>s&&(o=s),_(o),A((s-o)/(s-n)*100),B(v,o)},N=function e(t){document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",e),document.removeEventListener("touchmove",F),document.removeEventListener("touchend",e),z.classList.remove("active")},B=function(t,r){var o={min:n,max:s,minValue:t,maxValue:r};e.onInput&&e.onInput(o),e.onChange&&e.onChange(o)};return(0,i.useEffect)((function(){I.current.parentNode.addEventListener("wheel",(function(e){!0!==d&&(e.shiftKey||e.ctrlKey)&&e.preventDefault()}))}),[d]),(0,i.useEffect)((function(){m(parseFloat(e.minValue)),E((v-n)/(s-n)*100),_(parseFloat(e.maxValue)),A((s-b)/(s-n)*100)}),[e.minValue,e.maxValue,v,n,b,s]),a.default.createElement("div",{className:r,onWheel:function(e){if(!0!==d&&(e.shiftKey||e.ctrlKey)){var t=(s-n)/100;t>1&&(t=1),e.deltaY<0&&(t=-t);var r=v,o=b;e.shiftKey&&e.ctrlKey?r+t>=n&&o+t<=s&&(r+=t,o+=t):e.ctrlKey?((t=o+t)<r+l?t=r+l:t>s&&(t=s),o=t):e.shiftKey&&((t=r+t)<n?t=n:t>o-l&&(t=o-l),r=t),_(o),m(r),E((r-n)/(s-n)*100),A((s-o)/(s-n)*100),B(r,o)}},ref:t},a.default.createElement("div",{className:"bar",ref:I},a.default.createElement("div",{className:"bar-left",style:{width:k+"%"},onClick:function(e){var t=v-l;t<n&&(t=n),m(t),E((t-n)/(s-n)*100),B(t,b)}}),a.default.createElement("input",{className:"input-type-range input-type-range-min",type:"range",min:n,max:s,step:l,value:v,onInput:function(e){var t=parseFloat(e.target.value);t>b-l&&(t=b-l),m(t),E((t-n)/(s-n)*100),B(t,b)}}),a.default.createElement("div",{className:"thumb thumb-left",onMouseDown:R,onTouchStart:R},a.default.createElement("div",{className:"min-value"},v)),a.default.createElement("div",{className:"bar-inner"},a.default.createElement("div",{className:"bar-inner-left",onClick:function(e){var t=v+l;t>b-l&&(t=b-l),m(t),E((t-n)/(s-n)*100),B(t,b)}}),a.default.createElement("div",{className:"bar-inner-right",onClick:function(e){var t=b-l;t<v+l&&(t=v+l),_(t),A((s-t)/(s-n)*100),B(v,t)}})),a.default.createElement("input",{className:"input-type-range input-type-range-max",type:"range",min:n,max:s,step:l,value:b,onInput:function(e){var t=parseFloat(e.target.value);t<v+l&&(t=v+l),_(t),A((s-t)/(s-n)*100),B(v,t)}}),a.default.createElement("div",{className:"thumb thumb-right",onMouseDown:j,onTouchStart:j},a.default.createElement("div",{className:"max-value"},b)),a.default.createElement("div",{className:"bar-right",style:{width:C+"%"},onClick:function(e){var t=b+l;t>s&&(t=s),_(t),A((s-t)/(s-n)*100),B(v,t)}})),c&&a.default.createElement("div",{className:"ruler"},[].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(Array(u))).map((function(e,t){return a.default.createElement("div",{key:t,className:"ruler-rule"})}))),f&&a.default.createElement("div",{className:"label"},a.default.createElement("div",{className:"label-min"},n),a.default.createElement("div",{className:"label-max"},s)))}));t.default=s},function(e,t){e.exports=r(2791)},function(e,t,r){var n=r(0),o=r(5);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,".multi-range-slider * {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0px;\r\n\tmargin: 0px;\r\n}\r\n.multi-range-slider {\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tborder: solid 1px gray;\r\n\tborder-radius: 10px;\r\n\tpadding: 20px 10px;\r\n\tbox-shadow: 1px 1px 4px black;\r\n\tflex-direction: column;\r\n\t-webkit-touch-callout: none; /* iOS Safari */\r\n\t-webkit-user-select: none; /* Safari */\r\n\t-khtml-user-select: none; /* Konqueror HTML */\r\n\t-moz-user-select: none; /* Old versions of Firefox */\r\n\t-ms-user-select: none; /* Internet Explorer/Edge */\r\n\tuser-select: none; /* Non-prefixed version, currently supported by Chrome, Edge,*/\r\n}\r\n.multi-range-slider .bar {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider .bar * {\r\n\ttransition: all 100ms;\r\n}\r\n.multi-range-slider .bar.active * {\r\n\ttransition: none;\r\n}\r\n.multi-range-slider .bar-left {\r\n\twidth: 25%;\r\n\tbackground-color: #f0f0f0;\r\n\tborder-radius: 10px 0px 0px 10px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tpadding: 4px 0px;\r\n}\r\n.multi-range-slider .bar-right {\r\n\twidth: 25%;\r\n\tbackground-color: #f0f0f0;\r\n\tborder-radius: 0px 10px 10px 0px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider .bar-inner {\r\n\tbackground-color: lime;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tjustify-content: space-between;\r\n\tposition: relative;\r\n\tborder: solid 1px black;\r\n\tjustify-content: space-between;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider .bar-inner-left {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider .bar-inner-right {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider .thumb {\r\n\tbackground-color: red;\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider .thumb::before {\r\n\tcontent: '';\r\n\tbackground-color: white;\r\n\tposition: absolute;\r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: solid 1px black;\r\n\tbox-shadow: 0px 0px 3px black, inset 0px 0px 5px gray;\r\n\tborder-radius: 50%;\r\n\tz-index: 1;\r\n\tmargin: -8px;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider .input-type-range:focus + .thumb::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -4px;\r\n\tleft: -4px;\r\n\twidth: 11px;\r\n\theight: 11px;\r\n\tz-index: 2;\r\n\tborder-radius: 50%;\r\n\tborder: dotted 1px black;\r\n\tbox-shadow: 0px 0px 5px white, inset 0px 0px 10px black;\r\n}\r\n\r\n.multi-range-slider .thumb * {\r\n\tposition: absolute;\r\n\tbottom: 25px;\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tleft: -15px;\r\n\tfont-size: 75%;\r\n\ttext-align: center;\r\n\tline-height: 30px;\r\n\tbackground-color: blue;\r\n\tborder-radius: 50%;\r\n\tcolor: white;\r\n\tbox-shadow: 0px 0px 5px black;\r\n\tdisplay: none;\r\n}\r\n.multi-range-slider .thumb:active * {\r\n\tdisplay: block;\r\n}\r\n.input-type-range {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\twidth: 100%;\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n\r\n.multi-range-slider .ruler {\r\n\tmargin: 10px 0px -5px 0px;\r\n\tdisplay: flex;\r\n\t/* display: none; */\r\n}\r\n.multi-range-slider .ruler .ruler-rule {\r\n\tborder-left: solid 1px;\r\n\tborder-bottom: solid 1px;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 5px 0px;\r\n}\r\n\r\n.multi-range-slider .ruler .ruler-rule:last-child {\r\n\tborder-right: solid 1px;\r\n}\r\n\r\n.multi-range-slider .label {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0px;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: -20px;\r\n\t/* display: none; */\r\n}\r\n.multi-range-slider .label-min {\r\n\tfont-size: 80%;\r\n}\r\n.multi-range-slider .label-max {\r\n\tfont-size: 80%;\r\n}\r\n",""]),e.exports=t},function(e,t,r){var n=r(0),o=r(7);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);n(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,".multi-range-slider-black * {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0px;\r\n\tmargin: 0px;\r\n}\r\n.multi-range-slider-black {\r\n\tdisplay: flex;\r\n\tposition: relative;\r\n\tbackground-color: black;\r\n\tborder: solid 1px gray;\r\n\tpadding: 30px 10px 25px 10px;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n\r\n\t-webkit-touch-callout: none; /* iOS Safari */\r\n\t-webkit-user-select: none; /* Safari */\r\n\t-khtml-user-select: none; /* Konqueror HTML */\r\n\t-moz-user-select: none; /* Old versions of Firefox */\r\n\t-ms-user-select: none; /* Internet Explorer/Edge */\r\n\tuser-select: none; /* Non-prefixed version, currently supported by Chrome, Edge,*/\r\n}\r\n.multi-range-slider-black .bar {\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider-black .bar * {\r\n\ttransition: all 100ms;\r\n}\r\n.multi-range-slider-black .bar.active * {\r\n\ttransition: none;\r\n}\r\n.multi-range-slider-black .bar-left {\r\n\twidth: 25%;\r\n\tbackground-color: gray;\r\n\tborder-radius: 10px 0px 0px 10px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tborder: solid 1px black;\r\n\tpadding: 5px 0px;\r\n}\r\n.multi-range-slider-black .bar-right {\r\n\twidth: 25%;\r\n\tbackground-color: gray;\r\n\tborder-radius: 0px 10px 10px 0px;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n\tborder: solid 1px black;\r\n}\r\n.multi-range-slider-black .bar-inner {\r\n\tbackground-color: lime;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tjustify-content: space-between;\r\n\tposition: relative;\r\n\tborder: solid 1px black;\r\n\tjustify-content: space-between;\r\n\tbox-shadow: inset 0px 0px 5px black;\r\n}\r\n.multi-range-slider-black .bar-inner-left {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider-black .bar-inner-right {\r\n\twidth: 50%;\r\n}\r\n.multi-range-slider-black .thumb {\r\n\tbackground-color: red;\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider-black .thumb::before {\r\n\tcontent: '';\r\n\tbackground-color: white;\r\n\tposition: absolute;\r\n\twidth: 20px;\r\n\theight: 30px;\r\n\tborder: solid 1px black;\r\n\tbox-shadow: 0px 0px 5px black, inset 0px 0px 10px gray;\r\n\tborder-radius: 7px;\r\n\tz-index: 1;\r\n\tmargin: -10px;\r\n\tcursor: pointer;\r\n}\r\n.multi-range-slider-black .input-type-range:focus + .thumb::after {\r\n\tcontent: '';\r\n\tposition: absolute;\r\n\ttop: -6px;\r\n\tleft: -6px;\r\n\twidth: 12px;\r\n\theight: 22px;\r\n\tz-index: 2;\r\n\tborder-radius: 7px;\r\n\tborder: dotted 1px black;\r\n\tbox-shadow: 0px 0px 5px white, inset 0px 0px 10px black;\r\n}\r\n\r\n.multi-range-slider-black .thumb * {\r\n\tposition: absolute;\r\n\tbottom: 25px;\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tleft: -15px;\r\n\tfont-size: 75%;\r\n\ttext-align: center;\r\n\tline-height: 30px;\r\n\tbackground-color: blue;\r\n\tborder-radius: 50%;\r\n\tcolor: white;\r\n\tbox-shadow: 0px 0px 5px black;\r\n}\r\n.multi-range-slider-black .thumb:active * {\r\n\tdisplay: block;\r\n}\r\n.input-type-range {\r\n\tposition: absolute;\r\n\ttop: 0px;\r\n\tleft: 0px;\r\n\twidth: 100%;\r\n\topacity: 0;\r\n\tpointer-events: none;\r\n}\r\n\r\n.multi-range-slider-black .ruler {\r\n\tmargin: 10px 0px -5px 0px;\r\n\tdisplay: flex;\r\n}\r\n.multi-range-slider-black .ruler .ruler-rule {\r\n\tborder-left: solid 1px;\r\n\tborder-bottom: solid 1px;\r\n\tdisplay: flex;\r\n\tflex-grow: 1;\r\n\tflex-shrink: 1;\r\n\tpadding: 5px 0px;\r\n}\r\n\r\n.multi-range-slider-black .ruler .ruler-rule:last-child {\r\n\tborder-right: solid 1px;\r\n}\r\n\r\n.multi-range-slider-black .label {\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 0px;\r\n\tmargin-top: 10px;\r\n\tmargin-bottom: -20px;\r\n\t/* display: none; */\r\n}\r\n.multi-range-slider-black .label-min {\r\n\tfont-size: 80%;\r\n}\r\n.multi-range-slider-black .label-max {\r\n\tfont-size: 80%;\r\n}\r\n",""]),e.exports=t}])},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}()?Object.assign:function(e,i){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))r.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}},8872:function(e){(function(){var t,r,n,o,i,a;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},r=process.hrtime,o=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},5164:function(e){e.exports=function(e,t,r,n){var o=e[0],i=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=(n-r)/2,l=0,u=s-1;l<s;u=l++){var c=t[r+2*l+0],f=t[r+2*l+1],d=t[r+2*u+0],h=t[r+2*u+1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},5021:function(e,t,r){var n=r(5164),o=r(1850);e.exports=function(e,t,r,i){return t.length>0&&Array.isArray(t[0])?o(e,t,r,i):n(e,t,r,i)},e.exports.nested=o,e.exports.flat=n},1850:function(e){e.exports=function(e,t,r,n){var o=e[0],i=e[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=t.length);for(var s=n-r,l=0,u=s-1;l<s;u=l++){var c=t[l+r][0],f=t[l+r][1],d=t[u+r][0],h=t[u+r][1];f>i!==h>i&&o<(d-c)*(i-f)/(h-f)+c&&(a=!a)}return a}},888:function(e,t,r){"use strict";var n=r(9047);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},2007:function(e,t,r){e.exports=r(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var r=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,o=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,s=new t(512),l=new t(512),u=new t(512);function c(e){return s.get(e)||s.set(e,f(e).map((function(e){return e.replace(a,"$2")})))}function f(e){return e.match(r)||[""]}function d(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function h(e){return!d(e)&&(function(e){return e.match(o)&&!e.match(n)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:c,setter:function(e){var t=c(e);return l.get(e)||l.set(e,(function(e,r){for(var n=0,o=t.length,i=e;n<o-1;){var a=t[n];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;i=i[t[n++]]}i[t[n]]=r}))},getter:function(e,t){var r=c(e);return u.get(e)||u.set(e,(function(e){for(var n=0,o=r.length;n<o;){if(null==e&&t)return;e=e[r[n++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(d(t)||n.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,r){!function(e,t,r){var n,o,i,a,s=e.length;for(o=0;o<s;o++)(n=e[o])&&(h(n)&&(n='"'+n+'"'),i=!(a=d(n))&&/^\d+$/.test(n),t.call(r,n,a,i,o,e))}(Array.isArray(e)?e:f(e),t,r)}}},4245:function(e,t,r){"use strict";var n=r(9713).default,o=r(3038).default,i=r(3269).default,a=r(319).default,s=r(499),l=r(9412),u=r(845),c=r(2683),f=Symbol("encodeFragmentIdentifier");function d(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function h(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function p(e,t){return t.decode?l(e):e}function v(e){return Array.isArray(e)?e.sort():"object"===typeof e?v(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}function m(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){var t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function g(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function b(e,t){d((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"colon-list-separator":return function(e,r,n){t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var o="string"===typeof r&&r.includes(e.arrayFormatSeparator),i="string"===typeof r&&!o&&p(r,e).includes(e.arrayFormatSeparator);r=i?p(r,e):r;var a=o||i?r.split(e.arrayFormatSeparator).map((function(t){return p(t,e)})):null===r?r:p(r,e);n[t]=a};case"bracket-separator":return function(t,r,n){var o=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),o){var i=null===r?[]:r.split(e.arrayFormatSeparator).map((function(t){return p(t,e)}));void 0!==n[t]?n[t]=[].concat(n[t],i):n[t]=i}else n[t]=r?p(r,e):r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!==typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;var a,s=i(e.split("&"));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(""!==l){var c=u(t.decode?l.replace(/\+/g," "):l,"="),f=o(c,2),h=f[0],m=f[1];m=void 0===m?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?m:p(m,t),r(p(h,t),m,n)}}}catch(T){s.e(T)}finally{s.f()}for(var y=0,b=Object.keys(n);y<b.length;y++){var _=b[y],x=n[_];if("object"===typeof x&&null!==x)for(var w=0,k=Object.keys(x);w<k.length;w++){var E=k[w];x[E]=g(x[E],t)}else n[_]=g(x,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((function(e,t){var r=n[t];return Boolean(r)&&"object"===typeof r&&!Array.isArray(r)?e[t]=v(r):e[t]=r,e}),Object.create(null))}t.extract=y,t.parse=b,t.stringify=function(e,t){if(!e)return"";d((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&(null===(n=e[r])||void 0===n)||t.skipEmptyString&&""===e[r];var n},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[h(t,e),"[",o,"]"].join("")]:[[h(t,e),"[",h(o,e),"]=",h(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[h(t,e),"[]"].join("")]:[[h(t,e),"[]=",h(n,e)].join("")])}};case"colon-list-separator":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[h(t,e),":list="].join("")]:[[h(t,e),":list=",h(n,e)].join("")])}};case"comma":case"separator":case"bracket-separator":var t="bracket-separator"===e.arrayFormat?"[]=":"=";return function(r){return function(n,o){return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length?[[h(r,e),t,h(o,e)].join("")]:[[n,h(o,e)].join(e.arrayFormatSeparator)])}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[h(t,e)]:[[h(t,e),"=",h(n,e)].join("")])}}}}(t),o={},i=0,s=Object.keys(e);i<s.length;i++){var l=s[i];r(l)||(o[l]=e[l])}var u=Object.keys(o);return!1!==t.sort&&u.sort(t.sort),u.map((function(r){var o=e[r];return void 0===o?"":null===o?h(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?h(r,t)+"[]":o.reduce(n(r),[]).join("&"):h(r,t)+"="+h(o,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=u(e,"#"),n=o(r,2),i=n[0],a=n[1];return Object.assign({url:i.split("?")[0]||"",query:b(y(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:p(a,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign(n({encode:!0,strict:!0},f,!0),r);var o=m(e.url).split("?")[0]||"",i=t.extract(e.url),a=t.parse(i,{sort:!1}),s=Object.assign(a,e.query),l=t.stringify(s,r);l&&(l="?".concat(l));var u=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u="#".concat(r[f]?h(e.fragmentIdentifier,r):e.fragmentIdentifier)),"".concat(o).concat(l).concat(u)},t.pick=function(e,r,o){o=Object.assign(n({parseFragmentIdentifier:!0},f,!1),o);var i=t.parseUrl(e,o),a=i.url,s=i.query,l=i.fragmentIdentifier;return t.stringifyUrl({url:a,query:c(s,r),fragmentIdentifier:l},o)},t.exclude=function(e,r,n){var o=Array.isArray(r)?function(e){return!r.includes(e)}:function(e,t){return!r(e,t)};return t.pick(e,o,n)}},5475:function(e,t,r){for(var n=r(8872),o="undefined"===typeof window?r.g:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],l=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!l){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=n(),r=Math.max(0,16.666666666666668-(t-c));c=r+t,setTimeout((function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(r){setTimeout((function(){throw r}),0)}}),Math.round(r))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},337:function(e,t,r){"use strict";var n,o,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var r=document.createElementNS(e,"filter");r.setAttribute("id","gaussian-blur"),r.appendChild(t);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(r),document.body.appendChild(n)}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,u.render)(s.default.createElement(h,e),t)}(e)};var a=r(2791),s=c(a),l=c(r(2007)),u=r(4164);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=(o=n=function(e){function t(){var e,r,n;f(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.handleClickOverlay=function(e){var t=n.props,r=t.closeOnClickOutside,o=t.onClickOutside,i=e.target===n.overlay;r&&i&&(o(),n.close())},n.close=function(){var e=n.props.afterClose;m(),v(),p(e)},n.keyboardClose=function(e){var t=n.props,r=t.closeOnEscape,o=t.onKeypressEscape,i=t.keyCodeForClose,a=e.keyCode,s=27===a;i.includes(a)&&n.close(),r&&s&&(o(e),n.close())},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboardClose,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboardClose,!1),n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,t=e.title,r=e.message,o=e.buttons;return(0,e.customUI)({title:t,message:r,buttons:o,onClose:n.close})},d(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.title,n=t.message,o=t.buttons,i=t.childrenElement,a=t.customUI,l=t.overlayClassName;return s.default.createElement("div",{className:"react-confirm-alert-overlay "+l,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},s.default.createElement("div",{className:"react-confirm-alert"},a?this.renderCustomUI():s.default.createElement("div",{className:"react-confirm-alert-body"},r&&s.default.createElement("h1",null,r),n,i(),s.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map((function(t,r){return s.default.createElement("button",{key:r,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(a.Component),n.propTypes={title:l.default.string,message:l.default.string,buttons:l.default.array.isRequired,childrenElement:l.default.func,customUI:l.default.func,closeOnClickOutside:l.default.bool,closeOnEscape:l.default.bool,keyCodeForClose:l.default.arrayOf(l.default.number),willUnmount:l.default.func,afterClose:l.default.func,onClickOutside:l.default.func,onKeypressEscape:l.default.func,overlayClassName:l.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},o);function p(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function v(){var e=document.getElementById("react-confirm-alert");e&&((0,u.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}function m(){document.body.classList.remove("react-confirm-alert-body-element")}},4463:function(e,t,r){"use strict";var n=r(2791),o=r(1725),i=r(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,r,n,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,r,n){var o=y.hasOwnProperty(t)?y[t]:null;(null!==o?0===o.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,o,n)&&(r=null),n||null===o?function(e){return!!h.call(v,e)||!h.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=null===r?3!==o.type&&"":r:(t=o.attributeName,n=o.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(o=o.type)||4===o&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,k=60106,E=60107,T=60108,S=60114,C=60109,A=60110,I=60112,M=60113,P=60120,O=60115,z=60116,R=60121,D=60128,L=60129,j=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var N=Symbol.for;w=N("react.element"),k=N("react.portal"),E=N("react.fragment"),T=N("react.strict_mode"),S=N("react.profiler"),C=N("react.provider"),A=N("react.context"),I=N("react.forward_ref"),M=N("react.suspense"),P=N("react.suspense_list"),O=N("react.memo"),z=N("react.lazy"),R=N("react.block"),N("react.scope"),D=N("react.opaque.id"),L=N("react.debug_trace_mode"),j=N("react.offscreen"),F=N("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function G(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=n.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?G(e):""}function Z(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case S:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return H(e.type);case R:return H(e._render);case z:t=e._payload,e=e._init;try{return H(e(t))}catch(r){}}return null}function X(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var r=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=X(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function re(e,t){te(e,t);var r=X(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,r):t.hasOwnProperty("defaultValue")&&oe(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function oe(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ie(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+X(r),t=null,o=0;o<e.length;o++){if(e[o].value===r)return e[o].selected=!0,void(n&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:X(r)}}function ue(e,t){var r=X(t.value),n=X(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),o=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Ie=null;function Me(e){if(e=no(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=io(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Ae?Ie?Ie.push(e):Ie=[e]:Ae=e}function Oe(){if(Ae){var e=Ae,t=Ie;if(Ie=Ae=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function ze(e,t){return e(t)}function Re(e,t,r,n,o){return e(t,r,n,o)}function De(){}var Le=ze,je=!1,Fe=!1;function Ne(){null===Ae&&null===Ie||(De(),Oe())}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=io(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var Ve=!1;if(f)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(me){Ve=!1}function Ge(e,t,r,n,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var qe=!1,We=null,Ze=!1,He=null,Xe={onError:function(e){qe=!0,We=e}};function $e(e,t,r,n,o,i,a,s,l){qe=!1,We=null,Ge.apply(Xe,arguments)}function Ke(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ke(e)!==e)throw Error(a(188))}function Qe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(n=o.return)){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Je(o),e;if(i===n)return Je(o),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,ot,it=!1,at=[],st=null,lt=null,ut=null,ct=new Map,ft=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,r,n,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:o,targetContainers:[n]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,r,n,o,i){return null===e||e.nativeEvent!==i?(e=pt(t,r,n,o,i),null!==t&&(null!==(t=no(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function yt(e){var t=ro(e.target);if(null!==t){var r=Ke(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ye(r)))return e.blockedOn=t,void ot(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=no(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){gt(e)&&r.delete(t)}function _t(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=no(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&gt(st)&&(st=null),null!==lt&&gt(lt)&&(lt=null),null!==ut&&gt(ut)&&(ut=null),ct.forEach(bt),ft.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_t)))}function wt(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var r=1;r<at.length;r++){var n=at[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&xt(st,e),null!==lt&&xt(lt,e),null!==ut&&xt(ut,e),ct.forEach(t),ft.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)yt(r),null===r.blockedOn&&dt.shift()}function kt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Et={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Tt={},St={};function Ct(e){if(Tt[e])return Tt[e];if(!Et[e])return e;var t,r=Et[e];for(t in r)if(r.hasOwnProperty(t)&&t in St)return Tt[e]=r[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var At=Ct("animationend"),It=Ct("animationiteration"),Mt=Ct("animationstart"),Pt=Ct("transitionend"),Ot=new Map,zt=new Map,Rt=["abort","abort",At,"animationEnd",It,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],o=e[r+1];o="on"+(o[0].toUpperCase()+o.slice(1)),zt.set(n,t),Ot.set(n,o),u(o,[n])}}(0,i.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var r=e.pendingLanes;if(0===r)return Lt=0;var n=0,o=0,i=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==i)n=i,o=Lt=15;else if(0!==(i=134217727&r)){var l=i&~a;0!==l?(n=jt(l),o=Lt):0!==(s&=i)&&(n=jt(s),o=Lt)}else 0!==(i=r&~a)?(n=jt(i),o=Lt):0!==s&&(n=jt(s),o=Lt);if(0===n)return 0;if(n=r&((0>(n=31-qt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(jt(t),o<=Lt)return t;Lt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)o=1<<(r=31-qt(t)),n|=e[r],t&=~o;return n}function Nt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Bt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Bt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Ut(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-qt(t)]=r}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Zt|0)|0},Wt=Math.log,Zt=Math.LN2;var Ht=i.unstable_UserBlockingPriority,Xt=i.unstable_runWithPriority,$t=!0;function Kt(e,t,r,n){je||De();var o=Jt,i=je;je=!0;try{Re(o,e,t,r,n)}finally{(je=i)||Ne()}}function Yt(e,t,r,n){Xt(Ht,Jt.bind(null,e,t,r,n))}function Jt(e,t,r,n){var o;if($t)if((o=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=pt(null,e,t,r,n),at.push(e);else{var i=Qt(e,t,r,n);if(null===i)o&&vt(e,n);else{if(o){if(-1<ht.indexOf(e))return e=pt(i,e,t,r,n),void at.push(e);if(function(e,t,r,n,o){switch(t){case"focusin":return st=mt(st,e,t,r,n,o),!0;case"dragenter":return lt=mt(lt,e,t,r,n,o),!0;case"mouseover":return ut=mt(ut,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return ct.set(i,mt(ct.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,ft.set(i,mt(ft.get(i)||null,e,t,r,n,o)),!0}return!1}(i,e,t,r,n))return;vt(e,n)}Dn(e,t,n,null,r)}}}function Qt(e,t,r,n){var o=Se(n);if(null!==(o=ro(o))){var i=Ke(o);if(null===i)o=null;else{var a=i.tag;if(13===a){if(null!==(o=Ye(i)))return o;o=null}else if(3===a){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null)}}return Dn(e,t,n,o,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,o="value"in er?er.value:er.textContent,i=o.length;for(e=0;e<n&&r[e]===o[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===o[i-t];t++);return rr=o.slice(e,1<t?1-t:void 0)}function or(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ir(){return!0}function ar(){return!1}function sr(e){function t(t,r,n,o,i){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?ir:ar,this.isPropagationStopped=ar,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),t}var lr,ur,cr,fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=sr(fr),hr=o({},fr,{view:0,detail:0}),pr=sr(hr),vr=o({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&"mousemove"===e.type?(lr=e.screenX-cr.screenX,ur=e.screenY-cr.screenY):ur=lr=0,cr=e),lr)},movementY:function(e){return"movementY"in e?e.movementY:ur}}),mr=sr(vr),yr=sr(o({},vr,{dataTransfer:0})),gr=sr(o({},hr,{relatedTarget:0})),br=sr(o({},fr,{animationName:0,elapsedTime:0,pseudoElement:0})),_r=o({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=sr(_r),wr=sr(o({},fr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Er={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Cr(){return Sr}var Ar=o({},hr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=or(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Er[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(e){return"keypress"===e.type?or(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?or(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ir=sr(Ar),Mr=sr(o({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=sr(o({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr})),Or=sr(o({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0})),zr=o({},vr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=sr(zr),Dr=[9,13,27,32],Lr=f&&"CompositionEvent"in window,jr=null;f&&"documentMode"in document&&(jr=document.documentMode);var Fr=f&&"TextEvent"in window&&!jr,Nr=f&&(!Lr||jr&&8<jr&&11>=jr),Br=String.fromCharCode(32),Vr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Dr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wr[e.type]:"textarea"===t}function Hr(e,t,r,n){Pe(n),0<(t=jn(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xr=null,$r=null;function Kr(e){In(e,0)}function Yr(e){if(Y(oo(e)))return e}function Jr(e,t){if("change"===e)return t}var Qr=!1;if(f){var en;if(f){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"===typeof rn.oninput}en=tn}else en=!1;Qr=en&&(!document.documentMode||9<document.documentMode)}function nn(){Xr&&(Xr.detachEvent("onpropertychange",on),$r=Xr=null)}function on(e){if("value"===e.propertyName&&Yr($r)){var t=[];if(Hr(t,$r,e,Se(e)),e=Kr,je)e(t);else{je=!0;try{ze(e,t)}finally{je=!1,Ne()}}}}function an(e,t,r){"focusin"===e?(nn(),$r=r,(Xr=t).attachEvent("onpropertychange",on)):"focusout"===e&&nn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr($r)}function ln(e,t){if("click"===e)return Yr(t)}function un(e,t){if("input"===e||"change"===e)return Yr(t)}var cn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fn=Object.prototype.hasOwnProperty;function dn(e,t){if(cn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!fn.call(t,r[n])||!cn(e[r[n]],t[r[n]]))return!1;return!0}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var r,n=hn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hn(n)}}function vn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gn=f&&"documentMode"in document&&11>=document.documentMode,bn=null,_n=null,xn=null,wn=!1;function kn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;wn||null==bn||bn!==J(n)||("selectionStart"in(n=bn)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&dn(xn,n)||(xn=n,0<(n=jn(_n,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var En="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tn=0;Tn<En.length;Tn++)zt.set(En[Tn],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sn));function An(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,o,i,s,l,u){if($e.apply(this,arguments),qe){if(!qe)throw Error(a(198));var c=We;qe=!1,We=null,Ze||(Ze=!0,He=c)}}(n,t,void 0,e),e.currentTarget=null}function In(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;An(o,s,u),i=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;An(o,s,u),i=l}}}if(Ze)throw e=He,Ze=!1,He=null,e}function Mn(e,t){var r=ao(t),n=e+"__bubble";r.has(n)||(Rn(t,e,2,!1),r.add(n))}var Pn="_reactListening"+Math.random().toString(36).slice(2);function On(e){e[Pn]||(e[Pn]=!0,s.forEach((function(t){Cn.has(t)||zn(t,!1,e,null),zn(t,!0,e,null)})))}function zn(e,t,r,n){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=r;if("selectionchange"===e&&9!==r.nodeType&&(i=r.ownerDocument),null!==n&&!t&&Cn.has(e)){if("scroll"!==e)return;o|=2,i=n}var a=ao(i),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(o|=4),Rn(i,e,o,t),a.add(s))}function Rn(e,t,r,n){var o=zt.get(t);switch(void 0===o?2:o){case 0:o=Kt;break;case 1:o=Yt;break;default:o=Jt}r=o.bind(null,t,r,e),o=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),n?void 0!==o?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):void 0!==o?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Dn(e,t,r,n,o){var i=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=ro(s)))return;if(5===(l=a.tag)||6===l){n=i=a;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Fe)return e(t,r);Fe=!0;try{Le(e,t,r)}finally{Fe=!1,Ne()}}((function(){var n=i,o=Se(r),a=[];e:{var s=Ot.get(e);if(void 0!==s){var l=dr,u=e;switch(e){case"keypress":if(0===or(r))break e;case"keydown":case"keyup":l=Ir;break;case"focusin":u="focus",l=gr;break;case"focusout":u="blur",l=gr;break;case"beforeblur":case"afterblur":l=gr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case At:case It:case Mt:l=br;break;case Pt:l=Or;break;case"scroll":l=pr;break;case"wheel":l=Rr;break;case"copy":case"cut":case"paste":l=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mr}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=n;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Be(p,d))&&c.push(Ln(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,o),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=r.relatedTarget||r.fromElement)||!ro(u)&&!u[eo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?ro(u):null)&&(u!==(f=Ke(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=mr,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mr,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==l?s:oo(l),h=null==u?s:oo(u),(s=new c(v,p+"leave",l,r,o)).target=f,s.relatedTarget=h,v=null,ro(o)===n&&((c=new c(d,p+"enter",u,r,o)).target=h,c.relatedTarget=f,v=c),f=v,l&&u)e:{for(d=u,p=0,h=c=l;h;h=Fn(h))p++;for(h=0,v=d;v;v=Fn(v))h++;for(;0<p-h;)c=Fn(c),p--;for(;0<h-p;)d=Fn(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fn(c),d=Fn(d)}c=null}else c=null;null!==l&&Nn(a,s,l,c,!1),null!==u&&null!==f&&Nn(a,f,u,c,!0)}if("select"===(l=(s=n?oo(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Jr;else if(Zr(s))if(Qr)m=un;else{m=sn;var y=an}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ln);switch(m&&(m=m(e,n))?Hr(a,m,r,o):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&oe(s,"number",s.value)),y=n?oo(n):window,e){case"focusin":(Zr(y)||"true"===y.contentEditable)&&(bn=y,_n=n,xn=null);break;case"focusout":xn=_n=bn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,kn(a,r,o);break;case"selectionchange":if(gn)break;case"keydown":case"keyup":kn(a,r,o)}var g;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Nr&&"ko"!==r.locale&&(qr||"onCompositionStart"!==b?"onCompositionEnd"===b&&qr&&(g=nr()):(tr="value"in(er=o)?er.value:er.textContent,qr=!0)),0<(y=jn(n,b)).length&&(b=new wr(b,e,null,r,o),a.push({event:b,listeners:y}),g?b.data=g:null!==(g=Gr(r))&&(b.data=g))),(g=Fr?function(e,t){switch(e){case"compositionend":return Gr(t);case"keypress":return 32!==t.which?null:(Vr=!0,Br);case"textInput":return(e=t.data)===Br&&Vr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!Lr&&Ur(e,t)?(e=nr(),rr=tr=er=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=jn(n,"onBeforeInput")).length&&(o=new wr("onBeforeInput","beforeinput",null,r,o),a.push({event:o,listeners:n}),o.data=g))}In(a,t)}))}function Ln(e,t,r){return{instance:e,listener:t,currentTarget:r}}function jn(e,t){for(var r=t+"Capture",n=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Be(e,r))&&n.unshift(Ln(e,i,o)),null!=(i=Be(e,t))&&n.push(Ln(e,i,o))),e=e.return}return n}function Fn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Nn(e,t,r,n,o){for(var i=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Be(r,i))&&a.unshift(Ln(r,l,s)):o||null!=(l=Be(r,i))&&a.push(Ln(r,l,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function Bn(){}var Vn=null,Un=null;function Gn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wn="function"===typeof setTimeout?setTimeout:void 0,Zn="function"===typeof clearTimeout?clearTimeout:void 0;function Hn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $n(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Kn=0;var Yn=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Yn,Qn="__reactProps$"+Yn,eo="__reactContainer$"+Yn,to="__reactEvents$"+Yn;function ro(e){var t=e[Jn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[eo]||r[Jn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=$n(e);null!==e;){if(r=e[Jn])return r;e=$n(e)}return t}r=(e=r).parentNode}return null}function no(e){return!(e=e[Jn]||e[eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function io(e){return e[Qn]||null}function ao(e){var t=e[to];return void 0===t&&(t=e[to]=new Set),t}var so=[],lo=-1;function uo(e){return{current:e}}function co(e){0>lo||(e.current=so[lo],so[lo]=null,lo--)}function fo(e,t){lo++,so[lo]=e.current,e.current=t}var ho={},po=uo(ho),vo=uo(!1),mo=ho;function yo(e,t){var r=e.type.contextTypes;if(!r)return ho;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in r)i[o]=t[o];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function go(e){return null!==(e=e.childContextTypes)&&void 0!==e}function bo(){co(vo),co(po)}function _o(e,t,r){if(po.current!==ho)throw Error(a(168));fo(po,t),fo(vo,r)}function xo(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(a(108,H(t)||"Unknown",i));return o({},r,n)}function wo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ho,mo=po.current,fo(po,e),fo(vo,vo.current),!0}function ko(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=xo(e,t,mo),n.__reactInternalMemoizedMergedChildContext=e,co(vo),co(po),fo(po,e)):co(vo),fo(vo,r)}var Eo=null,To=null,So=i.unstable_runWithPriority,Co=i.unstable_scheduleCallback,Ao=i.unstable_cancelCallback,Io=i.unstable_shouldYield,Mo=i.unstable_requestPaint,Po=i.unstable_now,Oo=i.unstable_getCurrentPriorityLevel,zo=i.unstable_ImmediatePriority,Ro=i.unstable_UserBlockingPriority,Do=i.unstable_NormalPriority,Lo=i.unstable_LowPriority,jo=i.unstable_IdlePriority,Fo={},No=void 0!==Mo?Mo:function(){},Bo=null,Vo=null,Uo=!1,Go=Po(),qo=1e4>Go?Po:function(){return Po()-Go};function Wo(){switch(Oo()){case zo:return 99;case Ro:return 98;case Do:return 97;case Lo:return 96;case jo:return 95;default:throw Error(a(332))}}function Zo(e){switch(e){case 99:return zo;case 98:return Ro;case 97:return Do;case 96:return Lo;case 95:return jo;default:throw Error(a(332))}}function Ho(e,t){return e=Zo(e),So(e,t)}function Xo(e,t,r){return e=Zo(e),Co(e,t,r)}function $o(){if(null!==Vo){var e=Vo;Vo=null,Ao(e)}Ko()}function Ko(){if(!Uo&&null!==Bo){Uo=!0;var e=0;try{var t=Bo;Ho(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Bo=null}catch(r){throw null!==Bo&&(Bo=Bo.slice(e+1)),Co(zo,$o),r}finally{Uo=!1}}}var Yo=x.ReactCurrentBatchConfig;function Jo(e,t){if(e&&e.defaultProps){for(var r in t=o({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Qo=uo(null),ei=null,ti=null,ri=null;function ni(){ri=ti=ei=null}function oi(e){var t=Qo.current;co(Qo),e.type._context._currentValue=t}function ii(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function ai(e,t){ei=e,ri=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function si(e,t){if(ri!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ri=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(a(308));ti=t,ei.dependencies={lanes:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var li=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ci(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function hi(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var o=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?o=i=a:i=i.next=a,r=r.next}while(null!==r);null===i?o=i=t:i=i.next=t}else o=i=t;return r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pi(e,t,r,n){var i=e.updateQueue;li=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var u=l,c=u.next;u.next=null,null===s?a=c:s.next=c,s=u;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=c:d.next=c,f.lastBaseUpdate=u)}}if(null!==a){for(d=i.baseState,s=0,f=c=u=null;;){l=a.lane;var h=a.eventTime;if((n&l)===l){null!==f&&(f=f.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(l=t,h=r,v.tag){case 1:if("function"===typeof(p=v.payload)){d=p.call(h,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=v.payload)?p.call(h,d,l):p)||void 0===l)break e;d=o({},d,l);break e;case 2:li=!0}}null!==a.callback&&(e.flags|=32,null===(l=i.effects)?i.effects=[a]:l.push(a))}else h={eventTime:h,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(c=f=h,u=d):f=f.next=h,s|=l;if(null===(a=a.next)){if(null===(l=i.shared.pending))break;a=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}null===f&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,Vs|=s,e.lanes=s,e.memoizedState=d}}function vi(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(null!==o){if(n.callback=null,n=r,"function"!==typeof o)throw Error(a(191,o));o.call(n)}}}var mi=(new n.Component).refs;function yi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:o({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var gi={isMounted:function(e){return!!(e=e._reactInternals)&&Ke(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dl(),o=hl(e),i=fi(n,o);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),di(e,i),pl(e,o,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dl(),o=hl(e),i=fi(n,o);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),di(e,i),pl(e,o,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dl(),n=hl(e),o=fi(r,n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),di(e,o),pl(e,n,r)}};function bi(e,t,r,n,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!dn(r,n)||!dn(o,i))}function _i(e,t,r){var n=!1,o=ho,i=t.contextType;return"object"===typeof i&&null!==i?i=si(i):(o=go(t)?mo:po.current,i=(n=null!==(n=t.contextTypes)&&void 0!==n)?yo(e,o):ho),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function xi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gi.enqueueReplaceState(t,t.state,null)}function wi(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs=mi,ui(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=si(i):(i=go(t)?mo:po.current,o.context=yo(e,i)),pi(e,r,o,n),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(yi(e,t,i,r),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&gi.enqueueReplaceState(o,o.state,null),pi(e,r,o,n),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var ki=Array.isArray;function Ei(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=n.refs;t===mi&&(t=n.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Ti(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Si(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Zl(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Kl(r,e.mode,n)).return=e,t):((t=o(t,r)).return=e,t)}function u(e,t,r,n){return null!==t&&t.elementType===r.type?((n=o(t,r.props)).ref=Ei(e,t,r),n.return=e,n):((n=Hl(r.type,r.key,r.props,null,e.mode,n)).ref=Ei(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Yl(r,e.mode,n)).return=e,t):((t=o(t,r.children||[])).return=e,t)}function f(e,t,r,n,i){return null===t||7!==t.tag?((t=Xl(r,e.mode,n,i)).return=e,t):((t=o(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Kl(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Hl(t.type,t.key,t.props,null,e.mode,r)).ref=Ei(e,null,t),r.return=e,r;case k:return(t=Yl(t,e.mode,r)).return=e,t}if(ki(t)||U(t))return(t=Xl(t,e.mode,r,null)).return=e,t;Ti(e,t)}return null}function h(e,t,r,n){var o=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==o?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===o?r.type===E?f(e,t,r.props.children,n,o):u(e,t,r,n):null;case k:return r.key===o?c(e,t,r,n):null}if(ki(r)||U(r))return null!==o?null:f(e,t,r,n,null);Ti(e,r)}return null}function p(e,t,r,n,o){if("string"===typeof n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return e=e.get(null===n.key?r:n.key)||null,n.type===E?f(t,e,n.props.children,o,n.key):u(t,e,n,o);case k:return c(t,e=e.get(null===n.key?r:n.key)||null,n,o)}if(ki(n)||U(n))return f(t,e=e.get(r)||null,n,o,null);Ti(t,n)}return null}function v(o,a,s,l){for(var u=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(o,f,s[v],l);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(o,f),a=i(y,a,v),null===c?u=y:c.sibling=y,c=y,f=m}if(v===s.length)return r(o,f),u;if(null===f){for(;v<s.length;v++)null!==(f=d(o,s[v],l))&&(a=i(f,a,v),null===c?u=f:c.sibling=f,c=f);return u}for(f=n(o,f);v<s.length;v++)null!==(m=p(f,o,v,s[v],l))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=i(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(o,e)})),u}function m(o,s,l,u){var c=U(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=l.next();null!==v&&!g.done;m++,g=l.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(o,v,g.value,u);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(o,v),s=i(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return r(o,v),c;if(null===v){for(;!g.done;m++,g=l.next())null!==(g=d(o,g.value,u))&&(s=i(g,s,m),null===f?c=g:f.sibling=g,f=g);return c}for(v=n(o,v);!g.done;m++,g=l.next())null!==(g=p(v,o,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=i(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(o,e)})),c}return function(e,n,i,l){var u="object"===typeof i&&null!==i&&i.type===E&&null===i.key;u&&(i=i.props.children);var c="object"===typeof i&&null!==i;if(c)switch(i.$$typeof){case w:e:{for(c=i.key,u=n;null!==u;){if(u.key===c){if(7===u.tag){if(i.type===E){r(e,u.sibling),(n=o(u,i.props.children)).return=e,e=n;break e}}else if(u.elementType===i.type){r(e,u.sibling),(n=o(u,i.props)).ref=Ei(e,u,i),n.return=e,e=n;break e}r(e,u);break}t(e,u),u=u.sibling}i.type===E?((n=Xl(i.props.children,e.mode,l,i.key)).return=e,e=n):((l=Hl(i.type,i.key,i.props,null,e.mode,l)).ref=Ei(e,n,i),l.return=e,e=l)}return s(e);case k:e:{for(u=i.key;null!==n;){if(n.key===u){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=o(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Yl(i,e.mode,l)).return=e,e=n}return s(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=o(n,i)).return=e,e=n):(r(e,n),(n=Kl(i,e.mode,l)).return=e,e=n),s(e);if(ki(i))return v(e,n,i,l);if(U(i))return m(e,n,i,l);if(c&&Ti(e,i),"undefined"===typeof i&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,H(e.type)||"Component"))}return r(e,n)}}var Ci=Si(!0),Ai=Si(!1),Ii={},Mi=uo(Ii),Pi=uo(Ii),Oi=uo(Ii);function zi(e){if(e===Ii)throw Error(a(174));return e}function Ri(e,t){switch(fo(Oi,t),fo(Pi,e),fo(Mi,Ii),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Mi),fo(Mi,t)}function Di(){co(Mi),co(Pi),co(Oi)}function Li(e){zi(Oi.current);var t=zi(Mi.current),r=pe(t,e.type);t!==r&&(fo(Pi,e),fo(Mi,r))}function ji(e){Pi.current===e&&(co(Mi),co(Pi))}var Fi=uo(0);function Ni(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,Vi=null,Ui=!1;function Gi(e,t){var r=ql(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function qi(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wi(e){if(Ui){var t=Vi;if(t){var r=t;if(!qi(e,t)){if(!(t=Xn(r.nextSibling))||!qi(e,t))return e.flags=-1025&e.flags|2,Ui=!1,void(Bi=e);Gi(Bi,r)}Bi=e,Vi=Xn(t.firstChild)}else e.flags=-1025&e.flags|2,Ui=!1,Bi=e}}function Zi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bi=e}function Hi(e){if(e!==Bi)return!1;if(!Ui)return Zi(e),Ui=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qn(t,e.memoizedProps))for(t=Vi;t;)Gi(e,t),t=Xn(t.nextSibling);if(Zi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Vi=Xn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Vi=null}}else Vi=Bi?Xn(e.stateNode.nextSibling):null;return!0}function Xi(){Vi=Bi=null,Ui=!1}var $i=[];function Ki(){for(var e=0;e<$i.length;e++)$i[e]._workInProgressVersionPrimary=null;$i.length=0}var Yi=x.ReactCurrentDispatcher,Ji=x.ReactCurrentBatchConfig,Qi=0,ea=null,ta=null,ra=null,na=!1,oa=!1;function ia(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function sa(e,t,r,n,o,i){if(Qi=i,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yi.current=null===e||null===e.memoizedState?za:Ra,e=r(n,o),oa){i=0;do{if(oa=!1,!(25>i))throw Error(a(301));i+=1,ra=ta=null,t.updateQueue=null,Yi.current=Da,e=r(n,o)}while(oa)}if(Yi.current=Oa,t=null!==ta&&null!==ta.next,Qi=0,ra=ta=ea=null,na=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?ea.memoizedState=ra=e:ra=ra.next=e,ra}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===ra?ea.memoizedState:ra.next;if(null!==t)ra=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ra?ea.memoizedState=ra=e:ra=ra.next=e}return ra}function ca(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ua(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=ta,o=n.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(null!==o){o=o.next,n=n.baseState;var l=s=i=null,u=o;do{var c=u.lane;if((Qi&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,i=n):l=l.next=f,ea.lanes|=c,Vs|=c}u=u.next}while(null!==u&&u!==o);null===l?i=n:l.next=s,cn(n,t.memoizedState)||(ja=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function da(e){var t=ua(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(null!==o){r.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);cn(i,t.memoizedState)||(ja=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ha(e,t,r){var n=t._getVersion;n=n(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===n:(e=e.mutableReadLanes,(e=(Qi&e)===e)&&(t._workInProgressVersionPrimary=n,$i.push(t))),e)return r(t._source);throw $i.push(t),Error(a(350))}function pa(e,t,r,n){var o=zs;if(null===o)throw Error(a(349));var i=t._getVersion,s=i(t._source),l=Yi.current,u=l.useState((function(){return ha(o,t,r)})),c=u[1],f=u[0];u=ra;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,v=d.source;d=d.subscribe;var m=ea;return e.memoizedState={refs:h,source:t,subscribe:n},l.useEffect((function(){h.getSnapshot=r,h.setSnapshot=c;var e=i(t._source);if(!cn(s,e)){e=r(t._source),cn(f,e)||(c(e),e=hl(m),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var n=o.entanglements,a=e;0<a;){var l=31-qt(a),u=1<<l;n[l]|=e,a&=~u}}}),[r,t,n]),l.useEffect((function(){return n(t._source,(function(){var e=h.getSnapshot,r=h.setSnapshot;try{r(e(t._source));var n=hl(m);o.mutableReadLanes|=n&o.pendingLanes}catch(i){r((function(){throw i}))}}))}),[t,n]),cn(p,r)&&cn(v,t)&&cn(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=c=Pa.bind(null,ea,e),u.queue=e,u.baseQueue=null,f=ha(o,t,r),u.memoizedState=u.baseState=f),f}function va(e,t,r){return pa(ua(),e,t,r)}function ma(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ga(e){return e={current:e},la().memoizedState=e}function ba(){return ua().memoizedState}function _a(e,t,r,n){var o=la();ea.flags|=e,o.memoizedState=ya(1|t,r,void 0,void 0===n?null:n)}function xa(e,t,r,n){var o=ua();n=void 0===n?null:n;var i=void 0;if(null!==ta){var a=ta.memoizedState;if(i=a.destroy,null!==n&&aa(n,a.deps))return void ya(t,r,i,n)}ea.flags|=e,o.memoizedState=ya(1|t,r,i,n)}function wa(e,t){return _a(516,4,e,t)}function ka(e,t){return xa(516,4,e,t)}function Ea(e,t){return xa(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Sa(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,xa(4,2,Ta.bind(null,t,e),r)}function Ca(){}function Aa(e,t){var r=ua();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ia(e,t){var r=ua();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ma(e,t){var r=Wo();Ho(98>r?98:r,(function(){e(!0)})),Ho(97<r?97:r,(function(){var r=Ji.transition;Ji.transition=1;try{e(!1),t()}finally{Ji.transition=r}}))}function Pa(e,t,r){var n=dl(),o=hl(e),i={lane:o,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?i.next=i:(i.next=a.next,a.next=i),t.pending=i,a=e.alternate,e===ea||null!==a&&a===ea)oa=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,r);if(i.eagerReducer=a,i.eagerState=l,cn(l,s))return}catch(u){}pl(e,o,n)}}var Oa={readContext:si,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},za={readContext:si,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:si,useEffect:wa,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,_a(4,2,Ta.bind(null,t,e),r)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var r=la();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=la();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[n.memoizedState,e]},useRef:ga,useState:ma,useDebugValue:Ca,useDeferredValue:function(e){var t=ma(e),r=t[0],n=t[1];return wa((function(){var t=Ji.transition;Ji.transition=1;try{n(e)}finally{Ji.transition=t}}),[e]),r},useTransition:function(){var e=ma(!1),t=e[0];return ga(e=Ma.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=la();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},pa(n,e,t,r)},useOpaqueIdentifier:function(){if(Ui){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Kn++).toString(36))),Error(a(355))})),r=ma(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){r("r:"+(Kn++).toString(36))}),void 0,null)),t}return ma(t="r:"+(Kn++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:si,useCallback:Aa,useContext:si,useEffect:ka,useImperativeHandle:Sa,useLayoutEffect:Ea,useMemo:Ia,useReducer:fa,useRef:ba,useState:function(){return fa(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=fa(ca),r=t[0],n=t[1];return ka((function(){var t=Ji.transition;Ji.transition=1;try{n(e)}finally{Ji.transition=t}}),[e]),r},useTransition:function(){var e=fa(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:si,useCallback:Aa,useContext:si,useEffect:ka,useImperativeHandle:Sa,useLayoutEffect:Ea,useMemo:Ia,useReducer:da,useRef:ba,useState:function(){return da(ca)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(ca),r=t[0],n=t[1];return ka((function(){var t=Ji.transition;Ji.transition=1;try{n(e)}finally{Ji.transition=t}}),[e]),r},useTransition:function(){var e=da(ca)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},La=x.ReactCurrentOwner,ja=!1;function Fa(e,t,r,n){t.child=null===e?Ai(t,null,r,n):Ci(t,e.child,r,n)}function Na(e,t,r,n,o){r=r.render;var i=t.ref;return ai(t,o),n=sa(e,t,r,n,i,o),null===e||ja?(t.flags|=1,Fa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function Ba(e,t,r,n,o,i){if(null===e){var a=r.type;return"function"!==typeof a||Wl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hl(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,n,o,i))}return a=e.child,0===(o&i)&&(o=a.memoizedProps,(r=null!==(r=r.compare)?r:dn)(o,n)&&e.ref===t.ref)?is(e,t,i):(t.flags|=1,(e=Zl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,r,n,o,i){if(null!==e&&dn(e.memoizedProps,n)&&e.ref===t.ref){if(ja=!1,0===(i&o))return t.lanes=e.lanes,is(e,t,i);0!==(16384&e.flags)&&(ja=!0)}return qa(e,t,r,n,i)}function Ua(e,t,r){var n=t.pendingProps,o=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},wl(t,r);else{if(0===(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(t,e),null;t.memoizedState={baseLanes:0},wl(t,null!==i?i.baseLanes:r)}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,wl(t,n);return Fa(e,t,o,r),t.child}function Ga(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function qa(e,t,r,n,o){var i=go(r)?mo:po.current;return i=yo(t,i),ai(t,o),r=sa(e,t,r,n,i,o),null===e||ja?(t.flags|=1,Fa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,is(e,t,o))}function Wa(e,t,r,n,o){if(go(r)){var i=!0;wo(t)}else i=!1;if(ai(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_i(t,r,n),wi(t,r,n,o),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=si(u):u=yo(t,u=go(r)?mo:po.current);var c=r.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&xi(t,a,n,u),li=!1;var d=t.memoizedState;a.state=d,pi(t,n,a,o),l=t.memoizedState,s!==n||d!==l||vo.current||li?("function"===typeof c&&(yi(t,r,c,n),l=t.memoizedState),(s=li||bi(t,r,s,n,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,ci(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Jo(t.type,s),a.props=u,f=t.pendingProps,d=a.context,"object"===typeof(l=r.contextType)&&null!==l?l=si(l):l=yo(t,l=go(r)?mo:po.current);var h=r.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==l)&&xi(t,a,n,l),li=!1,d=t.memoizedState,a.state=d,pi(t,n,a,o);var p=t.memoizedState;s!==f||d!==p||vo.current||li?("function"===typeof h&&(yi(t,r,h,n),p=t.memoizedState),(u=li||bi(t,r,u,n,d,p,l))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return Za(e,t,r,n,i,o)}function Za(e,t,r,n,o,i){Ga(e,t);var a=0!==(64&t.flags);if(!n&&!a)return o&&ko(t,r,!1),is(e,t,i);n=t.stateNode,La.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,s,i)):Fa(e,t,s,i),t.memoizedState=n.state,o&&ko(t,r,!0),t.child}function Ha(e){var t=e.stateNode;t.pendingContext?_o(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(0,t.context,!1),Ri(e,t.containerInfo)}var Xa,$a,Ka,Ya={dehydrated:null,retryLane:0};function Ja(e,t,r){var n,o=t.pendingProps,i=Fi.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(i|=1),fo(Fi,1&i),null===e?(void 0!==o.fallback&&Wi(t),e=o.children,i=o.fallback,a?(e=Qa(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ya,e):"number"===typeof o.unstable_expectedLoadTime?(e=Qa(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Ya,t.lanes=33554432,e):((r=$l({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,a?(o=ts(e,t,o.children,o.fallback,r),a=t.child,i=e.child.memoizedState,a.memoizedState=null===i?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Ya,o):(r=es(e,t,o.children,r),t.memoizedState=null,r))}function Qa(e,t,r,n){var o=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=$l(t,o,0,null),r=Xl(r,o,n,null),i.return=e,r.return=e,i.sibling=r,e.child=i,r}function es(e,t,r,n){var o=e.child;return e=o.sibling,r=Zl(o,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function ts(e,t,r,n,o){var i=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 0===(2&i)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=s,null!==(a=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Zl(a,s),null!==e?n=Zl(e,n):(n=Xl(n,i,o,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function rs(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ii(e.return,t)}function ns(e,t,r,n,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o,a.lastEffect=i)}function os(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(Fa(e,t,n.children,r),0!==(2&(n=Fi.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,r);else if(19===e.tag)rs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fo(Fi,n),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;null!==r;)null!==(e=r.alternate)&&null===Ni(e)&&(o=r),r=r.sibling;null===(r=o)?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),ns(t,!1,o,r,i,t.lastEffect);break;case"backwards":for(r=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ni(e)){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}ns(t,!0,r,null,i,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Zl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Zl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function as(e,t){if(!Ui)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ss(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return go(t.type)&&bo(),null;case 3:return Di(),co(vo),co(po),Ki(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Hi(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:ji(t);var i=zi(Oi.current);if(r=t.type,null!==e&&null!=t.stateNode)$a(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=zi(Mi.current),Hi(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Jn]=t,n[Qn]=s,r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(e=0;e<Sn.length;e++)Mn(Sn[e],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":ee(n,s),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Mn("invalid",n);break;case"textarea":le(n,s),Mn("invalid",n)}for(var u in Ee(r,s),e=null,s)s.hasOwnProperty(u)&&(i=s[u],"children"===u?"string"===typeof i?n.textContent!==i&&(e=["children",i]):"number"===typeof i&&n.textContent!==""+i&&(e=["children",""+i]):l.hasOwnProperty(u)&&null!=i&&"onScroll"===u&&Mn("scroll",n));switch(r){case"input":K(n),ne(n,s,!0);break;case"textarea":K(n),ce(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Bn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(u=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=he(r)),e===fe?"script"===r?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=u.createElement(r,{is:n.is}):(e=u.createElement(r),"select"===r&&(u=e,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):e=u.createElementNS(e,r),e[Jn]=t,e[Qn]=n,Xa(e,t),t.stateNode=e,u=Te(r,n),r){case"dialog":Mn("cancel",e),Mn("close",e),i=n;break;case"iframe":case"object":case"embed":Mn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Sn.length;i++)Mn(Sn[i],e);i=n;break;case"source":Mn("error",e),i=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),i=n;break;case"details":Mn("toggle",e),i=n;break;case"input":ee(e,n),i=Q(e,n),Mn("invalid",e);break;case"option":i=ie(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=o({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":le(e,n),i=se(e,n),Mn("invalid",e);break;default:i=n}Ee(r,i);var c=i;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==r||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Mn("scroll",e):null!=f&&_(e,s,f,u))}switch(r){case"input":K(e),ne(e,n,!1);break;case"textarea":K(e),ce(e);break;case"option":null!=n.value&&e.setAttribute("value",""+X(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Bn)}Gn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=zi(Oi.current),zi(Mi.current),Hi(t)?(n=t.stateNode,r=t.memoizedProps,n[Jn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Jn]=t,t.stateNode=n)}return null;case 13:return co(Fi),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Hi(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fi.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===zs||0===(134217727&Vs)&&0===(134217727&Us)||gl(zs,Ds))),(n||r)&&(t.flags|=4),null);case 4:return Di(),null===e&&On(t.stateNode.containerInfo),null;case 10:return oi(t),null;case 19:if(co(Fi),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=n.rendering))if(s)as(n,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Ni(e))){for(t.flags|=64,as(n,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fo(Fi,1&Fi.current|2),t.child}e=e.sibling}null!==n.tail&&qo()>Zs&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ni(u))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),as(n,!0),null===n.tail&&"hidden"===n.tailMode&&!u.alternate&&!Ui)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*qo()-n.renderingStartTime>Zs&&1073741824!==r&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432);n.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=n.last)?r.sibling=u:t.child=u,n.last=u)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=qo(),r.sibling=null,t=Fi.current,fo(Fi,s?1&t|2:1&t),r):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:go(e.type)&&bo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Di(),co(vo),co(po),Ki(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return ji(e),null;case 13:return co(Fi),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(Fi),null;case 4:return Di(),null;case 10:return oi(e),null;case 23:case 24:return kl(),null;default:return null}}function us(e,t){try{var r="",n=t;do{r+=Z(n),n=n.return}while(n);var o=r}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o}}function cs(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Xa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$a=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,zi(Mi.current);var a,s=null;switch(r){case"input":i=Q(e,i),n=Q(e,n),s=[];break;case"option":i=ie(e,i),n=ie(e,n),s=[];break;case"select":i=o({},i,{value:void 0}),n=o({},n,{value:void 0}),s=[];break;case"textarea":i=se(e,i),n=se(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Bn)}for(f in Ee(r,n),r=null,i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var u=i[f];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(l.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var c=n[f];if(u=null!=i?i[f]:void 0,n.hasOwnProperty(f)&&c!==u&&(null!=c||null!=u))if("style"===f)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(f,r)),r=c;else"dangerouslySetInnerHTML"===f?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(s=s||[]).push(f,c)):"children"===f?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(f,""+c):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(l.hasOwnProperty(f)?(null!=c&&"onScroll"===f&&Mn("scroll",e),s||u===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(f,c))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Ka=function(e,t,r,n){r!==n&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,r){(r=fi(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ks||(Ks=!0,Ys=n),cs(0,t)},r}function hs(e,t,r){(r=fi(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var o=t.value;r.payload=function(){return cs(0,t),n(o)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Js?Js=new Set([this]):Js.add(this),cs(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Bl(e,r)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Jo(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hn(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;n=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(jl(r,e),Ll(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Jo(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&vi(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}vi(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Gn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&wt(r)))))}throw Error(a(163))}function gs(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var o=r.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,n.style.display=xe("display",o)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function bs(e,t){if(To&&"function"===typeof To.onCommitFiberUnmount)try{To.onCommitFiberUnmount(Eo,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,o=n.destroy;if(n=n.tag,void 0!==o)if(0!==(4&n))jl(t,r);else{n=t;try{o()}catch(i){Bl(n,i)}}r=r.next}while(r!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Bl(t,i)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function ws(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.flags&&(ge(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||xs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ks(e,r,t):Es(e,r,t)}function ks(e,t,r){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Bn));else if(4!==n&&null!==(e=e.child))for(ks(e,t,r),e=e.sibling;null!==e;)ks(e,t,r),e=e.sibling}function Es(e,t,r){var n=e.tag,o=5===n||6===n;if(o)e=o?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Es(e,t,r),e=e.sibling;null!==e;)Es(e,t,r),e=e.sibling}function Ts(e,t){for(var r,n,o=t,i=!1;;){if(!i){i=o.return;e:for(;;){if(null===i)throw Error(a(160));switch(r=i.stateNode,i.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}i=i.return}i=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,u=l;;)if(bs(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,n=!0,o.child.return=o,o=o.child;continue}}else if(bs(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(i=!1)}o.sibling.return=o.return,o=o.sibling}}function Ss(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var o=null!==e?e.memoizedProps:n;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(r[Qn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Te(e,o),t=Te(e,n),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?we(r,l):"dangerouslySetInnerHTML"===s?ye(r,l):"children"===s?ge(r,l):_(r,s,l,t)}switch(e){case"input":re(r,n);break;case"textarea":ue(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(i=n.value)?ae(r,!!n.multiple,i,!1):e!==!!n.multiple&&(null!=n.defaultValue?ae(r,!!n.multiple,n.defaultValue,!0):ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,wt(r.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qo(),gs(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ps),t.forEach((function(t){var n=Ul.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Ms=x.ReactCurrentDispatcher,Ps=x.ReactCurrentOwner,Os=0,zs=null,Rs=null,Ds=0,Ls=0,js=uo(0),Fs=0,Ns=null,Bs=0,Vs=0,Us=0,Gs=0,qs=null,Ws=0,Zs=1/0;function Hs(){Zs=qo()+500}var Xs,$s=null,Ks=!1,Ys=null,Js=null,Qs=!1,el=null,tl=90,rl=[],nl=[],ol=null,il=0,al=null,sl=-1,ll=0,ul=0,cl=null,fl=!1;function dl(){return 0!==(48&Os)?qo():-1!==sl?sl:sl=qo()}function hl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wo()?1:2;if(0===ll&&(ll=Bs),0!==Yo.transition){0!==ul&&(ul=null!==qs?qs.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wo(),0!==(4&Os)&&98===e?e=Bt(12,ll):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,r){if(50<il)throw il=0,al=null,Error(a(185));if(null===(e=vl(e,t)))return null;Gt(e,t,r),e===zs&&(Us|=t,4===Fs&&gl(e,Ds));var n=Wo();1===t?0!==(8&Os)&&0===(48&Os)?bl(e):(ml(e,r),0===Os&&(Hs(),$o())):(0===(4&Os)||98!==n&&99!==n||(null===ol?ol=new Set([e]):ol.add(e)),ml(e,r)),qs=e}function vl(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function ml(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-qt(s),u=1<<l,c=i[l];if(-1===c){if(0===(u&n)||0!==(u&o)){c=t,jt(u);var f=Lt;i[l]=10<=f?c+250:6<=f?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);s&=~u}if(n=Ft(e,e===zs?Ds:0),t=Lt,0===n)null!==r&&(r!==Fo&&Ao(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Fo&&Ao(r)}15===t?(r=bl.bind(null,e),null===Bo?(Bo=[r],Vo=Co(zo,Ko)):Bo.push(r),r=Fo):14===t?r=Xo(99,bl.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),r=Xo(r,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function yl(e){if(sl=-1,ul=ll=0,0!==(48&Os))throw Error(a(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var r=Ft(e,e===zs?Ds:0);if(0===r)return null;var n=r,o=Os;Os|=16;var i=Sl();for(zs===e&&Ds===n||(Hs(),El(e,n));;)try{Il();break}catch(l){Tl(e,l)}if(ni(),Ms.current=i,Os=o,null!==Rs?n=0:(zs=null,Ds=0,n=Fs),0!==(Bs&Us))El(e,0);else if(0!==n){if(2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(r=Nt(e))&&(n=Cl(e,r))),1===n)throw t=Ns,El(e,0),gl(e,r),ml(e,qo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:Ol(e);break;case 3:if(gl(e,r),(62914560&r)===r&&10<(n=Ws+500-qo())){if(0!==Ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){dl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Wn(Ol.bind(null,e),n);break}Ol(e);break;case 4:if(gl(e,r),(4186112&r)===r)break;for(n=e.eventTimes,o=-1;0<r;){var s=31-qt(r);i=1<<s,(s=n[s])>o&&(o=s),r&=~i}if(r=o,10<(r=(120>(r=qo()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=Wn(Ol.bind(null,e),r);break}Ol(e);break;default:throw Error(a(329))}}return ml(e,qo()),e.callbackNode===t?yl.bind(null,e):null}function gl(e,t){for(t&=~Gs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qt(t),n=1<<r;e[r]=-1,t&=~n}}function bl(e){if(0!==(48&Os))throw Error(a(327));if(Dl(),e===zs&&0!==(e.expiredLanes&Ds)){var t=Ds,r=Cl(e,t);0!==(Bs&Us)&&(r=Cl(e,t=Ft(e,t)))}else r=Cl(e,t=Ft(e,0));if(0!==e.tag&&2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hn(e.containerInfo)),0!==(t=Nt(e))&&(r=Cl(e,t))),1===r)throw r=Ns,El(e,0),gl(e,t),ml(e,qo()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ol(e),ml(e,qo()),null}function _l(e,t){var r=Os;Os|=1;try{return e(t)}finally{0===(Os=r)&&(Hs(),$o())}}function xl(e,t){var r=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=r)&&(Hs(),$o())}}function wl(e,t){fo(js,Ls),Ls|=t,Bs|=t}function kl(){Ls=js.current,co(js)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,Zn(r)),null!==Rs)for(r=Rs.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&bo();break;case 3:Di(),co(vo),co(po),Ki();break;case 5:ji(n);break;case 4:Di();break;case 13:case 19:co(Fi);break;case 10:oi(n);break;case 23:case 24:kl()}r=r.return}zs=e,Rs=Zl(e.current,null),Ds=Ls=Bs=t,Fs=0,Ns=null,Gs=Us=Vs=0}function Tl(e,t){for(;;){var r=Rs;try{if(ni(),Yi.current=Oa,na){for(var n=ea.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}na=!1}if(Qi=0,ra=ta=ea=null,oa=!1,Ps.current=null,null===r||null===r.return){Fs=1,Ns=t,Rs=null;break}e:{var i=e,a=r.return,s=r,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fi.current),d=a;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=d.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(h){var m=d.updateQueue;if(null===m){var y=new Set;y.add(u),d.updateQueue=y}else m.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=fi(-1,1);g.tag=2,di(s,g)}s.lanes|=1;break e}l=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new fs,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(s)){l.add(s);var _=Vl.bind(null,i,u,s);u.then(_,_)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((H(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),l=us(l,s),d=a;do{switch(d.tag){case 3:i=l,d.flags|=4096,t&=-t,d.lanes|=t,hi(d,ds(0,i,t));break e;case 1:i=l;var x=d.type,w=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Js||!Js.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,hi(d,hs(d,i,t));break e}}d=d.return}while(null!==d)}Pl(r)}catch(k){t=k,Rs===r&&null!==r&&(Rs=r=r.return);continue}break}}function Sl(){var e=Ms.current;return Ms.current=Oa,null===e?Oa:e}function Cl(e,t){var r=Os;Os|=16;var n=Sl();for(zs===e&&Ds===t||El(e,t);;)try{Al();break}catch(o){Tl(e,o)}if(ni(),Os=r,Ms.current=n,null!==Rs)throw Error(a(261));return zs=null,Ds=0,Fs}function Al(){for(;null!==Rs;)Ml(Rs)}function Il(){for(;null!==Rs&&!Io();)Ml(Rs)}function Ml(e){var t=Xs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Pl(e):Rs=t,Ps.current=null}function Pl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=ss(r,t,Ls)))return void(Rs=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ls)||0===(4&r.mode)){for(var n=0,o=r.child;null!==o;)n|=o.lanes|o.childLanes,o=o.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=ls(t)))return r.flags&=2047,void(Rs=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ol(e){var t=Wo();return Ho(99,zl.bind(null,e,t)),null}function zl(e,t){do{Dl()}while(null!==el);if(0!==(48&Os))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,o=n,i=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<i;){var u=31-qt(i),c=1<<u;o[u]=0,s[u]=-1,l[u]=-1,i&=~c}if(null!==ol&&0===(24&n)&&ol.has(e)&&ol.delete(e),e===zs&&(Rs=zs=null,Ds=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(o=Os,Os|=32,Ps.current=null,Vn=$t,yn(s=mn())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,i=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(S){l=null;break e}var f=0,d=-1,h=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==l||0!==i&&3!==m.nodeType||(d=f+i),m!==u||0!==c&&3!==m.nodeType||(h=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===l&&++p===i&&(d=f),y===u&&++v===c&&(h=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}l=-1===d||-1===h?null:{start:d,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Un={focusedElem:s,selectionRange:l},$t=!1,cl=null,fl=!1,$s=n;do{try{Rl()}catch(S){if(null===$s)throw Error(a(330));Bl($s,S),$s=$s.nextEffect}}while(null!==$s);cl=null,$s=n;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ge($s.stateNode,""),128&b){var _=$s.alternate;if(null!==_){var x=_.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ws($s),$s.flags&=-3;break;case 6:ws($s),$s.flags&=-3,Ss($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Ss($s.alternate,$s);break;case 4:Ss($s.alternate,$s);break;case 8:Ts(s,l=$s);var w=l.alternate;_s(l),null!==w&&_s(w)}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Bl($s,S),$s=$s.nextEffect}}while(null!==$s);if(x=Un,_=mn(),b=x.focusedElem,s=x.selectionRange,_!==b&&b&&b.ownerDocument&&vn(b.ownerDocument.documentElement,b)){null!==s&&yn(b)&&(_=s.start,void 0===(x=s.end)&&(x=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(x,b.value.length)):(x=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,w=Math.min(s.start,l),s=void 0===s.end?w:Math.min(s.end,l),!x.extend&&w>s&&(l=s,s=w,w=l),l=pn(b,w),i=pn(b,s),l&&i&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==i.node||x.focusOffset!==i.offset)&&((_=_.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),w>s?(x.addRange(_),x.extend(i.node,i.offset)):(_.setEnd(i.node,i.offset),x.addRange(_))))),_=[];for(x=b;x=x.parentNode;)1===x.nodeType&&_.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(x=_[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}$t=!!Vn,Un=Vn=null,e.current=r,$s=n;do{try{for(b=e;null!==$s;){var k=$s.flags;if(36&k&&ys(b,$s.alternate,$s),128&k){_=void 0;var E=$s.ref;if(null!==E){var T=$s.stateNode;$s.tag,_=T,"function"===typeof E?E(_):E.current=_}}$s=$s.nextEffect}}catch(S){if(null===$s)throw Error(a(330));Bl($s,S),$s=$s.nextEffect}}while(null!==$s);$s=null,No(),Os=o}else e.current=r;if(Qs)Qs=!1,el=e,tl=t;else for($s=n;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((k=$s).sibling=null,k.stateNode=null),$s=t;if(0===(n=e.pendingLanes)&&(Js=null),1===n?e===al?il++:(il=0,al=e):il=0,r=r.stateNode,To&&"function"===typeof To.onCommitFiberRoot)try{To.onCommitFiberRoot(Eo,r,void 0,64===(64&r.current.flags))}catch(S){}if(ml(e,qo()),Ks)throw Ks=!1,e=Ys,Ys=null,e;return 0!==(8&Os)||$o(),null}function Rl(){for(;null!==$s;){var e=$s.alternate;fl||null===cl||(0!==(8&$s.flags)?et($s,cl)&&(fl=!0):13===$s.tag&&As(e,$s)&&et($s,cl)&&(fl=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Qs||(Qs=!0,Xo(97,(function(){return Dl(),null}))),$s=$s.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Ho(e,Fl)}return!1}function Ll(e,t){rl.push(t,e),Qs||(Qs=!0,Xo(97,(function(){return Dl(),null})))}function jl(e,t){nl.push(t,e),Qs||(Qs=!0,Xo(97,(function(){return Dl(),null})))}function Fl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Os))throw Error(a(331));var t=Os;Os|=32;var r=nl;nl=[];for(var n=0;n<r.length;n+=2){var o=r[n],i=r[n+1],s=o.destroy;if(o.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===i)throw Error(a(330));Bl(i,u)}}for(r=rl,rl=[],n=0;n<r.length;n+=2){o=r[n],i=r[n+1];try{var l=o.create;o.destroy=l()}catch(u){if(null===i)throw Error(a(330));Bl(i,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Os=t,$o(),!0}function Nl(e,t,r){di(e,t=ds(0,t=us(r,t),1)),t=dl(),null!==(e=vl(e,1))&&(Gt(e,1,t),ml(e,t))}function Bl(e,t){if(3===e.tag)Nl(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Nl(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Js||!Js.has(n))){var o=hs(r,e=us(t,e),1);if(di(r,o),o=dl(),null!==(r=vl(r,1)))Gt(r,1,o),ml(r,o);else if("function"===typeof n.componentDidCatch&&(null===Js||!Js.has(n)))try{n.componentDidCatch(t,e)}catch(i){}break}}r=r.return}}function Vl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&r,zs===e&&(Ds&r)===r&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>qo()-Ws?El(e,0):Gs|=r),ml(e,t)}function Ul(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wo()?1:2:(0===ll&&(ll=Bs),0===(t=Vt(62914560&~ll))&&(t=4194304))),r=dl(),null!==(e=vl(e,t))&&(Gt(e,t,r),ml(e,r))}function Gl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function ql(e,t,r,n){return new Gl(e,t,r,n)}function Wl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Zl(e,t){var r=e.alternate;return null===r?((r=ql(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hl(e,t,r,n,o,i){var s=2;if(n=e,"function"===typeof e)Wl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Xl(r.children,o,i,t);case L:s=8,o|=16;break;case T:s=8,o|=1;break;case S:return(e=ql(12,r,t,8|o)).elementType=S,e.type=S,e.lanes=i,e;case M:return(e=ql(13,r,t,o)).type=M,e.elementType=M,e.lanes=i,e;case P:return(e=ql(19,r,t,o)).elementType=P,e.lanes=i,e;case j:return $l(r,o,i,t);case F:return(e=ql(24,r,t,o)).elementType=F,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case A:s=9;break e;case I:s=11;break e;case O:s=14;break e;case z:s=16,n=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=ql(s,r,t,o)).elementType=e,t.type=n,t.lanes=i,t}function Xl(e,t,r,n){return(e=ql(7,e,n,t)).lanes=r,e}function $l(e,t,r,n){return(e=ql(23,e,n,t)).elementType=j,e.lanes=r,e}function Kl(e,t,r){return(e=ql(6,e,null,t)).lanes=r,e}function Yl(e,t,r){return(t=ql(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jl(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ut(0),this.expirationTimes=Ut(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ut(0),this.mutableSourceEagerHydrationData=null}function Ql(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function eu(e,t,r,n){var o=t.current,i=dl(),s=hl(o);e:if(r){t:{if(Ke(r=r._reactInternals)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(go(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var u=r.type;if(go(u)){r=xo(r,u,l);break e}}r=l}else r=ho;return null===t.context?t.context=r:t.pendingContext=r,(t=fi(i,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),di(o,t),pl(o,s,i),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nu(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function ou(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Jl(e,t,null!=r&&!0===r.hydrate),t=ql(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,ui(t),e[eo]=r.current,On(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var o=(t=n[e])._getVersion;o=o(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,o]:r.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=r}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,r,n,o){var i=r._reactRootContainer;if(i){var a=i._internalRoot;if("function"===typeof o){var s=o;o=function(){var e=tu(a);s.call(e)}}eu(t,a,e,o)}else{if(i=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new ou(e,0,t?{hydrate:!0}:void 0)}(r,n),a=i._internalRoot,"function"===typeof o){var l=o;o=function(){var e=tu(a);l.call(e)}}xl((function(){eu(t,a,e,o)}))}return tu(a)}function su(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(a(200));return Ql(e,t,null,r)}Xs=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||vo.current)ja=!0;else{if(0===(r&n)){switch(ja=!1,t.tag){case 3:Ha(t),Xi();break;case 5:Li(t);break;case 1:go(t.type)&&wo(t);break;case 4:Ri(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var o=t.type._context;fo(Qo,o._currentValue),o._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Ja(e,t,r):(fo(Fi,1&Fi.current),null!==(t=is(e,t,r))?t.sibling:null);fo(Fi,1&Fi.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return os(e,t,r);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),fo(Fi,Fi.current),n)break;return null;case 23:case 24:return t.lanes=0,Ua(e,t,r)}return is(e,t,r)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=yo(t,po.current),ai(t,r),o=sa(null,t,n,e,o,r),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,go(n)){var i=!0;wo(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ui(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&yi(t,n,s,e),o.updater=gi,t.stateNode=o,o._reactInternals=t,wi(t,n,e,r),t=Za(null,t,n,!0,i,r)}else t.tag=0,Fa(null,t,o,r),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(i=o._init)(o._payload),t.type=o,i=t.tag=function(e){if("function"===typeof e)return Wl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(o),e=Jo(o,e),i){case 0:t=qa(null,t,o,e,r);break e;case 1:t=Wa(null,t,o,e,r);break e;case 11:t=Na(null,t,o,e,r);break e;case 14:t=Ba(null,t,o,Jo(o.type,e),n,r);break e}throw Error(a(306,o,""))}return t;case 0:return n=t.type,o=t.pendingProps,qa(e,t,n,o=t.elementType===n?o:Jo(n,o),r);case 1:return n=t.type,o=t.pendingProps,Wa(e,t,n,o=t.elementType===n?o:Jo(n,o),r);case 3:if(Ha(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,ci(e,t),pi(t,n,null,r),(n=t.memoizedState.element)===o)Xi(),t=is(e,t,r);else{if((i=(o=t.stateNode).hydrate)&&(Vi=Xn(t.stateNode.containerInfo.firstChild),Bi=t,i=Ui=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(i=e[o])._workInProgressVersionPrimary=e[o+1],$i.push(i);for(r=Ai(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Fa(e,t,n,r),Xi();t=t.child}return t;case 5:return Li(t),null===e&&Wi(t),n=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,qn(n,o)?s=null:null!==i&&qn(n,i)&&(t.flags|=16),Ga(e,t),Fa(e,t,s,r),t.child;case 6:return null===e&&Wi(t),null;case 13:return Ja(e,t,r);case 4:return Ri(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ci(t,null,n,r):Fa(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,Na(e,t,n,o=t.elementType===n?o:Jo(n,o),r);case 7:return Fa(e,t,t.pendingProps,r),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value;var l=t.type._context;if(fo(Qo,l._currentValue),l._currentValue=i,null!==s)if(l=s.value,0===(i=cn(l,i)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!vo.current){t=is(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===n&&0!==(c.observedBits&i)){1===l.tag&&((c=fi(-1,r&-r)).tag=2,di(l,c)),l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),ii(l.return,r),u.lanes|=r;break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Fa(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=(i=t.pendingProps).children,ai(t,r),n=n(o=si(o,i.unstable_observedBits)),t.flags|=1,Fa(e,t,n,r),t.child;case 14:return i=Jo(o=t.type,t.pendingProps),Ba(e,t,o,i=Jo(o.type,i),n,r);case 15:return Va(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Jo(n,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,go(n)?(e=!0,wo(t)):e=!1,ai(t,r),_i(t,n,o),wi(t,n,o,r),Za(null,t,n,!0,e,r);case 19:return os(e,t,r);case 23:case 24:return Ua(e,t,r)}throw Error(a(156,t.tag))},ou.prototype.render=function(e){eu(e,this._internalRoot,null,null)},ou.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[eo]=null}))},tt=function(e){13===e.tag&&(pl(e,4,dl()),nu(e,4))},rt=function(e){13===e.tag&&(pl(e,67108864,dl()),nu(e,67108864))},nt=function(e){if(13===e.tag){var t=dl(),r=hl(e);pl(e,r,t),nu(e,r)}},ot=function(e,t){return t()},Ce=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=io(n);if(!o)throw Error(a(90));Y(n),re(n,o)}}}break;case"textarea":ue(e,r);break;case"select":null!=(t=r.value)&&ae(e,!!r.multiple,t,!1)}},ze=_l,Re=function(e,t,r,n,o){var i=Os;Os|=4;try{return Ho(98,e.bind(null,t,r,n,o))}finally{0===(Os=i)&&(Hs(),$o())}},De=function(){0===(49&Os)&&(function(){if(null!==ol){var e=ol;ol=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ml(e,qo())}))}$o()}(),Dl())},Le=function(e,t){var r=Os;Os|=2;try{return e(t)}finally{0===(Os=r)&&(Hs(),$o())}};var lu={Events:[no,oo,io,Pe,Oe,Dl,{current:!1}]},uu={findFiberByHostInstance:ro,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fu.isDisabled&&fu.supportsFiber)try{Eo=fu.inject(cu),To=fu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Os;if(0!==(48&r))return e(t);Os|=1;try{if(e)return Ho(99,e.bind(null,t))}finally{Os=r,$o()}},t.hydrate=function(e,t,r){if(!iu(t))throw Error(a(200));return au(null,e,t,!0,r)},t.render=function(e,t,r){if(!iu(t))throw Error(a(200));return au(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(a(40));return!!e._reactRootContainer&&(xl((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[eo]=null}))})),!0)},t.unstable_batchedUpdates=_l,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!iu(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,r,!1,n)},t.version="17.0.2"},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},77:function(e){"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,o="undefined"!==typeof Element;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){var s,l,u,c=t(e),f=t(a);if(c&&f){if((l=e.length)!=a.length)return!1;for(s=l;0!==s--;)if(!i(e[s],a[s]))return!1;return!0}if(c!=f)return!1;var d=e instanceof Date,h=a instanceof Date;if(d!=h)return!1;if(d&&h)return e.getTime()==a.getTime();var p=e instanceof RegExp,v=a instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==a.toString();var m=r(e);if((l=m.length)!==r(a).length)return!1;for(s=l;0!==s--;)if(!n.call(a,m[s]))return!1;if(o&&e instanceof Element&&a instanceof Element)return e===a;for(s=l;0!==s--;)if(("_owner"!==(u=m[s])||!e.$$typeof)&&!i(e[u],a[u]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return i(e,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||-2146828260===r.number)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}},3147:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},s=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0});var l=a(r(2791)),u=r(857),c=r(6019),f=["ArrowRight","ArrowUp","k","PageUp"],d=["ArrowLeft","ArrowDown","j","PageDown"],h=function(e){function t(t){var r=e.call(this,t)||this;if(r.trackRef=l.createRef(),r.thumbRefs=[],r.markRefs=[],r.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(r.props.values.length).fill(0).map((function(e,t){return t})),isChanged:!1,markOffsets:[]},r.getOffsets=function(){var e=r.props,t=e.direction,n=e.values,o=e.min,i=e.max,a=r.trackRef.current,s=a.getBoundingClientRect(),l=u.getPaddingAndBorder(a);return r.getThumbs().map((function(e,r){var a={x:0,y:0},f=e.getBoundingClientRect(),d=u.getMargin(e);switch(t){case c.Direction.Right:return a.x=-1*(d.left+l.left),a.y=-1*((f.height-s.height)/2+l.top),a.x+=s.width*u.relativeValue(n[r],o,i)-f.width/2,a;case c.Direction.Left:return a.x=-1*(d.right+l.right),a.y=-1*((f.height-s.height)/2+l.top),a.x+=s.width-s.width*u.relativeValue(n[r],o,i)-f.width/2,a;case c.Direction.Up:return a.x=-1*((f.width-s.width)/2+d.left+l.left),a.y=-l.left,a.y+=s.height-s.height*u.relativeValue(n[r],o,i)-f.height/2,a;case c.Direction.Down:return a.x=-1*((f.width-s.width)/2+d.left+l.left),a.y=-l.left,a.y+=s.height*u.relativeValue(n[r],o,i)-f.height/2,a;default:return u.assertUnreachable(t)}}))},r.getThumbs=function(){return r.trackRef&&r.trackRef.current?Array.from(r.trackRef.current.children).filter((function(e){return e.hasAttribute("aria-valuenow")})):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},r.getTargetIndex=function(e){return r.getThumbs().findIndex((function(t){return t===e.target||t.contains(e.target)}))},r.addTouchEvents=function(e){document.addEventListener("touchmove",r.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",r.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",r.schdOnEnd,{passive:!1})},r.addMouseEvents=function(e){document.addEventListener("mousemove",r.schdOnMouseMove),document.addEventListener("mouseup",r.schdOnEnd)},r.onMouseDownTrack=function(e){var t;if(0===e.button)if(e.persist(),e.preventDefault(),r.addMouseEvents(e.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some((function(t){var r;return null===(r=t.current)||void 0===r?void 0:r.contains(e.target)})))return;r.setState({draggedTrackPos:[e.clientX,e.clientY]},(function(){return r.onMove(e.clientX,e.clientY)}))}else{var n=u.getClosestThumbIndex(r.thumbRefs.map((function(e){return e.current})),e.clientX,e.clientY,r.props.direction);null===(t=r.thumbRefs[n].current)||void 0===t||t.focus(),r.setState({draggedThumbIndex:n},(function(){return r.onMove(e.clientX,e.clientY)}))}},r.onResize=function(){u.translateThumbs(r.getThumbs(),r.getOffsets(),r.props.rtl),r.calculateMarkOffsets()},r.onTouchStartTrack=function(e){var t;if(e.persist(),r.addTouchEvents(e.nativeEvent),r.props.values.length>1&&r.props.draggableTrack){if(r.thumbRefs.some((function(t){var r;return null===(r=t.current)||void 0===r?void 0:r.contains(e.target)})))return;r.setState({draggedTrackPos:[e.touches[0].clientX,e.touches[0].clientY]},(function(){return r.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}else{var n=u.getClosestThumbIndex(r.thumbRefs.map((function(e){return e.current})),e.touches[0].clientX,e.touches[0].clientY,r.props.direction);null===(t=r.thumbRefs[n].current)||void 0===t||t.focus(),r.setState({draggedThumbIndex:n},(function(){return r.onMove(e.touches[0].clientX,e.touches[0].clientY)}))}},r.onMouseOrTouchStart=function(e){if(!r.props.disabled){var t=u.isTouchEvent(e);if(t||0===e.button){var n=r.getTargetIndex(e);-1!==n&&(t?r.addTouchEvents(e):r.addMouseEvents(e),r.setState({draggedThumbIndex:n,thumbZIndexes:r.state.thumbZIndexes.map((function(e,t){return t===n?Math.max.apply(Math,r.state.thumbZIndexes):e<=r.state.thumbZIndexes[n]?e:e-1}))}))}}},r.onMouseMove=function(e){e.preventDefault(),r.onMove(e.clientX,e.clientY)},r.onTouchMove=function(e){e.preventDefault(),r.onMove(e.touches[0].clientX,e.touches[0].clientY)},r.onKeyDown=function(e){var t=r.props,n=t.values,o=t.onChange,i=t.step,a=t.rtl,s=t.direction,l=r.state.isChanged,h=r.getTargetIndex(e.nativeEvent),p=a||s===c.Direction.Left||s===c.Direction.Down?-1:1;-1!==h&&(f.includes(e.key)?(e.preventDefault(),r.setState({draggedThumbIndex:h,isChanged:!0}),o(u.replaceAt(n,h,r.normalizeValue(n[h]+p*("PageUp"===e.key?10*i:i),h)))):d.includes(e.key)?(e.preventDefault(),r.setState({draggedThumbIndex:h,isChanged:!0}),o(u.replaceAt(n,h,r.normalizeValue(n[h]-p*("PageDown"===e.key?10*i:i),h)))):"Tab"===e.key?r.setState({draggedThumbIndex:-1},(function(){l&&r.fireOnFinalChange()})):l&&r.fireOnFinalChange())},r.onKeyUp=function(e){var t=r.state.isChanged;r.setState({draggedThumbIndex:-1},(function(){t&&r.fireOnFinalChange()}))},r.onMove=function(e,t){var n=r.state,o=n.draggedThumbIndex,i=n.draggedTrackPos,a=r.props,s=a.direction,l=a.min,f=a.max,d=a.onChange,h=a.values,p=a.step,v=a.rtl;if(-1===o&&-1===i[0]&&-1===i[1])return null;var m=r.trackRef.current;if(!m)return null;var y=m.getBoundingClientRect(),g=u.isVertical(s)?y.height:y.width;if(-1!==i[0]&&-1!==i[1]){var b=e-i[0],_=t-i[1],x=0;switch(s){case c.Direction.Right:case c.Direction.Left:x=b/g*(f-l);break;case c.Direction.Down:case c.Direction.Up:x=_/g*(f-l);break;default:u.assertUnreachable(s)}if(v&&(x*=-1),Math.abs(x)>=p/2){for(var w=0;w<r.thumbRefs.length;w++){if(h[w]===f&&1===Math.sign(x)||h[w]===l&&-1===Math.sign(x))return;var k=h[w]+x;k>f?x=f-h[w]:k<l&&(x=l-h[w])}var E=h.slice(0);for(w=0;w<r.thumbRefs.length;w++)E=u.replaceAt(E,w,r.normalizeValue(h[w]+x,w));r.setState({draggedTrackPos:[e,t]}),d(E)}}else{var T=0;switch(s){case c.Direction.Right:T=(e-y.left)/g*(f-l)+l;break;case c.Direction.Left:T=(g-(e-y.left))/g*(f-l)+l;break;case c.Direction.Down:T=(t-y.top)/g*(f-l)+l;break;case c.Direction.Up:T=(g-(t-y.top))/g*(f-l)+l;break;default:u.assertUnreachable(s)}v&&(T=f+l-T),Math.abs(h[o]-T)>=p/2&&d(u.replaceAt(h,o,r.normalizeValue(T,o)))}},r.normalizeValue=function(e,t){var n=r.props,o=n.min,i=n.max,a=n.step,s=n.allowOverlap,l=n.values;return u.normalizeValue(e,t,o,i,a,s,l)},r.onEnd=function(e){if(e.preventDefault(),document.removeEventListener("mousemove",r.schdOnMouseMove),document.removeEventListener("touchmove",r.schdOnTouchMove),document.removeEventListener("mouseup",r.schdOnEnd),document.removeEventListener("touchend",r.schdOnEnd),document.removeEventListener("touchcancel",r.schdOnEnd),-1===r.state.draggedThumbIndex&&-1===r.state.draggedTrackPos[0]&&-1===r.state.draggedTrackPos[1])return null;r.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},(function(){r.fireOnFinalChange()}))},r.fireOnFinalChange=function(){r.setState({isChanged:!1});var e=r.props,t=e.onFinalChange,n=e.values;t&&t(n)},r.calculateMarkOffsets=function(){if(r.props.renderMark&&r.trackRef&&null!==r.trackRef.current){for(var e=window.getComputedStyle(r.trackRef.current),t=parseInt(e.width,10),n=parseInt(e.height,10),o=parseInt(e.paddingLeft,10),i=parseInt(e.paddingTop,10),a=[],s=0;s<r.numOfMarks+1;s++){var l=9999,u=9999;if(r.markRefs[s].current){var f=r.markRefs[s].current.getBoundingClientRect();l=f.height,u=f.width}r.props.direction===c.Direction.Left||r.props.direction===c.Direction.Right?a.push([Math.round(t/r.numOfMarks*s+o-u/2),-Math.round((l-n)/2)]):a.push([Math.round(n/r.numOfMarks*s+i-l/2),-Math.round((u-t)/2)])}r.setState({markOffsets:a})}},0===t.step)throw new Error('"step" property should be a positive number');r.numOfMarks=(t.max-t.min)/r.props.step,r.schdOnMouseMove=u.schd(r.onMouseMove),r.schdOnTouchMove=u.schd(r.onTouchMove),r.schdOnEnd=u.schd(r.onEnd),r.thumbRefs=t.values.map((function(){return l.createRef()}));for(var n=0;n<r.numOfMarks+1;n++)r.markRefs[n]=l.createRef();return r}return n(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.values,n=t.min,o=t.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",e.onResize)},unobserve:function(){return window.removeEventListener("resize",e.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&u.checkInitialOverlap(this.props.values),this.props.values.forEach((function(t){return u.checkBoundaries(t,e.props.min,e.props.max)})),this.resizeObserver.observe(this.trackRef.current),u.translateThumbs(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),r.forEach((function(e){u.isStepDivisible(n,e,o)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},t.prototype.componentDidUpdate=function(e,t){var r=this.props,n=r.max,o=r.min,i=r.step,a=r.values,s=r.rtl;if(e.max!==n||e.min!==o||e.step!==i){this.markRefs=[],this.numOfMarks=(n-o)/i;for(var c=0;c<this.numOfMarks+1;c++)this.markRefs[c]=l.createRef()}u.translateThumbs(this.getThumbs(),this.getOffsets(),s),e.max===n&&e.min===o&&e.step===i&&t.markOffsets.length===this.state.markOffsets.length||(this.calculateMarkOffsets(),a.forEach((function(e){u.isStepDivisible(o,e,i)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})))},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},t.prototype.render=function(){var e=this,t=this.props,r=t.renderTrack,n=t.renderThumb,o=t.renderMark,i=void 0===o?function(){return null}:o,a=t.values,l=t.min,f=t.max,d=t.allowOverlap,h=t.disabled,p=this.state,v=p.draggedThumbIndex,m=p.thumbZIndexes,y=p.markOffsets;return r({props:{style:{transform:"scale(1)",cursor:v>-1?"grabbing":this.props.draggableTrack?u.isVertical(this.props.direction)?"ns-resize":"ew-resize":1!==a.length||h?"inherit":"pointer"},onMouseDown:h?u.voidFn:this.onMouseDownTrack,onTouchStart:h?u.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:h,children:s(y.map((function(t,r,n){return i({props:{style:e.props.direction===c.Direction.Left||e.props.direction===c.Direction.Right?{position:"absolute",left:t[0]+"px",marginTop:t[1]+"px"}:{position:"absolute",top:t[0]+"px",marginLeft:t[1]+"px"},key:"mark"+r,ref:e.markRefs[r]},index:r})})),a.map((function(t,r){var o=e.state.draggedThumbIndex===r;return n({index:r,value:t,isDragged:o,props:{style:{position:"absolute",zIndex:m[r],cursor:h?"inherit":o?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:r,tabIndex:h?void 0:0,"aria-valuemax":d?f:a[r+1]||f,"aria-valuemin":d?l:a[r-1]||l,"aria-valuenow":t,draggable:!1,ref:e.thumbRefs[r],role:"slider",onKeyDown:h?u.voidFn:e.onKeyDown,onKeyUp:h?u.voidFn:e.onKeyUp}})})))})},t.defaultProps={step:1,direction:c.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},t}(l.Component);t.default=h},9202:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValuesAgainstBoundaries=t.relativeValue=t.useThumbOverlap=t.Direction=t.getTrackBackground=t.Range=void 0;var o=n(r(3147));t.Range=o.default;var i=r(857);Object.defineProperty(t,"getTrackBackground",{enumerable:!0,get:function(){return i.getTrackBackground}}),Object.defineProperty(t,"useThumbOverlap",{enumerable:!0,get:function(){return i.useThumbOverlap}}),Object.defineProperty(t,"relativeValue",{enumerable:!0,get:function(){return i.relativeValue}}),Object.defineProperty(t,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return i.checkValuesAgainstBoundaries}});var a=r(6019);Object.defineProperty(t,"Direction",{enumerable:!0,get:function(){return a.Direction}})},6019:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Direction=void 0,function(e){e.Right="to right",e.Left="to left",e.Down="to bottom",e.Up="to top"}(t.Direction||(t.Direction={}))},857:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.useThumbOverlap=t.assertUnreachable=t.voidFn=t.getTrackBackground=t.replaceAt=t.schd=t.translate=t.getClosestThumbIndex=t.translateThumbs=t.getPaddingAndBorder=t.getMargin=t.checkInitialOverlap=t.checkValuesAgainstBoundaries=t.checkBoundaries=t.isVertical=t.relativeValue=t.normalizeValue=t.isStepDivisible=t.isTouchEvent=t.getStepDecimals=void 0;var o=r(2791),i=r(6019);function a(e){return e===i.Direction.Up||e===i.Direction.Down}function s(e,t,r){e.style.transform="translate("+t+"px, "+r+"px)"}t.getStepDecimals=function(e){var t=e.toString().split(".")[1];return t?t.length:0},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.isStepDivisible=function(e,t,r){var n=Number(((t-e)/r).toFixed(8));return parseInt(n.toString(),10)===n},t.normalizeValue=function(e,r,n,o,i,a,s){var l=1e11;if(e=Math.round(e*l)/l,!a){var u=s[r-1],c=s[r+1];if(u&&u>e)return u;if(c&&c<e)return c}if(e>o)return o;if(e<n)return n;var f=Math.floor(e*l-n*l)%Math.floor(i*l),d=Math.floor(e*l-Math.abs(f)),h=0===f?e:d/l,p=Math.abs(f/l)<i/2?h:h+i,v=t.getStepDecimals(i);return parseFloat(p.toFixed(v))},t.relativeValue=function(e,t,r){return(e-t)/(r-t)},t.isVertical=a,t.checkBoundaries=function(e,t,r){if(t>=r)throw new RangeError("min ("+t+") is equal/bigger than max ("+r+")");if(e<t)throw new RangeError("value ("+e+") is smaller than min ("+t+")");if(e>r)throw new RangeError("value ("+e+") is bigger than max ("+r+")")},t.checkValuesAgainstBoundaries=function(e,t,r){return e<t?t:e>r?r:e},t.checkInitialOverlap=function(e){if(!(e.length<2)&&!e.slice(1).every((function(t,r){return e[r]<=t})))throw new RangeError("values={["+e+"]} needs to be sorted when allowOverlap={false}")},t.getMargin=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["margin-top"],10),bottom:parseInt(t["margin-bottom"],10),left:parseInt(t["margin-left"],10),right:parseInt(t["margin-right"],10)}},t.getPaddingAndBorder=function(e){var t=window.getComputedStyle(e);return{top:parseInt(t["padding-top"],10)+parseInt(t["border-top-width"],10),bottom:parseInt(t["padding-bottom"],10)+parseInt(t["border-bottom-width"],10),left:parseInt(t["padding-left"],10)+parseInt(t["border-left-width"],10),right:parseInt(t["padding-right"],10)+parseInt(t["border-right-width"],10)}},t.translateThumbs=function(e,t,r){var n=r?-1:1;e.forEach((function(e,r){return s(e,n*t[r].x,t[r].y)}))},t.getClosestThumbIndex=function(e,t,r,n){for(var o=0,i=u(e[0],t,r,n),a=1;a<e.length;a++){var s=u(e[a],t,r,n);s<i&&(i=s,o=a)}return o},t.translate=s;t.schd=function(e){var t=[],r=null;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t=n,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))}},t.replaceAt=function(e,t,r){var n=e.slice(0);return n[t]=r,n},t.getTrackBackground=function(e){var t=e.values,r=e.colors,n=e.min,o=e.max,a=e.direction,s=void 0===a?i.Direction.Right:a,l=e.rtl,u=void 0!==l&&l;u&&s===i.Direction.Right?s=i.Direction.Left:u&&i.Direction.Left&&(s=i.Direction.Right);var c=t.slice(0).sort((function(e,t){return e-t})).map((function(e){return(e-n)/(o-n)*100})).reduce((function(e,t,n){return e+", "+r[n]+" "+t+"%, "+r[n+1]+" "+t+"%"}),"");return"linear-gradient("+s+", "+r[0]+" 0%"+c+", "+r[r.length-1]+" 100%)"},t.voidFn=function(){},t.assertUnreachable=function(e){throw new Error("Didn't expect to get here")};var l=function(e,t,r,o,i){return void 0===i&&(i=function(e){return e}),Math.ceil(n([e],Array.from(e.children)).reduce((function(e,n){var a=Math.ceil(n.getBoundingClientRect().width);if(n.innerText&&n.innerText.includes(r)&&0===n.childElementCount){var s=n.cloneNode(!0);s.innerHTML=i(t.toFixed(o)),s.style.visibility="hidden",document.body.appendChild(s),a=Math.ceil(s.getBoundingClientRect().width),document.body.removeChild(s)}return a>e?a:e}),e.getBoundingClientRect().width))};function u(e,t,r,n){var o=e.getBoundingClientRect(),i=o.left,s=o.top,l=o.width,u=o.height;return a(n)?Math.abs(r-(s+u/2)):Math.abs(t-(i+l/2))}t.useThumbOverlap=function(e,r,i,a,s,u){void 0===a&&(a=.1),void 0===s&&(s=" - "),void 0===u&&(u=function(e){return e});var c=t.getStepDecimals(a),f=o.useState({}),d=f[0],h=f[1],p=o.useState(u(r[i].toFixed(c))),v=p[0],m=p[1];return o.useEffect((function(){if(e){var t=e.getThumbs();if(t.length<1)return;var o={},a=e.getOffsets(),f=function(e,t,r,o,i,a,s){void 0===s&&(s=function(e){return e});var u=[];return function e(c){var f=l(r[c],o[c],i,a,s),d=t[c].x;t.forEach((function(t,h){var p=t.x,v=l(r[h],o[h],i,a,s);c!==h&&(d>=p&&d<=p+v||d+f>=p&&d+f<=p+v)&&(u.includes(h)||(u.push(c),u.push(h),u=n(u,[c,h]),e(h)))}))}(e),Array.from(new Set(u.sort()))}(i,a,t,r,s,c,u),d=u(r[i].toFixed(c));if(f.length){var p=f.reduce((function(e,t,r,o){return e.length?n(e,[a[o[r]].x]):[a[o[r]].x]}),[]);if(Math.min.apply(Math,p)===a[i].x){var v=[];f.forEach((function(e){v.push(r[e].toFixed(c))})),d=Array.from(new Set(v.sort((function(e,t){return parseFloat(e)-parseFloat(t)})))).map(u).join(s);var y=Math.min.apply(Math,p),g=Math.max.apply(Math,p),b=t[f[p.indexOf(g)]].getBoundingClientRect().width;o.left=Math.abs(y-(g+b))/2+"px",o.transform="translate(-50%, 0)"}else o.visibility="hidden"}m(d),h(o)}}),[e,r]),[v,d]}},3567:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastContainer=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(7069),a=r(2791),s=((n=a)&&n.__esModule,r(9995),r(318));var l={"top-left":{top:0,left:0},"top-center":{top:0,left:"50%",transform:"translateX(-50%)"},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-center":{bottom:0,left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:0,right:0}};t.ToastContainer=function(e){var t=e.hasToasts,r=e.placement,n=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["hasToasts","placement"]);return(0,i.jsx)("div",o({className:"react-toast-notifications__container",css:o({boxSizing:"border-box",maxHeight:"100%",maxWidth:"100%",overflow:"hidden",padding:s.gutter,pointerEvents:t?null:"none",position:"fixed",zIndex:1e3},l[r])},n))}},7374:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastController=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2791),s=(n=a)&&n.__esModule?n:{default:n},l=(r(9995),r(4081));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}l.NOOP,l.NOOP,l.NOOP;function f(e,t){var r=void 0,n=t,o=t;this.clear=function(){clearTimeout(r)},this.pause=function(){clearTimeout(r),o-=Date.now()-n},this.resume=function(){n=Date.now(),clearTimeout(r),r=setTimeout(e,o)},this.resume()}var d=t.ToastController=function(e){function t(){var e,r,n;u(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={isRunning:Boolean(n.props.autoDismiss)},n.startTimer=function(){var e=n.props,t=e.autoDismiss,r=e.autoDismissTimeout,o=e.onDismiss;t&&(n.setState({isRunning:!0}),n.timeout=new f(o,r))},n.clearTimer=function(){n.timeout&&n.timeout.clear()},n.onMouseEnter=function(){n.setState({isRunning:!1},(function(){n.timeout&&n.timeout.pause()}))},n.onMouseLeave=function(){n.setState({isRunning:!0},(function(){n.timeout&&n.timeout.resume()}))},c(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentDidUpdate",value:function(e){e.autoDismiss!==this.props.autoDismiss&&(this.props.autoDismiss?this.startTimer:this.clearTimer)()}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.autoDismiss,r=e.autoDismissTimeout,n=e.component,i=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["autoDismiss","autoDismissTimeout","component"]),a=this.state.isRunning,u=t?this.onMouseEnter:l.NOOP,c=t?this.onMouseLeave:l.NOOP;return s.default.createElement(n,o({autoDismiss:t,autoDismissTimeout:r,isRunning:a,onMouseEnter:u,onMouseLeave:c},i))}}]),t}(a.Component);d.defaultProps={autoDismiss:!1}},318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultToast=t.shrinkKeyframes=t.toastWidth=t.gutter=t.borderRadius=void 0;var n,o,i,a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(l){o=!0,i=l}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=(n=["from { height: 100%; } to { height: 0% }"],o=["from { height: 100%; } to { height: 0% }"],Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))),u=r(2791),c=((i=u)&&i.__esModule,r(7069)),f=r(1511),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(7410)),h=r(4081);function p(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var v=t.borderRadius=4,m=t.gutter=8,y=t.toastWidth=360,g=t.shrinkKeyframes=(0,c.keyframes)(l),b=function(e){var t=e.tag,r=p(e,["tag"]);return(0,c.jsx)(t,s({css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},r))};b.defaultProps={tag:"span"};var _={success:{icon:f.CheckIcon,text:d.G500,fg:d.G300,bg:d.G50},error:{icon:f.FlameIcon,text:d.R500,fg:d.R300,bg:d.R50},warning:{icon:f.AlertIcon,text:d.Y500,fg:d.Y300,bg:d.Y50},info:{icon:f.InfoIcon,text:d.N400,fg:d.B200,bg:"white"}},x=function(e){return(0,c.jsx)("div",s({role:"button",className:"react-toast-notifications__toast__dismiss-button",css:{cursor:"pointer",flexShrink:0,opacity:.5,padding:m+"px "+1.5*m+"px",transition:"opacity 150ms",":hover":{opacity:1}}},e))},w=function(e){return(0,c.jsx)("div",s({className:"react-toast-notifications__toast__content",css:{flexGrow:1,fontSize:14,lineHeight:1.4,minHeight:40,padding:m+"px "+1.5*m+"px"}},e))},k=function(e){var t=e.autoDismissTimeout,r=e.opacity,n=e.isRunning,o=p(e,["autoDismissTimeout","opacity","isRunning"]);return(0,c.jsx)("div",s({className:"react-toast-notifications__toast__countdown",css:{animation:g+" "+t+"ms linear",animationPlayState:n?"running":"paused",backgroundColor:"rgba(0,0,0,0.1)",bottom:0,height:0,left:0,opacity:r,position:"absolute",width:"100%"}},o))},E=function(e){var t=e.appearance,r=e.autoDismiss,n=e.autoDismissTimeout,o=e.isRunning,i=_[t],a=i.icon;return(0,c.jsx)("div",{className:"react-toast-notifications__toast__icon-wrapper",css:{backgroundColor:i.fg,borderTopLeftRadius:v,borderBottomLeftRadius:v,color:i.bg,flexShrink:0,paddingBottom:m,paddingTop:m,position:"relative",overflow:"hidden",textAlign:"center",width:30}},(0,c.jsx)(k,{opacity:r?1:0,autoDismissTimeout:n,isRunning:o}),(0,c.jsx)(a,{className:"react-toast-notifications__toast__icon",css:{position:"relative",zIndex:1}}))};function T(e){var t=e.split("-");return{right:"translate3d(120%, 0, 0)",left:"translate3d(-120%, 0, 0)",bottom:"translate3d(0, 120%, 0)",top:"translate3d(0, -120%, 0)"}["center"===t[1]?t[0]:t[1]]}var S=function(e){return{entering:{transform:T(e)},entered:{transform:"translate3d(0,0,0)"},exiting:{transform:"scale(0.66)",opacity:0},exited:{transform:"scale(0.66)",opacity:0}}},C=function(e){var t=e.appearance,r=e.placement,n=e.transitionDuration,o=e.transitionState,i=p(e,["appearance","placement","transitionDuration","transitionState"]),l=(0,u.useState)("auto"),f=a(l,2),d=f[0],h=f[1],g=(0,u.useRef)(null);return(0,u.useEffect)((function(){if("entered"===o){var e=g.current;h(e.offsetHeight+m)}"exiting"===o&&h(0)}),[o]),(0,c.jsx)("div",{ref:g,style:{height:d},css:{transition:"height "+(n-100)+"ms 100ms"}},(0,c.jsx)("div",s({className:"react-toast-notifications__toast react-toast-notifications__toast--"+t,css:s({backgroundColor:_[t].bg,borderRadius:v,boxShadow:"0 3px 8px rgba(0, 0, 0, 0.175)",color:_[t].text,display:"flex",marginBottom:m,maxWidth:"100%",transition:"transform "+n+"ms cubic-bezier(0.2, 0, 0, 1), opacity "+n+"ms",width:y},S(r)[o])},i)))},A=function(e){var t=e.appearance,r=void 0===t?"info":t,n=e.autoDismiss,o=e.autoDismissTimeout,i=e.children,a=e.isRunning,l=e.onDismiss,u=e.placement,d=e.transitionDuration,h=e.transitionState,v=e.onMouseEnter,m=e.onMouseLeave,y=p(e,["appearance","autoDismiss","autoDismissTimeout","children","isRunning","onDismiss","placement","transitionDuration","transitionState","onMouseEnter","onMouseLeave"]);return(0,c.jsx)(C,s({appearance:r,placement:u,transitionState:h,transitionDuration:d,onMouseEnter:v,onMouseLeave:m},y),(0,c.jsx)(E,{appearance:r,autoDismiss:n,autoDismissTimeout:o,isRunning:a}),(0,c.jsx)(w,null,i),l?(0,c.jsx)(x,{onClick:l},(0,c.jsx)(f.CloseIcon,{className:"react-toast-notifications__toast__dismiss-icon"}),(0,c.jsx)(b,{className:"react-toast-notifications__toast__dismiss-text"},"Close")):null)};t.DefaultToast=A,A.defaultProps={onDismiss:h.NOOP}},8825:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToasts=t.withToastManager=t.ToastConsumer=t.ToastProvider=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(2791),s=(n=a)&&n.__esModule?n:{default:n},l=r(4164),u=r(9995),c=r(7374),f=r(3567),d=r(318),h=r(4081);function p(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y={Toast:d.DefaultToast,ToastContainer:f.ToastContainer},g=s.default.createContext(),b=g.Consumer,_=g.Provider,x=!("undefined"===typeof window||!window.document||!window.document.createElement),w=t.ToastProvider=function(e){function t(){var e,r,n;v(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=n=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={toasts:[]},n.has=function(e){return!!n.state.toasts.length&&Boolean(n.state.toasts.filter((function(t){return t.id===e})).length)},n.onDismiss=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.NOOP;return function(){t(e),n.remove(e)}},n.add=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.NOOP,i=t.id?t.id:(0,h.generateUEID)(),a=function(){return r(i)};if(!n.has(i))return n.setState((function(r){var a=o({content:e,id:i},t);return{toasts:n.props.newestOnTop?[a].concat(p(r.toasts)):[].concat(p(r.toasts),[a])}}),a),i},n.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.NOOP,r=function(){return t(e)};n.has(e)&&n.setState((function(t){return{toasts:t.toasts.filter((function(t){return t.id!==e}))}}),r)},n.removeAll=function(){n.state.toasts.length&&n.state.toasts.forEach((function(e){return n.remove(e.id)}))},n.update=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.NOOP,i=function(){return r(e)};n.has(e)&&n.setState((function(r){var n=r.toasts,i=n.findIndex((function(t){return t.id===e})),a=o({},n[i],t);return{toasts:[].concat(p(n.slice(0,i)),[a],p(n.slice(i+1)))}}),i)},m(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.autoDismiss,n=t.autoDismissTimeout,i=t.children,a=t.components,f=t.placement,d=t.portalTargetSelector,h=t.transitionDuration,p=o({},y,a),v=p.Toast,m=p.ToastContainer,g=this.add,b=this.remove,w=this.removeAll,k=this.update,E=Object.freeze(this.state.toasts),T=Boolean(E.length),S=x?d?document.querySelector(d):document.body:null;return s.default.createElement(_,{value:{add:g,remove:b,removeAll:w,update:k,toasts:E}},i,S?(0,l.createPortal)(s.default.createElement(m,{placement:f,hasToasts:T},s.default.createElement(u.TransitionGroup,{component:null},E.map((function(t){var i=t.appearance,a=t.autoDismiss,l=t.content,d=t.id,p=t.onDismiss,m=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["appearance","autoDismiss","content","id","onDismiss"]);return s.default.createElement(u.Transition,{appear:!0,key:d,mountOnEnter:!0,timeout:h,unmountOnExit:!0},(function(t){return s.default.createElement(c.ToastController,o({appearance:i,autoDismiss:void 0!==a?a:r,autoDismissTimeout:n,component:v,key:d,onDismiss:e.onDismiss(d,p),placement:f,transitionDuration:h,transitionState:t},m),l)}))})))),S):s.default.createElement(m,{placement:f,hasToasts:T}))}}]),t}(a.Component);w.defaultProps={autoDismiss:!1,autoDismissTimeout:5e3,components:y,newestOnTop:!1,placement:"top-right",transitionDuration:220};var k=t.ToastConsumer=function(e){var t=e.children;return s.default.createElement(b,null,(function(e){return t(e)}))};t.withToastManager=function(e){return s.default.forwardRef((function(t,r){return s.default.createElement(k,null,(function(n){return s.default.createElement(e,o({toastManager:n},t,{ref:r}))}))}))},t.useToasts=function(){var e=(0,a.useContext)(g);if(!e)throw Error("The `useToasts` hook must be called from a descendent of the `ToastProvider`.");return{addToast:e.add,removeToast:e.remove,removeAllToasts:e.removeAll,updateToast:e.update,toastStack:e.toasts}}},7410:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.R50="#FFEBE6",t.R75="#FFBDAD",t.R100="#FF8F73",t.R200="#FF7452",t.R300="#FF5630",t.R400="#DE350B",t.R500="#BF2600",t.Y50="#FFFAE6",t.Y75="#FFF0B3",t.Y100="#FFE380",t.Y200="#FFC400",t.Y300="#FFAB00",t.Y400="#FF991F",t.Y500="#FF8B00",t.G50="#E3FCEF",t.G75="#ABF5D1",t.G100="#79F2C0",t.G200="#57D9A3",t.G300="#36B37E",t.G400="#00875A",t.G500="#006644",t.B50="#DEEBFF",t.B75="#B3D4FF",t.B100="#4C9AFF",t.B200="#2684FF",t.B300="#0065FF",t.B400="#0052CC",t.B500="#0747A6",t.P50="#EAE6FF",t.P75="#C0B6F2",t.P100="#998DD9",t.P200="#8777D9",t.P300="#6554C0",t.P400="#5243AA",t.P500="#403294",t.T50="#E6FCFF",t.T75="#B3F5FF",t.T100="#79E2F2",t.T200="#00C7E6",t.T300="#00B8D9",t.T400="#00A3BF",t.T500="#008DA6",t.N0="#FFFFFF",t.N10="#FAFBFC",t.N20="#F4F5F7",t.N30="#EBECF0",t.N40="#DFE1E6",t.N50="#C1C7D0",t.N60="#B3BAC5",t.N70="#A5ADBA",t.N80="#97A0AF",t.N90="#8993A4",t.N100="#7A869A",t.N200="#6B778C",t.N300="#5E6C84",t.N400="#505F79",t.N500="#42526E",t.N600="#344563",t.N700="#253858",t.N800="#172B4D",t.N900="#091E42",t.N10A="rgba(9, 30, 66, 0.02)",t.N20A="rgba(9, 30, 66, 0.04)",t.N30A="rgba(9, 30, 66, 0.08)",t.N40A="rgba(9, 30, 66, 0.13)",t.N50A="rgba(9, 30, 66, 0.25)",t.N60A="rgba(9, 30, 66, 0.31)",t.N70A="rgba(9, 30, 66, 0.36)",t.N80A="rgba(9, 30, 66, 0.42)",t.N90A="rgba(9, 30, 66, 0.48)",t.N100A="rgba(9, 30, 66, 0.54)",t.N200A="rgba(9, 30, 66, 0.60)",t.N300A="rgba(9, 30, 66, 0.66)",t.N400A="rgba(9, 30, 66, 0.71)",t.N500A="rgba(9, 30, 66, 0.77)",t.N600A="rgba(9, 30, 66, 0.82)",t.N700A="rgba(9, 30, 66, 0.89)",t.N800A="rgba(9, 30, 66, 0.95)"},1511:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseIcon=t.InfoIcon=t.FlameIcon=t.CheckIcon=t.AlertIcon=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(2791),a=(n=i)&&n.__esModule?n:{default:n};function s(e){return{"aria-hidden":!0,height:16,width:e,viewBox:"0 0 "+e+" 16",style:{display:"inline-block",verticalAlign:"text-top",fill:"currentColor"}}}t.AlertIcon=function(e){return a.default.createElement("svg",o({},s(16),e),a.default.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},t.CheckIcon=function(e){return a.default.createElement("svg",o({},s(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M12 5.5l-8 8-4-4L1.5 8 4 10.5 10.5 4 12 5.5z"}))},t.FlameIcon=function(e){return a.default.createElement("svg",o({},s(12),e),a.default.createElement("path",{fillRule:"evenodd",d:"M5.05.01c.81 2.17.41 3.38-.52 4.31C3.55 5.37 1.98 6.15.9 7.68c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.01 8.68 2.15 5.05.02L5.03 0l.02.01z"}))},t.InfoIcon=function(e){return a.default.createElement("svg",o({},s(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M6.3 5.71a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 8.01c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V8v.01zM7 2.32C3.86 2.32 1.3 4.86 1.3 8c0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 1c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},t.CloseIcon=function(e){return a.default.createElement("svg",o({},s(14),e),a.default.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"}))}},2092:function(e,t,r){"use strict";var n=r(3567);var o=r(318);var i=r(8825);Object.defineProperty(t,"VW",{enumerable:!0,get:function(){return i.ToastProvider}}),Object.defineProperty(t,"e1",{enumerable:!0,get:function(){return i.useToasts}})},4081:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUEID=function(){var e=46656*Math.random()|0,t=46656*Math.random()|0;return e=("000"+e.toString(36)).slice(-3),t=("000"+t.toString(36)).slice(-3),e+t};t.NOOP=function(){}},9995:function(e,t,r){"use strict";r.r(t),r.d(t,{CSSTransition:function(){return x},ReplaceTransition:function(){return O},SwitchTransition:function(){return N},Transition:function(){return g},TransitionGroup:function(){return A},config:function(){return u}});var n=r(7462),o=r(3366),i=r(4578);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=r(2791),l=r(4164),u={disabled:!1},c=s.createContext(null),f="unmounted",d="exited",h="entering",p="entered",v="exiting",m=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=d,n.appearStatus=h):o=p:o=t.unmountOnExit||t.mountOnEnter?f:d,n.state={status:o},n.nextCallback=null,n}(0,i.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==h&&r!==p&&(t=h):r!==h&&r!==p||(t=v)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[l.findDOMNode(this),n],i=o[0],a=o[1],s=this.getTimeouts(),c=n?s.appear:s.enter;!e&&!r||u.disabled?this.safeSetState({status:p},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:h},(function(){t.props.onEntering(i,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(i,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!u.disabled?(this.props.onExit(n),this.safeSetState({status:v},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:d},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:d},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(c.Provider,{value:null},"function"===typeof r?r(e,n):s.cloneElement(s.Children.only(r),n))},t}(s.Component);function y(){}m.contextType=c,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},m.UNMOUNTED=f,m.EXITED=d,m.ENTERING=h,m.ENTERED=p,m.EXITING=v;var g=m,b=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.remove(n):"string"===typeof r.className?r.className=a(r.className,n):r.setAttribute("class",a(r.className&&r.className.baseVal||"",n)));var r,n}))},_=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"===typeof r,o=n?""+(n&&r?r+"-":"")+e:r[e];return{baseClassName:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}(0,i.Z)(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&o&&(n+=" "+o),"active"===r&&e&&e.scrollTop,n&&(this.appliedClasses[t][r]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,n)||("string"===typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))}(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,i=r.done;this.appliedClasses[t]={},n&&b(e,n),o&&b(e,o),i&&b(e,i)},r.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return s.createElement(g,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);_.defaultProps={classNames:""},_.propTypes={};var x=_,w=r(7326);function k(e,t){var r=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,s.isValidElement)(e)?t(e):e}(e)})),r}function E(e,t,r){return null!=r[t]?r[t]:e.props[t]}function T(e,t,r){var n=k(e.children),o=function(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(n=0;n<o[l].length;n++){var u=o[l][n];s[o[l][n]]=r(u)}s[l]=r(l)}for(n=0;n<i.length;n++)s[i[n]]=r(i[n]);return s}(t,n);return Object.keys(o).forEach((function(i){var a=o[i];if((0,s.isValidElement)(a)){var l=i in t,u=i in n,c=t[i],f=(0,s.isValidElement)(c)&&!c.props.in;!u||l&&!f?u||!l||f?u&&l&&(0,s.isValidElement)(c)&&(o[i]=(0,s.cloneElement)(a,{onExited:r.bind(null,a),in:c.props.in,exit:E(a,"exit",e),enter:E(a,"enter",e)})):o[i]=(0,s.cloneElement)(a,{in:!1}):o[i]=(0,s.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:E(a,"exit",e),enter:E(a,"enter",e)})}})),o}var S=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},C=function(e){function t(t,r){var n,o=(n=e.call(this,t,r)||this).handleExited.bind((0,w.Z)(n));return n.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},n}(0,i.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,n,o=t.children,i=t.handleExited;return{children:t.firstRender?(r=e,n=i,k(r.children,(function(e){return(0,s.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:E(e,"appear",r),enter:E(e,"enter",r),exit:E(e,"exit",r)})}))):T(e,o,i),firstRender:!1}},r.handleExited=function(e,t){var r=k(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=(0,n.Z)({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=(0,o.Z)(e,["component","childFactory"]),i=this.state.contextValue,a=S(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?s.createElement(c.Provider,{value:i},a):s.createElement(c.Provider,{value:i},s.createElement(t,n,a))},t}(s.Component);C.propTypes={},C.defaultProps={component:"div",childFactory:function(e){return e}};var A=C,I=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleEnter=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEnter",0,r)},t.handleEntering=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntering",0,r)},t.handleEntered=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onEntered",0,r)},t.handleExit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExit",1,r)},t.handleExiting=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExiting",1,r)},t.handleExited=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.handleLifecycle("onExited",1,r)},t}(0,i.Z)(t,e);var r=t.prototype;return r.handleLifecycle=function(e,t,r){var n,o=this.props.children,i=s.Children.toArray(o)[t];if(i.props[e]&&(n=i.props)[e].apply(n,r),this.props[e]){var a=i.props.nodeRef?void 0:l.findDOMNode(this);this.props[e](a)}},r.render=function(){var e=this.props,t=e.children,r=e.in,n=(0,o.Z)(e,["children","in"]),i=s.Children.toArray(t),a=i[0],l=i[1];return delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,s.createElement(A,n,r?s.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):s.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(s.Component);I.propTypes={};var M,P,O=I;var z="out-in",R="in-out",D=function(e,t,r){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),r()}},L=((M={})[z]=function(e){var t=e.current,r=e.changeState;return s.cloneElement(t,{in:!1,onExited:D(t,"onExited",(function(){r(h,null)}))})},M[R]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,s.cloneElement(n,{in:!0,onEntered:D(n,"onEntered",(function(){r(h)}))})]},M),j=((P={})[z]=function(e){var t=e.children,r=e.changeState;return s.cloneElement(t,{in:!0,onEntered:D(t,"onEntered",(function(){r(p,s.cloneElement(t,{in:!0}))}))})},P[R]=function(e){var t=e.current,r=e.children,n=e.changeState;return[s.cloneElement(t,{in:!1,onExited:D(t,"onExited",(function(){n(p,s.cloneElement(r,{in:!0}))}))}),s.cloneElement(r,{in:!0})]},P),F=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={status:p,current:null},t.appeared=!1,t.changeState=function(e,r){void 0===r&&(r=t.state.current),t.setState({status:e,current:r})},t}(0,i.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===h&&e.mode===R?{status:h}:!t.current||(r=t.current,n=e.children,r===n||s.isValidElement(r)&&s.isValidElement(n)&&null!=r.key&&r.key===n.key)?{current:s.cloneElement(e.children,{in:!0})}:{status:v};var r,n},r.render=function(){var e,t=this.props,r=t.children,n=t.mode,o=this.state,i=o.status,a=o.current,l={children:r,current:a,changeState:this.changeState,status:i};switch(i){case h:e=j[n](l);break;case v:e=L[n](l);break;case p:e=a}return s.createElement(c.Provider,{value:{isMounting:!this.appeared}},e)},t}(s.Component);F.propTypes={},F.defaultProps={mode:z};var N=F},6374:function(e,t,r){"use strict";r(1725);var n=r(2791),o=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,i={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:a.current}}t.jsx=u,t.jsxs=u},9117:function(e,t,r){"use strict";var n=r(1725),o=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;o=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),l=f("react.forward_ref"),t.Suspense=f("react.suspense"),u=f("react.memo"),c=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}function y(){}function g(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=g.prototype=new y;b.constructor=g,n(b,m.prototype),b.isPureReactComponent=!0;var _={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,n)&&!w.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var T=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case i:l=!0}}if(l)return a=a(l=e),e=""===n?"."+S(l,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(T,"$&/")+"/"),C(a,t,r,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=""===n?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=n+S(s=e[u],u);l+=C(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=C(s=s.value,t,r,c=n+S(s,u++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function A(e,t,r){if(null==e)return e;var n=[],o=0;return C(e,n,"","",(function(e){return t.call(r,e,o++)})),n}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var M={current:null};function P(){var e=M.current;if(null===e)throw Error(h(321));return e}var O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:A,forEach:function(e,t,r){A(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(h(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return P().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,r){return P().useReducer(e,t,r)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},9727:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new A(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return M()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var l=c(e,t,r);if("normal"===l.type){if(n=r.done?p:d,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=p,r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};l(b,i,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(I([])));x&&x!==r&&n.call(x,i)&&(b=x);var w=g.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(o,i,a,s){var l=c(e[o],e,i);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(l.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function T(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=c(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var r=e[i];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=g,l(w,"constructor",g),l(g,"constructor",y),y.displayName=l(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,i,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=I,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var r,n,o,i;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,f=function e(){if(null!==u)try{var r=t.unstable_now();u(!0,r),u=null}catch(n){throw setTimeout(e,0),n}};r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(f,0))},n=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,x=_.port2;_.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();b=e+g;try{m(!0,e)?x.postMessage(null):(v=!1,m=null)}catch(r){throw x.postMessage(null),r}}else v=!1},r=function(e){m=e,v||(v=!0,x.postMessage(null))},n=function(e,r){y=d((function(){e(t.unstable_now())}),r)},o=function(){h(y),y=-1}}function w(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,o=e[n];if(!(void 0!==o&&0<T(o,t)))break e;e[n]=t,e[r]=o,r=n}}function k(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,o=e.length;n<o;){var i=2*(n+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>T(a,r))void 0!==l&&0>T(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[i]=r,n=i);else{if(!(void 0!==l&&0>T(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function T(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var S=[],C=[],A=1,I=null,M=3,P=!1,O=!1,z=!1;function R(e){for(var t=k(C);null!==t;){if(null===t.callback)E(C);else{if(!(t.startTime<=e))break;E(C),t.sortIndex=t.expirationTime,w(S,t)}t=k(C)}}function D(e){if(z=!1,R(e),!O)if(null!==k(S))O=!0,r(L);else{var t=k(C);null!==t&&n(D,t.startTime-e)}}function L(e,r){O=!1,z&&(z=!1,o()),P=!0;var i=M;try{for(R(r),I=k(S);null!==I&&(!(I.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=I.callback;if("function"===typeof a){I.callback=null,M=I.priorityLevel;var s=a(I.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?I.callback=s:I===k(S)&&E(S),R(r)}else E(S);I=k(S)}if(null!==I)var l=!0;else{var u=k(C);null!==u&&n(D,u.startTime-r),l=!1}return l}finally{I=null,M=i,P=!1}}var j=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return k(S)},t.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var r=M;M=t;try{return e()}finally{M=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=M;M=e;try{return t()}finally{M=r}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:A++,callback:i,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(C,e),null===k(S)&&e===k(C)&&(z?o():z=!0,n(D,a-s))):(e.sortIndex=l,w(S,e),O||P||(O=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=M;return function(){var r=M;M=t;try{return e.apply(this,arguments)}finally{M=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},845:function(e){"use strict";e.exports=function(e,t){if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},499:function(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},6514:function(e){function t(e,t){var r=e.length,n=new Array(r),o={},i=r,a=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++){var o=e[r];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),s=function(e){for(var t=new Map,r=0,n=e.length;r<n;r++)t.set(e[r],r);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||l(e[i],i,new Set);return n;function l(e,t,i){if(i.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(d){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var c=a.get(e)||new Set;if(t=(c=Array.from(c)).length){i.add(e);do{var f=c[--t];l(f,s.get(f),i)}while(t);i.delete(e)}n[--r]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,r=0,n=e.length;r<n;r++){var o=e[r];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)},e.exports.array=t},4282:function(e,t,r){"use strict";e.exports=r.p+"static/media/0 mv8MNRLDNNnt5f72.f26594c12d89ea136724.gif"},2678:function(e,t,r){"use strict";e.exports=r.p+"static/media/b.d7794ef9afe2fabe993c.png"},6312:function(e,t,r){"use strict";e.exports=r.p+"static/media/124925.a3ac158f3f26ff2f0db3.jpg"},8715:function(e,t,r){"use strict";e.exports=r.p+"static/media/247ad0.7cd114c4ba6aacf7c203.jpg"},8375:function(e,t,r){"use strict";e.exports=r.p+"static/media/39bd0f.82d67bade442ebb29a19.jpg"},2043:function(e,t,r){"use strict";e.exports=r.p+"static/media/56d159.96c33031e73fe7c41ea1.jpeg"},6648:function(e,t,r){"use strict";e.exports=r.p+"static/media/83427d.09e92794227e4d44854c.jpg"},2530:function(e,t,r){"use strict";e.exports=r.p+"static/media/sad.b76cec5fe05f9de9fab0.gif"},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},7462:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:function(){return n}})},4578:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(9611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},3366:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{Z:function(){return n}})},9611:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},r.d(i,a),i}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/",function(){"use strict";var e=r(2791),t=r.t(e,2),n=r(4164);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(e){if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(2678);var s=r(5475),l=r.n(s);var u=function(e,t){};function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function f(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}var d=function(){};function h(e){return null!=e&&e.current?e.current.scrollHeight:(u(!0,"useCollapse was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\n{...getCollapseProps({refKey: 'innerRef'})}"),"auto")}var p=function(){var e=arguments;return function(){var t=arguments;return[].slice.call(e).forEach((function(e){return e&&e.apply(void 0,[].slice.call(t))}))}};function v(e,t){if(null!=e)if("function"==typeof e)e(t);else try{e.current=t}catch(pv){throw new Error('Cannot assign value "'+t+'" to ref "'+e+'"')}}var m="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,y=!1,g=0,b=function(){return++g},_=["duration","easing","collapseStyles","expandStyles","onExpandStart","onExpandEnd","onCollapseStart","onCollapseEnd","isExpanded","defaultExpanded","hasDisabledAnimation"],x=["disabled","onClick"],w=["style","onTransitionEnd","refKey"];function k(t){var r,o=void 0===t?{}:t,i=o.duration,a=o.easing,s=void 0===a?"cubic-bezier(0.4, 0, 0.2, 1)":a,g=o.collapseStyles,k=void 0===g?{}:g,E=o.expandStyles,T=void 0===E?{}:E,S=o.onExpandStart,C=void 0===S?d:S,A=o.onExpandEnd,I=void 0===A?d:A,M=o.onCollapseStart,P=void 0===M?d:M,O=o.onCollapseEnd,z=void 0===O?d:O,R=o.isExpanded,D=o.defaultExpanded,L=void 0!==D&&D,j=o.hasDisabledAnimation,F=void 0!==j&&j,N=f(o,_),B=function(t,r){var n=(0,e.useState)(r||!1),o=n[0],i=n[1],a=(0,e.useRef)(null!=t),s=a.current?t:o,l=(0,e.useCallback)((function(e){a.current||i(e)}),[]);return(0,e.useEffect)((function(){u(!(a.current&&null==t),"useCollapse is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),u(!(!a.current&&null!=t),"useCollapse is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")}),[t]),[s,l]}(R,L),V=B[0],U=B[1],G=function(t){var r=y?b():null,n=(0,e.useState)(r),o=n[0],i=n[1];return m((function(){null===o&&i(b())}),[]),(0,e.useEffect)((function(){!1===y&&(y=!0)}),[]),null!=o?String(o):void 0}(),q=(0,e.useRef)(null);r=q,(0,e.useEffect)((function(){}),[r]);var W,Z,H,X=(N.collapsedHeight||0)+"px",$={display:"0px"===X?"none":"block",height:X,overflow:"hidden"},K=(0,e.useState)(V?{}:$),Y=K[0],J=K[1],Q=function(e){(0,n.flushSync)((function(){J(e)}))},ee=function(e){Q((function(t){return c({},t,e)}))};function te(e){if(F)return{};var t=i||function(e){if(!e||"string"==typeof e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}(e);return{transition:"height "+t+"ms "+s}}W=function(){l()(V?function(){C(),ee(c({},T,{willChange:"height",display:"block",overflow:"hidden"})),l()((function(){var e=h(q);ee(c({},te(e),{height:e}))}))}:function(){P();var e=h(q);ee(c({},k,te(e),{willChange:"height",height:e})),l()((function(){ee({height:X,overflow:"hidden"})}))})},Z=[V,X],H=(0,e.useRef)(!0),(0,e.useEffect)((function(){if(!H.current)return W();H.current=!1}),Z);var re=function(e){if(e.target===q.current&&"height"===e.propertyName)if(V){var t=h(q);t===Y.height?Q({}):ee({height:t}),I()}else Y.height===X&&(Q($),z())};return{getToggleProps:function(e){var t=void 0===e?{}:e,r=t.disabled,n=void 0!==r&&r,o=t.onClick,i=void 0===o?d:o,a=f(t,x);return c({type:"button",role:"button",id:"react-collapsed-toggle-"+G,"aria-controls":"react-collapsed-panel-"+G,"aria-expanded":V,tabIndex:0,disabled:n},a,{onClick:n?d:p(i,(function(){return U((function(e){return!e}))}))})},getCollapseProps:function(e){var t,r=void 0===e?{}:e,n=r.style,o=void 0===n?{}:n,i=r.onTransitionEnd,a=void 0===i?d:i,s=r.refKey,l=void 0===s?"ref":s,u=f(r,w);return c({id:"react-collapsed-panel-"+G,"aria-hidden":!V},u,((t={})[l]=function(){var e=[].slice.call(arguments);return e.every((function(e){return null==e}))?null:function(t){e.forEach((function(e){v(e,t)}))}}(q,u[l]),t.onTransitionEnd=p(re,a),t.style=c({boxSizing:"border-box"},o,Y),t))},isExpanded:V,setExpanded:U}}var E,T=r(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(E||(E={}));var S=function(e){return e};var C="beforeunload",A="popstate";function I(e){e.preventDefault(),e.returnValue=""}function M(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function P(){return Math.random().toString(36).substr(2,8)}function O(e){var t=e.pathname,r=void 0===t?"/":t,n=e.search,o=void 0===n?"":n,i=e.hash,a=void 0===i?"":i;return o&&"?"!==o&&(r+="?"===o.charAt(0)?o:"?"+o),a&&"#"!==a&&(r+="#"===a.charAt(0)?a:"#"+a),r}function z(e){var t={};if(e){var r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));var n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function R(e,t){if(!e)throw new Error(t)}var D=(0,e.createContext)(null);var L=(0,e.createContext)(null);var j=(0,e.createContext)({outlet:null,matches:[]});function F(e){R(!1)}function N(t){var r=t.basename,n=void 0===r?"/":r,o=t.children,i=void 0===o?null:o,a=t.location,s=t.navigationType,l=void 0===s?E.Pop:s,u=t.navigator,c=t.static,f=void 0!==c&&c;U()&&R(!1);var d=oe(n),h=(0,e.useMemo)((function(){return{basename:d,navigator:u,static:f}}),[d,u,f]);"string"===typeof a&&(a=z(a));var p=a,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,b=p.hash,_=void 0===b?"":b,x=p.state,w=void 0===x?null:x,k=p.key,T=void 0===k?"default":k,S=(0,e.useMemo)((function(){var e=re(m,d);return null==e?null:{pathname:e,search:g,hash:_,state:w,key:T}}),[d,m,g,_,w,T]);return null==S?null:(0,e.createElement)(D.Provider,{value:h},(0,e.createElement)(L.Provider,{children:i,value:{location:S,navigationType:l}}))}function B(t){var r=t.children,n=t.location;return function(t,r){U()||R(!1);var n=(0,e.useContext)(j).matches,o=n[n.length-1],i=o?o.params:{},a=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;0;var s,l=G();if(r){var u,c="string"===typeof r?z(r):r;"/"===a||(null==(u=c.pathname)?void 0:u.startsWith(a))||R(!1),s=c}else s=l;var f=s.pathname||"/",d="/"===a?f:f.slice(a.length)||"/",h=function(e,t,r){void 0===r&&(r="/");var n=re(("string"===typeof t?z(t):t).pathname||"/",r);if(null==n)return null;var o=X(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var r=e.length===t.length&&e.slice(0,-1).every((function(e,r){return e===t[r]}));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(o);for(var i=null,a=0;null==i&&a<o.length;++a)i=J(o[a],n);return i}(t,{pathname:d});0;return Q(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},i,e.params),pathname:ne([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:ne([a,e.pathnameBase])})})),n)}(H(r),n)}function V(t){U()||R(!1);var r=(0,e.useContext)(D),n=r.basename,o=r.navigator,i=Z(t),a=i.hash,s=i.pathname,l=i.search,u=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?z(e).pathname:e.pathname}(t),f=null!=c&&c.endsWith("/");u="/"===s?n+(f?"/":""):ne([n,s])}return o.createHref({pathname:u,search:l,hash:a})}function U(){return null!=(0,e.useContext)(L)}function G(){return U()||R(!1),(0,e.useContext)(L).location}function q(){U()||R(!1);var t=(0,e.useContext)(D),r=t.basename,n=t.navigator,o=(0,e.useContext)(j).matches,i=G().pathname,a=JSON.stringify(o.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var l=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var o=te(e,JSON.parse(a),i);"/"!==r&&(o.pathname=ne([r,o.pathname])),(t.replace?n.replace:n.push)(o,t.state)}else n.go(e)}),[r,n,a,i]);return l}function W(){var t=(0,e.useContext)(j).matches,r=t[t.length-1];return r?r.params:{}}function Z(t){var r=(0,e.useContext)(j).matches,n=G().pathname,o=JSON.stringify(r.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return te(t,JSON.parse(o),n)}),[t,o,n])}function H(t){var r=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==F&&R(!1);var n={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(n.children=H(t.props.children)),r.push(n)}else r.push.apply(r,H(t.props.children))})),r}function X(e,t,r,n){return void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n=""),e.forEach((function(e,o){var i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(n)||R(!1),i.relativePath=i.relativePath.slice(n.length));var a=ne([n,i.relativePath]),s=r.concat(i);e.children&&e.children.length>0&&(!0===e.index&&R(!1),X(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:Y(a,e.index),routesMeta:s})})),t}var $=/^:\w+$/,K=function(e){return"*"===e};function Y(e,t){var r=e.split("/"),n=r.length;return r.some(K)&&(n+=-2),t&&(n+=2),r.filter((function(e){return!K(e)})).reduce((function(e,t){return e+($.test(t)?3:""===t?1:10)}),n)}function J(e,t){for(var r=e.routesMeta,n={},o="/",i=[],a=0;a<r.length;++a){var s=r[a],l=a===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=ee({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(n,c.params);var f=s.route;i.push({params:n,pathname:ne([o,c.pathname]),pathnameBase:oe(ne([o,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(o=ne([o,c.pathnameBase]))}return i}function Q(t,r){return void 0===r&&(r=[]),null==t?null:t.reduceRight((function(n,o,i){return(0,e.createElement)(j.Provider,{children:void 0!==o.route.element?o.route.element:n,value:{outlet:n,matches:r.concat(t.slice(0,i+1))}})}),null)}function ee(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);var n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return n.push(t),"([^\\/]+)"}));e.endsWith("*")?(n.push("*"),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=r?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(o,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),n=a(r,2),o=n[0],i=n[1],s=t.match(o);if(!s)return null;var l=s[0],u=l.replace(/(.)\/+$/,"$1"),c=s.slice(1),f=i.reduce((function(e,t,r){if("*"===t){var n=c[r]||"";u=l.slice(0,l.length-n.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(r){return e}}(c[r]||""),e}),{});return{params:f,pathname:l,pathnameBase:u,pattern:e}}function te(e,t,r){var n,o="string"===typeof e?z(e):e,i=""===e||""===o.pathname?"/":o.pathname;if(null==i)n=r;else{var a=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),a-=1;o.pathname=s.join("/")}n=a>=0?t[a]:"/"}var l=function(e,t){void 0===t&&(t="/");var r="string"===typeof e?z(e):e,n=r.pathname,o=r.search,i=void 0===o?"":o,a=r.hash,s=void 0===a?"":a,l=n?n.startsWith("/")?n:function(e,t){var r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(n,t):t;return{pathname:l,search:ie(i),hash:ae(s)}}(o,n);return i&&"/"!==i&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function re(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var r=e.charAt(t.length);return r&&"/"!==r?null:e.slice(t.length)||"/"}var ne=function(e){return e.join("/").replace(/\/\/+/g,"/")},oe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}function le(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var ue=["onClick","reloadDocument","replace","state","target","to"],ce=["aria-current","caseSensitive","className","end","style","to","children"];function fe(t){var r=t.basename,n=t.children,o=t.window,i=(0,e.useRef)();null==i.current&&(i.current=function(e){void 0===e&&(e={});var t=e.window,r=void 0===t?document.defaultView:t,n=r.history;function o(){var e=r.location,t=e.pathname,o=e.search,i=e.hash,a=n.state||{};return[a.idx,S({pathname:t,search:o,hash:i,state:a.usr||null,key:a.key||"default"})]}var i=null;r.addEventListener(A,(function(){if(i)f.call(i),i=null;else{var e=E.Pop,t=o(),r=t[0],n=t[1];if(f.length){if(null!=r){var a=l-r;a&&(i={action:e,location:n,retry:function(){y(-1*a)}},y(a))}}else m(e)}}));var a=E.Pop,s=o(),l=s[0],u=s[1],c=M(),f=M();function d(e){return"string"===typeof e?e:O(e)}function h(e,t){return void 0===t&&(t=null),S((0,T.Z)({pathname:u.pathname,hash:"",search:""},"string"===typeof e?z(e):e,{state:t,key:P()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function v(e,t,r){return!f.length||(f.call({action:e,location:t,retry:r}),!1)}function m(e){a=e;var t=o();l=t[0],u=t[1],c.call({action:a,location:u})}function y(e){n.go(e)}null==l&&(l=0,n.replaceState((0,T.Z)({},n.state,{idx:l}),""));var g={get action(){return a},get location(){return u},createHref:d,push:function e(t,o){var i=E.Push,a=h(t,o);if(v(i,a,(function(){e(t,o)}))){var s=p(a,l+1),u=s[0],c=s[1];try{n.pushState(u,"",c)}catch(f){r.location.assign(c)}m(i)}},replace:function e(t,r){var o=E.Replace,i=h(t,r);if(v(o,i,(function(){e(t,r)}))){var a=p(i,l),s=a[0],u=a[1];n.replaceState(s,"",u),m(o)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return c.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&r.addEventListener(C,I),function(){t(),f.length||r.removeEventListener(C,I)}}};return g}({window:o}));var s=i.current,l=a((0,e.useState)({action:s.action,location:s.location}),2),u=l[0],c=l[1];return(0,e.useLayoutEffect)((function(){return s.listen(c)}),[s]),(0,e.createElement)(N,{basename:r,children:n,location:u.location,navigationType:u.action,navigator:s})}var de=(0,e.forwardRef)((function(t,r){var n=t.onClick,o=t.reloadDocument,i=t.replace,a=void 0!==i&&i,s=t.state,l=t.target,u=t.to,c=le(t,ue),f=V(u),d=function(t,r){var n=void 0===r?{}:r,o=n.target,i=n.replace,a=n.state,s=q(),l=G(),u=Z(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!o||"_self"===o)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var r=!!i||O(l)===O(u);s(t,{replace:r,state:a})}}),[l,s,u,i,a,o,t])}(u,{replace:a,state:s,target:l});return(0,e.createElement)("a",se({},c,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||o||d(e)},ref:r,target:l}))}));var he=(0,e.forwardRef)((function(t,r){var n=t["aria-current"],o=void 0===n?"page":n,i=t.caseSensitive,a=void 0!==i&&i,s=t.className,l=void 0===s?"":s,u=t.end,c=void 0!==u&&u,f=t.style,d=t.to,h=t.children,p=le(t,ce),v=G(),m=Z(d),y=v.pathname,g=m.pathname;a||(y=y.toLowerCase(),g=g.toLowerCase());var b,_=y===g||!c&&y.startsWith(g)&&"/"===y.charAt(g.length),x=_?o:void 0;b="function"===typeof l?l({isActive:_}):[l,_?"active":null].filter(Boolean).join(" ");var w="function"===typeof f?f({isActive:_}):f;return(0,e.createElement)(de,se({},p,{"aria-current":x,className:b,ref:r,style:w,to:d}),"function"===typeof h?h({isActive:_}):h)}));function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye=r(3366);function ge(e,t){if(null==e)return{};var r,n,o=(0,ye.Z)(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function be(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,o)}function xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_e(i,n,o,a,s,"next",e)}function s(e){_e(i,n,o,a,s,"throw",e)}a(void 0)}))}}function we(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw a}}}}var ke,Ee,Te,Se,Ce,Ae,Ie,Me=r(7757),Pe=["static"],Oe=["unmount"],ze=["as","children","refName"],Re=["value","onChange","disabled"],De=["value","onChange","displayValue"],Le=["hold"],je=["disabled","value"],Fe=["target"],Ne=["open","onClose","initialFocus"],Be=["defaultOpen"],Ve=["value","onChange","disabled","horizontal"],Ue=["disabled","value"],Ge=["disabled","onClick"],qe=["focus"],We=["passive"],Ze=["value","onChange","disabled"],He=["value","disabled"],Xe=["checked","onChange"],$e=["defaultIndex","vertical","manual","onChange","selectedIndex"],Ke=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],Ye=["show","appear","unmount"];function Je(){var e=[],t=[],r={enqueue:function(e){t.push(e)},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);r.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.requestAnimationFrame((function(){r.requestAnimationFrame.apply(r,t)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);r.add((function(){return clearTimeout(e)}))})),add:function(t){e.push(t)},dispose:function(){var t,r=we(e.splice(0));try{for(r.s();!(t=r.n()).done;){(0,t.value)()}}catch(n){r.e(n)}finally{r.f()}},workQueue:function(){return xe(Me.mark((function e(){var r,n,o;return Me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=we(t.splice(0)),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=9;break}return o=n.value,e.next=7,o();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()}};return r}function Qe(){var t=a((0,e.useState)(Je),1)[0];return(0,e.useEffect)((function(){return function(){return t.dispose()}}),[t]),t}var et="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,tt={serverHandoffComplete:!1};function rt(){var t=a((0,e.useState)(tt.serverHandoffComplete),2),r=t[0],n=t[1];return(0,e.useEffect)((function(){!0!==r&&n(!0)}),[r]),(0,e.useEffect)((function(){!1===tt.serverHandoffComplete&&(tt.serverHandoffComplete=!0)}),[]),r}var nt=0;function ot(){return++nt}function it(){var t=rt(),r=a((0,e.useState)(t?ot:null),2),n=r[0],o=r[1];return et((function(){null===n&&o(ot())}),[n]),null!=n?""+n:void 0}function at(t){var r=(0,e.useRef)(t);return(0,e.useEffect)((function(){r.current=t}),[t]),r}function st(t,r){var n=a((0,e.useState)(t),2),o=n[0],i=n[1],s=at(t);return et((function(){return i(s.current)}),[s,i].concat(be(r))),o}function lt(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=(0,e.useRef)(r);return(0,e.useEffect)((function(){o.current=r}),[r]),(0,e.useCallback)((function(e){var t,r=we(o.current);try{for(r.s();!(t=r.n()).done;){var n=t.value;null!=n&&("function"==typeof n?n(e):n.current=e)}}catch(i){r.e(i)}finally{r.f()}}),[o])}function ut(e,t){if(e in t){for(var r=t[e],n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return"function"==typeof r?r.apply(void 0,o):r}var a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,ut),a}function ct(e){var t=e.props,r=e.slot,n=e.defaultTag,o=e.features,i=e.visible,a=void 0===i||i,s=e.name;if(a)return ft(t,r,n,s);var l=null!=o?o:0;if(2&l){var u=t.static,c=void 0!==u&&u,f=ge(t,Pe);if(c)return ft(f,r,n,s)}if(1&l){var d,h=t.unmount,p=void 0===h||h,v=ge(t,Oe);return ut(p?0:1,(pe(d={},0,(function(){return null})),pe(d,1,(function(){return ft(me(me({},v),{},{hidden:!0,style:{display:"none"}}),r,n,s)})),d))}return ft(t,r,n,s)}function ft(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=vt(t,["unmount","static"]),a=i.as,s=void 0===a?n:a,l=i.children,u=i.refName,c=void 0===u?"ref":u,f=ge(i,ze),d=void 0!==t.ref?pe({},c,t.ref):{},h="function"==typeof l?l(r):l;if(f.className&&"function"==typeof f.className&&(f.className=f.className(r)),s===e.Fragment&&Object.keys(f).length>0){if(!(0,e.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(o,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(f).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));return(0,e.cloneElement)(h,Object.assign({},dt(pt(vt(f,["ref"])),h.props,["onClick"]),d))}return(0,e.createElement)(s,Object.assign({},vt(f,["ref"]),s!==e.Fragment&&d),h)}function dt(e,t,r){var n,o=Object.assign({},e),i=we(r);try{var a=function(){var r=n.value;void 0!==e[r]&&void 0!==t[r]&&Object.assign(o,pe({},r,(function(n){n.defaultPrevented||e[r](n),n.defaultPrevented||t[r](n)})))};for(i.s();!(n=i.n()).done;)a()}catch(s){i.e(s)}finally{i.f()}return o}function ht(t){var r;return Object.assign((0,e.forwardRef)(t),{displayName:null!=(r=t.displayName)?r:t.name})}function pt(e){var t=Object.assign({},e);for(var r in t)void 0===t[r]&&delete t[r];return t}function vt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.assign({},e),o=we(r);try{for(o.s();!(t=o.n()).done;){var i=t.value;i in n&&delete n[i]}}catch(a){o.e(a)}finally{o.f()}return n}function mt(e,t){var r=t.resolveItems();if(r.length<=0)return null;var n=t.resolveActiveIndex(),o=null!=n?n:-1,i=function(){switch(e.focus){case 0:return r.findIndex((function(e){return!t.resolveDisabled(e)}));case 1:var n=r.slice().reverse().findIndex((function(e,r,n){return!(-1!==o&&n.length-r-1>=o)&&!t.resolveDisabled(e)}));return-1===n?n:r.length-1-n;case 2:return r.findIndex((function(e,r){return!(r<=o)&&!t.resolveDisabled(e)}));case 3:var i=r.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===i?i:r.length-1-i;case 4:return r.findIndex((function(r){return t.resolveId(r)===e.id}));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===i?n:i}function yt(e){for(var t=e.parentElement,r=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;var n=""===(null==t?void 0:t.getAttribute("disabled"));return(!n||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(r))&&n}function gt(t,r,n){var o=(0,e.useRef)(r);o.current=r,(0,e.useEffect)((function(){function e(e){o.current.call(window,e)}return window.addEventListener(t,e,n),function(){return window.removeEventListener(t,e,n)}}),[t,n])}var bt=(0,e.createContext)(null);function _t(){return(0,e.useContext)(bt)}function xt(t){var r=t.value,n=t.children;return e.createElement(bt.Provider,{value:r},n)}function wt(e){var t;if(e.type)return e.type;var r=null!=(t=e.as)?t:"button";return"string"==typeof r&&"button"===r.toLowerCase()?"button":void 0}function kt(t,r){var n=a((0,e.useState)((function(){return wt(t)})),2),o=n[0],i=n[1];return et((function(){i(wt(t))}),[t.type,t.as]),et((function(){o||!r.current||r.current instanceof HTMLButtonElement&&!r.current.hasAttribute("type")&&i("button")}),[o,r]),o}function Et(t){var r=t.container,n=t.accept,o=t.walk,i=t.enabled,a=void 0===i||i,s=(0,e.useRef)(n),l=(0,e.useRef)(o);(0,e.useEffect)((function(){s.current=n,l.current=o}),[n,o]),et((function(){if(r&&a)for(var e=s.current,t=l.current,n=Object.assign((function(t){return e(t)}),{acceptNode:e}),o=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,n,!1);o.nextNode();)t(o.currentNode)}),[r,a,s,l])}bt.displayName="OpenClosedContext";var Tt=(pe(ke={},1,(function(e){return e.disabled||1===e.comboboxState?e:me(me({},e),{},{activeOptionIndex:null,comboboxState:1})})),pe(ke,0,(function(e){return e.disabled||0===e.comboboxState?e:me(me({},e),{},{comboboxState:0})})),pe(ke,2,(function(e,t){return e.disabled===t.disabled?e:me(me({},e),{},{disabled:t.disabled})})),pe(ke,3,(function(e,t){if(e.disabled||e.optionsRef.current&&!e.optionsPropsRef.current.static&&1===e.comboboxState)return e;var r=mt(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return e.activeOptionIndex===r?e:me(me({},e),{},{activeOptionIndex:r})})),pe(ke,4,(function(e,t){var r,n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,o=Array.from(null==(r=e.optionsRef.current)?void 0:r.querySelectorAll('[id^="headlessui-combobox-option-"]')).reduce((function(e,t,r){return Object.assign(e,pe({},t.id,r))}),{}),i=[].concat(be(e.options),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return o[e.id]-o[t.id]}));return me(me({},e),{},{options:i,activeOptionIndex:null===n?null:i.indexOf(n)})})),pe(ke,5,(function(e,t){var r=e.options.slice(),n=null!==e.activeOptionIndex?r[e.activeOptionIndex]:null,o=r.findIndex((function(e){return e.id===t.id}));return-1!==o&&r.splice(o,1),me(me({},e),{},{options:r,activeOptionIndex:o===e.activeOptionIndex||null===n?null:r.indexOf(n)})})),ke),St=(0,e.createContext)(null);function Ct(t){var r=(0,e.useContext)(St);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <Combobox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Ct),n}return r}St.displayName="ComboboxContext";var At=(0,e.createContext)(null);function It(){var t=(0,e.useContext)(At);if(null===t){var r=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(r,It),r}return t}function Mt(e,t){return ut(t.type,Tt,e,t)}At.displayName="ComboboxActions";var Pt=e.Fragment,Ot=ht((function(t,r){var n,o=t.value,i=t.onChange,s=t.disabled,l=void 0!==s&&s,u=ge(t,Re),c=(0,e.useRef)({value:o,onChange:i}),f=(0,e.useRef)({static:!1,hold:!1}),d=(0,e.useRef)({displayValue:void 0}),h=(0,e.useReducer)(Mt,{comboboxState:1,comboboxPropsRef:c,optionsPropsRef:f,inputPropsRef:d,labelRef:(0,e.createRef)(),inputRef:(0,e.createRef)(),buttonRef:(0,e.createRef)(),optionsRef:(0,e.createRef)(),disabled:l,options:[],activeOptionIndex:null}),p=a(h,2),v=p[0],m=v.comboboxState,y=v.options,g=v.activeOptionIndex,b=v.optionsRef,_=v.inputRef,x=v.buttonRef,w=p[1];et((function(){c.current.value=o}),[o,c]),et((function(){c.current.onChange=i}),[i,c]),et((function(){return w({type:2,disabled:l})}),[l]),gt("mousedown",(function(e){var t,r,n,o=e.target;0===m&&((null==(t=x.current)?void 0:t.contains(o))||(null==(r=_.current)?void 0:r.contains(o))||(null==(n=b.current)?void 0:n.contains(o))||w({type:1}))}));var k=null===g?null:y[g].dataRef.current.value,E=(0,e.useMemo)((function(){return{open:0===m,disabled:l,activeIndex:g,activeOption:k}}),[m,l,y,g]),T=(0,e.useCallback)((function(){if(_.current&&void 0!==o){var e=d.current.displayValue;"function"==typeof e?_.current.value=e(o):"string"==typeof o&&(_.current.value=o)}}),[o,_,d]),S=(0,e.useCallback)((function(e){var t=y.find((function(t){return t.id===e}));if(t){var r=t.dataRef;c.current.onChange(r.current.value),T()}}),[y,c,_]),C=(0,e.useCallback)((function(){if(null!==g){var e=y[g].dataRef;c.current.onChange(e.current.value),T()}}),[g,y,c,_]),A=(0,e.useMemo)((function(){return{selectOption:S,selectActiveOption:C}}),[S,C]);return et((function(){1===m&&T()}),[T,m]),et(T,[T]),e.createElement(At.Provider,{value:A},e.createElement(St.Provider,{value:h},e.createElement(xt,{value:ut(m,(n={},pe(n,0,0),pe(n,1,1),n))},ct({props:null===r?u:me(me({},u),{},{ref:r}),slot:E,defaultTag:Pt,name:"Combobox"}))))})),zt=ht((function(t,r){t.value;var n,o,i=t.onChange,s=t.displayValue,l=ge(t,De),u=a(Ct("Combobox.Input"),2),c=u[0],f=u[1],d=It(),h=lt(c.inputRef,r),p=c.inputPropsRef,v="headlessui-combobox-input-".concat(it()),m=Qe(),y=at(i);et((function(){p.current.displayValue=s}),[s,p]);var g=(0,e.useCallback)((function(e){var t,r;switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),d.selectActiveOption(),f({type:1});break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),ut(c.comboboxState,(pe(t={},0,(function(){return f({type:3,focus:2})})),pe(t,1,(function(){f({type:0}),m.nextFrame((function(){c.comboboxPropsRef.current.value||f({type:3,focus:0})}))})),t));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),ut(c.comboboxState,(pe(r={},0,(function(){return f({type:3,focus:1})})),pe(r,1,(function(){f({type:0}),m.nextFrame((function(){c.comboboxPropsRef.current.value||f({type:3,focus:3})}))})),r));case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),f({type:3,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),f({type:3,focus:3});case"Escape":return e.preventDefault(),c.optionsRef.current&&!c.optionsPropsRef.current.static&&e.stopPropagation(),f({type:1});case"Tab":d.selectActiveOption(),f({type:1})}}),[m,f,c,d]),b=(0,e.useCallback)((function(e){var t;f({type:0}),null==(t=y.current)||t.call(y,e)}),[f,y]),_=st((function(){if(c.labelRef.current)return[c.labelRef.current.id].join(" ")}),[c.labelRef.current]),x=(0,e.useMemo)((function(){return{open:0===c.comboboxState,disabled:c.disabled}}),[c]),w={ref:h,id:v,role:"combobox",type:"text","aria-controls":null==(n=c.optionsRef.current)?void 0:n.id,"aria-expanded":c.disabled?void 0:0===c.comboboxState,"aria-activedescendant":null===c.activeOptionIndex||null==(o=c.options[c.activeOptionIndex])?void 0:o.id,"aria-labelledby":_,disabled:c.disabled,onKeyDown:g,onChange:b};return ct({props:me(me({},l),w),slot:x,defaultTag:"input",name:"Combobox.Input"})})),Rt=ht((function(t,r){var n,o=a(Ct("Combobox.Button"),2),i=o[0],s=o[1],l=It(),u=lt(i.buttonRef,r),c="headlessui-combobox-button-".concat(it()),f=Qe(),d=(0,e.useCallback)((function(e){switch(e.key){case"ArrowDown":return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&(s({type:0}),f.nextFrame((function(){i.comboboxPropsRef.current.value||s({type:3,focus:0})}))),f.nextFrame((function(){var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&(s({type:0}),f.nextFrame((function(){i.comboboxPropsRef.current.value||s({type:3,focus:3})}))),f.nextFrame((function(){var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"Escape":return e.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&e.stopPropagation(),s({type:1}),f.nextFrame((function(){var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}}),[f,s,i,l]),h=(0,e.useCallback)((function(e){if(yt(e.currentTarget))return e.preventDefault();0===i.comboboxState?s({type:1}):(e.preventDefault(),s({type:0})),f.nextFrame((function(){var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[s,f,i]),p=st((function(){if(i.labelRef.current)return[i.labelRef.current.id,c].join(" ")}),[i.labelRef.current,c]),v=(0,e.useMemo)((function(){return{open:0===i.comboboxState,disabled:i.disabled}}),[i]),m=t,y={ref:u,id:c,type:kt(t,i.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.comboboxState,"aria-labelledby":p,disabled:i.disabled,onClick:h,onKeyDown:d};return ct({props:me(me({},m),y),slot:v,defaultTag:"button",name:"Combobox.Button"})}));var Dt=ht((function(t,r){var n,o=t.hold,i=void 0!==o&&o,s=ge(t,Le),l=a(Ct("Combobox.Options"),1)[0],u=l.optionsPropsRef,c=lt(l.optionsRef,r),f="headlessui-combobox-options-".concat(it()),d=_t(),h=null!==d?0===d:0===l.comboboxState;et((function(){var e;u.current.static=null!=(e=t.static)&&e}),[u,t.static]),et((function(){u.current.hold=i}),[i,u]),Et({container:l.optionsRef.current,enabled:0===l.comboboxState,accept:function(e){return"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var p=st((function(){var e,t,r;return null!=(r=null==(e=l.labelRef.current)?void 0:e.id)?r:null==(t=l.buttonRef.current)?void 0:t.id}),[l.labelRef.current,l.buttonRef.current]),v=(0,e.useMemo)((function(){return{open:0===l.comboboxState}}),[l]),m={"aria-activedescendant":null===l.activeOptionIndex||null==(n=l.options[l.activeOptionIndex])?void 0:n.id,"aria-labelledby":p,role:"listbox",id:f,ref:c};return ct({props:me(me({},s),m),slot:v,defaultTag:"ul",features:3,visible:h,name:"Combobox.Options"})}));Object.assign(Ot,{Input:zt,Button:Rt,Label:function(t){var r=a(Ct("Combobox.Label"),1)[0],n="headlessui-combobox-label-".concat(it()),o=(0,e.useCallback)((function(){var e;return null==(e=r.inputRef.current)?void 0:e.focus({preventScroll:!0})}),[r.inputRef]),i=(0,e.useMemo)((function(){return{open:0===r.comboboxState,disabled:r.disabled}}),[r]),s={ref:r.labelRef,id:n,onClick:o};return ct({props:me(me({},t),s),slot:i,defaultTag:"label",name:"Combobox.Label"})},Options:Dt,Option:function(t){var r=t.disabled,n=void 0!==r&&r,o=t.value,i=ge(t,je),s=a(Ct("Combobox.Option"),2),l=s[0],u=s[1],c=It(),f="headlessui-combobox-option-".concat(it()),d=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===f,h=l.comboboxPropsRef.current.value===o,p=(0,e.useRef)({disabled:n,value:o});et((function(){p.current.disabled=n}),[p,n]),et((function(){p.current.value=o}),[p,o]),et((function(){var e,t;p.current.textValue=null==(t=null==(e=document.getElementById(f))?void 0:e.textContent)?void 0:t.toLowerCase()}),[p,f]);var v=(0,e.useCallback)((function(){return c.selectOption(f)}),[c,f]);et((function(){return u({type:4,id:f,dataRef:p}),function(){return u({type:5,id:f})}}),[p,f]),et((function(){0===l.comboboxState&&(!h||u({type:3,focus:4,id:f}))}),[l.comboboxState,h,f]),et((function(){if(0===l.comboboxState&&d){var e=Je();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(f))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[f,d,l.comboboxState,l.activeOptionIndex]);var m=(0,e.useCallback)((function(e){if(n)return e.preventDefault();v(),u({type:1}),Je().nextFrame((function(){var e;return null==(e=l.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[u,l.inputRef,n,v]),y=(0,e.useCallback)((function(){if(n)return u({type:3,focus:5});u({type:3,focus:4,id:f})}),[n,f,u]),g=(0,e.useCallback)((function(){n||d||u({type:3,focus:4,id:f})}),[n,d,f,u]),b=(0,e.useCallback)((function(){n||!d||l.optionsPropsRef.current.hold||u({type:3,focus:5})}),[n,d,u,l.comboboxState,l.comboboxPropsRef]),_=(0,e.useMemo)((function(){return{active:d,selected:h,disabled:n}}),[d,h,n]);return ct({props:me(me({},i),{id:f,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===h||void 0,disabled:void 0,onClick:m,onFocus:y,onPointerMove:g,onMouseMove:g,onPointerLeave:b,onMouseLeave:b}),slot:_,defaultTag:"li",name:"Combobox.Option"})}});var Lt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(",");function jt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(Lt))}function Ft(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==document.body&&ut(r,(pe(t={},0,(function(){return e.matches(Lt)})),pe(t,1,(function(){for(var t=e;null!==t;){if(t.matches(Lt))return!0;t=t.parentElement}return!1})),t))}function Nt(e){null==e||e.focus({preventScroll:!0})}function Bt(e,t){var r,n=Array.isArray(e)?e.slice().sort((function(e,t){var r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})):jt(e),o=document.activeElement,i=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),a=function(){if(1&t)return 0;if(2&t)return Math.max(0,n.indexOf(o))-1;if(4&t)return Math.max(0,n.indexOf(o))+1;if(8&t)return n.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),s=32&t?{preventScroll:!0}:{},l=0,u=n.length;do{if(l>=u||l+u<=0)return 0;var c=a+l;if(16&t)c=(c+u)%u;else{if(c<0)return 3;if(c>=u)return 1}null==(r=n[c])||r.focus(s),l+=i}while(r!==document.activeElement);return r.hasAttribute("tabindex")||r.setAttribute("tabindex","0"),2}function Vt(){var t=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),t}function Ut(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.initialFocus,i=n.containers,a=(0,e.useRef)("undefined"!=typeof window?document.activeElement:null),s=(0,e.useRef)(null),l=Vt(),u=Boolean(16&r),c=Boolean(2&r);(0,e.useEffect)((function(){!u||(a.current=document.activeElement)}),[u]),(0,e.useEffect)((function(){if(u)return function(){Nt(a.current),a.current=null}}),[u]),(0,e.useEffect)((function(){if(c&&t.current){var e=document.activeElement;if(null==o?void 0:o.current){if((null==o?void 0:o.current)===e)return void(s.current=e)}else if(t.current.contains(e))return void(s.current=e);(null==o?void 0:o.current)?Nt(o.current):0===Bt(t.current,1)&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=document.activeElement}}),[t,o,c]),gt("keydown",(function(e){!(4&r)||!t.current||"Tab"===e.key&&(e.preventDefault(),2===Bt(t.current,16|(e.shiftKey?2:4))&&(s.current=document.activeElement))})),gt("focus",(function(e){if(8&r){var n=new Set(null==i?void 0:i.current);if(n.add(t),n.size){var o=s.current;if(o&&l.current){var a=e.target;a&&a instanceof HTMLElement?Gt(n,a)?(s.current=a,Nt(a)):(e.preventDefault(),e.stopPropagation(),Nt(o)):Nt(s.current)}}}}),!0)}function Gt(e,t){var r,n,o=we(e);try{for(o.s();!(n=o.n()).done;){if(null==(r=n.value.current)?void 0:r.contains(t))return!0}}catch(i){o.e(i)}finally{o.f()}return!1}var qt=new Set,Wt=new Map;function Zt(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Ht(e){var t=Wt.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var Xt=(0,e.createContext)(!1);function $t(t){return e.createElement(Xt.Provider,{value:t.force},t.children)}function Kt(){var t=(0,e.useContext)(Xt),r=(0,e.useContext)(er),n=(0,e.useState)((function(){if(!t&&null!==r||"undefined"==typeof window)return null;var e=document.getElementById("headlessui-portal-root");if(e)return e;var n=document.createElement("div");return n.setAttribute("id","headlessui-portal-root"),document.body.appendChild(n)})),o=a(n,2),i=o[0],s=o[1];return(0,e.useEffect)((function(){null!==i&&(document.body.contains(i)||document.body.appendChild(i))}),[i]),(0,e.useEffect)((function(){t||null!==r&&s(r.current)}),[r,s,t]),i}var Yt=e.Fragment;function Jt(t){var r=t,o=Kt(),i=a((0,e.useState)((function(){return"undefined"==typeof window?null:document.createElement("div")})),1)[0],s=rt();return et((function(){if(o&&i)return o.appendChild(i),function(){var e;!o||!i||(o.removeChild(i),o.childNodes.length<=0&&(null==(e=o.parentElement)||e.removeChild(o)))}}),[o,i]),s&&o&&i?(0,n.createPortal)(ct({props:r,defaultTag:Yt,name:"Portal"}),i):null}var Qt=e.Fragment,er=(0,e.createContext)(null);Jt.Group=function(t){var r=t.target,n=ge(t,Fe);return e.createElement(er.Provider,{value:r},ct({props:n,defaultTag:Qt,name:"Popover.Group"}))};var tr=(0,e.createContext)(null);function rr(){var t=(0,e.useContext)(tr);if(null===t){var r=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,rr),r}return t}function nr(){var t=a((0,e.useState)([]),2),r=t[0],n=t[1];return[r.length>0?r.join(" "):void 0,(0,e.useMemo)((function(){return function(t){var r=(0,e.useCallback)((function(e){return n((function(t){return[].concat(be(t),[e])})),function(){return n((function(t){var r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))}}),[]),o=(0,e.useMemo)((function(){return{register:r,slot:t.slot,name:t.name,props:t.props}}),[r,t.slot,t.name,t.props]);return e.createElement(tr.Provider,{value:o},t.children)}}),[n])]}function or(e){var t=rr(),r="headlessui-description-".concat(it());et((function(){return t.register(r)}),[r,t.register]);var n=e,o=me(me({},t.props),{},{id:r});return ct({props:me(me({},n),o),slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}var ir=(0,e.createContext)((function(){}));function ar(t){var r=t.children,n=t.onUpdate,o=t.type,i=t.element,a=(0,e.useContext)(ir),s=(0,e.useCallback)((function(){null==n||n.apply(void 0,arguments),a.apply(void 0,arguments)}),[a,n]);return et((function(){return s(0,o,i),function(){return s(1,o,i)}}),[s,o,i]),e.createElement(ir.Provider,{value:s},r)}ir.displayName="StackContext";var sr=pe({},0,(function(e,t){return e.titleId===t.id?e:me(me({},e),{},{titleId:t.id})})),lr=(0,e.createContext)(null);function ur(t){var r=(0,e.useContext)(lr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(hr.displayName," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,ur),n}return r}function cr(e,t){return ut(t.type,sr,e,t)}lr.displayName="DialogContext";var fr=ht((function(t,r){var n,o=t.open,i=t.onClose,s=t.initialFocus,l=ge(t,Ne),u=a((0,e.useState)(0),2),c=u[0],f=u[1],d=_t();void 0===o&&null!==d&&(o=ut(d,(pe(n={},0,!0),pe(n,1,!1),n)));var h=(0,e.useRef)(new Set),p=(0,e.useRef)(null),v=lt(p,r),m=t.hasOwnProperty("open")||null!==d,y=t.hasOwnProperty("onClose");if(!m&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof o)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(o));if("function"!=typeof i)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(i));var g=o?0:1,b=null!==d?0===d:0===g,_=a((0,e.useReducer)(cr,{titleId:null,descriptionId:null}),2),x=_[0],w=_[1],k=(0,e.useCallback)((function(){return i(!1)}),[i]),E=(0,e.useCallback)((function(e){return w({type:0,id:e})}),[w]),T=rt()&&0===g,S=c>1,C=null!==(0,e.useContext)(lr);Ut(p,T?ut(S?"parent":"leaf",{parent:16,leaf:30}):1,{initialFocus:s,containers:h}),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];et((function(){if(t&&e.current){var r=e.current;qt.add(r);var n,o=we(Wt.keys());try{for(o.s();!(n=o.n()).done;){var i=n.value;i.contains(r)&&(Ht(i),Wt.delete(i))}}catch(a){o.e(a)}finally{o.f()}return document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){var t,r=we(qt);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.contains(n))return}}catch(a){r.e(a)}finally{r.f()}1===qt.size&&(Wt.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Zt(e))}})),function(){if(qt.delete(r),qt.size>0)document.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Wt.has(e)){var t,r=we(qt);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.contains(n))return}}catch(a){r.e(a)}finally{r.f()}Wt.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Zt(e)}}));else{var e,t=we(Wt.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;Ht(n),Wt.delete(n)}}catch(a){t.e(a)}finally{t.f()}}}}}),[t])}(p,!!S&&T),gt("mousedown",(function(e){var t,r=e.target;0===g&&(S||(null==(t=p.current)?void 0:t.contains(r))||k())})),gt("keydown",(function(e){"Escape"===e.key&&0===g&&(S||(e.preventDefault(),e.stopPropagation(),k()))})),(0,e.useEffect)((function(){if(0===g&&!C){var e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,r=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight="".concat(r,"px"),function(){document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}}),[g,C]),(0,e.useEffect)((function(){if(0===g&&p.current){var e=new IntersectionObserver((function(e){var t,r=we(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;0===n.boundingClientRect.x&&0===n.boundingClientRect.y&&0===n.boundingClientRect.width&&0===n.boundingClientRect.height&&k()}}catch(o){r.e(o)}finally{r.f()}}));return e.observe(p.current),function(){return e.disconnect()}}}),[g,p,k]);var A=a(nr(),2),I=A[0],M=A[1],P="headlessui-dialog-".concat(it()),O=(0,e.useMemo)((function(){return[{dialogState:g,close:k,setTitleId:E},x]}),[g,x,k,E]),z=(0,e.useMemo)((function(){return{open:0===g}}),[g]),R={ref:v,id:P,role:"dialog","aria-modal":0===g||void 0,"aria-labelledby":x.titleId,"aria-describedby":I,onClick:function(e){e.stopPropagation()}},D=l;return e.createElement(ar,{type:"Dialog",element:p,onUpdate:(0,e.useCallback)((function(e,t,r){var n;"Dialog"===t&&ut(e,(pe(n={},0,(function(){h.current.add(r),f((function(e){return e+1}))})),pe(n,1,(function(){h.current.add(r),f((function(e){return e-1}))})),n))}),[])},e.createElement($t,{force:!0},e.createElement(Jt,null,e.createElement(lr.Provider,{value:O},e.createElement(Jt.Group,{target:p},e.createElement($t,{force:!1},e.createElement(M,{slot:z,name:"Dialog.Description"},ct({props:me(me({},D),R),slot:z,defaultTag:"div",features:3,visible:b,name:"Dialog"}))))))))})),dr=ht((function(t,r){var n=a(ur("Dialog.Overlay"),1)[0],o=n.dialogState,i=n.close,s=lt(r),l="headlessui-dialog-overlay-".concat(it()),u=(0,e.useCallback)((function(e){if(e.target===e.currentTarget){if(yt(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),i()}}),[i]),c=(0,e.useMemo)((function(){return{open:0===o}}),[o]);return ct({props:me(me({},t),{ref:s,id:l,"aria-hidden":!0,onClick:u}),slot:c,defaultTag:"div",name:"Dialog.Overlay"})}));var hr=Object.assign(fr,{Overlay:dr,Title:function(t){var r=a(ur("Dialog.Title"),1)[0],n=r.dialogState,o=r.setTitleId,i="headlessui-dialog-title-".concat(it());(0,e.useEffect)((function(){return o(i),function(){return o(null)}}),[i,o]);var s=(0,e.useMemo)((function(){return{open:0===n}}),[n]);return ct({props:me(me({},t),{id:i}),slot:s,defaultTag:"h2",name:"Dialog.Title"})},Description:or}),pr=(pe(Ee={},0,(function(e){var t;return me(me({},e),{},{disclosureState:ut(e.disclosureState,(t={},pe(t,0,1),pe(t,1,0),t))})})),pe(Ee,1,(function(e){return 1===e.disclosureState?e:me(me({},e),{},{disclosureState:1})})),pe(Ee,4,(function(e){return!0===e.linkedPanel?e:me(me({},e),{},{linkedPanel:!0})})),pe(Ee,5,(function(e){return!1===e.linkedPanel?e:me(me({},e),{},{linkedPanel:!1})})),pe(Ee,2,(function(e,t){return e.buttonId===t.buttonId?e:me(me({},e),{},{buttonId:t.buttonId})})),pe(Ee,3,(function(e,t){return e.panelId===t.panelId?e:me(me({},e),{},{panelId:t.panelId})})),Ee),vr=(0,e.createContext)(null);function mr(t){var r=(0,e.useContext)(vr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(wr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,mr),n}return r}vr.displayName="DisclosureContext";var yr=(0,e.createContext)(null);function gr(t){var r=(0,e.useContext)(yr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(wr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,gr),n}return r}yr.displayName="DisclosureAPIContext";var br=(0,e.createContext)(null);function _r(e,t){return ut(t.type,pr,e,t)}br.displayName="DisclosurePanelContext";var xr=e.Fragment;function wr(t){var r,n=t.defaultOpen,o=void 0!==n&&n,i=ge(t,Be),s="headlessui-disclosure-button-".concat(it()),l="headlessui-disclosure-panel-".concat(it()),u=(0,e.useReducer)(_r,{disclosureState:o?0:1,linkedPanel:!1,buttonId:s,panelId:l}),c=a(u,2),f=c[0].disclosureState,d=c[1];(0,e.useEffect)((function(){return d({type:2,buttonId:s})}),[s,d]),(0,e.useEffect)((function(){return d({type:3,panelId:l})}),[l,d]);var h=(0,e.useCallback)((function(e){d({type:1});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:document.getElementById(s):document.getElementById(s);null==t||t.focus()}),[d,s]),p=(0,e.useMemo)((function(){return{close:h}}),[h]),v=(0,e.useMemo)((function(){return{open:0===f,close:h}}),[f,h]);return e.createElement(vr.Provider,{value:u},e.createElement(yr.Provider,{value:p},e.createElement(xt,{value:ut(f,(r={},pe(r,0,0),pe(r,1,1),r))},ct({props:i,slot:v,defaultTag:xr,name:"Disclosure"}))))}var kr=ht((function(t,r){var n=a(mr("Disclosure.Button"),2),o=n[0],i=n[1],s=(0,e.useRef)(null),l=lt(s,r),u=(0,e.useContext)(br),c=null!==u&&u===o.panelId,f=(0,e.useCallback)((function(e){var t;if(c){if(1===o.disclosureState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:0}),null==(t=document.getElementById(o.buttonId))||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:0})}}),[i,c,o.disclosureState,o.buttonId]),d=(0,e.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),h=(0,e.useCallback)((function(e){var r;yt(e.currentTarget)||t.disabled||(c?(i({type:0}),null==(r=document.getElementById(o.buttonId))||r.focus()):i({type:0}))}),[i,t.disabled,o.buttonId,c]),p=(0,e.useMemo)((function(){return{open:0===o.disclosureState}}),[o]),v=kt(t,s),m=t,y=c?{ref:l,type:v,onKeyDown:f,onClick:h}:{ref:l,id:o.buttonId,type:v,"aria-expanded":t.disabled?void 0:0===o.disclosureState,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:f,onKeyUp:d,onClick:h};return ct({props:me(me({},m),y),slot:p,defaultTag:"button",name:"Disclosure.Button"})})),Er=ht((function(t,r){var n=a(mr("Disclosure.Panel"),2),o=n[0],i=n[1],s=gr("Disclosure.Panel").close,l=lt(r,(function(){o.linkedPanel||i({type:4})})),u=_t(),c=null!==u?0===u:0===o.disclosureState;(0,e.useEffect)((function(){return function(){return i({type:5})}}),[i]),(0,e.useEffect)((function(){var e;1===o.disclosureState&&(null==(e=t.unmount)||e)&&i({type:5})}),[o.disclosureState,t.unmount,i]);var f=(0,e.useMemo)((function(){return{open:0===o.disclosureState,close:s}}),[o,s]),d={ref:l,id:o.panelId},h=t;return e.createElement(br.Provider,{value:o.panelId},ct({props:me(me({},h),d),slot:f,defaultTag:"div",features:3,visible:c,name:"Disclosure.Panel"}))}));wr.Button=kr,wr.Panel=Er;var Tr=(pe(Te={},1,(function(e){return e.disabled||1===e.listboxState?e:me(me({},e),{},{activeOptionIndex:null,listboxState:1})})),pe(Te,0,(function(e){return e.disabled||0===e.listboxState?e:me(me({},e),{},{listboxState:0})})),pe(Te,2,(function(e,t){return e.disabled===t.disabled?e:me(me({},e),{},{disabled:t.disabled})})),pe(Te,3,(function(e,t){return e.orientation===t.orientation?e:me(me({},e),{},{orientation:t.orientation})})),pe(Te,4,(function(e,t){if(e.disabled||1===e.listboxState)return e;var r=mt(t,{resolveItems:function(){return e.options},resolveActiveIndex:function(){return e.activeOptionIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeOptionIndex===r?e:me(me({},e),{},{searchQuery:"",activeOptionIndex:r})})),pe(Te,5,(function(e,t){if(e.disabled||1===e.listboxState)return e;var r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find((function(e){var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))})),i=o?e.options.indexOf(o):-1;return-1===i||i===e.activeOptionIndex?me(me({},e),{},{searchQuery:n}):me(me({},e),{},{searchQuery:n,activeOptionIndex:i})})),pe(Te,6,(function(e){return e.disabled||1===e.listboxState||""===e.searchQuery?e:me(me({},e),{},{searchQuery:""})})),pe(Te,7,(function(e,t){var r,n=Array.from(null==(r=e.optionsRef.current)?void 0:r.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce((function(e,t,r){return Object.assign(e,pe({},t.id,r))}),{}),o=[].concat(be(e.options),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return n[e.id]-n[t.id]}));return me(me({},e),{},{options:o})})),pe(Te,8,(function(e,t){var r=e.options.slice(),n=null!==e.activeOptionIndex?r[e.activeOptionIndex]:null,o=r.findIndex((function(e){return e.id===t.id}));return-1!==o&&r.splice(o,1),me(me({},e),{},{options:r,activeOptionIndex:o===e.activeOptionIndex||null===n?null:r.indexOf(n)})})),Te),Sr=(0,e.createContext)(null);function Cr(t){var r=(0,e.useContext)(Sr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(Mr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Cr),n}return r}function Ar(e,t){return ut(t.type,Tr,e,t)}Sr.displayName="ListboxContext";var Ir=e.Fragment;function Mr(t){var r,n=t.value,o=t.onChange,i=t.disabled,s=void 0!==i&&i,l=t.horizontal,u=void 0!==l&&l,c=ge(t,Ve),f=u?"horizontal":"vertical",d=(0,e.useReducer)(Ar,{listboxState:1,propsRef:{current:{value:n,onChange:o}},labelRef:(0,e.createRef)(),buttonRef:(0,e.createRef)(),optionsRef:(0,e.createRef)(),disabled:s,orientation:f,options:[],searchQuery:"",activeOptionIndex:null}),h=a(d,2),p=h[0],v=p.listboxState,m=p.propsRef,y=p.optionsRef,g=p.buttonRef,b=h[1];et((function(){m.current.value=n}),[n,m]),et((function(){m.current.onChange=o}),[o,m]),et((function(){return b({type:2,disabled:s})}),[s]),et((function(){return b({type:3,orientation:f})}),[f]),gt("mousedown",(function(e){var t,r,n,o=e.target;0===v&&((null==(t=g.current)?void 0:t.contains(o))||(null==(r=y.current)?void 0:r.contains(o))||(b({type:1}),Ft(o,1)||(e.preventDefault(),null==(n=g.current)||n.focus())))}));var _=(0,e.useMemo)((function(){return{open:0===v,disabled:s}}),[v,s]);return e.createElement(Sr.Provider,{value:d},e.createElement(xt,{value:ut(v,(r={},pe(r,0,0),pe(r,1,1),r))},ct({props:c,slot:_,defaultTag:Ir,name:"Listbox"})))}var Pr=ht((function(t,r){var n,o=a(Cr("Listbox.Button"),2),i=o[0],s=o[1],l=lt(i.buttonRef,r),u="headlessui-listbox-button-".concat(it()),c=Qe(),f=(0,e.useCallback)((function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),s({type:0}),c.nextFrame((function(){i.propsRef.current.value||s({type:4,focus:0})}));break;case"ArrowUp":e.preventDefault(),s({type:0}),c.nextFrame((function(){i.propsRef.current.value||s({type:4,focus:3})}))}}),[s,i,c]),d=(0,e.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),h=(0,e.useCallback)((function(e){if(yt(e.currentTarget))return e.preventDefault();0===i.listboxState?(s({type:1}),c.nextFrame((function(){var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),s({type:0}))}),[s,c,i]),p=st((function(){if(i.labelRef.current)return[i.labelRef.current.id,u].join(" ")}),[i.labelRef.current,u]),v=(0,e.useMemo)((function(){return{open:0===i.listboxState,disabled:i.disabled}}),[i]),m=t,y={ref:l,id:u,type:kt(t,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":p,disabled:i.disabled,onKeyDown:f,onKeyUp:d,onClick:h};return ct({props:me(me({},m),y),slot:v,defaultTag:"button",name:"Listbox.Button"})}));var Or=ht((function(t,r){var n,o=a(Cr("Listbox.Options"),2),i=o[0],s=o[1],l=lt(i.optionsRef,r),u="headlessui-listbox-options-".concat(it()),c=Qe(),f=Qe(),d=_t(),h=null!==d?0===d:0===i.listboxState;et((function(){var e=i.optionsRef.current;!e||0===i.listboxState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);var p=(0,e.useCallback)((function(e){switch(f.dispose(),e.key){case" ":if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),s({type:5,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),s({type:1}),null!==i.activeOptionIndex){var t=i.options[i.activeOptionIndex].dataRef;i.propsRef.current.onChange(t.current.value)}Je().nextFrame((function(){var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case ut(i.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:2});case ut(i.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),s({type:4,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),s({type:4,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),s({type:4,focus:3});case"Escape":return e.preventDefault(),e.stopPropagation(),s({type:1}),c.nextFrame((function(){var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(s({type:5,value:e.key}),f.setTimeout((function(){return s({type:6})}),350))}}),[c,s,f,i]),v=st((function(){var e,t,r;return null!=(r=null==(e=i.labelRef.current)?void 0:e.id)?r:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),m=(0,e.useMemo)((function(){return{open:0===i.listboxState}}),[i]),y={"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-labelledby":v,"aria-orientation":i.orientation,id:u,onKeyDown:p,role:"listbox",tabIndex:0,ref:l};return ct({props:me(me({},t),y),slot:m,defaultTag:"ul",features:3,visible:h,name:"Listbox.Options"})}));Mr.Button=Pr,Mr.Label=function(t){var r=a(Cr("Listbox.Label"),1)[0],n="headlessui-listbox-label-".concat(it()),o=(0,e.useCallback)((function(){var e;return null==(e=r.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[r.buttonRef]),i=(0,e.useMemo)((function(){return{open:0===r.listboxState,disabled:r.disabled}}),[r]),s={ref:r.labelRef,id:n,onClick:o};return ct({props:me(me({},t),s),slot:i,defaultTag:"label",name:"Listbox.Label"})},Mr.Options=Or,Mr.Option=function(t){var r=t.disabled,n=void 0!==r&&r,o=t.value,i=ge(t,Ue),s=a(Cr("Listbox.Option"),2),l=s[0],u=s[1],c="headlessui-listbox-option-".concat(it()),f=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===c,d=l.propsRef.current.value===o,h=(0,e.useRef)({disabled:n,value:o});et((function(){h.current.disabled=n}),[h,n]),et((function(){h.current.value=o}),[h,o]),et((function(){var e,t;h.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[h,c]);var p=(0,e.useCallback)((function(){return l.propsRef.current.onChange(o)}),[l.propsRef,o]);et((function(){return u({type:7,id:c,dataRef:h}),function(){return u({type:8,id:c})}}),[h,c]),et((function(){var e,t;0===l.listboxState&&(!d||(u({type:4,focus:4,id:c}),null==(t=null==(e=document.getElementById(c))?void 0:e.focus)||t.call(e)))}),[l.listboxState]),et((function(){if(0===l.listboxState&&f){var e=Je();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[c,f,l.listboxState,l.activeOptionIndex]);var v=(0,e.useCallback)((function(e){if(n)return e.preventDefault();p(),u({type:1}),Je().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[u,l.buttonRef,n,p]),m=(0,e.useCallback)((function(){if(n)return u({type:4,focus:5});u({type:4,focus:4,id:c})}),[n,c,u]),y=(0,e.useCallback)((function(){n||f||u({type:4,focus:4,id:c})}),[n,f,c,u]),g=(0,e.useCallback)((function(){n||!f||u({type:4,focus:5})}),[n,f,u]),b=(0,e.useMemo)((function(){return{active:f,selected:d,disabled:n}}),[f,d,n]);return ct({props:me(me({},i),{id:c,role:"option",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,"aria-selected":!0===d||void 0,disabled:void 0,onClick:v,onFocus:m,onPointerMove:y,onMouseMove:y,onPointerLeave:g,onMouseLeave:g}),slot:b,defaultTag:"li",name:"Listbox.Option"})};var zr=(pe(Se={},1,(function(e){return 1===e.menuState?e:me(me({},e),{},{activeItemIndex:null,menuState:1})})),pe(Se,0,(function(e){return 0===e.menuState?e:me(me({},e),{},{menuState:0})})),pe(Se,2,(function(e,t){var r=mt(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===r?e:me(me({},e),{},{searchQuery:"",activeItemIndex:r})})),pe(Se,3,(function(e,t){var r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled})),i=o?e.items.indexOf(o):-1;return-1===i||i===e.activeItemIndex?me(me({},e),{},{searchQuery:n}):me(me({},e),{},{searchQuery:n,activeItemIndex:i})})),pe(Se,4,(function(e){return""===e.searchQuery?e:me(me({},e),{},{searchQuery:"",searchActiveItemIndex:null})})),pe(Se,5,(function(e,t){var r,n=Array.from(null==(r=e.itemsRef.current)?void 0:r.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((function(e,t,r){return Object.assign(e,pe({},t.id,r))}),{}),o=[].concat(be(e.items),[{id:t.id,dataRef:t.dataRef}]).sort((function(e,t){return n[e.id]-n[t.id]}));return me(me({},e),{},{items:o})})),pe(Se,6,(function(e,t){var r=e.items.slice(),n=null!==e.activeItemIndex?r[e.activeItemIndex]:null,o=r.findIndex((function(e){return e.id===t.id}));return-1!==o&&r.splice(o,1),me(me({},e),{},{items:r,activeItemIndex:o===e.activeItemIndex||null===n?null:r.indexOf(n)})})),Se),Rr=(0,e.createContext)(null);function Dr(t){var r=(0,e.useContext)(Rr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(Fr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Dr),n}return r}function Lr(e,t){return ut(t.type,zr,e,t)}Rr.displayName="MenuContext";var jr=e.Fragment;function Fr(t){var r,n=(0,e.useReducer)(Lr,{menuState:1,buttonRef:(0,e.createRef)(),itemsRef:(0,e.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),o=a(n,2),i=o[0],s=i.menuState,l=i.itemsRef,u=i.buttonRef,c=o[1];gt("mousedown",(function(e){var t,r,n,o=e.target;0===s&&((null==(t=u.current)?void 0:t.contains(o))||(null==(r=l.current)?void 0:r.contains(o))||(c({type:1}),Ft(o,1)||(e.preventDefault(),null==(n=u.current)||n.focus())))}));var f=(0,e.useMemo)((function(){return{open:0===s}}),[s]);return e.createElement(Rr.Provider,{value:n},e.createElement(xt,{value:ut(s,(r={},pe(r,0,0),pe(r,1,1),r))},ct({props:t,slot:f,defaultTag:jr,name:"Menu"})))}var Nr=ht((function(t,r){var n,o=a(Dr("Menu.Button"),2),i=o[0],s=o[1],l=lt(i.buttonRef,r),u="headlessui-menu-button-".concat(it()),c=Qe(),f=(0,e.useCallback)((function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),s({type:0}),c.nextFrame((function(){return s({type:2,focus:0})}));break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),s({type:0}),c.nextFrame((function(){return s({type:2,focus:3})}))}}),[s,c]),d=(0,e.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),h=(0,e.useCallback)((function(e){if(yt(e.currentTarget))return e.preventDefault();t.disabled||(0===i.menuState?(s({type:1}),c.nextFrame((function(){var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),s({type:0})))}),[s,c,i,t.disabled]),p=(0,e.useMemo)((function(){return{open:0===i.menuState}}),[i]),v=t,m={ref:l,id:u,type:kt(t,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.itemsRef.current)?void 0:n.id,"aria-expanded":t.disabled?void 0:0===i.menuState,onKeyDown:f,onKeyUp:d,onClick:h};return ct({props:me(me({},v),m),slot:p,defaultTag:"button",name:"Menu.Button"})})),Br=ht((function(t,r){var n,o,i=a(Dr("Menu.Items"),2),s=i[0],l=i[1],u=lt(s.itemsRef,r),c="headlessui-menu-items-".concat(it()),f=Qe(),d=_t(),h=null!==d?0===d:0===s.menuState;(0,e.useEffect)((function(){var e=s.itemsRef.current;!e||0===s.menuState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[s.menuState,s.itemsRef]),Et({container:s.itemsRef.current,enabled:0===s.menuState,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var p=(0,e.useCallback)((function(e){var t;switch(f.dispose(),e.key){case" ":if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==s.activeItemIndex){var r=s.items[s.activeItemIndex].id;null==(t=document.getElementById(r))||t.click()}Je().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:2});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),l({type:1}),Je().nextFrame((function(){var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:3,value:e.key}),f.setTimeout((function(){return l({type:4})}),350))}}),[l,f,s]),v=(0,e.useCallback)((function(e){if(" "===e.key)e.preventDefault()}),[]),m=(0,e.useMemo)((function(){return{open:0===s.menuState}}),[s]),y={"aria-activedescendant":null===s.activeItemIndex||null==(n=s.items[s.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(o=s.buttonRef.current)?void 0:o.id,id:c,onKeyDown:p,onKeyUp:v,role:"menu",tabIndex:0,ref:u};return ct({props:me(me({},t),y),slot:m,defaultTag:"div",features:3,visible:h,name:"Menu.Items"})})),Vr=e.Fragment;Fr.Button=Nr,Fr.Items=Br,Fr.Item=function(t){var r=t.disabled,n=void 0!==r&&r,o=t.onClick,i=ge(t,Ge),s=a(Dr("Menu.Item"),2),l=s[0],u=s[1],c="headlessui-menu-item-".concat(it()),f=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===c;et((function(){if(0===l.menuState&&f){var e=Je();return e.requestAnimationFrame((function(){var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}}),[c,f,l.menuState,l.activeItemIndex]);var d=(0,e.useRef)({disabled:n});et((function(){d.current.disabled=n}),[d,n]),et((function(){var e,t;d.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[d,c]),et((function(){return u({type:5,id:c,dataRef:d}),function(){return u({type:6,id:c})}}),[d,c]);var h=(0,e.useCallback)((function(e){return n?e.preventDefault():(u({type:1}),Je().nextFrame((function(){var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),o?o(e):void 0)}),[u,l.buttonRef,n,o]),p=(0,e.useCallback)((function(){if(n)return u({type:2,focus:5});u({type:2,focus:4,id:c})}),[n,c,u]),v=(0,e.useCallback)((function(){n||f||u({type:2,focus:4,id:c})}),[n,f,c,u]),m=(0,e.useCallback)((function(){n||!f||u({type:2,focus:5})}),[n,f,u]),y=(0,e.useMemo)((function(){return{active:f,disabled:n}}),[f,n]);return ct({props:me(me({},i),{id:c,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:h,onFocus:p,onPointerMove:v,onMouseMove:v,onPointerLeave:m,onMouseLeave:m}),slot:y,defaultTag:Vr,name:"Menu.Item"})};var Ur=(pe(Ce={},0,(function(e){var t;return me(me({},e),{},{popoverState:ut(e.popoverState,(t={},pe(t,0,1),pe(t,1,0),t))})})),pe(Ce,1,(function(e){return 1===e.popoverState?e:me(me({},e),{},{popoverState:1})})),pe(Ce,2,(function(e,t){return e.button===t.button?e:me(me({},e),{},{button:t.button})})),pe(Ce,3,(function(e,t){return e.buttonId===t.buttonId?e:me(me({},e),{},{buttonId:t.buttonId})})),pe(Ce,4,(function(e,t){return e.panel===t.panel?e:me(me({},e),{},{panel:t.panel})})),pe(Ce,5,(function(e,t){return e.panelId===t.panelId?e:me(me({},e),{},{panelId:t.panelId})})),Ce),Gr=(0,e.createContext)(null);function qr(t){var r=(0,e.useContext)(Gr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(Yr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,qr),n}return r}Gr.displayName="PopoverContext";var Wr=(0,e.createContext)(null);function Zr(t){var r=(0,e.useContext)(Wr);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(Yr.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,Zr),n}return r}Wr.displayName="PopoverAPIContext";var Hr=(0,e.createContext)(null);function Xr(){return(0,e.useContext)(Hr)}Hr.displayName="PopoverGroupContext";var $r=(0,e.createContext)(null);function Kr(e,t){return ut(t.type,Ur,e,t)}$r.displayName="PopoverPanelContext";function Yr(t){var r,n="headlessui-popover-button-".concat(it()),o="headlessui-popover-panel-".concat(it()),i=(0,e.useReducer)(Kr,{popoverState:1,button:null,buttonId:n,panel:null,panelId:o}),s=a(i,2),l=s[0],u=l.popoverState,c=l.button,f=l.panel,d=s[1];(0,e.useEffect)((function(){return d({type:3,buttonId:n})}),[n,d]),(0,e.useEffect)((function(){return d({type:5,panelId:o})}),[o,d]);var h=(0,e.useMemo)((function(){return{buttonId:n,panelId:o,close:function(){return d({type:1})}}}),[n,o,d]),p=Xr(),v=null==p?void 0:p.registerPopover,m=(0,e.useCallback)((function(){var e;return null!=(e=null==p?void 0:p.isFocusWithinPopoverGroup())?e:(null==c?void 0:c.contains(document.activeElement))||(null==f?void 0:f.contains(document.activeElement))}),[p,c,f]);(0,e.useEffect)((function(){return null==v?void 0:v(h)}),[v,h]),gt("focus",(function(){0===u&&(m()||!c||!f||d({type:1}))}),!0),gt("mousedown",(function(e){var t=e.target;0===u&&((null==c?void 0:c.contains(t))||(null==f?void 0:f.contains(t))||(d({type:1}),Ft(t,1)||(e.preventDefault(),null==c||c.focus())))}));var y=(0,e.useCallback)((function(e){d({type:1});var t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:c:c;null==t||t.focus()}),[d,c]),g=(0,e.useMemo)((function(){return{close:y}}),[y]),b=(0,e.useMemo)((function(){return{open:0===u,close:y}}),[u,y]);return e.createElement(Gr.Provider,{value:i},e.createElement(Wr.Provider,{value:g},e.createElement(xt,{value:ut(u,(r={},pe(r,0,0),pe(r,1,1),r))},ct({props:t,slot:b,defaultTag:"div",name:"Popover"}))))}var Jr=ht((function(t,r){var n=a(qr("Popover.Button"),2),o=n[0],i=n[1],s=(0,e.useRef)(null),l=Xr(),u=null==l?void 0:l.closeOthers,c=(0,e.useContext)($r),f=null!==c&&c===o.panelId,d=lt(s,r,f?null:function(e){return i({type:2,button:e})}),h=lt(s,r),p=(0,e.useRef)(null),v=(0,e.useRef)("undefined"==typeof window?null:document.activeElement);gt("focus",(function(){v.current=p.current,p.current=document.activeElement}),!0);var m=(0,e.useCallback)((function(e){var t,r;if(f){if(1===o.popoverState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:1}),null==(t=o.button)||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===o.popoverState&&(null==u||u(o.buttonId)),i({type:0});break;case"Escape":if(0!==o.popoverState)return null==u?void 0:u(o.buttonId);if(!s.current||!s.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1});break;case"Tab":if(0!==o.popoverState||!o.panel||!o.button)return;if(e.shiftKey){if(!v.current||(null==(r=o.button)?void 0:r.contains(v.current))||o.panel.contains(v.current))return;var n=jt(),a=n.indexOf(v.current);if(n.indexOf(o.button)>a)return;e.preventDefault(),e.stopPropagation(),Bt(o.panel,8)}else e.preventDefault(),e.stopPropagation(),Bt(o.panel,1)}}),[i,o.popoverState,o.buttonId,o.button,o.panel,s,u,f]),y=(0,e.useCallback)((function(e){var t;if(!f&&(" "===e.key&&e.preventDefault(),0===o.popoverState&&o.panel&&o.button)&&"Tab"===e.key){if(!v.current||(null==(t=o.button)?void 0:t.contains(v.current))||o.panel.contains(v.current))return;var r=jt(),n=r.indexOf(v.current);if(r.indexOf(o.button)>n)return;e.preventDefault(),e.stopPropagation(),Bt(o.panel,8)}}),[o.popoverState,o.panel,o.button,f]),g=(0,e.useCallback)((function(e){var r,n;yt(e.currentTarget)||t.disabled||(f?(i({type:1}),null==(r=o.button)||r.focus()):(1===o.popoverState&&(null==u||u(o.buttonId)),null==(n=o.button)||n.focus(),i({type:0})))}),[i,o.button,o.popoverState,o.buttonId,t.disabled,u,f]),b=(0,e.useMemo)((function(){return{open:0===o.popoverState}}),[o]),_=kt(t,s),x=t,w=f?{ref:h,type:_,onKeyDown:m,onClick:g}:{ref:d,id:o.buttonId,type:_,"aria-expanded":t.disabled?void 0:0===o.popoverState,"aria-controls":o.panel?o.panelId:void 0,onKeyDown:m,onKeyUp:y,onClick:g};return ct({props:me(me({},x),w),slot:b,defaultTag:"button",name:"Popover.Button"})})),Qr=ht((function(t,r){var n=a(qr("Popover.Overlay"),2),o=n[0].popoverState,i=n[1],s=lt(r),l="headlessui-popover-overlay-".concat(it()),u=_t(),c=null!==u?0===u:0===o,f=(0,e.useCallback)((function(e){if(yt(e.currentTarget))return e.preventDefault();i({type:1})}),[i]),d=(0,e.useMemo)((function(){return{open:0===o}}),[o]);return ct({props:me(me({},t),{ref:s,id:l,"aria-hidden":!0,onClick:f}),slot:d,defaultTag:"div",features:3,visible:c,name:"Popover.Overlay"})})),en=ht((function(t,r){var n=t.focus,o=void 0!==n&&n,i=ge(t,qe),s=a(qr("Popover.Panel"),2),l=s[0],u=s[1],c=Zr("Popover.Panel").close,f=(0,e.useRef)(null),d=lt(f,r,(function(e){u({type:4,panel:e})})),h=_t(),p=null!==h?0===h:0===l.popoverState,v=(0,e.useCallback)((function(e){var t;if("Escape"===e.key){if(0!==l.popoverState||!f.current||!f.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),u({type:1}),null==(t=l.button)||t.focus()}}),[l,f,u]);(0,e.useEffect)((function(){return function(){return u({type:4,panel:null})}}),[u]),(0,e.useEffect)((function(){var e;t.static||1===l.popoverState&&(null==(e=t.unmount)||e)&&u({type:4,panel:null})}),[l.popoverState,t.unmount,t.static,u]),(0,e.useEffect)((function(){if(o&&0===l.popoverState&&f.current){var e=document.activeElement;f.current.contains(e)||Bt(f.current,1)}}),[o,f,l.popoverState]),gt("keydown",(function(e){var t;if(0===l.popoverState&&f.current&&"Tab"===e.key&&document.activeElement&&f.current&&f.current.contains(document.activeElement)){e.preventDefault();var r=Bt(f.current,e.shiftKey?2:4);if(3===r)return null==(t=l.button)?void 0:t.focus();if(1===r){if(!l.button)return;var n=jt(),o=n.indexOf(l.button),i=n.splice(o+1).filter((function(e){var t;return!(null==(t=f.current)?void 0:t.contains(e))}));0===Bt(i,1)&&Bt(document.body,1)}}})),gt("focus",(function(){var e;!o||0===l.popoverState&&(!f.current||(null==(e=f.current)?void 0:e.contains(document.activeElement))||u({type:1}))}),!0);var m=(0,e.useMemo)((function(){return{open:0===l.popoverState,close:c}}),[l,c]),y={ref:d,id:l.panelId,onKeyDown:v};return e.createElement($r.Provider,{value:l.panelId},ct({props:me(me({},i),y),slot:m,defaultTag:"div",features:3,visible:p,name:"Popover.Panel"}))}));Yr.Button=Jr,Yr.Overlay=Qr,Yr.Panel=en,Yr.Group=function(t){var r=(0,e.useRef)(null),n=a((0,e.useState)([]),2),o=n[0],i=n[1],s=(0,e.useCallback)((function(e){i((function(t){var r=t.indexOf(e);if(-1!==r){var n=t.slice();return n.splice(r,1),n}return t}))}),[i]),l=(0,e.useCallback)((function(e){return i((function(t){return[].concat(be(t),[e])})),function(){return s(e)}}),[i,s]),u=(0,e.useCallback)((function(){var e,t=document.activeElement;return!!(null==(e=r.current)?void 0:e.contains(t))||o.some((function(e){var r,n;return(null==(r=document.getElementById(e.buttonId))?void 0:r.contains(t))||(null==(n=document.getElementById(e.panelId))?void 0:n.contains(t))}))}),[r,o]),c=(0,e.useCallback)((function(e){var t,r=we(o);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.buttonId!==e&&n.close()}}catch(i){r.e(i)}finally{r.f()}}),[o]),f=(0,e.useMemo)((function(){return{registerPopover:l,unregisterPopover:s,isFocusWithinPopoverGroup:u,closeOthers:c}}),[l,s,u,c]),d=(0,e.useMemo)((function(){return{}}),[]),h={ref:r},p=t;return e.createElement(Hr.Provider,{value:f},ct({props:me(me({},p),h),slot:d,defaultTag:"div",name:"Popover.Group"}))};var tn=(0,e.createContext)(null);function rn(){var t=(0,e.useContext)(tn);if(null===t){var r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,rn),r}return t}function nn(){var t=a((0,e.useState)([]),2),r=t[0],n=t[1];return[r.length>0?r.join(" "):void 0,(0,e.useMemo)((function(){return function(t){var r=(0,e.useCallback)((function(e){return n((function(t){return[].concat(be(t),[e])})),function(){return n((function(t){var r=t.slice(),n=r.indexOf(e);return-1!==n&&r.splice(n,1),r}))}}),[]),o=(0,e.useMemo)((function(){return{register:r,slot:t.slot,name:t.name,props:t.props}}),[r,t.slot,t.name,t.props]);return e.createElement(tn.Provider,{value:o},t.children)}}),[n])]}function on(e){var t=e.passive,r=void 0!==t&&t,n=ge(e,We),o=rn(),i="headlessui-label-".concat(it());et((function(){return o.register(i)}),[i,o.register]);var a=me(me({},o.props),{},{id:i}),s=me(me({},n),a);return r&&delete s.onClick,ct({props:s,slot:o.slot||{},defaultTag:"label",name:o.name||"Label"})}var an=(pe(Ae={},0,(function(e,t){return me(me({},e),{},{options:[].concat(be(e.options),[{id:t.id,element:t.element,propsRef:t.propsRef}])})})),pe(Ae,1,(function(e,t){var r=e.options.slice(),n=e.options.findIndex((function(e){return e.id===t.id}));return-1===n?e:(r.splice(n,1),me(me({},e),{},{options:r}))})),Ae),sn=(0,e.createContext)(null);function ln(t){var r=(0,e.useContext)(sn);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <").concat(cn.name," /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,ln),n}return r}function un(e,t){return ut(t.type,an,e,t)}sn.displayName="RadioGroupContext";function cn(t){var r=t.value,n=t.onChange,o=t.disabled,i=void 0!==o&&o,s=ge(t,Ze),l=a((0,e.useReducer)(un,{options:[]}),2),u=l[0].options,c=l[1],f=a(nn(),2),d=f[0],h=f[1],p=a(nr(),2),v=p[0],m=p[1],y="headlessui-radiogroup-".concat(it()),g=(0,e.useRef)(null),b=(0,e.useMemo)((function(){return u.find((function(e){return!e.propsRef.current.disabled}))}),[u]),_=(0,e.useMemo)((function(){return u.some((function(e){return e.propsRef.current.value===r}))}),[u,r]),x=(0,e.useCallback)((function(e){var t;if(i||e===r)return!1;var o=null==(t=u.find((function(t){return t.propsRef.current.value===e})))?void 0:t.propsRef.current;return!(null==o?void 0:o.disabled)&&(n(e),!0)}),[n,r,i,u]);Et({container:g.current,accept:function(e){return"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var w=(0,e.useCallback)((function(e){if(g.current){var t=u.filter((function(e){return!1===e.propsRef.current.disabled})).map((function(e){return e.element.current}));switch(e.key){case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===Bt(t,18)){var r=u.find((function(e){return e.element.current===document.activeElement}));r&&x(r.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===Bt(t,20)){var n=u.find((function(e){return e.element.current===document.activeElement}));n&&x(n.propsRef.current.value)}break;case" ":e.preventDefault(),e.stopPropagation();var o=u.find((function(e){return e.element.current===document.activeElement}));o&&x(o.propsRef.current.value)}}}),[g,u,x]),k=(0,e.useCallback)((function(e){return c(me({type:0},e)),function(){return c({type:1,id:e.id})}}),[c]),E=(0,e.useMemo)((function(){return{registerOption:k,firstOption:b,containsCheckedOption:_,change:x,disabled:i,value:r}}),[k,b,_,x,i,r]),T={ref:g,id:y,role:"radiogroup","aria-labelledby":d,"aria-describedby":v,onKeyDown:w};return e.createElement(m,{name:"RadioGroup.Description"},e.createElement(h,{name:"RadioGroup.Label"},e.createElement(sn.Provider,{value:E},ct({props:me(me({},s),T),defaultTag:"div",name:"RadioGroup"}))))}cn.Option=function(t){var r=(0,e.useRef)(null),n="headlessui-radiogroup-option-".concat(it()),o=a(nn(),2),i=o[0],s=o[1],l=a(nr(),2),u=l[0],c=l[1],f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=a((0,e.useState)(t),2),n=r[0],o=r[1],i=(0,e.useCallback)((function(e){return o((function(t){return t|e}))}),[o]),s=(0,e.useCallback)((function(e){return Boolean(n&e)}),[n]),l=(0,e.useCallback)((function(e){return o((function(t){return t&~e}))}),[o]),u=(0,e.useCallback)((function(e){return o((function(t){return t^e}))}),[o]);return{addFlag:i,hasFlag:s,removeFlag:l,toggleFlag:u}}(1),d=f.addFlag,h=f.removeFlag,p=f.hasFlag,v=t.value,m=t.disabled,y=void 0!==m&&m,g=ge(t,He),b=(0,e.useRef)({value:v,disabled:y});et((function(){b.current.value=v}),[v,b]),et((function(){b.current.disabled=y}),[y,b]);var _=ln("RadioGroup.Option"),x=_.registerOption,w=_.disabled,k=_.change,E=_.firstOption,T=_.containsCheckedOption,S=_.value;et((function(){return x({id:n,element:r,propsRef:b})}),[n,x,r,t]);var C=(0,e.useCallback)((function(){var e;!k(v)||(d(2),null==(e=r.current)||e.focus())}),[d,k,v]),A=(0,e.useCallback)((function(){return d(2)}),[d]),I=(0,e.useCallback)((function(){return h(2)}),[h]),M=(null==E?void 0:E.id)===n,P=w||y,O=S===v,z={ref:r,id:n,role:"radio","aria-checked":O?"true":"false","aria-labelledby":i,"aria-describedby":u,"aria-disabled":!!P||void 0,tabIndex:P?-1:O||!T&&M?0:-1,onClick:P?void 0:C,onFocus:P?void 0:A,onBlur:P?void 0:I},R=(0,e.useMemo)((function(){return{checked:O,disabled:P,active:p(2)}}),[O,P,p]);return e.createElement(c,{name:"RadioGroup.Description"},e.createElement(s,{name:"RadioGroup.Label"},ct({props:me(me({},g),z),slot:R,defaultTag:"div",name:"RadioGroup.Option"})))},cn.Label=on,cn.Description=or;var fn=(0,e.createContext)(null);fn.displayName="GroupContext";var dn=e.Fragment;function hn(t){var r=t.checked,n=t.onChange,o=ge(t,Xe),i="headlessui-switch-".concat(it()),a=(0,e.useContext)(fn),s=(0,e.useRef)(null),l=lt(s,null===a?null:a.setSwitch),u=(0,e.useCallback)((function(){return n(!r)}),[n,r]),c=(0,e.useCallback)((function(e){if(yt(e.currentTarget))return e.preventDefault();e.preventDefault(),u()}),[u]),f=(0,e.useCallback)((function(e){"Tab"!==e.key&&e.preventDefault()," "===e.key&&u()}),[u]),d=(0,e.useCallback)((function(e){return e.preventDefault()}),[]),h=(0,e.useMemo)((function(){return{checked:r}}),[r]),p={id:i,ref:l,role:"switch",type:kt(t,s),tabIndex:0,"aria-checked":r,"aria-labelledby":null==a?void 0:a.labelledby,"aria-describedby":null==a?void 0:a.describedby,onClick:c,onKeyUp:f,onKeyPress:d};return ct({props:me(me({},o),p),slot:h,defaultTag:"button",name:"Switch"})}hn.Group=function(t){var r=a((0,e.useState)(null),2),n=r[0],o=r[1],i=a(nn(),2),s=i[0],l=i[1],u=a(nr(),2),c=u[0],f=u[1],d=(0,e.useMemo)((function(){return{switch:n,setSwitch:o,labelledby:s,describedby:c}}),[n,o,s,c]);return e.createElement(f,{name:"Switch.Description"},e.createElement(l,{name:"Switch.Label",props:{onClick:function(){!n||(n.click(),n.focus({preventScroll:!0}))}}},e.createElement(fn.Provider,{value:d},ct({props:t,defaultTag:dn,name:"Switch.Group"}))))},hn.Label=on,hn.Description=or;var pn=(pe(Ie={},0,(function(e,t){return e.selectedIndex===t.index?e:me(me({},e),{},{selectedIndex:t.index})})),pe(Ie,1,(function(e,t){return e.orientation===t.orientation?e:me(me({},e),{},{orientation:t.orientation})})),pe(Ie,2,(function(e,t){return e.activation===t.activation?e:me(me({},e),{},{activation:t.activation})})),pe(Ie,3,(function(e,t){return e.tabs.includes(t.tab)?e:me(me({},e),{},{tabs:[].concat(be(e.tabs),[t.tab])})})),pe(Ie,4,(function(e,t){return me(me({},e),{},{tabs:e.tabs.filter((function(e){return e!==t.tab}))})})),pe(Ie,5,(function(e,t){return e.panels.includes(t.panel)?e:me(me({},e),{},{panels:[].concat(be(e.panels),[t.panel])})})),pe(Ie,6,(function(e,t){return me(me({},e),{},{panels:e.panels.filter((function(e){return e!==t.panel}))})})),pe(Ie,7,(function(e){return me({},e)})),Ie),vn=(0,e.createContext)(null);function mn(t){var r=(0,e.useContext)(vn);if(null===r){var n=new Error("<".concat(t," /> is missing a parent <Tab.Group /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(n,mn),n}return r}function yn(e,t){return ut(t.type,pn,e,t)}vn.displayName="TabsContext";var gn=e.Fragment;function bn(t){var r,n,o="headlessui-tabs-tab-".concat(it()),i=a(mn(bn.name),2),s=i[0],l=s.selectedIndex,u=s.tabs,c=s.panels,f=s.orientation,d=s.activation,h=i[1],p=h.dispatch,v=h.change,m=(0,e.useRef)(null),y=lt(m,(function(e){!e||p({type:7})}));et((function(){return p({type:3,tab:m}),function(){return p({type:4,tab:m})}}),[p,m]);var g=u.indexOf(m),b=g===l,_=(0,e.useCallback)((function(e){var t=u.map((function(e){return e.current})).filter(Boolean);if(" "===e.key||"Enter"===e.key)return e.preventDefault(),e.stopPropagation(),void v(g);switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),Bt(t,1);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),Bt(t,8)}return ut(f,{vertical:function(){return"ArrowUp"===e.key?Bt(t,18):"ArrowDown"===e.key?Bt(t,20):void 0},horizontal:function(){return"ArrowLeft"===e.key?Bt(t,18):"ArrowRight"===e.key?Bt(t,20):void 0}})}),[u,f,g,v]),x=(0,e.useCallback)((function(){var e;null==(e=m.current)||e.focus()}),[m]),w=(0,e.useCallback)((function(){var e;null==(e=m.current)||e.focus(),v(g)}),[v,g,m]),k=(0,e.useMemo)((function(){return{selected:b}}),[b]),E={ref:y,onKeyDown:_,onFocus:"manual"===d?x:w,onClick:w,id:o,role:"tab",type:kt(t,m),"aria-controls":null==(n=null==(r=c[g])?void 0:r.current)?void 0:n.id,"aria-selected":b,tabIndex:b?0:-1};return ct({props:me(me({},t),E),slot:k,defaultTag:"button",name:"Tabs.Tab"})}function _n(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e&&n.length>0&&(t=e.classList).add.apply(t,n)}function xn(e){for(var t,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];e&&n.length>0&&(t=e.classList).remove.apply(t,n)}function wn(e,t,r,n,o,i){var s=Je(),l=void 0!==i?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(i):function(){};return xn.apply(void 0,[e].concat(be(o))),_n.apply(void 0,[e].concat(be(t),be(r))),s.nextFrame((function(){xn.apply(void 0,[e].concat(be(r))),_n.apply(void 0,[e].concat(be(n))),s.add(function(e,t){var r=Je();if(!e)return r.dispose;var n=getComputedStyle(e),o=[n.transitionDuration,n.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),r=a(t,1)[0];return void 0===r?0:r})),i=a(o,2),s=i[0],l=i[1];return 0!==s?r.setTimeout((function(){t("finished")}),s+l):t("finished"),r.add((function(){return t("cancelled")})),r.dispose}(e,(function(r){return xn.apply(void 0,[e].concat(be(n),be(t))),_n.apply(void 0,[e].concat(be(o))),l(r)})))})),s.add((function(){return xn.apply(void 0,[e].concat(be(t),be(r),be(n),be(o)))})),s.add((function(){return l("cancelled")})),s.dispose}function kn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,e.useMemo)((function(){return t.split(" ").filter((function(e){return e.trim().length>1}))}),[t])}bn.Group=function(t){var r=t.defaultIndex,n=void 0===r?0:r,o=t.vertical,i=void 0!==o&&o,s=t.manual,l=void 0!==s&&s,u=t.onChange,c=t.selectedIndex,f=void 0===c?null:c,d=ge(t,$e),h=i?"vertical":"horizontal",p=l?"manual":"auto",v=a((0,e.useReducer)(yn,{selectedIndex:null,tabs:[],panels:[],orientation:h,activation:p}),2),m=v[0],y=v[1],g=(0,e.useMemo)((function(){return{selectedIndex:m.selectedIndex}}),[m.selectedIndex]),b=(0,e.useRef)((function(){}));(0,e.useEffect)((function(){y({type:1,orientation:h})}),[h]),(0,e.useEffect)((function(){y({type:2,activation:p})}),[p]),(0,e.useEffect)((function(){"function"==typeof u&&(b.current=u)}),[u]),(0,e.useEffect)((function(){if(!(m.tabs.length<=0||null===f&&null!==m.selectedIndex)){var e=m.tabs.map((function(e){return e.current})).filter(Boolean),t=e.filter((function(e){return!e.hasAttribute("disabled")})),r=null!=f?f:n;if(r<0)y({type:0,index:e.indexOf(t[0])});else if(r>m.tabs.length)y({type:0,index:e.indexOf(t[t.length-1])});else{var o=e.slice(0,r),i=[].concat(be(e.slice(r)),be(o)).find((function(e){return t.includes(e)}));if(!i)return;y({type:0,index:e.indexOf(i)})}}}),[n,f,m.tabs,m.selectedIndex]);var _=(0,e.useRef)(m.selectedIndex);(0,e.useEffect)((function(){_.current=m.selectedIndex}),[m.selectedIndex]);var x=(0,e.useMemo)((function(){return[m,{dispatch:y,change:function(e){_.current!==e&&b.current(e),_.current=e,y({type:0,index:e})}}]}),[m,y]);return e.createElement(vn.Provider,{value:x},ct({props:me({},d),slot:g,defaultTag:gn,name:"Tabs"}))},bn.List=function(e){var t=a(mn("Tab.List"),1)[0],r=t.selectedIndex,n=t.orientation,o={selectedIndex:r};return ct({props:me(me({},e),{role:"tablist","aria-orientation":n}),slot:o,defaultTag:"div",name:"Tabs.List"})},bn.Panels=function(t){var r=a(mn("Tab.Panels"),1)[0].selectedIndex;return ct({props:t,slot:(0,e.useMemo)((function(){return{selectedIndex:r}}),[r]),defaultTag:"div",name:"Tabs.Panels"})},bn.Panel=function(t){var r,n,o=a(mn("Tab.Panel"),2),i=o[0],s=i.selectedIndex,l=i.tabs,u=i.panels,c=o[1].dispatch,f="headlessui-tabs-panel-".concat(it()),d=(0,e.useRef)(null),h=lt(d,(function(e){!e||c({type:7})}));et((function(){return c({type:5,panel:d}),function(){return c({type:6,panel:d})}}),[c,d]);var p=u.indexOf(d),v=p===s,m=(0,e.useMemo)((function(){return{selected:v}}),[v]),y={ref:h,id:f,role:"tabpanel","aria-labelledby":null==(n=null==(r=l[p])?void 0:r.current)?void 0:n.id,tabIndex:v?0:-1};return ct({props:me(me({},t),y),slot:m,defaultTag:"div",features:3,visible:v,name:"Tabs.Panel"})};var En=(0,e.createContext)(null);En.displayName="TransitionContext";var Tn=(0,e.createContext)(null);function Sn(e){return"children"in e?Sn(e.children):e.current.filter((function(e){return"visible"===e.state})).length>0}function Cn(t){var r=(0,e.useRef)(t),n=(0,e.useRef)([]),o=Vt();(0,e.useEffect)((function(){r.current=t}),[t]);var i=(0,e.useCallback)((function(e){var t,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=n.current.findIndex((function(t){return t.id===e}));-1!==s&&(ut(a,(pe(t={},0,(function(){n.current.splice(s,1)})),pe(t,1,(function(){n.current[s].state="hidden"})),t)),!Sn(n)&&o.current&&(null==(i=r.current)||i.call(r)))}),[r,o,n]),a=(0,e.useCallback)((function(e){var t=n.current.find((function(t){return t.id===e}));return t?"visible"!==t.state&&(t.state="visible"):n.current.push({id:e,state:"visible"}),function(){return i(e,0)}}),[n,i]);return(0,e.useMemo)((function(){return{children:n,register:a,unregister:i}}),[a,i,n])}function An(){}Tn.displayName="NestingContext";var In=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Mn(e){var t,r,n={},o=we(In);try{for(o.s();!(r=o.n()).done;){var i=r.value;n[i]=null!=(t=e[i])?t:An}}catch(a){o.e(a)}finally{o.f()}return n}function Pn(t){var r=t.beforeEnter,n=t.afterEnter,o=t.beforeLeave,i=t.afterLeave,s=t.enter,l=t.enterFrom,u=t.enterTo,c=t.entered,f=t.leave,d=t.leaveFrom,h=t.leaveTo,p=ge(t,Ke),v=(0,e.useRef)(null),m=a((0,e.useState)("visible"),2),y=m[0],g=m[1],b=p.unmount?0:1,_=function(){var t=(0,e.useContext)(En);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),x=_.show,w=_.appear,k=_.initial,E=function(){var t=(0,e.useContext)(Tn);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),T=E.register,S=E.unregister,C=it(),A=(0,e.useRef)(!1),I=Cn((function(){A.current||(g("hidden"),S(C),j.current.afterLeave())}));et((function(){if(C)return T(C)}),[T,C]),et((function(){if(1===b&&C){if(x&&"visible"!==y)return void g("visible");ut(y,{hidden:function(){return S(C)},visible:function(){return T(C)}})}}),[y,C,T,S,x,b]);var M=kn(s),P=kn(l),O=kn(u),z=kn(c),R=kn(f),D=kn(d),L=kn(h),j=function(t){var r=(0,e.useRef)(Mn(t));return(0,e.useEffect)((function(){r.current=Mn(t)}),[t]),r}({beforeEnter:r,afterEnter:n,beforeLeave:o,afterLeave:i}),F=rt();(0,e.useEffect)((function(){if(F&&"visible"===y&&null===v.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[v,y,F]);var N=k&&!w;et((function(){var e=v.current;if(e&&!N)return A.current=!0,x&&j.current.beforeEnter(),x||j.current.beforeLeave(),x?wn(e,M,P,O,z,(function(e){A.current=!1,"finished"===e&&j.current.afterEnter()})):wn(e,R,D,L,z,(function(e){A.current=!1,"finished"===e&&(Sn(I)||(g("hidden"),S(C),j.current.afterLeave()))}))}),[j,C,A,S,I,v,N,x,M,P,O,R,D,L]);var B={ref:v},V=p;return e.createElement(Tn.Provider,{value:I},e.createElement(xt,{value:ut(y,{visible:0,hidden:1})},ct({props:me(me({},V),B),defaultTag:"div",features:1,visible:"visible"===y,name:"Transition.Child"})))}function On(t){var r,n=t.show,o=t.appear,i=void 0!==o&&o,s=t.unmount,l=ge(t,Ye),u=_t();if(void 0===n&&null!==u&&(n=ut(u,(pe(r={},0,!0),pe(r,1,!1),r))),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var c=a((0,e.useState)(n?"visible":"hidden"),2),f=c[0],d=c[1],h=Cn((function(){d("hidden")})),p=function(){var t=(0,e.useRef)(!0);return(0,e.useEffect)((function(){t.current=!1}),[]),t.current}(),v=(0,e.useMemo)((function(){return{show:n,appear:i||!p,initial:p}}),[n,i,p]);(0,e.useEffect)((function(){n?d("visible"):Sn(h)||d("hidden")}),[n,h]);var m={unmount:s};return e.createElement(Tn.Provider,{value:h},e.createElement(En.Provider,{value:v},ct({props:me(me({},m),{},{as:e.Fragment,children:e.createElement(Pn,me(me({},m),l))}),defaultTag:e.Fragment,features:1,visible:"visible"===f,name:"Transition"})))}On.Child=function(t){var r=null!==(0,e.useContext)(En),n=null!==_t();return!r&&n?e.createElement(On,me({},t)):e.createElement(Pn,me({},t))},On.Root=On;var zn=e.forwardRef((function(t,r){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r},t),e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))})),Rn=r(1694),Dn=r.n(Rn);function Ln(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jn(e){return function(e){if(Array.isArray(e))return Ln(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ln(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ln(e,t)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e){var t=[];return Object.values(e).forEach((function(e){"string"==typeof e?t=jn(t).concat([e]):"object"!=typeof e||Array.isArray(e)||null===e||(t=jn(t).concat(jn(Fn(e))))})),t}function Nn(e){return Fn(e).join(" ")}var Bn=r(2007),Vn=r.n(Bn),Un=r(9948),Gn=r.n(Un),qn={defaultProps:{icon:void 0,className:"",animate:{unmount:{},mount:{}},disabled:!1},styles:{base:{container:{display:"block",position:"relative",width:"w-full"},header:{initial:{display:"flex",justifyContent:"justify-between",alignItems:"items-center",width:"w-full",py:"py-4",borderWidth:"border-b border-b-blue-grey-100",color:"text-blue-grey-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-semibold",lineHeight:"leading-snug",userSelect:"select-none",hover:"hover:text-blue-grey-900",transition:"transition-colors"},active:{color:"!text-blue-grey-900"},icon:{width:"w-5",height:"h-5",ml:"ml-4"}},body:{display:"block",width:"w-full",py:"py-4",color:"text-grey-700",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"},disabled:{pointerEvents:"pointer-events-none",opacity:"opacity-50"}}}},Wn=["blue-grey","grey","brown","deep-orange","orange","amber","yellow","lime","light-green","green","teal","cyan","light-blue","blue","indigo","deep-purple","purple","pink","red"],Zn=Vn().shape({mount:Vn().instanceOf(Object),unmount:Vn().instanceOf(Object)}),Hn=Vn().shape({enabled:Vn().bool,escapeKey:Vn().bool,referencePointerDown:Vn().bool,outsidePointerDown:Vn().bool,ancestorScroll:Vn().bool,bubbles:Vn().bool}),Xn=Vn().oneOfType([Vn().number,Vn().shape({mainAxis:Vn().number,crossAxis:Vn().number,alignmentAxis:Vn().number})]),$n=["top-start","top","top-end","right-start","right","right-end","bottom-start","bottom","bottom-end","left-start","left","left-end"],Kn=["filled","gradient"],Yn=Wn,Jn=Vn().node,Qn=Vn().bool,eo=Vn().shape({action:Vn().node,onClose:Vn().func.isRequired}),to=Zn,ro=Vn().string,no=Vn().node.isRequired,oo={defaultProps:{variant:"filled",color:"blue",icon:void 0,show:!0,dismissble:{action:"",onClose:function(){}},animate:{unmount:{},mount:{}},className:""},valid:{variants:Kn,colors:Yn},styles:{base:{position:"relative",display:"block",width:"w-full",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-regular",px:"px-4",py:"py-4",borderRadius:"rounded-lg"},variants:{filled:{"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white"},grey:{backgroud:"bg-grey-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},gradient:{"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}}}}},io=["rounded","circular"],ao=["xs","sm","md","lg","xl","xxl"],so=Vn().string,lo={defaultProps:{variant:"rounded",size:"md",className:""},valid:{variants:io,sizes:ao},styles:{base:{display:"inline-block",position:"relative",objectFit:"object-cover",objectPosition:"object-center"},sizes:{xs:{with:"w-6",height:"h-6",borderRadius:"rounded-md"},sm:{with:"w-9",height:"h-9",borderRadius:"rounded-md"},md:{with:"w-12",height:"h-12",borderRadius:"rounded-lg"},lg:{with:"w-[58px]",height:"h-[58px]",borderRadius:"rounded-lg"},xl:{with:"w-[74px]",height:"h-[74px]",borderRadius:"rounded-xl"},xxl:{with:"w-[110px]",height:"h-[110px]",borderRadius:"rounded-2xl"}},variants:{rounded:{},circular:{borderRadius:"rounded-full"}}}},uo={defaultProps:{className:"",fullWidth:!1,separator:"/"},styles:{base:{root:{initial:{width:"w-max"},fullWidth:{display:"block",width:"w-full"}},list:{display:"flex",flexWrap:"flex-wrap",alignItems:"items-center",width:"w-full",bg:"bg-blue-grey-50",bgOpacity:"bg-opacity-60",py:"py-2",px:"px-4",borderRadius:"rounded-md"},item:{initial:{display:"flex",alignItems:"items-center",color:"text-blue-grey-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",lineHeight:"leading-normal",cursor:"cursor-pointer",transition:"transition-colors duration-300",hover:"hover:text-light-blue-500"},disabled:{pointerEvents:"pointer-events-none"}},separator:{color:"text-blue-grey-500",fontSize:"text-sm",fontSmoothing:"antialiased",fontFamily:"font-sans",fontWeight:"font-normal",lineHeight:"leading-normal",px:"mx-2",pointerEvents:"pointer-events-none",userSelcet:"select-none"}}}},co={"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white",shadow:"shadow-md shadow-blue-grey-500/20",hover:"hover:shadow-lg hover:shadow-blue-grey-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},grey:{backgroud:"bg-grey-500",color:"text-white",shadow:"shadow-md shadow-grey-500/20",hover:"hover:shadow-lg hover:shadow-grey-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},brown:{backgroud:"bg-brown-500",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},orange:{backgroud:"bg-orange-500",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},amber:{backgroud:"bg-amber-500",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},yellow:{backgroud:"bg-yellow-500",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},lime:{backgroud:"bg-lime-500",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-green":{backgroud:"bg-light-green-500",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},green:{backgroud:"bg-green-500",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},teal:{backgroud:"bg-teal-500",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},cyan:{backgroud:"bg-cyan-500",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},blue:{backgroud:"bg-blue-500",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},indigo:{backgroud:"bg-indigo-500",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},purple:{backgroud:"bg-purple-500",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},pink:{backgroud:"bg-pink-500",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"},red:{backgroud:"bg-red-500",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",focus:"focus:opacity-[0.85] focus:shadow-none",active:"active:opacity-[0.85] active:shadow-none"}},fo={"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white",shadow:"shadow-md shadow-blue-grey-500/20",hover:"hover:shadow-lg hover:shadow-blue-grey-500/40",active:"active:opacity-[0.85]"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white",shadow:"shadow-md shadow-grey-500/20",hover:"hover:shadow-lg hover:shadow-grey-500/40",active:"active:opacity-[0.85]"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-md shadow-brown-500/20",hover:"hover:shadow-lg hover:shadow-brown-500/40",active:"active:opacity-[0.85]"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-md shadow-deep-orange-500/20",hover:"hover:shadow-lg hover:shadow-deep-orange-500/40",active:"active:opacity-[0.85]"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-md shadow-orange-500/20",hover:"hover:shadow-lg hover:shadow-orange-500/40",active:"active:opacity-[0.85]"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black",shadow:"shadow-md shadow-amber-500/20",hover:"hover:shadow-lg hover:shadow-amber-500/40",active:"active:opacity-[0.85]"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black",shadow:"shadow-md shadow-yellow-500/20",hover:"hover:shadow-lg hover:shadow-yellow-500/40",active:"active:opacity-[0.85]"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black",shadow:"shadow-md shadow-lime-500/20",hover:"hover:shadow-lg hover:shadow-lime-500/40",active:"active:opacity-[0.85]"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-md shadow-light-green-500/20",hover:"hover:shadow-lg hover:shadow-light-green-500/40",active:"active:opacity-[0.85]"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-md shadow-green-500/20",hover:"hover:shadow-lg hover:shadow-green-500/40",active:"active:opacity-[0.85]"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-md shadow-teal-500/20",hover:"hover:shadow-lg hover:shadow-teal-500/40",active:"active:opacity-[0.85]"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-md shadow-cyan-500/20",hover:"hover:shadow-lg hover:shadow-cyan-500/40",active:"active:opacity-[0.85]"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-md shadow-light-blue-500/20",hover:"hover:shadow-lg hover:shadow-light-blue-500/40",active:"active:opacity-[0.85]"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-md shadow-blue-500/20",hover:"hover:shadow-lg hover:shadow-blue-500/40",active:"active:opacity-[0.85]"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-md shadow-indigo-500/20",hover:"hover:shadow-lg hover:shadow-indigo-500/40",active:"active:opacity-[0.85]"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-md shadow-deep-purple-500/20",hover:"hover:shadow-lg hover:shadow-deep-purple-500/40",active:"active:opacity-[0.85]"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-md shadow-purple-500/20",hover:"hover:shadow-lg hover:shadow-purple-500/40",active:"active:opacity-[0.85]"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-md shadow-pink-500/20",hover:"hover:shadow-lg hover:shadow-pink-500/40",active:"active:opacity-[0.85]"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-md shadow-red-500/20",hover:"hover:shadow-lg hover:shadow-red-500/40",active:"active:opacity-[0.85]"}},ho={"blue-grey":{backgroud:"border border-blue-grey-500",color:"text-blue-grey-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-grey-200",active:"active:opacity-[0.85]"},grey:{backgroud:"border border-grey-500",color:"text-grey-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-grey-200",active:"active:opacity-[0.85]"},brown:{backgroud:"border border-brown-500",color:"text-brown-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-brown-200",active:"active:opacity-[0.85]"},"deep-orange":{backgroud:"border border-deep-orange-500",color:"text-deep-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-orange-200",active:"active:opacity-[0.85]"},orange:{backgroud:"border border-orange-500",color:"text-orange-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-orange-200",active:"active:opacity-[0.85]"},amber:{backgroud:"border border-amber-500",color:"text-amber-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-amber-200",active:"active:opacity-[0.85]"},yellow:{backgroud:"border border-yellow-500",color:"text-yellow-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-yellow-200",active:"active:opacity-[0.85]"},lime:{backgroud:"border border-lime-500",color:"text-lime-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-lime-200",active:"active:opacity-[0.85]"},"light-green":{backgroud:"border border-light-green-500",color:"text-light-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-green-200",active:"active:opacity-[0.85]"},green:{backgroud:"border border-green-500",color:"text-green-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-green-200",active:"active:opacity-[0.85]"},teal:{backgroud:"border border-teal-500",color:"text-teal-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-teal-200",active:"active:opacity-[0.85]"},cyan:{backgroud:"border border-cyan-500",color:"text-cyan-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-cyan-200",active:"active:opacity-[0.85]"},"light-blue":{backgroud:"border border-light-blue-500",color:"text-light-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-light-blue-200",active:"active:opacity-[0.85]"},blue:{backgroud:"border border-blue-500",color:"text-blue-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-blue-200",active:"active:opacity-[0.85]"},indigo:{backgroud:"border border-indigo-500",color:"text-indigo-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-indigo-200",active:"active:opacity-[0.85]"},"deep-purple":{backgroud:"border border-deep-purple-500",color:"text-deep-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-deep-purple-200",active:"active:opacity-[0.85]"},purple:{backgroud:"border border-purple-500",color:"text-purple-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-purple-200",active:"active:opacity-[0.85]"},pink:{backgroud:"border border-pink-500",color:"text-pink-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-pink-200",active:"active:opacity-[0.85]"},red:{backgroud:"border border-red-500",color:"text-red-500",hover:"hover:opacity-75",focus:"focus:ring focus:ring-red-200",active:"active:opacity-[0.85]"}},po={"blue-grey":{color:"text-blue-grey-500",hover:"hover:bg-blue-grey-500/10",active:"active:bg-blue-grey-500/30"},grey:{color:"text-grey-500",hover:"hover:bg-grey-500/10",active:"active:bg-grey-500/30"},brown:{color:"text-brown-500",hover:"hover:bg-brown-500/10",active:"active:bg-brown-500/30"},"deep-orange":{color:"text-deep-orange-500",hover:"hover:bg-deep-orange-500/10",active:"active:bg-deep-orange-500/30"},orange:{color:"text-orange-500",hover:"hover:bg-orange-500/10",active:"active:bg-orange-500/30"},amber:{color:"text-amber-500",hover:"hover:bg-amber-500/10",active:"active:bg-amber-500/30"},yellow:{color:"text-yellow-500",hover:"hover:bg-yellow-500/10",active:"active:bg-yellow-500/30"},lime:{color:"text-lime-500",hover:"hover:bg-lime-500/10",active:"active:bg-lime-500/30"},"light-green":{color:"text-light-green-500",hover:"hover:bg-light-green-500/10",active:"active:bg-light-green-500/30"},green:{color:"text-green-500",hover:"hover:bg-green-500/10",active:"active:bg-green-500/30"},teal:{color:"text-teal-500",hover:"hover:bg-teal-500/10",active:"active:bg-teal-500/30"},cyan:{color:"text-cyan-500",hover:"hover:bg-cyan-500/10",active:"active:bg-cyan-500/30"},"light-blue":{color:"text-light-blue-500",hover:"hover:bg-light-blue-500/10",active:"active:bg-light-blue-500/30"},blue:{color:"text-blue-500",hover:"hover:bg-blue-500/10",active:"active:bg-blue-500/30"},indigo:{color:"text-indigo-500",hover:"hover:bg-indigo-500/10",active:"active:bg-indigo-500/30"},"deep-purple":{color:"text-deep-purple-500",hover:"hover:bg-deep-purple-500/10",active:"active:bg-deep-purple-500/30"},purple:{color:"text-purple-500",hover:"hover:bg-purple-500/10",active:"active:bg-purple-500/30"},pink:{color:"text-pink-500",hover:"hover:bg-pink-500/10",active:"active:bg-pink-500/30"},red:{color:"text-red-500",hover:"hover:bg-red-500/10",active:"active:bg-red-500/30"}},vo=["filled","outlined","gradient","text"],mo=["sm","md","lg"],yo=Wn,go=Vn().bool,bo=Vn().bool,_o=Vn().string,xo=Vn().node.isRequired,wo={defaultProps:{variant:"filled",size:"md",color:"blue",fullWidth:!1,ripple:!0,className:""},valid:{variants:vo,sizes:mo,colors:yo},styles:{base:{initial:{display:"inline-block",verticalAlign:"middle",userSelect:"none",fontFamily:"font-sans",fontWeight:"font-bold",textAlign:"center",textTransform:"uppercase",transition:"transition-all"},fullWidth:{display:"block",width:"w-full"}},sizes:{sm:{fontSize:"text-xs",py:"py-2",px:"px-4",borderRadius:"rounded-lg"},md:{fontSize:"text-xs",py:"py-3",px:"px-6",borderRadius:"rounded-lg"},lg:{fontSize:"text-sm",py:"py-3.5",px:"px-7",borderRadius:"rounded-lg"}},variants:{filled:co,gradient:fo,outlined:ho,text:po}}},ko={transparent:{backgroud:"bg-transparent",color:"text-grey-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-grey-700"},"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white",shadow:"shadow-blue-grey-500/40"},grey:{backgroud:"bg-grey-500",color:"text-white",shadow:"shadow-grey-500/40"},brown:{backgroud:"bg-brown-500",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-orange-500",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-amber-500",color:"text-grey-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-yellow-500",color:"text-grey-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-lime-500",color:"text-grey-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-light-green-500",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-green-500",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-teal-500",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-cyan-500",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-blue-500",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-indigo-500",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-purple-500",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-pink-500",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-red-500",color:"text-white",shadow:"shadow-red-500/40"}},Eo={transparent:{backgroud:"bg-transparent",color:"text-grey-700",shadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-grey-700"},"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white",shadow:"shadow-blue-grey-500/40"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white",shadow:"shadow-grey-500/40"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white",shadow:"shadow-brown-500/40"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white",shadow:"shadow-deep-orange-500/40"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white",shadow:"shadow-orange-500/40"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-grey-700",shadow:"shadow-amber-500/40"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-grey-700",shadow:"shadow-yellow-500/40"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-grey-700",shadow:"shadow-lime-500/40"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white",shadow:"shadow-light-green-500/40"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white",shadow:"shadow-green-500/40"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white",shadow:"shadow-teal-500/40"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white",shadow:"shadow-cyan-500/40"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white",shadow:"shadow-light-blue-500/40"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white",shadow:"shadow-blue-500/40"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white",shadow:"shadow-indigo-500/40"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white",shadow:"shadow-deep-purple-500/40"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white",shadow:"shadow-purple-500/40"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white",shadow:"shadow-pink-500/40"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white",shadow:"shadow-red-500/40"}};function To(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var So,Co=["filled","gradient"],Ao=["transparent","white"].concat(function(e){if(Array.isArray(e))return To(e)}(So=Wn)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(So)||function(e,t){if(e){if("string"==typeof e)return To(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return To(e,t)}}(So)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Io=Vn().bool,Mo=Vn().bool,Po=Vn().bool,Oo=Vn().string,zo=Vn().node.isRequired,Ro={defaultProps:{variant:"filled",color:"white",shadow:!0,className:""},valid:{variants:Co,colors:Ao},styles:{base:{initial:{position:"relative",display:"flex",flexDirection:"flex-col",backgroundClip:"bg-clip-border",borderRadius:"rounded-xl"},shadow:{boxShadow:"shadow-md"}},variants:{filled:ko,gradient:Eo}}},Do={defaultProps:{className:""},styles:{base:{p:"p-6"}}},Lo={defaultProps:{className:""},styles:{base:{initial:{p:"p-6"},divider:{borderWidth:"border-t",borderColor:"border-blue-grey-50"}}}},jo={defaultProps:{variant:"filled",color:"white",shadow:!0,floated:!0,className:""},valid:{variants:Co,colors:Ao},styles:{base:{initial:{position:"relative",backgroundClip:"bg-clip-border",mt:"mt-4",mx:"mx-4",borderRadius:"rounded-xl",overflow:"overflow-hidden"},shadow:{boxShadow:"shadow-lg"},floated:{mt:"!-mt-6"}},variants:{filled:ko,gradient:Eo}}},Fo=Wn,No=Vn().string,Bo=Vn().node,Vo=Vn().bool,Uo=Vn().string,Go=Vn().instanceOf(Object),qo=Vn().instanceOf(Object),Wo=Vn().instanceOf(Object),Zo={defaultProps:{color:"blue",label:"",icon:void 0,ripple:!0,className:"",containerProps:{},labelProps:{}},valid:{colors:Fo},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-md",borderColor:"border-blue-grey-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-grey-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-grey-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"}},colors:{"blue-grey":{background:"checked:bg-blue-grey-500",border:"checked:border-blue-grey-500",before:"checked:before:bg-blue-grey-500"},grey:{background:"checked:bg-grey-500",border:"checked:border-grey-500",before:"checked:before:bg-grey-500"},brown:{background:"checked:bg-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{background:"checked:bg-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{background:"checked:bg-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{background:"checked:bg-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{background:"checked:bg-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{background:"checked:bg-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{background:"checked:bg-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{background:"checked:bg-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{background:"checked:bg-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{background:"checked:bg-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{background:"checked:bg-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{background:"checked:bg-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{background:"checked:bg-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{background:"checked:bg-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{background:"checked:bg-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{background:"checked:bg-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{background:"checked:bg-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}}}},Ho=["filled","gradient"],Xo=Wn,$o=Vn().node,Ko=Vn().bool,Yo=Vn().shape({action:Vn().node,onClose:Vn().func.isRequired}),Jo=Zn,Qo=Vn().string,ei=Vn().oneOfType([Vn().string,Vn().number]).isRequired,ti={defaultProps:{variant:"filled",color:"blue",icon:void 0,show:!0,dismissble:{action:"",onClose:function(){}},animate:{unmount:{},mount:{}},className:""},valid:{variants:Ho,colors:Xo},styles:{base:{position:"relative",display:"inline-block",align:"align-baseline",fontFamily:"font-sans",fontSize:"text-xs",fontWeight:"font-bold",textTransform:"uppercase",textAlign:"center",lineHeight:"leading-none",whiteSpace:"whitespace-nowrap",py:"py-2",px:"px-3.5",borderRadius:"rounded-lg",userSelect:"select-none"},variants:{filled:{"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white"},grey:{backgroud:"bg-grey-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},gradient:{"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}}},closeButtonColor:{"blue-grey":{default:"bg-blue-grey-800",hover:"hover:bg-blue-grey-900"},grey:{default:"bg-grey-800",hover:"hover:bg-grey-900"},brown:{default:"bg-brown-800",hover:"hover:bg-brown-900"},"deep-orange":{default:"bg-deep-orange-800",hover:"hover:bg-deep-orange-900"},orange:{default:"bg-orange-800",hover:"hover:bg-orange-900"},amber:{default:"bg-amber-800",hover:"hover:bg-amber-900"},yellow:{default:"bg-yellow-800",hover:"hover:bg-yellow-900"},lime:{default:"bg-lime-800",hover:"hover:bg-lime-900"},"light-green":{default:"bg-light-green-800",hover:"hover:bg-light-green-900"},green:{default:"bg-green-800",hover:"hover:bg-green-900"},teal:{default:"bg-teal-800",hover:"hover:bg-teal-900"},cyan:{default:"bg-cyan-800",hover:"hover:bg-cyan-900"},"light-blue":{default:"bg-light-blue-800",hover:"hover:bg-light-blue-900"},blue:{default:"bg-blue-800",hover:"hover:bg-blue-900"},indigo:{default:"bg-indigo-800",hover:"hover:bg-indigo-900"},"deep-purple":{default:"bg-deep-purple-800",hover:"hover:bg-deep-purple-900"},purple:{default:"bg-purple-800",hover:"hover:bg-purple-900"},pink:{default:"bg-pink-800",hover:"hover:bg-pink-900"},red:{default:"bg-red-800",hover:"hover:bg-red-900"}}}},ri=Vn().bool.isRequired,ni=Vn().func,oi=["xs","sm","md","lg","xl","xxl"],ii=Hn,ai=Zn,si=Vn().bool,li=Vn().string,ui=Vn().node.isRequired,ci={defaultProps:{size:"md",dismiss:{},animate:{unmount:{},mount:{}},className:""},valid:{sizes:oi},styles:{base:{backdrop:{display:"grid",placeItems:"place-items-center",position:"fixed",top:0,left:0,width:"w-screen",height:"h-screen",backgroundColor:"bg-black",backgroundOpacity:"bg-opacity-60",backdropFilter:"backdrop-blur-sm"},container:{position:"relative",bg:"bg-white",m:"m-4",borderRadius:"rounded-lg",boxShadow:"shadow-2xl",color:"text-blue-grey-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed",overflow:"overflow-hidden"}},sizes:{xs:{width:"w-1/4",minWidth:"min-w-[25%]",maxWidth:"max-w-[25%]"},sm:{width:"w-1/3",minWidth:"min-w-[33.333333%]",maxWidth:"max-w-[33.333333%]"},md:{width:"w-2/5",minWidth:"min-w-[40%]",maxWidth:"max-w-[40%]"},lg:{width:"w-3/5",minWidth:"min-w-[60%]",maxWidth:"max-w-[60%]"},xl:{width:"w-3/4",minWidth:"min-w-[75%]",maxWidth:"max-w-[75%]"},xxl:{display:"flex",flexDirection:"flex-col",width:"w-screen",minWidth:"min-w-[100vw]",maxWidth:"max-w-[100vw]",height:"h-screen",minHeight:"min-h-[100vh]",maxHeight:"max-h-[100vh]",m:"m-0",borderRadius:"rounded-none"}}}},fi={defaultProps:{className:"",divider:!1},styles:{base:{initial:{position:"relative",display:"flex",flex:"flex-auto",p:"p-4",color:"text-blue-grey-500",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},divider:{borderTop:"border-t",borderTopColor:"border-t-blue-grey-100",borderBottom:"border-b",borderBottomColor:"border-b-blue-grey-100"}}}},di={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",justifyContent:"justify-end",flexShrink:"shrink-0",flexWrap:"flex-wrap",p:"p-4",color:"text-blue-grey-500"}}},hi={defaultProps:{className:""},styles:{base:{display:"flex",alignItems:"items-center",flexShrink:"shrink-0",p:"p-4",color:"text-blue-grey-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"}}},pi={defaultProps:{variant:"filled",size:"md",color:"blue",fullWidth:!1,ripple:!0,className:""},valid:{variants:vo,sizes:mo,colors:yo},styles:{base:{display:"inline-grid",placeItems:"place-items-center",userSelect:"none",fontFamily:"font-sans",fontWeight:"font-medium",textAlign:"text-center",textTransform:"uppercase",transition:"transition-all"},sizes:{sm:{width:"w-8",maxWidth:"max-w-[32px]",height:"h-8",maxHeight:"max-h-[32px]",borderRadius:"rounded-lg",fontSize:"text-xs"},md:{width:"w-10",maxWidth:"max-w-[40px]",height:"h-10",maxHeight:"max-h-[40px]",borderRadius:"rounded-lg",fontSize:"text-xs"},lg:{width:"w-12",maxWidth:"max-w-[48px]",height:"h-12",maxHeight:"max-h-[48px]",borderRadius:"rounded-lg",fontSize:"text-sm"}},variants:{filled:co,gradient:fo,outlined:ho,text:po}}},vi={base:{input:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-grey-200 placeholder-shown:border-t-blue-grey-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"}},inputWithIcon:{pr:"!pr-9"},icon:{top:"top-2/4",right:"right-3",transform:"-translate-y-2/4"},label:{position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}}},sizes:{md:{container:{height:"h-10"},input:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-11"},input:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-400 peer-focus:text-blue-grey-500",before:"before:border-blue-grey-200 peer-focus:before:border-blue-grey-500",after:"after:border-blue-grey-200 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-400 peer-focus:text-grey-500",before:"before:border-blue-grey-200 peer-focus:before:border-grey-500",after:"after:border-blue-grey-200 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-400 peer-focus:text-brown-500",before:"before:border-blue-grey-200 peer-focus:before:border-brown-500",after:"after:border-blue-grey-200 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-400 peer-focus:text-deep-orange-500",before:"before:border-blue-grey-200 peer-focus:before:border-deep-orange-500",after:"after:border-blue-grey-200 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-400 peer-focus:text-orange-500",before:"before:border-blue-grey-200 peer-focus:before:border-orange-500",after:"after:border-blue-grey-200 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-400 peer-focus:text-amber-500",before:"before:border-blue-grey-200 peer-focus:before:border-amber-500",after:"after:border-blue-grey-200 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-400 peer-focus:text-yellow-500",before:"before:border-blue-grey-200 peer-focus:before:border-yellow-500",after:"after:border-blue-grey-200 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-400 peer-focus:text-lime-500",before:"before:border-blue-grey-200 peer-focus:before:border-lime-500",after:"after:border-blue-grey-200 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-400 peer-focus:text-light-green-500",before:"before:border-blue-grey-200 peer-focus:before:border-light-green-500",after:"after:border-blue-grey-200 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-400 peer-focus:text-green-500",before:"before:border-blue-grey-200 peer-focus:before:border-green-500",after:"after:border-blue-grey-200 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-400 peer-focus:text-teal-500",before:"before:border-blue-grey-200 peer-focus:before:border-teal-500",after:"after:border-blue-grey-200 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-400 peer-focus:text-cyan-500",before:"before:border-blue-grey-200 peer-focus:before:border-cyan-500",after:"after:border-blue-grey-200 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-400 peer-focus:text-light-blue-500",before:"before:border-blue-grey-200 peer-focus:before:border-light-blue-500",after:"after:border-blue-grey-200 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-400 peer-focus:text-blue-500",before:"before:border-blue-grey-200 peer-focus:before:border-blue-500",after:"after:border-blue-grey-200 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-400 peer-focus:text-indigo-500",before:"before:border-blue-grey-200 peer-focus:before:border-indigo-500",after:"after:border-blue-grey-200 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-400 peer-focus:text-deep-purple-500",before:"before:border-blue-grey-200 peer-focus:before:border-deep-purple-500",after:"after:border-blue-grey-200 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-400 peer-focus:text-purple-500",before:"before:border-blue-grey-200 peer-focus:before:border-purple-500",after:"after:border-blue-grey-200 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-400 peer-focus:text-pink-500",before:"before:border-blue-grey-200 peer-focus:before:border-pink-500",after:"after:border-blue-grey-200 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-400 peer-focus:text-red-500",before:"before:border-blue-grey-200 peer-focus:before:border-red-500",after:"after:border-blue-grey-200 peer-focus:after:border-red-500"}}},error:{input:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},mi={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-grey-200"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:{position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"},icon:{width:"w-6",height:"h-6"}}},colors:{input:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-500 peer-focus:text-blue-grey-500",after:"after:border-blue-grey-500 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-500 peer-focus:text-grey-500",after:"after:border-grey-500 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}}},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},yi={base:{input:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-grey-200"},inputWithIcon:{pr:"!pr-7"},icon:{top:"top-2/4",right:"right-0",transform:"-translate-y-1/4"},label:{position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},input:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-5",height:"h-5"}},lg:{container:{height:"h-12"},input:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"},icon:{width:"w-6",height:"h-6"}}},colors:{input:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-500 peer-focus:text-blue-grey-500",after:"after:border-blue-grey-500 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-500 peer-focus:text-grey-500",after:"after:border-grey-500 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}}},error:{input:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{input:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},gi=["standard","outlined","static"],bi=["md","lg"],_i=Wn,xi=Vn().string,wi=Vn().bool,ki=Vn().bool,Ei=Vn().node,Ti=Vn().bool,Si=Vn().instanceOf(Object),Ci=Vn().string,Ai={defaultProps:{variant:"outlined",size:"md",color:"blue",label:"",error:!1,success:!1,icon:void 0,labelProps:{},className:""},valid:{variants:gi,sizes:bi,colors:_i},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},input:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-grey-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline-0 focus:outlined-0",disabled:"disabled:bg-blue-grey-50 disabled:border-0",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",color:"peer-placeholder-shown:text-blue-grey-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-grey-500",transition:"transition-all"},icon:{display:"grid",placeItems:"place-items-center",position:"absolute",color:"text-blue-grey-500"}},variants:{outlined:vi,standard:mi,static:yi}}},Ii={defaultProps:{placement:"bottom",offset:5,dismiss:{},animate:{unmount:{},mount:{}},lockScroll:!1},styles:{base:{menu:{bg:"bg-white",minWidth:"min-w-[180px]",p:"p-3",border:"border border-blue-grey-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-grey-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-grey-500",overflow:"overflow-auto",outline:"focus:outline-none",zIndex:"z-[999]"},item:{initial:{display:"block",width:"w-full",pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",textAlign:"text-start",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",transition:"transition-all",bg:"hover:bg-blue-grey-50 hover:bg-opacity-80 focus:bg-blue-grey-50 focus:bg-opacity-80 active:bg-blue-grey-50 active:bg-opacity-80",color:"hover:text-blue-grey-900 focus:text-blue-grey-900 active:text-blue-grey-900"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none",bg:"hover:bg-transparent focus:bg-transparent active:bg-transparent",color:"hover:text-blue-grey-500 focus:text-blue-grey-500 active:text-blue-grey-500"}}}}};function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pi=["filled","gradient"],Oi=["transparent","white"].concat(function(e){return function(e){if(Array.isArray(e))return Mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mi(e,t)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Wn)),zi=Vn().bool,Ri=Vn().bool,Di=Vn().bool,Li=Vn().string,ji=Vn().node.isRequired,Fi={defaultProps:{variant:"filled",color:"white",shadow:!0,blurred:!0,fullWidth:!1,className:""},valid:{variants:Pi,colors:Oi},styles:{base:{initial:{display:"flex",flexWrap:"flex-nowrap",justifyContent:"justify-start",width:"w-full",maxWidth:"max-w-screen-2xl",borderRadius:"rounded-xl",py:"py-4",px:"px-8"},shadow:{boxShadow:"shadow-md"},blurred:{backdropFilter:"backdrop-saturate-200 backdrop-blur-2xl",bgOpacity:"bg-opacity-80",borderWidth:"border",borderColor:"border-white/80"},fullWidth:{width:"w-full",maxWidth:"max-w-full",rounded:"rounded-none",px:"px-4"}},variants:{filled:{transparent:{backgroud:"bg-transparent",color:"text-white",boxShadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-white"},"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white"},grey:{backgroud:"bg-grey-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},gradient:{transparent:{backgroud:"bg-transparent",color:"text-blue-grey-900",boxShadow:"shadow-none"},white:{backgroud:"bg-white",color:"text-blue-grey-900"},"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}}}}},Ni={defaultProps:{placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-white",p:"p-4",border:"border border-blue-grey-50",borderRadius:"rounded-lg",boxShadow:"shadow-lg shadow-blue-grey-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-grey-500",outline:"focus:outline-none",overflowWrap:"break-words",whiteSpace:"whitespace-normal"}}},Bi=["filled","gradient"],Vi=Wn,Ui=Vn().number,Gi=Vn().oneOfType([Vn().string,Vn().bool]),qi=Vn().instanceOf(Object),Wi=Vn().string,Zi={defaultProps:{variant:"filled",color:"blue",value:0,label:!1,className:"",barProps:{}},valid:{variants:Bi,colors:Vi},styles:{base:{container:{initial:{display:"flex",justifyContent:"flex-start",bg:"bg-blue-grey-50",overflow:"overflow-hidden",width:"w-full",height:"h-1.5",borderRadius:"rounded-sm",fontFamily:"font-sans",fontSize:"text-xs",fontWeight:"font-medium"},withLabel:{height:"h-4",borderRadius:"rounded"}},bar:{display:"flex",justifyContent:"justify-center",alignItems:"items-center",height:"h-full"}},variants:{filled:{"blue-grey":{backgroud:"bg-blue-grey-500",color:"text-white"},grey:{backgroud:"bg-grey-500",color:"text-white"},brown:{backgroud:"bg-brown-500",color:"text-white"},"deep-orange":{backgroud:"bg-deep-orange-500",color:"text-white"},orange:{backgroud:"bg-orange-500",color:"text-white"},amber:{backgroud:"bg-amber-500",color:"text-black"},yellow:{backgroud:"bg-yellow-500",color:"text-black"},lime:{backgroud:"bg-lime-500",color:"text-black"},"light-green":{backgroud:"bg-light-green-500",color:"text-white"},green:{backgroud:"bg-green-500",color:"text-white"},teal:{backgroud:"bg-teal-500",color:"text-white"},cyan:{backgroud:"bg-cyan-500",color:"text-white"},"light-blue":{backgroud:"bg-light-blue-500",color:"text-white"},blue:{backgroud:"bg-blue-500",color:"text-white"},indigo:{backgroud:"bg-indigo-500",color:"text-white"},"deep-purple":{backgroud:"bg-deep-purple-500",color:"text-white"},purple:{backgroud:"bg-purple-500",color:"text-white"},pink:{backgroud:"bg-pink-500",color:"text-white"},red:{backgroud:"bg-red-500",color:"text-white"}},gradient:{"blue-grey":{backgroud:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400",color:"text-white"},grey:{backgroud:"bg-gradient-to-tr from-grey-600 to-grey-400",color:"text-white"},brown:{backgroud:"bg-gradient-to-tr from-brown-600 to-brown-400",color:"text-white"},"deep-orange":{backgroud:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400",color:"text-white"},orange:{backgroud:"bg-gradient-to-tr from-orange-600 to-orange-400",color:"text-white"},amber:{backgroud:"bg-gradient-to-tr from-amber-600 to-amber-400",color:"text-black"},yellow:{backgroud:"bg-gradient-to-tr from-yellow-600 to-yellow-400",color:"text-black"},lime:{backgroud:"bg-gradient-to-tr from-lime-600 to-lime-400",color:"text-black"},"light-green":{backgroud:"bg-gradient-to-tr from-light-green-600 to-light-green-400",color:"text-white"},green:{backgroud:"bg-gradient-to-tr from-green-600 to-green-400",color:"text-white"},teal:{backgroud:"bg-gradient-to-tr from-teal-600 to-teal-400",color:"text-white"},cyan:{backgroud:"bg-gradient-to-tr from-cyan-600 to-cyan-400",color:"text-white"},"light-blue":{backgroud:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400",color:"text-white"},blue:{backgroud:"bg-gradient-to-tr from-blue-600 to-blue-400",color:"text-white"},indigo:{backgroud:"bg-gradient-to-tr from-indigo-600 to-indigo-400",color:"text-white"},"deep-purple":{backgroud:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400",color:"text-white"},purple:{backgroud:"bg-gradient-to-tr from-purple-600 to-purple-400",color:"text-white"},pink:{backgroud:"bg-gradient-to-tr from-pink-600 to-pink-400",color:"text-white"},red:{backgroud:"bg-gradient-to-tr from-red-600 to-red-400",color:"text-white"}}}}},Hi={defaultProps:{color:"blue",label:"",icon:void 0,ripple:!0,className:"",containerProps:{},labelProps:{}},valid:{colors:Fo},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"flex",alignItems:"items-center",cursor:"cursor-pointer",p:"p-3",borderRadius:"rounded-full"},input:{peer:"peer",position:"relative",appearance:"appearance-none",width:"w-5",height:"h-5",borderWidth:"border",borderRadius:"rounded-full",borderColor:"border-blue-grey-200",cursor:"cursor-pointer",transition:"transition-all",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-grey-500",width:"before:w-12",height:"before:h-12",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",opacity:"before:opacity-0 hover:before:opacity-10",transition:"before:transition-opacity"}},label:{color:"text-grey-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px"}},colors:{"blue-grey":{color:"text-blue-grey-500",border:"checked:border-blue-grey-500",before:"checked:before:bg-blue-grey-500"},grey:{color:"text-grey-500",border:"checked:border-grey-500",before:"checked:before:bg-grey-500"},brown:{color:"text-brown-500",border:"checked:border-brown-500",before:"checked:before:bg-brown-500"},"deep-orange":{color:"text-deep-orange-500",border:"checked:border-deep-orange-500",before:"checked:before:bg-deep-orange-500"},orange:{color:"text-orange-500",border:"checked:border-orange-500",before:"checked:before:bg-orange-500"},amber:{color:"text-amber-500",border:"checked:border-amber-500",before:"checked:before:bg-amber-500"},yellow:{color:"text-yellow-500",border:"checked:border-yellow-500",before:"checked:before:bg-yellow-500"},lime:{color:"text-lime-500",border:"checked:border-lime-500",before:"checked:before:bg-lime-500"},"light-green":{color:"text-light-green-500",border:"checked:border-light-green-500",before:"checked:before:bg-light-green-500"},green:{color:"text-green-500",border:"checked:border-green-500",before:"checked:before:bg-green-500"},teal:{color:"text-teal-500",border:"checked:border-teal-500",before:"checked:before:bg-teal-500"},cyan:{color:"text-cyan-500",border:"checked:border-cyan-500",before:"checked:before:bg-cyan-500"},"light-blue":{color:"text-light-blue-500",border:"checked:border-light-blue-500",before:"checked:before:bg-light-blue-500"},blue:{color:"text-blue-500",border:"checked:border-blue-500",before:"checked:before:bg-blue-500"},indigo:{color:"text-indigo-500",border:"checked:border-indigo-500",before:"checked:before:bg-indigo-500"},"deep-purple":{color:"text-deep-purple-500",border:"checked:border-deep-purple-500",before:"checked:before:bg-deep-purple-500"},purple:{color:"text-purple-500",border:"checked:border-purple-500",before:"checked:before:bg-purple-500"},pink:{color:"text-pink-500",border:"checked:border-pink-500",before:"checked:before:bg-pink-500"},red:{color:"text-red-500",border:"checked:border-red-500",before:"checked:before:bg-red-500"}}}},Xi={base:{select:{},label:{position:"-top-1.5",before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderRadius:"before:rounded-tl-md",pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderRadius:"after:rounded-tr-md",pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}}},sizes:{md:{container:{height:"h-10"},select:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[3.75]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-11"},select:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-[7px]"},label:{initial:{},states:{close:{lineHeight:"leading-[4.1]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:{"blue-grey":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-grey-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},grey:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-grey-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},brown:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-brown-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},"deep-orange":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},orange:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-orange-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},amber:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-amber-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},yellow:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-yellow-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},lime:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-lime-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},"light-green":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},green:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},teal:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-teal-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},cyan:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-cyan-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},"light-blue":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},blue:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},indigo:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-indigo-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},"deep-purple":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},purple:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-purple-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},pink:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-pink-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}},red:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-blue-grey-200",borderTopColor:"border-t-transparent"}}},label:{"blue-grey":{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-grey-500",before:"before:border-blue-grey-500",after:"after:border-blue-grey-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},grey:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-grey-500",before:"before:border-grey-500",after:"after:border-grey-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},brown:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-brown-500",before:"before:border-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},"deep-orange":{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-orange-500",before:"before:border-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},orange:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-orange-500",before:"before:border-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},amber:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-amber-500",before:"before:border-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},yellow:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-yellow-500",before:"before:border-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},lime:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-lime-500",before:"before:border-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},"light-green":{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-green-500",before:"before:border-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},green:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},teal:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-teal-500",before:"before:border-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},cyan:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-cyan-500",before:"before:border-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},"light-blue":{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-light-blue-500",before:"before:border-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},blue:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-blue-500",before:"before:border-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},indigo:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-indigo-500",before:"before:border-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},"deep-purple":{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-deep-purple-500",before:"before:border-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},purple:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-purple-500",before:"before:border-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},pink:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-pink-500",before:"before:border-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}},red:{close:{color:"text-blue-grey-400",before:"before:border-transparent",after:"after:border-transparent"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-grey-400",before:"before:border-blue-grey-200",after:"after:border-blue-grey-200"}}}},states:{close:{select:{borderWidth:"border"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-grey-400",before:{bt:"before:border-t-transparent",bl:"before:border-l-transparent"},after:{bt:"after:border-t-transparent",br:"after:border-r-transparent"}}},open:{select:{borderWidth:"border-2",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t-2",bl:"before:border-l-2"},after:{bt:"after:border-t-2",br:"after:border-r-2"}}},withValue:{select:{borderWidth:"border",borderColor:"border-t-transparent"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",before:{bt:"before:border-t",bl:"before:border-l"},after:{bt:"after:border-t",br:"after:border-r"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-red-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},open:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",before:"before:border-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"},withValue:{borderColor:"border-green-500",borderTopColor:"border-t-transparent"}}},label:{initial:{},states:{close:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},open:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",before:"before:border-green-500",after:"after:border-green-500"}}}}},$i={base:{select:{},label:{position:"-top-1.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-[4.25]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-[4.875]"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:{"blue-grey":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-grey-500"},withValue:{borderColor:"border-blue-grey-200"}},grey:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-grey-500"},withValue:{borderColor:"border-blue-grey-200"}},brown:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-grey-200"}},"deep-orange":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-grey-200"}},orange:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-grey-200"}},amber:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-grey-200"}},yellow:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-grey-200"}},lime:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-grey-200"}},"light-green":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-grey-200"}},green:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-grey-200"}},teal:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-grey-200"}},cyan:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-grey-200"}},"light-blue":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-grey-200"}},blue:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-grey-200"}},indigo:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-grey-200"}},"deep-purple":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-grey-200"}},purple:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-grey-200"}},pink:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-grey-200"}},red:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-grey-200"}}},label:{"blue-grey":{close:{color:"text-blue-grey-500",after:"after:border-blue-grey-500"},open:{color:"text-blue-grey-500",after:"after:border-blue-grey-500"},withValue:{color:"text-blue-grey-500",after:"after:border-blue-grey-50"}},grey:{close:{color:"text-blue-grey-500",after:"after:border-grey-500"},open:{color:"text-grey-500",after:"after:border-grey-500"},withValue:{color:"text-blue-grey-500",after:"after:border-grey-500"}},brown:{close:{color:"text-blue-grey-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-grey-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-grey-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-grey-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-grey-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-grey-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-grey-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-grey-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-grey-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-grey-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-grey-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-grey-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-grey-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-grey-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-grey-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-grey-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-grey-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-grey-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-grey-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-grey-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-grey-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-grey-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-grey-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-grey-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-grey-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-grey-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-grey-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-grey-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-grey-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-grey-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-grey-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-grey-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-grey-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-grey-500",after:"after:border-red-500"}}}},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-grey-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-[11px]",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},Ki={base:{select:{},label:{position:"-top-2.5",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-2.5",left:"left-0",borderWidth:"after:border-b-2",transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},select:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}},lg:{container:{height:"h-12"},select:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{initial:{},states:{close:{lineHeight:"leading-tight"},open:{lineHeight:"leading-tight"},withValue:{lineHeight:"leading-tight"}}}}},colors:{select:{"blue-grey":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-grey-500"},withValue:{borderColor:"border-blue-grey-200"}},grey:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-grey-500"},withValue:{borderColor:"border-blue-grey-200"}},brown:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-brown-500"},withValue:{borderColor:"border-blue-grey-200"}},"deep-orange":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-orange-500"},withValue:{borderColor:"border-blue-grey-200"}},orange:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-orange-500"},withValue:{borderColor:"border-blue-grey-200"}},amber:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-amber-500"},withValue:{borderColor:"border-blue-grey-200"}},yellow:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-yellow-500"},withValue:{borderColor:"border-blue-grey-200"}},lime:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-lime-500"},withValue:{borderColor:"border-blue-grey-200"}},"light-green":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-green-500"},withValue:{borderColor:"border-blue-grey-200"}},green:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-blue-grey-200"}},teal:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-teal-500"},withValue:{borderColor:"border-blue-grey-200"}},cyan:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-cyan-500"},withValue:{borderColor:"border-blue-grey-200"}},"light-blue":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-light-blue-500"},withValue:{borderColor:"border-blue-grey-200"}},blue:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-blue-500"},withValue:{borderColor:"border-blue-grey-200"}},indigo:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-indigo-500"},withValue:{borderColor:"border-blue-grey-200"}},"deep-purple":{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-deep-purple-500"},withValue:{borderColor:"border-blue-grey-200"}},purple:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-purple-500"},withValue:{borderColor:"border-blue-grey-200"}},pink:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-pink-500"},withValue:{borderColor:"border-blue-grey-200"}},red:{close:{borderColor:"border-blue-grey-200"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-blue-grey-200"}}},label:{"blue-grey":{close:{color:"text-blue-grey-500",after:"after:border-blue-grey-500"},open:{color:"text-blue-grey-500",after:"after:border-blue-grey-500"},withValue:{color:"text-blue-grey-500",after:"after:border-blue-grey-50"}},grey:{close:{color:"text-blue-grey-500",after:"after:border-grey-500"},open:{color:"text-grey-500",after:"after:border-grey-500"},withValue:{color:"text-blue-grey-500",after:"after:border-grey-500"}},brown:{close:{color:"text-blue-grey-500",after:"after:border-brown-500"},open:{color:"text-brown-500",after:"after:border-brown-500"},withValue:{color:"text-blue-grey-500",after:"after:border-brown-500"}},"deep-orange":{close:{color:"text-blue-grey-500",after:"after:border-deep-orange-500"},open:{color:"text-deep-orange-500",after:"after:border-deep-orange-500"},withValue:{color:"text-blue-grey-500",after:"after:border-deep-orange-500"}},orange:{close:{color:"text-blue-grey-500",after:"after:border-orange-500"},open:{color:"text-orange-500",after:"after:border-orange-500"},withValue:{color:"text-blue-grey-500",after:"after:border-orange-500"}},amber:{close:{color:"text-blue-grey-500",after:"after:border-amber-500"},open:{color:"text-amber-500",after:"after:border-amber-500"},withValue:{color:"text-blue-grey-500",after:"after:border-amber-500"}},yellow:{close:{color:"text-blue-grey-500",after:"after:border-yellow-500"},open:{color:"text-yellow-500",after:"after:border-yellow-500"},withValue:{color:"text-blue-grey-500",after:"after:border-yellow-500"}},lime:{close:{color:"text-blue-grey-500",after:"after:border-lime-500"},open:{color:"text-lime-500",after:"after:border-lime-500"},withValue:{color:"text-blue-grey-500",after:"after:border-lime-500"}},"light-green":{close:{color:"text-blue-grey-500",after:"after:border-light-green-500"},open:{color:"text-light-green-500",after:"after:border-light-green-500"},withValue:{color:"text-blue-grey-500",after:"after:border-light-green-500"}},green:{close:{color:"text-blue-grey-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-blue-grey-500",after:"after:border-green-500"}},teal:{close:{color:"text-blue-grey-500",after:"after:border-teal-500"},open:{color:"text-teal-500",after:"after:border-teal-500"},withValue:{color:"text-blue-grey-500",after:"after:border-teal-500"}},cyan:{close:{color:"text-blue-grey-500",after:"after:border-cyan-500"},open:{color:"text-cyan-500",after:"after:border-cyan-500"},withValue:{color:"text-blue-grey-500",after:"after:border-cyan-500"}},"light-blue":{close:{color:"text-blue-grey-500",after:"after:border-light-blue-500"},open:{color:"text-light-blue-500",after:"after:border-light-blue-500"},withValue:{color:"text-blue-grey-500",after:"after:border-light-blue-500"}},blue:{close:{color:"text-blue-grey-500",after:"after:border-blue-500"},open:{color:"text-blue-500",after:"after:border-blue-500"},withValue:{color:"text-blue-grey-500",after:"after:border-blue-500"}},indigo:{close:{color:"text-blue-grey-500",after:"after:border-indigo-500"},open:{color:"text-indigo-500",after:"after:border-indigo-500"},withValue:{color:"text-blue-grey-500",after:"after:border-indigo-500"}},"deep-purple":{close:{color:"text-blue-grey-500",after:"after:border-deep-purple-500"},open:{color:"text-deep-purple-500",after:"after:border-deep-purple-500"},withValue:{color:"text-blue-grey-500",after:"after:border-deep-purple-500"}},purple:{close:{color:"text-blue-grey-500",after:"after:border-purple-500"},open:{color:"text-purple-500",after:"after:border-purple-500"},withValue:{color:"text-blue-grey-500",after:"after:border-purple-500"}},pink:{close:{color:"text-blue-grey-500",after:"after:border-pink-500"},open:{color:"text-pink-500",after:"after:border-pink-500"},withValue:{color:"text-blue-grey-500",after:"after:border-pink-500"}},red:{close:{color:"text-blue-grey-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-blue-grey-500",after:"after:border-red-500"}}}},states:{close:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-blue-grey-400",after:{transform:"after:scale-x-0"}}},open:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-100"}}},withValue:{select:{borderWidth:"border-b"},label:{fontSize:"text-sm",disabled:"peer-disabled:text-transparent",after:{transform:"after:scale-x-0"}}}},error:{select:{initial:{},states:{close:{borderColor:"border-red-500"},open:{borderColor:"border-red-500"},withValue:{borderColor:"border-red-500"}}},label:{initial:{},states:{close:{color:"text-red-500",after:"after:border-red-500"},open:{color:"text-red-500",after:"after:border-red-500"},withValue:{color:"text-red-500",after:"after:border-red-500"}}}},success:{select:{initial:{},states:{close:{borderColor:"border-green-500"},open:{borderColor:"border-green-500"},withValue:{borderColor:"border-green-500"}}},label:{initial:{},states:{close:{color:"text-green-500",after:"after:border-green-500"},open:{color:"text-green-500",after:"after:border-green-500"},withValue:{color:"text-green-500",after:"after:border-green-500"}}}}},Yi=["standard","outlined","static"],Ji=["md","lg"],Qi=Wn,ea=Vn().string,ta=Vn().bool,ra=Vn().bool,na=Vn().node,oa=Vn().string,ia=Vn().func,aa=Vn().func,sa=Xn,la=Hn,ua=Zn,ca=(Vn().bool,Vn().bool),fa=Vn().instanceOf(Object),da=Vn().instanceOf(Object),ha=Vn().number,pa=Vn().bool,va=Vn().string,ma=Vn().node.isRequired,ya=Vn().shape({selectedIndex:Vn().number.isRequired,setSelectedIndex:Vn().func.isRequired,activeIndex:Vn().oneOfType([Vn().number,Vn().instanceOf(null)]),setActiveIndex:Vn().func.isRequired,listRef:Vn().instanceOf(Object).isRequired,setOpen:Vn().func.isRequired,onChange:Vn().func.isRequired,getItemProps:Vn().func.isRequired,dataRef:Vn().instanceOf(Object).isRequired}).isRequired,ga={defaultProps:{variant:"outlined",color:"blue",size:"md",label:"",error:!1,success:!1,arrow:void 0,value:"select",onChange:void 0,selected:void 0,offset:5,dismiss:{},animate:{unmount:{},mount:{}},autoHeight:!1,lockScroll:!1,labelProps:{},menuProps:{},className:"",disabled:!1},valid:{variants:Yi,sizes:Ji,colors:Qi},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},select:{peer:"peer",width:"w-full",height:"h-full",bg:"bg-transparent",color:"text-blue-grey-700",fontFamily:"font-sans",fontWeight:"font-normal",textAlign:"text-left",outline:"outline-0 focus:outlined-0",disabled:"disabled:bg-blue-grey-50 disabled:border-0",transition:"transition-all"},arrow:{initial:{display:"grid",placeItems:"place-items-center",position:"absolute",top:"top-2/4",right:"right-2",pt:"pt-px",width:"w-5",height:"h-5",color:"text-blue-grey-400",transform:"rotate-0 -translate-y-2/4",transition:"transition-all"},active:{transform:"rotate-180",mt:"mt-px"}},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",transition:"transition-all"},menu:{width:"w-full",maxHeight:"max-h-96",bg:"bg-white",p:"p-3",border:"border border-blue-grey-50",borderRadius:"rounded-md",boxShadow:"shadow-lg shadow-blue-grey-500/10",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-blue-grey-500",overflow:"overflow-auto",outline:"focus:outline-none"},option:{initial:{pt:"pt-[9px]",pb:"pb-2",px:"px-3",borderRadius:"rounded-md",lightHeight:"leading-tight",cursor:"cursor-pointer",userSelect:"select-none",background:"hover:bg-blue-grey-50 focus:bg-blue-grey-50",opacity:"hover:bg-opacity-80 focus:bg-opacity-80",color:"hover:text-blue-grey-900 focus:text-blue-grey-900",transition:"transition-all"},active:{bg:"bg-blue-grey-50 bg-opacity-80",color:"text-blue-grey-900"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",userSelect:"select-none"}}},variants:{outlined:Xi,standard:$i,static:Ki}}},ba={defaultProps:{color:"blue",label:"",ripple:!0,className:"",containerProps:{},labelProps:{},circleProps:{}},valid:{colors:Fo},styles:{base:{root:{display:"inline-flex",alignItems:"items-center"},container:{position:"relative",display:"inline-block",width:"w-8",height:"h-4",cursor:"cursor-pointer",borderRadius:"rounded-full"},input:{peer:"peer",appearance:"appearance-none",width:"w-8",height:"h-4",position:"absolute",background:"bg-blue-grey-100",borderRadius:"rounded-full",cursor:"cursor-pointer",transition:"transition-colors duration-300"},circle:{bg:"bg-white",width:"w-5",height:"h-5",borderWidth:"border",borderColor:"border-blue-grey-100",borderRadius:"rounded-full",boxShadow:"shadow-md",position:"absolute",top:"top-2/4",left:"-left-1",transform:"-translate-y-2/4 peer-checked:translate-x-full",transition:"transition-all duration-300",cursor:"cursor-pointer",before:{content:"before:content['']",display:"before:block",bg:"before:bg-blue-grey-500",width:"before:w-10",height:"before:h-10",borderRadius:"before:rounded-full",position:"before:absolute",top:"before:top-2/4",left:"before:left-2/4",transform:"before:-translate-y-2/4 before:-translate-x-2/4",transition:"before:transition-opacity",opacity:"before:opacity-0 hover:before:opacity-10"}},ripple:{display:"inline-block",top:"top-2/4",left:"left-2/4",transform:"-translate-x-2/4 -translate-y-2/4",p:"p-5",borderRadius:"rounded-full"},label:{color:"text-grey-700",fontWeight:"font-light",userSelect:"select-none",cursor:"cursor-pointer",mt:"mt-px",ml:"ml-3"}},colors:{"blue-grey":{input:"checked:bg-blue-grey-500",circle:"peer-checked:border-blue-grey-500",before:"peer-checked:before:bg-blue-grey-500"},grey:{input:"checked:bg-grey-500",circle:"peer-checked:border-grey-500",before:"peer-checked:before:bg-grey-500"},brown:{input:"checked:bg-brown-500",circle:"peer-checked:border-brown-500",before:"peer-checked:before:bg-brown-500"},"deep-orange":{input:"checked:bg-deep-orange-500",circle:"peer-checked:border-deep-orange-500",before:"peer-checked:before:bg-deep-orange-500"},orange:{input:"checked:bg-orange-500",circle:"peer-checked:border-orange-500",before:"peer-checked:before:bg-orange-500"},amber:{input:"checked:bg-amber-500",circle:"peer-checked:border-amber-500",before:"peer-checked:before:bg-amber-500"},yellow:{input:"checked:bg-yellow-500",circle:"peer-checked:border-yellow-500",before:"peer-checked:before:bg-yellow-500"},lime:{input:"checked:bg-lime-500",circle:"peer-checked:border-lime-500",before:"peer-checked:before:bg-lime-500"},"light-green":{input:"checked:bg-light-green-500",circle:"peer-checked:border-light-green-500",before:"peer-checked:before:bg-light-green-500"},green:{input:"checked:bg-green-500",circle:"peer-checked:border-green-500",before:"peer-checked:before:bg-green-500"},teal:{input:"checked:bg-teal-500",circle:"peer-checked:border-teal-500",before:"peer-checked:before:bg-teal-500"},cyan:{input:"checked:bg-cyan-500",circle:"peer-checked:border-cyan-500",before:"peer-checked:before:bg-cyan-500"},"light-blue":{input:"checked:bg-light-blue-500",circle:"peer-checked:border-light-blue-500",before:"peer-checked:before:bg-light-blue-500"},blue:{input:"checked:bg-blue-500",circle:"peer-checked:border-blue-500",before:"peer-checked:before:bg-blue-500"},indigo:{input:"checked:bg-indigo-500",circle:"peer-checked:border-indigo-500",before:"peer-checked:before:bg-indigo-500"},"deep-purple":{input:"checked:bg-deep-purple-500",circle:"peer-checked:border-deep-purple-500",before:"peer-checked:before:bg-deep-purple-500"},purple:{input:"checked:bg-purple-500",circle:"peer-checked:border-purple-500",before:"peer-checked:before:bg-purple-500"},pink:{input:"checked:bg-pink-500",circle:"peer-checked:border-pink-500",before:"peer-checked:before:bg-pink-500"},red:{input:"checked:bg-red-500",circle:"peer-checked:border-red-500",before:"peer-checked:before:bg-red-500"}}}},_a={defaultProps:{className:"",disabled:!1},styles:{base:{tab:{initial:{display:"grid",placeItems:"place-items-center",textAlign:"text-center",width:"w-full",height:"h-full",position:"relative",bg:"bg-transparent",p:"p-1",color:"text-blue-grey-900",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-normal",lineHeight:"leading-relaxed",userSelect:"select-none",cursor:"cursor-pointer"},disabled:{opacity:"opacity-50",cursor:"cursor-not-allowed",pointerEvents:"pointer-events-none",userSelect:"select-none"}},indicator:{position:"absolute",top:"top-0",left:"left-0",right:"right-0",zIndex:"z-10",height:"h-full",bg:"bg-white",borderRadius:"rounded-md",boxShadow:"shadow"}}}},xa={defaultProps:{className:""},styles:{base:{display:"block",overflow:"overflow-hidden"}}},wa={defaultProps:{animate:{unmount:{},mount:{}},className:""},styles:{base:{display:"block",width:"w-full",position:"relative",bg:"bg-transparent",overflow:"overflow-hidden"}}},ka={defaultProps:{className:""},styles:{base:{display:"flex",position:"relative",bg:"bg-blue-grey-50",bgOpacity:"bg-opacity-60",borderRadius:"rounded-lg",p:"p-1"}}},Ea={defaultProps:{className:""},styles:{base:{width:"w-full",height:"h-max",color:"text-grey-700",p:"p-4",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"}}},Ta={defaultProps:{variant:"outlined",size:"md",color:"blue",label:"",error:!1,success:!1,resize:!0,labelProps:{},className:""},valid:{variants:gi,sizes:bi,colors:_i},styles:{base:{container:{position:"relative",width:"w-full",minWidth:"min-w-[200px]"},textarea:{peer:"peer",width:"w-full",height:"h-full",minHeight:"min-h-[100px]",bg:"bg-transparent",color:"text-blue-grey-700",fontFamily:"font-sans",fontWeight:"font-normal",outline:"outline-0 focus:outlined-0",resize:"resize-y",disabled:"disabled:bg-blue-grey-50 disabled:border-0 disabled:resize-none",transition:"transition-all"},label:{display:"flex",width:"w-full",height:"h-full",userSelect:"select-none",pointerEvents:"pointer-events-none",position:"absolute",left:"left-0",fontWeight:"font-normal",color:"peer-placeholder-shown:text-blue-grey-500",lineHeight:"leading-tight peer-focus:leading-tight",disabled:"peer-disabled:text-transparent peer-disabled:peer-placeholder-shown:text-blue-grey-500",transition:"transition-all"}},variants:{outlined:{base:{textarea:{borderWidth:"placeholder-shown:border",borderColor:"placeholder-shown:border-blue-grey-200 placeholder-shown:border-t-blue-grey-200",floated:{borderWidth:"border focus:border-2",borderColor:"border-t-transparent focus:border-t-transparent"}},label:{position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},before:{content:"before:content[' ']",display:"before:block",boxSizing:"before:box-border",width:"before:w-2.5",height:"before:h-1.5",mt:"before:mt-[6.5px]",mr:"before:mr-1",borderColor:"peer-placeholder-shown:before:border-transparent",borderRadius:"before:rounded-tl-md",floated:{bt:"before:border-t peer-focus:before:border-t-2",bl:"before:border-l peer-focus:before:border-l-2"},pointerEvents:"before:pointer-events-none",transition:"before:transition-all",disabled:"peer-disabled:before:border-transparent"},after:{content:"after:content[' ']",display:"after:block",flexGrow:"after:flex-grow",boxSizing:"after:box-border",width:"after:w-2.5",height:"after:h-1.5",mt:"after:mt-[6.5px]",ml:"after:ml-1",borderColor:"peer-placeholder-shown:after:border-transparent",borderRadius:"after:rounded-tr-md",floated:{bt:"after:border-t peer-focus:after:border-t-2",br:"after:border-r peer-focus:after:border-r-2"},pointerEvents:"after:pointer-events-none",transition:"after:transition-all",disabled:"peer-disabled:after:border-transparent"}}},sizes:{md:{container:{height:"h-10"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-2.5",borderRadius:"rounded-[7px]"},label:{lineHeight:"peer-placeholder-shown:leading-[3.75]"}},lg:{container:{height:"h-11"},textarea:{fontSize:"text-sm",px:"px-3",py:"py-3",borderRadius:"rounded-md"},label:{lineHeight:"peer-placeholder-shown:leading-[4.1]"}}},colors:{textarea:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-400 peer-focus:text-blue-grey-500",before:"before:border-blue-grey-200 peer-focus:before:border-blue-grey-500",after:"after:border-blue-grey-200 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-400 peer-focus:text-grey-500",before:"before:border-blue-grey-200 peer-focus:before:border-grey-500",after:"after:border-blue-grey-200 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-400 peer-focus:text-brown-500",before:"before:border-blue-grey-200 peer-focus:before:border-brown-500",after:"after:border-blue-grey-200 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-400 peer-focus:text-deep-orange-500",before:"before:border-blue-grey-200 peer-focus:before:border-deep-orange-500",after:"after:border-blue-grey-200 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-400 peer-focus:text-orange-500",before:"before:border-blue-grey-200 peer-focus:before:border-orange-500",after:"after:border-blue-grey-200 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-400 peer-focus:text-amber-500",before:"before:border-blue-grey-200 peer-focus:before:border-amber-500",after:"after:border-blue-grey-200 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-400 peer-focus:text-yellow-500",before:"before:border-blue-grey-200 peer-focus:before:border-yellow-500",after:"after:border-blue-grey-200 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-400 peer-focus:text-lime-500",before:"before:border-blue-grey-200 peer-focus:before:border-lime-500",after:"after:border-blue-grey-200 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-400 peer-focus:text-light-green-500",before:"before:border-blue-grey-200 peer-focus:before:border-light-green-500",after:"after:border-blue-grey-200 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-400 peer-focus:text-green-500",before:"before:border-blue-grey-200 peer-focus:before:border-green-500",after:"after:border-blue-grey-200 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-400 peer-focus:text-teal-500",before:"before:border-blue-grey-200 peer-focus:before:border-teal-500",after:"after:border-blue-grey-200 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-400 peer-focus:text-cyan-500",before:"before:border-blue-grey-200 peer-focus:before:border-cyan-500",after:"after:border-blue-grey-200 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-400 peer-focus:text-light-blue-500",before:"before:border-blue-grey-200 peer-focus:before:border-light-blue-500",after:"after:border-blue-grey-200 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-400 peer-focus:text-blue-500",before:"before:border-blue-grey-200 peer-focus:before:border-blue-500",after:"after:border-blue-grey-200 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-400 peer-focus:text-indigo-500",before:"before:border-blue-grey-200 peer-focus:before:border-indigo-500",after:"after:border-blue-grey-200 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-400 peer-focus:text-deep-purple-500",before:"before:border-blue-grey-200 peer-focus:before:border-deep-purple-500",after:"after:border-blue-grey-200 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-400 peer-focus:text-purple-500",before:"before:border-blue-grey-200 peer-focus:before:border-purple-500",after:"after:border-blue-grey-200 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-400 peer-focus:text-pink-500",before:"before:border-blue-grey-200 peer-focus:before:border-pink-500",after:"after:border-blue-grey-200 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-400 peer-focus:text-red-500",before:"before:border-blue-grey-200 peer-focus:before:border-red-500",after:"after:border-blue-grey-200 peer-focus:after:border-red-500"}}},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-t-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",before:"before:border-red-500 peer-focus:before:border-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-t-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",before:"before:border-green-500 peer-focus:before:border-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},standard:{base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-grey-200"},label:{position:"-top-1.5",fontSize:"peer-placeholder-shown:text-sm",floated:{fontSize:"text-[11px] peer-focus:text-[11px]"},after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-0",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-[4.25]"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-[4.875]"}}},colors:{textarea:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-500 peer-focus:text-blue-grey-500",after:"after:border-blue-grey-500 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-500 peer-focus:text-grey-500",after:"after:border-grey-500 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}}},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}},static:{base:{textarea:{borderWidth:"border-b",borderColor:"placeholder-shown:border-blue-grey-200"},label:{position:"-top-2.5",fontSize:"text-sm peer-focus:text-sm",after:{content:"after:content[' ']",display:"after:block",width:"after:w-full",position:"after:absolute",bottom:"after:-bottom-1",left:"left-0",borderWidth:"after:border-b-2",scale:"after:scale-x-0",floated:{scale:"peer-focus:after:scale-x-100"},transition:"after:transition-transform after:duration-300"}}},sizes:{md:{container:{height:"h-11"},textarea:{fontSize:"text-sm",pt:"pt-4",pb:"pb-1.5"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}},lg:{container:{height:"h-12"},textarea:{fontSize:"text-sm",px:"px-px",pt:"pt-5",pb:"pb-2"},label:{lineHeight:"peer-placeholder-shown:leading-tight"}}},colors:{textarea:{"blue-grey":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-grey-500"},grey:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-grey-500"},brown:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-brown-500"},"deep-orange":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-orange-500"},orange:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-orange-500"},amber:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-amber-500"},yellow:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-yellow-500"},lime:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-lime-500"},"light-green":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-green-500"},green:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-green-500"},teal:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-teal-500"},cyan:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-cyan-500"},"light-blue":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-light-blue-500"},blue:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-blue-500"},indigo:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-indigo-500"},"deep-purple":{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-deep-purple-500"},purple:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-purple-500"},pink:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-pink-500"},red:{borderColor:"border-blue-grey-200",borderColorFocused:"focus:border-red-500"}},label:{"blue-grey":{color:"text-blue-grey-500 peer-focus:text-blue-grey-500",after:"after:border-blue-grey-500 peer-focus:after:border-blue-grey-500"},grey:{color:"text-blue-grey-500 peer-focus:text-grey-500",after:"after:border-grey-500 peer-focus:after:border-grey-500"},brown:{color:"text-blue-grey-500 peer-focus:text-brown-500",after:"after:border-brown-500 peer-focus:after:border-brown-500"},"deep-orange":{color:"text-blue-grey-500 peer-focus:text-deep-orange-500",after:"after:border-deep-orange-500 peer-focus:after:border-deep-orange-500"},orange:{color:"text-blue-grey-500 peer-focus:text-orange-500",after:"after:border-orange-500 peer-focus:after:border-orange-500"},amber:{color:"text-blue-grey-500 peer-focus:text-amber-500",after:"after:border-amber-500 peer-focus:after:border-amber-500"},yellow:{color:"text-blue-grey-500 peer-focus:text-yellow-500",after:"after:border-yellow-500 peer-focus:after:border-yellow-500"},lime:{color:"text-blue-grey-500 peer-focus:text-lime-500",after:"after:border-lime-500 peer-focus:after:border-lime-500"},"light-green":{color:"text-blue-grey-500 peer-focus:text-light-green-500",after:"after:border-light-green-500 peer-focus:after:border-light-green-500"},green:{color:"text-blue-grey-500 peer-focus:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"},teal:{color:"text-blue-grey-500 peer-focus:text-teal-500",after:"after:border-teal-500 peer-focus:after:border-teal-500"},cyan:{color:"text-blue-grey-500 peer-focus:text-cyan-500",after:"after:border-cyan-500 peer-focus:after:border-cyan-500"},"light-blue":{color:"text-blue-grey-500 peer-focus:text-light-blue-500",after:"after:border-light-blue-500 peer-focus:after:border-light-blue-500"},blue:{color:"text-blue-grey-500 peer-focus:text-blue-500",after:"after:border-blue-500 peer-focus:after:border-blue-500"},indigo:{color:"text-blue-grey-500 peer-focus:text-indigo-500",after:"after:border-indigo-500 peer-focus:after:border-indigo-500"},"deep-purple":{color:"text-blue-grey-500 peer-focus:text-deep-purple-500",after:"after:border-deep-purple-500 peer-focus:after:border-deep-purple-500"},purple:{color:"text-blue-grey-500 peer-focus:text-purple-500",after:"after:border-purple-500 peer-focus:after:border-purple-500"},pink:{color:"text-blue-grey-500 peer-focus:text-pink-500",after:"after:border-pink-500 peer-focus:after:border-pink-500"},red:{color:"text-blue-grey-500 peer-focus:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}}},error:{textarea:{borderColor:"border-red-500 placeholder-shown:border-red-500",borderColorFocused:"focus:border-red-500"},label:{color:"text-red-500 peer-focus:text-red-500 peer-placeholder-shown:text-red-500",after:"after:border-red-500 peer-focus:after:border-red-500"}},success:{textarea:{borderColor:"border-green-500 placeholder-shown:border-green-500",borderColorFocused:"focus:border-green-500"},label:{color:"text-green-500 peer-focus:text-green-500 peer-placeholder-shown:text-green-500",after:"after:border-green-500 peer-focus:after:border-green-500"}}}}}},Sa={defaultProps:{interactive:!1,placement:"top",offset:5,dismiss:{},animate:{unmount:{},mount:{}},className:""},styles:{base:{bg:"bg-black",py:"py-1.5",px:"px-3",borderRadius:"rounded-lg",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-normal",color:"text-white",outline:"focus:outline-none",overflowWrap:"break-words",zIndex:"z-[999]",whiteSpace:"whitespace-normal"}}};function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aa=["h1","h2","h3","h4","h5","h6","lead","paragraph","small"],Ia=["inherit","current","black","white"].concat(function(e){return function(e){if(Array.isArray(e))return Ca(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ca(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ca(e,t)}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Wn)),Ma=Vn().elementType,Pa=Vn().bool,Oa=Vn().string,za=Vn().node.isRequired,Ra={accordion:qn,alert:oo,avatar:lo,breadcrumbs:uo,button:wo,card:Ro,cardBody:Do,cardFooter:Lo,cardHeader:jo,checkbox:Zo,chip:ti,dialog:ci,dialogBody:fi,dialogFooter:di,dialogHeader:hi,iconButton:pi,input:Ai,menu:Ii,navbar:Fi,popover:Ni,progress:Zi,radio:Hi,select:ga,switch:ba,tab:_a,tabs:xa,tabsBody:wa,tabsHeader:ka,tabPanel:Ea,textarea:Ta,tooltip:Sa,typography:{defaultProps:{variant:"paragraph",color:"inherit",textGradient:!1,className:""},valid:{variants:Aa,colors:Ia},styles:{variants:{h1:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-serif",fontSize:"text-5xl",fontWeight:"font-semibold",lineHeight:"leading-tight"},h2:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-serif",fontSize:"text-4xl",fontWeight:"font-semibold",lineHeight:"leading-[1.3]"},h3:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-serif",fontSize:"text-3xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h4:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-2xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h5:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-semibold",lineHeight:"leading-snug"},h6:{display:"block",fontSmoothing:"antialiased",letterSpacing:"tracking-normal",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-semibold",lineHeight:"leading-relaxed"},lead:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-xl",fontWeight:"font-normal",lineHeight:"leading-relaxed"},paragraph:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-base",fontWeight:"font-light",lineHeight:"leading-relaxed"},small:{display:"block",fontSmoothing:"antialiased",fontFamily:"font-sans",fontSize:"text-sm",fontWeight:"font-light",lineHeight:"leading-normal"}},textGradient:{bgClip:"bg-clip-text",color:"text-transparent"},colors:{inherit:{color:"text-inherit"},current:{color:"text-current"},black:{color:"text-black"},white:{color:"text-white"},"blue-grey":{color:"text-blue-grey-900",gradient:"bg-gradient-to-tr from-blue-grey-600 to-blue-grey-400"},grey:{color:"text-grey-700",gradient:"bg-gradient-to-tr from-grey-600 to-grey-400"},brown:{color:"text-brown-500",gradient:"bg-gradient-to-tr from-brown-600 to-brown-400"},"deep-orange":{color:"text-deep-orange-500",gradient:"bg-gradient-to-tr from-deep-orange-600 to-deep-orange-400"},orange:{color:"text-orange-500",gradient:"bg-gradient-to-tr from-orange-600 to-orange-400"},amber:{color:"text-amber-500",gradient:"bg-gradient-to-tr from-amber-600 to-amber-400"},yellow:{color:"text-yellow-500",gradient:"bg-gradient-to-tr from-yellow-600 to-yellow-400"},lime:{color:"text-lime-500",gradient:"bg-gradient-to-tr from-lime-600 to-lime-400"},"light-green":{color:"text-light-green-500",gradient:"bg-gradient-to-tr from-light-green-600 to-light-green-400"},green:{color:"text-green-500",gradient:"bg-gradient-to-tr from-green-600 to-green-400"},teal:{color:"text-teal-500",gradient:"bg-gradient-to-tr from-teal-600 to-teal-400"},cyan:{color:"text-cyan-500",gradient:"bg-gradient-to-tr from-cyan-600 to-cyan-400"},"light-blue":{color:"text-light-blue-500",gradient:"bg-gradient-to-tr from-light-blue-600 to-light-blue-400"},blue:{color:"text-blue-500",gradient:"bg-gradient-to-tr from-blue-600 to-blue-400"},indigo:{color:"text-indigo-500",gradient:"bg-gradient-to-tr from-indigo-600 to-indigo-400"},"deep-purple":{color:"text-deep-purple-500",gradient:"bg-gradient-to-tr from-deep-purple-600 to-deep-purple-400"},purple:{color:"text-purple-500",gradient:"bg-gradient-to-tr from-purple-600 to-purple-400"},pink:{color:"text-pink-500",gradient:"bg-gradient-to-tr from-pink-600 to-pink-400"},red:{color:"text-red-500",gradient:"bg-gradient-to-tr from-red-600 to-red-400"}}}}};function Da(e,t,r){var n=e.slice();return t.forEach((function(t,o){void 0===n[o]?n[o]=r.cloneUnlessOtherwiseSpecified(t,r):r.isMergeableObject(t)?n[o]=Gn()(e[o],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var La=(0,e.createContext)(Ra);function ja(t){var r=t.value,n=t.children,o=Gn()(Ra,r,{arrayMerge:Da});return e.createElement(La.Provider,{value:o},n)}La.displayName="MaterialTailwindThemeProvider";var Fa=function(){return(0,e.useContext)(La)};ja.defaultProps={value:Ra},ja.propTypes={value:Vn().instanceOf(Object),children:Vn().node.isRequired};var Na=Vn().bool.isRequired,Ba=Vn().node,Va=Zn,Ua=Vn().bool,Ga=Vn().string,qa=Vn().instanceOf(Object).isRequired,Wa=Vn().node.isRequired,Za=e.createContext(null);function Ha(){var t=e.useContext(Za);if(!t)throw new Error("useAccordion() must be used within an Accordion. It happens when you use AccordionHeader or AccordionBody components outside the Accordion component.");return t}Za.displayName="MaterialTailwind.AccordionContext";var Xa=function(t){var r=t.value,n=t.children;return e.createElement(Za.Provider,{value:r},n)};function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Xa.propTypes={value:qa,children:Wa},Xa.displayName="MaterialTailwind.AccordionContextProvider";var Ka=e.forwardRef((function(t,r){var n,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","children"]),s=Ha(),l=s.open,u=s.icon,c=Fa().accordion.styles.base;o=null!=o?o:"";var f=Dn()(Nn(c.header.initial),((n={})[Nn(c.header.active)]=l,n),o),d=Dn()(Nn(c.header.icon));return e.createElement("button",$a({},a,{ref:r,type:"button",className:f}),i,e.createElement("span",{className:d},null!=u?u:l?e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e.createElement("path",{fillRule:"evenodd",d:"M5 10a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1z",clipRule:"evenodd"})):e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"}))))}));Ka.propTypes={className:Ga,children:Wa},Ka.displayName="MaterialTailwind.AccordionHeader";var Ya=Ka,Ja=function(e,t){return Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},Ja(e,t)};function Qa(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ja(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var es=function(){return es=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},es.apply(this,arguments)};function ts(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}Object.create;function rs(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ns(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function os(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;var is=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},as={measureLayout:is(["layout","layoutId","drag"]),animation:is(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:is(["exit"]),drag:is(["drag","dragControls"]),focus:is(["whileFocus"]),hover:is(["whileHover","onHoverStart","onHoverEnd"]),tap:is(["whileTap","onTap","onTapStart","onTapCancel"]),pan:is(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:is(["whileInView","onViewportEnter","onViewportLeave"])};var ss=(0,e.createContext)({strict:!1}),ls=Object.keys(as),us=ls.length;var cs=(0,e.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),fs=(0,e.createContext)({});var ds=(0,e.createContext)(null),hs="undefined"!==typeof document,ps=hs?e.useLayoutEffect:e.useEffect,vs={current:null},ms=!1;function ys(){return!ms&&function(){if(ms=!0,hs)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return vs.current=e.matches};e.addListener(t),t()}else vs.current=!1}(),ns((0,e.useState)(vs.current),1)[0]}function gs(t,r,n,o){var i=(0,e.useContext)(ss),a=(0,e.useContext)(fs).visualElement,s=(0,e.useContext)(ds),l=function(){var t=ys(),r=(0,e.useContext)(cs).reducedMotion;return"never"!==r&&("always"===r||t)}(),u=(0,e.useRef)(void 0);o||(o=i.renderer),!u.current&&o&&(u.current=o(t,{visualState:r,parent:a,props:n,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial),shouldReduceMotion:l}));var c=u.current;return ps((function(){null===c||void 0===c||c.syncRender()})),(0,e.useEffect)((function(){var e;null===(e=null===c||void 0===c?void 0:c.animationState)||void 0===e||e.animateChanges()})),ps((function(){return function(){return null===c||void 0===c?void 0:c.notifyUnmount()}}),[]),c}function bs(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function _s(e){return Array.isArray(e)}function xs(e){return"string"===typeof e||_s(e)}function ws(e,t,r,n,o){var i;return void 0===n&&(n={}),void 0===o&&(o={}),"function"===typeof t&&(t=t(null!==r&&void 0!==r?r:e.custom,n,o)),"string"===typeof t&&(t=null===(i=e.variants)||void 0===i?void 0:i[t]),"function"===typeof t&&(t=t(null!==r&&void 0!==r?r:e.custom,n,o)),t}function ks(e,t,r){var n=e.getProps();return ws(n,t,null!==r&&void 0!==r?r:n.custom,function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,r){return t[r]=e.getVelocity()})),t}(e))}function Es(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||xs(e.initial)||xs(e.animate)||xs(e.whileHover)||xs(e.whileDrag)||xs(e.whileTap)||xs(e.whileFocus)||xs(e.exit)}function Ts(e){return Boolean(Es(e)||e.variants)}function Ss(t){var r=function(e,t){if(Es(e)){var r=e.initial,n=e.animate;return{initial:!1===r||xs(r)?r:void 0,animate:xs(n)?n:void 0}}return!1!==e.inherit?t:{}}(t,(0,e.useContext)(fs)),n=r.initial,o=r.animate;return(0,e.useMemo)((function(){return{initial:n,animate:o}}),[Cs(n),Cs(o)])}function Cs(e){return Array.isArray(e)?e.join(" "):e}function As(t){var r=(0,e.useRef)(null);return null===r.current&&(r.current=t()),r.current}var Is=1/60*1e3,Ms="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Ps="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Ms())}),Is)};var Os=!0,zs=!1,Rs=!1,Ds={delta:0,timestamp:0},Ls=["read","update","preRender","render","postRender"],js=Ls.reduce((function(e,t){return e[t]=function(e){var t=[],r=[],n=0,o=!1,i=!1,a=new WeakSet,s={schedule:function(e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o,s=i?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),-1===s.indexOf(e)&&(s.push(e),i&&o&&(n=t.length)),e},cancel:function(e){var t=r.indexOf(e);-1!==t&&r.splice(t,1),a.delete(e)},process:function(l){if(o)i=!0;else{o=!0;var u=[r,t];if(t=u[0],(r=u[1]).length=0,n=t.length)for(var c=0;c<n;c++){var f=t[c];f(l),a.has(f)&&(s.schedule(f),e())}o=!1,i&&(i=!1,s.process(l))}}};return s}((function(){return zs=!0})),e}),{}),Fs=Ls.reduce((function(e,t){var r=js[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zs||Gs(),r.schedule(e,t,n)},e}),{}),Ns=Ls.reduce((function(e,t){return e[t]=js[t].cancel,e}),{}),Bs=Ls.reduce((function(e,t){return e[t]=function(){return js[t].process(Ds)},e}),{}),Vs=function(e){return js[e].process(Ds)},Us=function e(t){zs=!1,Ds.delta=Os?Is:Math.max(Math.min(t-Ds.timestamp,40),1),Ds.timestamp=t,Rs=!0,Ls.forEach(Vs),Rs=!1,zs&&(Os=!1,Ps(e))},Gs=function(){zs=!0,Os=!0,Rs||Ps(Us)},qs=function(){return Ds},Ws=Fs,Zs=function(e,t,r){return-r*e+r*t+e};function Hs(e,t){return t?e*(1e3/t):0}function Xs(e,t){-1===e.indexOf(t)&&e.push(t)}function $s(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)}var Ks=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return Xs(this.subscriptions,e),function(){return $s(t.subscriptions,e)}},e.prototype.notify=function(e,t,r){var n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(var o=0;o<n;o++){var i=this.subscriptions[o];i&&i(e,t,r)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),Ys=function(){function e(e){var t,r=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Ks,this.velocityUpdateSubscribers=new Ks,this.renderSubscribers=new Ks,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),r.prev=r.current,r.current=e;var n=qs(),o=n.delta,i=n.timestamp;r.lastUpdated!==i&&(r.timeDelta=o,r.lastUpdated=i,Ws.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return Ws.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Hs(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(r){t.hasAnimated=!0,t.stopAnimation=e(r)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function Js(e){return new Ys(e)}var Qs=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};var el=function(e,t,r){return Math.min(Math.max(r,e),t)},tl=.001;function rl(e){var t,r,n=e.duration,o=void 0===n?800:n,i=e.bounce,a=void 0===i?.25:i,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u,f=1-a;f=el(.05,1,f),o=el(.01,10,o/1e3),f<1?(t=function(e){var t=e*f,r=t*o,n=t-l,i=nl(e,f),a=Math.exp(-r);return tl-n/i*a},r=function(e){var r=e*f*o,n=r*l+l,i=Math.pow(f,2)*Math.pow(e,2)*o,a=Math.exp(-r),s=nl(Math.pow(e,2),f);return(-t(e)+tl>0?-1:1)*((n-i)*a)/s}):(t=function(e){return Math.exp(-e*o)*((e-l)*o+1)-.001},r=function(e){return Math.exp(-e*o)*(o*o*(l-e))});var d=function(e,t,r){for(var n=r,o=1;o<12;o++)n-=e(n)/t(n);return n}(t,r,5/o);if(o*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:o};var h=Math.pow(d,2)*c;return{stiffness:h,damping:2*f*Math.sqrt(c*h),duration:o}}function nl(e,t){return e*Math.sqrt(1-t*t)}var ol=["duration","bounce"],il=["stiffness","damping","mass"];function al(e,t){return t.some((function(t){return void 0!==e[t]}))}function sl(e){var t=e.from,r=void 0===t?0:t,n=e.to,o=void 0===n?1:n,i=e.restSpeed,a=void 0===i?2:i,s=e.restDelta,l=ts(e,["from","to","restSpeed","restDelta"]),u={done:!1,value:r},c=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!al(e,il)&&al(e,ol)){var r=rl(e);(t=Object.assign(Object.assign(Object.assign({},t),r),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(l),f=c.stiffness,d=c.damping,h=c.mass,p=c.velocity,v=c.duration,m=c.isResolvedFromDuration,y=ll,g=ll;function b(){var e=p?-p/1e3:0,t=o-r,n=d/(2*Math.sqrt(f*h)),i=Math.sqrt(f/h)/1e3;if(void 0===s&&(s=Math.min(Math.abs(o-r)/100,.4)),n<1){var a=nl(i,n);y=function(r){var s=Math.exp(-n*i*r);return o-s*((e+n*i*t)/a*Math.sin(a*r)+t*Math.cos(a*r))},g=function(r){var o=Math.exp(-n*i*r);return n*i*o*(Math.sin(a*r)*(e+n*i*t)/a+t*Math.cos(a*r))-o*(Math.cos(a*r)*(e+n*i*t)-a*t*Math.sin(a*r))}}else if(1===n)y=function(r){return o-Math.exp(-i*r)*(t+(e+i*t)*r)};else{var l=i*Math.sqrt(n*n-1);y=function(r){var a=Math.exp(-n*i*r),s=Math.min(l*r,300);return o-a*((e+n*i*t)*Math.sinh(s)+l*t*Math.cosh(s))/l}}}return b(),{next:function(e){var t=y(e);if(m)u.done=e>=v;else{var r=1e3*g(e),n=Math.abs(r)<=a,i=Math.abs(o-t)<=s;u.done=n&&i}return u.value=u.done?o:t,u},flipTarget:function(){p=-p;var e=[o,r];r=e[0],o=e[1],b()}}}sl.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var ll=function(e){return 0},ul=function(e,t,r){var n=t-e;return 0===n?1:(r-e)/n},cl=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},fl=function(e){return e%1?Number(e.toFixed(5)):e},dl=/(-)?([\d]*\.?[\d])+/g,hl=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,pl=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function vl(e){return"string"===typeof e}var ml={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},yl=Object.assign(Object.assign({},ml),{transform:cl(0,1)}),gl=Object.assign(Object.assign({},ml),{default:1}),bl=function(e,t){return function(r){return Boolean(vl(r)&&pl.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t))}},_l=function(e,t,r){return function(n){var o;if(!vl(n))return n;var i=a(n.match(dl),4),s=i[0],l=i[1],u=i[2],c=i[3];return pe(o={},e,parseFloat(s)),pe(o,t,parseFloat(l)),pe(o,r,parseFloat(u)),pe(o,"alpha",void 0!==c?parseFloat(c):1),o}},xl=cl(0,255),wl=Object.assign(Object.assign({},ml),{transform:function(e){return Math.round(xl(e))}}),kl={test:bl("rgb","red"),parse:_l("red","green","blue"),transform:function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,i=void 0===o?1:o;return"rgba("+wl.transform(t)+", "+wl.transform(r)+", "+wl.transform(n)+", "+fl(yl.transform(i))+")"}};var El={test:bl("#"),parse:function(e){var t="",r="",n="",o="";return e.length>5?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),o=e.substr(4,1),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}},transform:kl.transform},Tl=function(e){return{test:function(t){return vl(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},Sl=Tl("deg"),Cl=Tl("%"),Al=Tl("px"),Il=Tl("vh"),Ml=Tl("vw"),Pl=Object.assign(Object.assign({},Cl),{parse:function(e){return Cl.parse(e)/100},transform:function(e){return Cl.transform(100*e)}}),Ol={test:bl("hsl","hue"),parse:_l("hue","saturation","lightness"),transform:function(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha,i=void 0===o?1:o;return"hsla("+Math.round(t)+", "+Cl.transform(fl(r))+", "+Cl.transform(fl(n))+", "+fl(yl.transform(i))+")"}};function zl(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Rl(e){var t=e.hue,r=e.saturation,n=e.lightness,o=e.alpha;t/=360,n/=100;var i=0,a=0,s=0;if(r/=100){var l=n<.5?n*(1+r):n+r-n*r,u=2*n-l;i=zl(u,l,t+1/3),a=zl(u,l,t),s=zl(u,l,t-1/3)}else i=a=s=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:o}}var Dl=function(e,t,r){var n=e*e,o=t*t;return Math.sqrt(Math.max(0,r*(o-n)+n))},Ll=[El,kl,Ol],jl=function(e){return Ll.find((function(t){return t.test(e)}))},Fl=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Nl=function(e,t){var r=jl(e),n=jl(t);Fl(e),Fl(t);var o=r.parse(e),i=n.parse(t);r===Ol&&(o=Rl(o),r=kl),n===Ol&&(i=Rl(i),n=kl);var a=Object.assign({},o);return function(e){for(var t in a)"alpha"!==t&&(a[t]=Dl(o[t],i[t],e));return a.alpha=Zs(o.alpha,i.alpha,e),r.transform(a)}},Bl={test:function(e){return kl.test(e)||El.test(e)||Ol.test(e)},parse:function(e){return kl.test(e)?kl.parse(e):Ol.test(e)?Ol.parse(e):El.parse(e)},transform:function(e){return vl(e)?e:e.hasOwnProperty("red")?kl.transform(e):Ol.transform(e)}},Vl="${c}",Ul="${n}";function Gl(e){"number"===typeof e&&(e="".concat(e));var t=[],r=0,n=e.match(hl);n&&(r=n.length,e=e.replace(hl,Vl),t.push.apply(t,be(n.map(Bl.parse))));var o=e.match(dl);return o&&(e=e.replace(dl,Ul),t.push.apply(t,be(o.map(ml.parse)))),{values:t,numColors:r,tokenised:e}}function ql(e){return Gl(e).values}function Wl(e){var t=Gl(e),r=t.values,n=t.numColors,o=t.tokenised,i=r.length;return function(e){for(var t=o,r=0;r<i;r++)t=t.replace(r<n?Vl:Ul,r<n?Bl.transform(e[r]):fl(e[r]));return t}}var Zl=function(e){return"number"===typeof e?0:e};var Hl={test:function(e){var t,r,n,o;return isNaN(e)&&vl(e)&&(null!==(r=null===(t=e.match(dl))||void 0===t?void 0:t.length)&&void 0!==r?r:0)+(null!==(o=null===(n=e.match(hl))||void 0===n?void 0:n.length)&&void 0!==o?o:0)>0},parse:ql,createTransformer:Wl,getAnimatableNone:function(e){var t=ql(e);return Wl(e)(t.map(Zl))}},Xl=function(e){return"number"===typeof e},$l=function(e,t){return function(r){return t(e(r))}},Kl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce($l)};function Yl(e,t){return Xl(e)?function(r){return Zs(e,t,r)}:Bl.test(e)?Nl(e,t):tu(e,t)}var Jl=function(e,t){var r=be(e),n=r.length,o=e.map((function(e,r){return Yl(e,t[r])}));return function(e){for(var t=0;t<n;t++)r[t]=o[t](e);return r}},Ql=function(e,t){var r=Object.assign(Object.assign({},e),t),n={};for(var o in r)void 0!==e[o]&&void 0!==t[o]&&(n[o]=Yl(e[o],t[o]));return function(e){for(var t in n)r[t]=n[t](e);return r}};function eu(e){for(var t=Hl.parse(e),r=t.length,n=0,o=0,i=0,a=0;a<r;a++)n||"number"===typeof t[a]?n++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:n,numRGB:o,numHSL:i}}var tu=function(e,t){var r=Hl.createTransformer(t),n=eu(e),o=eu(t);return n.numHSL===o.numHSL&&n.numRGB===o.numRGB&&n.numNumbers>=o.numNumbers?Kl(Jl(n.parsed,o.parsed),r):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(r){return"".concat(r>0?t:e)})},ru=function(e,t){return function(r){return Zs(e,t,r)}};function nu(e,t,r){for(var n=[],o=r||function(e){return"number"===typeof e?ru:"string"===typeof e?Bl.test(e)?Nl:tu:Array.isArray(e)?Jl:"object"===typeof e?Ql:void 0}(e[0]),i=e.length-1,a=0;a<i;a++){var s=o(e[a],e[a+1]);if(t){var l=Array.isArray(t)?t[a]:t;s=Kl(l,s)}n.push(s)}return n}function ou(e,t){var r=a(e,2),n=r[0],o=r[1],i=a(t,1)[0];return function(e){return i(ul(n,o,e))}}function iu(e,t){var r=e.length,n=r-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[n]&&(i=n-1,a=!0),!a){for(var s=1;s<r&&!(e[s]>o||s===n);s++);i=s-1}var l=ul(e[i],e[i+1],o);return t[i](l)}}function au(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.clamp,o=void 0===n||n,i=r.ease,a=r.mixer,s=e.length;t.length,!i||!Array.isArray(i)||i.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var l=nu(t,i,a),u=2===s?ou(e,l):iu(e,l);return o?function(t){return u(el(e[0],e[s-1],t))}:u}var su,lu=function(e){return function(t){return 1-e(1-t)}},uu=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},cu=function(e){return function(t){return t*t*((e+1)*t-e)}},fu=function(e){return e},du=(su=2,function(e){return Math.pow(e,su)}),hu=lu(du),pu=uu(du),vu=function(e){return 1-Math.sin(Math.acos(e))},mu=lu(vu),yu=uu(mu),gu=cu(1.525),bu=lu(gu),_u=uu(gu),xu=function(e){var t=cu(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),wu=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},ku=lu(wu);function Eu(e,t){return e.map((function(){return t||pu})).splice(0,e.length-1)}function Tu(e){var t=e.from,r=void 0===t?0:t,n=e.to,o=void 0===n?1:n,i=e.ease,a=e.offset,s=e.duration,l=void 0===s?300:s,u={done:!1,value:r},c=Array.isArray(o)?o:[r,o],f=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===c.length?a:function(e){var t=e.length;return e.map((function(e,r){return 0!==r?r/(t-1):0}))}(c),l);function d(){return au(f,c,{ease:Array.isArray(i)?i:Eu(c,i)})}var h=d();return{next:function(e){return u.value=h(e),u.done=e>=l,u},flipTarget:function(){c.reverse(),h=d()}}}var Su={keyframes:Tu,spring:sl,decay:function(e){var t=e.velocity,r=void 0===t?0:t,n=e.from,o=void 0===n?0:n,i=e.power,a=void 0===i?.8:i,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,f=e.modifyTarget,d={done:!1,value:o},h=a*r,p=o+h,v=void 0===f?p:f(p);return v!==p&&(h=v-o),{next:function(e){var t=-h*Math.exp(-e/l);return d.done=!(t>c||t<-c),d.value=d.done?v:v+t,d},flipTarget:function(){}}}};function Cu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-r}var Au=function(e){var t=function(t){var r=t.delta;return e(r)};return{start:function(){return Ws.update(t,!0)},stop:function(){return Ns.update(t)}}};function Iu(e){var t,r,n,o,i,a=e.from,s=e.autoplay,l=void 0===s||s,u=e.driver,c=void 0===u?Au:u,f=e.elapsed,d=void 0===f?0:f,h=e.repeat,p=void 0===h?0:h,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,b=e.onPlay,_=e.onStop,x=e.onComplete,w=e.onRepeat,k=e.onUpdate,E=ts(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),T=E.to,S=0,C=E.duration,A=!1,I=!0,M=function(e){if(Array.isArray(e.to))return Tu;if(Su[e.type])return Su[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Tu:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?sl:Tu}(E);(null===(r=(t=M).needsInterpolation)||void 0===r?void 0:r.call(t,a,T))&&(i=au([0,100],[a,T],{clamp:!1}),a=0,T=100);var P=M(Object.assign(Object.assign({},E),{from:a,to:T}));function O(){S++,"reverse"===m?d=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+r:Cu(t+-e,t,r)}(d,C,g,I=S%2===0):(d=Cu(d,C,g),"mirror"===m&&P.flipTarget()),A=!1,w&&w()}function z(e){if(I||(e=-e),d+=e,!A){var t=P.next(Math.max(0,d));o=t.value,i&&(o=i(o)),A=I?t.done:d<=0}null===k||void 0===k||k(o),A&&(0===S&&(null!==C&&void 0!==C||(C=d)),S<p?function(e,t,r,n){return n?e>=t+r:e<=-r}(d,C,g,I)&&O():(n.stop(),x&&x()))}return l&&(null===b||void 0===b||b(),(n=c(z)).start()),{stop:function(){null===_||void 0===_||_(),n.stop()}}}var Mu=function(e){return 1e3*e},Pu=function(e,t){return 1-3*t+3*e},Ou=function(e,t){return 3*t-6*e},zu=function(e){return 3*e},Ru=function(e,t,r){return((Pu(t,r)*e+Ou(t,r))*e+zu(t))*e},Du=function(e,t,r){return 3*Pu(t,r)*e*e+2*Ou(t,r)*e+zu(t)};var Lu=.1;function ju(e,t,r,n){if(e===t&&r===n)return fu;for(var o=new Float32Array(11),i=0;i<11;++i)o[i]=Ru(i*Lu,e,r);function a(t){for(var n=0,i=1;10!==i&&o[i]<=t;++i)n+=Lu;--i;var a=n+(t-o[i])/(o[i+1]-o[i])*Lu,s=Du(a,e,r);return s>=.001?function(e,t,r,n){for(var o=0;o<8;++o){var i=Du(t,r,n);if(0===i)return t;t-=(Ru(t,r,n)-e)/i}return t}(t,a,e,r):0===s?a:function(e,t,r,n,o){var i,a,s=0;do{(i=Ru(a=t+(r-t)/2,n,o)-e)>0?r=a:t=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,n,n+Lu,e,r)}return function(e){return 0===e||1===e?e:Ru(a(e),t,n)}}var Fu={linear:fu,easeIn:du,easeInOut:pu,easeOut:hu,circIn:vu,circInOut:yu,circOut:mu,backIn:gu,backInOut:_u,backOut:bu,anticipate:xu,bounceIn:ku,bounceInOut:function(e){return e<.5?.5*(1-wu(1-2*e)):.5*wu(2*e-1)+.5},bounceOut:wu},Nu=function(e){if(Array.isArray(e)){e.length;var t=ns(e,4);return ju(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),Fu[e]):e},Bu=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Hl.test(t)||t.startsWith("url(")))},Vu=function(e){return Array.isArray(e)},Uu=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Gu=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},qu=function(){return{type:"keyframes",ease:"linear",duration:.3}},Wu=function(e){return{type:"keyframes",duration:.8,values:e}},Zu={x:Uu,y:Uu,z:Uu,rotate:Uu,rotateX:Uu,rotateY:Uu,rotateZ:Uu,scaleX:Gu,scaleY:Gu,scale:Gu,opacity:qu,backgroundColor:qu,color:qu,default:Gu},Hu=new Set(["brightness","contrast","saturate","opacity"]);function Xu(e){var t=a(e.slice(0,-1).split("("),2),r=t[0],n=t[1];if("drop-shadow"===r)return e;var o=a(n.match(dl)||[],1)[0];if(!o)return e;var i=n.replace(o,""),s=Hu.has(r)?1:0;return o!==n&&(s*=100),r+"("+s+i+")"}var $u=/([a-z-]*)\(.*?\)/g,Ku=Object.assign(Object.assign({},Hl),{getAnimatableNone:function(e){var t=e.match($u);return t?t.map(Xu).join(" "):e}}),Yu=es(es({},ml),{transform:Math.round}),Ju={borderWidth:Al,borderTopWidth:Al,borderRightWidth:Al,borderBottomWidth:Al,borderLeftWidth:Al,borderRadius:Al,radius:Al,borderTopLeftRadius:Al,borderTopRightRadius:Al,borderBottomRightRadius:Al,borderBottomLeftRadius:Al,width:Al,maxWidth:Al,height:Al,maxHeight:Al,size:Al,top:Al,right:Al,bottom:Al,left:Al,padding:Al,paddingTop:Al,paddingRight:Al,paddingBottom:Al,paddingLeft:Al,margin:Al,marginTop:Al,marginRight:Al,marginBottom:Al,marginLeft:Al,rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:gl,scaleX:gl,scaleY:gl,scaleZ:gl,skew:Sl,skewX:Sl,skewY:Sl,distance:Al,translateX:Al,translateY:Al,translateZ:Al,x:Al,y:Al,z:Al,perspective:Al,transformPerspective:Al,opacity:yl,originX:Pl,originY:Pl,originZ:Al,zIndex:Yu,fillOpacity:yl,strokeOpacity:yl,numOctaves:Yu},Qu=es(es({},Ju),{color:Bl,backgroundColor:Bl,outlineColor:Bl,fill:Bl,stroke:Bl,borderColor:Bl,borderTopColor:Bl,borderRightColor:Bl,borderBottomColor:Bl,borderLeftColor:Bl,filter:Ku,WebkitFilter:Ku}),ec=function(e){return Qu[e]};function tc(e,t){var r,n=ec(e);return n!==Ku&&(n=Hl),null===(r=n.getAnimatableNone)||void 0===r?void 0:r.call(n,t)}var rc=!1,nc=function(e){return Vu(e)?e[e.length-1]||0:e};function oc(e){var t=e.ease,r=e.times,n=e.yoyo,o=e.flip,i=e.loop,a=ts(e,["ease","times","yoyo","flip","loop"]),s=es({},a);return r&&(s.offset=r),a.duration&&(s.duration=Mu(a.duration)),a.repeatDelay&&(s.repeatDelay=Mu(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(Nu):Nu(t)),"tween"===a.type&&(s.type="keyframes"),(n||i||o)&&(!0,n?s.repeatType="reverse":i?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=i||n||o||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}function ic(e,t,r){var n;return Array.isArray(t.to)&&(null!==(n=e.duration)&&void 0!==n||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=os([],ns(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=ts(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=es(es({},e),function(e,t){var r;return r=Vu(t)?Wu:Zu[e]||Zu.default,es({to:t},r(t))}(r,t.to))),es(es({},t),oc(e))}function ac(e,t,r,n,o){var i,a=uc(n,e),s=null!==(i=a.from)&&void 0!==i?i:t.get(),l=Bu(e,r);"none"===s&&l&&"string"===typeof r?s=tc(e,r):sc(s)&&"string"===typeof r?s=lc(r):!Array.isArray(r)&&sc(r)&&"string"===typeof s&&(r=lc(s));var u=Bu(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(r,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(r," via the `style` property."),u&&l&&!1!==a.type?function(){var n={from:s,to:r,velocity:t.getVelocity(),onComplete:o,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,r=e.from,n=void 0===r?0:r,o=e.velocity,i=void 0===o?0:o,a=e.min,s=e.max,l=e.power,u=void 0===l?.8:l,c=e.timeConstant,f=void 0===c?750:c,d=e.bounceStiffness,h=void 0===d?500:d,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,b=e.driver,_=e.onUpdate,x=e.onComplete,w=e.onStop;function k(e){return void 0!==a&&e<a||void 0!==s&&e>s}function E(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function T(e){null===t||void 0===t||t.stop(),t=Iu(Object.assign(Object.assign({},e),{driver:b,onUpdate:function(t){var r;null===_||void 0===_||_(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:x,onStop:w}))}function S(e){T(Object.assign({type:"spring",stiffness:h,damping:v,restDelta:y},e))}if(k(n))S({from:n,velocity:i,to:E(n)});else{var C=u*i+n;"undefined"!==typeof g&&(C=g(C));var A,I,M=E(C),P=M===a?-1:1;T({type:"decay",from:n,velocity:i,timeConstant:f,power:u,restDelta:y,modifyTarget:g,onUpdate:k(C)?function(e){A=I,I=e,i=Hs(e-A,qs().delta),(1===P&&e>M||-1===P&&e<M)&&S({from:e,to:M,velocity:i})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(es(es({},n),a)):Iu(es(es({},ic(a,n,e)),{onUpdate:function(e){var t;n.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;n.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e,n,i=nc(r);return t.set(i),o(),null===(e=null===a||void 0===a?void 0:a.onUpdate)||void 0===e||e.call(a,i),null===(n=null===a||void 0===a?void 0:a.onComplete)||void 0===n||n.call(a),{stop:function(){}}}}function sc(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function lc(e){return"number"===typeof e?0:tc("",e)}function uc(e,t){return e[t]||e.default||e}function cc(e,t,r,n){return void 0===n&&(n={}),rc&&(n={type:!1}),t.start((function(o){var i,a,s=ac(e,t,r,n,o),l=function(e,t){var r,n;return null!==(n=null!==(r=(uc(e,t)||{}).delay)&&void 0!==r?r:e.delay)&&void 0!==n?n:0}(n,e),u=function(){return a=s()};return l?i=window.setTimeout(u,Mu(l)):u(),function(){clearTimeout(i),null===a||void 0===a||a.stop()}}))}var fc=["TopLeft","TopRight","BottomLeft","BottomRight"],dc=fc.length,hc=function(e){return"string"===typeof e?parseFloat(e):e},pc=function(e){return"number"===typeof e||Al.test(e)};function vc(e,t){var r;return null!==(r=e[t])&&void 0!==r?r:e.borderRadius}var mc=gc(0,.5,mu),yc=gc(.5,.95,fu);function gc(e,t,r){return function(n){return n<e?0:n>t?1:r(ul(e,t,n))}}function bc(e,t){e.min=t.min,e.max=t.max}function _c(e,t){bc(e.x,t.x),bc(e.y,t.y)}function xc(e){return void 0===e||1===e}function wc(e){var t=e.scale,r=e.scaleX,n=e.scaleY;return!xc(t)||!xc(r)||!xc(n)}function kc(e){return wc(e)||Ec(e.x)||Ec(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function Ec(e){return e&&"0%"!==e}function Tc(e,t,r){return r+t*(e-r)}function Sc(e,t,r,n,o){return void 0!==o&&(e=Tc(e,o,n)),Tc(e,r,n)+t}function Cc(e,t,r,n,o){void 0===t&&(t=0),void 0===r&&(r=1),e.min=Sc(e.min,t,r,n,o),e.max=Sc(e.max,t,r,n,o)}function Ac(e,t){var r=t.x,n=t.y;Cc(e.x,r.translate,r.scale,r.originPoint),Cc(e.y,n.translate,n.scale,n.originPoint)}function Ic(e,t){e.min=e.min+t,e.max=e.max+t}function Mc(e,t,r){var n=ns(r,3),o=n[0],i=n[1],a=n[2],s=void 0!==t[a]?t[a]:.5,l=Zs(e.min,e.max,s);Cc(e,t[o],t[i],l,t.scale)}var Pc=["x","scaleX","originX"],Oc=["y","scaleY","originY"];function zc(e,t){Mc(e.x,t,Pc),Mc(e.y,t,Oc)}var Rc=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Dc=function(e){return Rc(e)&&e.hasOwnProperty("z")},Lc=function(e,t){return Math.abs(e-t)};function jc(e,t){if(Xl(e)&&Xl(t))return Lc(e,t);if(Rc(e)&&Rc(t)){var r=Lc(e.x,t.x),n=Lc(e.y,t.y),o=Dc(e)&&Dc(t)?Lc(e.z,t.z):0;return Math.sqrt(Math.pow(r,2)+Math.pow(n,2)+Math.pow(o,2))}}function Fc(e){return e.max-e.min}function Nc(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=.01),jc(e,t)<r}function Bc(e,t,r,n){void 0===n&&(n=.5),e.origin=n,e.originPoint=Zs(t.min,t.max,e.origin),e.scale=Fc(r)/Fc(t),(Nc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Zs(r.min,r.max,e.origin)-e.originPoint,(Nc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Vc(e,t,r,n){Bc(e.x,t.x,r.x,null===n||void 0===n?void 0:n.originX),Bc(e.y,t.y,r.y,null===n||void 0===n?void 0:n.originY)}function Uc(e,t,r){e.min=r.min+t.min,e.max=e.min+Fc(t)}function Gc(e,t,r){e.min=t.min-r.min,e.max=e.min+Fc(t)}function qc(e,t,r){Gc(e.x,t.x,r.x),Gc(e.y,t.y,r.y)}function Wc(e,t,r,n,o){return e=Tc(e-=t,1/r,n),void 0!==o&&(e=Tc(e,1/o,n)),e}function Zc(e,t,r,n,o){var i=ns(r,3),a=i[0],s=i[1],l=i[2];!function(e,t,r,n,o,i,a){if(void 0===t&&(t=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===i&&(i=e),void 0===a&&(a=e),Cl.test(t)&&(t=parseFloat(t),t=Zs(a.min,a.max,t/100)-a.min),"number"===typeof t){var s=Zs(i.min,i.max,n);e===i&&(s-=t),e.min=Wc(e.min,t,r,s,o),e.max=Wc(e.max,t,r,s,o)}}(e,t[a],t[s],t[l],t.scale,n,o)}var Hc=["x","scaleX","originX"],Xc=["y","scaleY","originY"];function $c(e,t,r,n){Zc(e.x,t,Hc,null===r||void 0===r?void 0:r.x,null===n||void 0===n?void 0:n.x),Zc(e.y,t,Xc,null===r||void 0===r?void 0:r.y,null===n||void 0===n?void 0:n.y)}function Kc(e){return 0===e.translate&&1===e.scale}function Yc(e){return Kc(e.x)&&Kc(e.y)}function Jc(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Qc=function(){function e(){this.members=[]}return e.prototype.add=function(e){Xs(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if($s(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,r=this.members.findIndex((function(t){return e===t}));if(0===r)return!1;for(var n=r;n>=0;n--){var o=this.members[n];if(!1!==o.isPresent){t=o;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var r,n=this.lead;e!==n&&(this.prevLead=n,this.lead=e,e.show(),n&&(n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues,e.snapshot.isShared=!0),(null===(r=e.root)||void 0===r?void 0:r.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&n.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,r,n,o,i;null===(r=(t=e.options).onExitComplete)||void 0===r||r.call(t),null===(i=null===(n=e.resumingFrom)||void 0===n?void 0:(o=n.options).onExitComplete)||void 0===i||i.call(o)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),ef={};function tf(e,t,r){var n=e.x.translate/t.x,o=e.y.translate/t.y,i="translate3d(".concat(n,"px, ").concat(o,"px, 0) ");if(r){var a=r.rotate,s=r.rotateX,l=r.rotateY;a&&(i+="rotate(".concat(a,"deg) ")),s&&(i+="rotateX(".concat(s,"deg) ")),l&&(i+="rotateY(".concat(l,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(i+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":i}function rf(e){return[e("x"),e("y")]}var nf=["","X","Y","Z"],of=["transformPerspective","x","y","z"];function af(e,t){return of.indexOf(e)-of.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return nf.forEach((function(t){return of.push(e+t)}))}));var sf=new Set(of);function lf(e){return sf.has(e)}var uf=new Set(["originX","originY","originZ"]);function cf(e){return uf.has(e)}var ff=function(e,t){return e.depth-t.depth},df=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){Xs(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){$s(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(ff),this.isDirty=!1,this.children.forEach(e)},e}();function hf(e){var t=Qs(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}var pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vf(e){var t=e.attachResizeListener,r=e.defaultParent,n=e.measureScroll,o=e.resetTransform;return function(){function e(e,t,n){var o=this;void 0===t&&(t={}),void 0===n&&(n=null===r||void 0===r?void 0:r()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){o.isUpdating&&(o.isUpdating=!1,o.clearAllSnapshots())},this.updateProjection=function(){o.nodes.forEach(wf),o.nodes.forEach(kf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=n?n.root||n:this,this.path=n?os(os([],ns(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new df)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ks),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.eventHandlers.get(e);null===n||void 0===n||n.notify.apply(n,os([],ns(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,r){var n,o=this;if(void 0===r&&(r=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,a=i.layoutId,s=i.layout,l=i.visualElement;if(l&&!l.getInstance()&&l.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),r&&(s||a)&&(this.isLayoutDirty=!0),t){var u,c=function(){return o.root.updateBlockedByResize=!1};t(e,(function(){o.root.updateBlockedByResize=!0,clearTimeout(u),u=window.setTimeout(c,250),pf.hasAnimatedSinceResize&&(pf.hasAnimatedSinceResize=!1,o.nodes.forEach(xf))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&l&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,r,n,i,a,s=e.delta,u=e.hasLayoutChanged,c=e.hasRelativeTargetChanged,f=e.layout;if(o.isTreeAnimationBlocked())return o.target=void 0,void(o.relativeTarget=void 0);var d=null!==(r=null!==(t=o.options.transition)&&void 0!==t?t:l.getDefaultTransition())&&void 0!==r?r:If,h=l.getProps(),p=h.onLayoutAnimationStart,v=h.onLayoutAnimationComplete,m=!o.targetLayout||!Jc(o.targetLayout,f)||c,y=!u&&c;if((null===(n=o.resumeFrom)||void 0===n?void 0:n.instance)||y||u&&(m||!o.currentAnimation)){o.resumeFrom&&(o.resumingFrom=o.resumeFrom,o.resumingFrom.resumingFrom=void 0),o.setAnimationOrigin(s,y);var g=es(es({},uc(d,"layout")),{onPlay:p,onComplete:v});l.shouldReduceMotion&&(g.delay=0,g.type=!1),o.startAnimation(g)}else u||0!==o.animationProgress||o.finishAnimation(),o.isLead()&&(null===(a=(i=o.options).onExitComplete)||void 0===a||a.call(i));o.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Ns.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Ef))},e.prototype.willUpdate=function(e){var t,r,n;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(r=(t=this.options).onExitComplete)||void 0===r||r.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var o=0;o<this.path.length;o++){var i=this.path[o];i.shouldResetTransform=!0,i.updateScroll()}var a=this.options,s=a.layoutId,l=a.layout;if(void 0!==s||l){var u=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===u||void 0===u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(bf);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Mf),this.potentialNodes.clear()),this.nodes.forEach(_f),this.nodes.forEach(mf),this.nodes.forEach(yf),this.clearAllSnapshots(),Bs.update(),Bs.preRender(),Bs.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(gf),this.sharedNodes.forEach(Tf)},e.prototype.scheduleUpdateProjection=function(){Ws.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;Ws.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));Of(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var r=this.measure();Of(r);var n=this.layout;this.layout={measured:r,actual:this.removeElementScroll(r)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===n||void 0===n?void 0:n.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=n(this.instance))},e.prototype.resetTransform=function(){var e;if(o){var t=this.isLayoutDirty||this.shouldResetTransform,r=this.projectionDelta&&!Yc(this.projectionDelta),n=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===n||void 0===n?void 0:n(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(r||kc(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),r=this.root.scroll;return r&&(Ic(t.x,r.x),Ic(t.y,r.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};_c(t,e);for(var r=0;r<this.path.length;r++){var n=this.path[r],o=n.scroll,i=n.options;n!==this.root&&o&&i.layoutScroll&&(Ic(t.x,o.x),Ic(t.y,o.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var r={x:{min:0,max:0},y:{min:0,max:0}};_c(r,e);for(var n=0;n<this.path.length;n++){var o=this.path[n];!t&&o.options.layoutScroll&&o.scroll&&o!==o.root&&zc(r,{x:-o.scroll.x,y:-o.scroll.y}),kc(o.latestValues)&&zc(r,o.latestValues)}return kc(this.latestValues)&&zc(r,this.latestValues),r},e.prototype.removeTransform=function(e){var t,r={x:{min:0,max:0},y:{min:0,max:0}};_c(r,e);for(var n=0;n<this.path.length;n++){var o=this.path[n];if(o.instance&&kc(o.latestValues)){wc(o.latestValues)&&o.updateSnapshot();var i={x:{min:0,max:0},y:{min:0,max:0}};_c(i,o.measure()),$c(r,o.latestValues,null===(t=o.snapshot)||void 0===t?void 0:t.layout,i)}}return kc(this.latestValues)&&$c(r,this.latestValues),r},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=es(es(es({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,r,n,o=this.options,i=o.layout,a=o.layoutId;this.layout&&(i||a)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qc(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),_c(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,r=this.relativeTarget,n=this.relativeParent.target,Uc(t.x,r.x,n.x),Uc(t.y,r.y,n.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):_c(this.target,this.layout.actual),Ac(this.target,this.targetDelta)):_c(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},qc(this.relativeTargetOrigin,this.target,this.relativeParent.target),_c(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!kc(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,r=t.layout,n=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(r||n)){var o=this.getLead();_c(this.layoutCorrected,this.layout.actual),function(e,t,r,n){var o,i;void 0===n&&(n=!1);var a=r.length;if(a){var s,l;t.x=t.y=1;for(var u=0;u<a;u++)l=(s=r[u]).projectionDelta,"contents"!==(null===(i=null===(o=s.instance)||void 0===o?void 0:o.style)||void 0===i?void 0:i.display)&&(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zc(e,{x:-s.scroll.x,y:-s.scroll.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Ac(e,l)),n&&kc(s.latestValues)&&zc(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==o);var i=o.target;if(i){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var a=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;Vc(this.projectionDelta,this.layoutCorrected,i,this.latestValues),this.projectionTransform=tf(this.projectionDelta,this.treeScale),this.projectionTransform===l&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",i))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,r,n;void 0===e&&(e=!0),null===(r=(t=this.options).scheduleRender)||void 0===r||r.call(t),e&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var r,n=this;void 0===t&&(t=!1);var o=this.snapshot,i=(null===o||void 0===o?void 0:o.latestValues)||{},a=es({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var l={x:{min:0,max:0},y:{min:0,max:0}},u=null===o||void 0===o?void 0:o.isShared,c=((null===(r=this.getStack())||void 0===r?void 0:r.members.length)||0)<=1,f=Boolean(u&&!c&&!0===this.options.crossfade&&!this.path.some(Af));this.animationProgress=0,this.mixTargetDelta=function(t){var r,o=t/1e3;Sf(s.x,e.x,o),Sf(s.y,e.y,o),n.setTargetDelta(s),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(r=n.relativeParent)||void 0===r?void 0:r.layout)&&(qc(l,n.layout.actual,n.relativeParent.layout.actual),function(e,t,r,n){Cf(e.x,t.x,r.x,n),Cf(e.y,t.y,r.y,n)}(n.relativeTarget,n.relativeTargetOrigin,l,o)),u&&(n.animationValues=a,function(e,t,r,n,o,i){var a,s,l,u;o?(e.opacity=Zs(0,null!==(a=r.opacity)&&void 0!==a?a:1,mc(n)),e.opacityExit=Zs(null!==(s=t.opacity)&&void 0!==s?s:1,0,yc(n))):i&&(e.opacity=Zs(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(u=r.opacity)&&void 0!==u?u:1,n));for(var c=0;c<dc;c++){var f="border".concat(fc[c],"Radius"),d=vc(t,f),h=vc(r,f);void 0===d&&void 0===h||(d||(d=0),h||(h=0),0===d||0===h||pc(d)===pc(h)?(e[f]=Math.max(Zs(hc(d),hc(h),n),0),(Cl.test(h)||Cl.test(d))&&(e[f]+="%")):e[f]=h)}(t.rotate||r.rotate)&&(e.rotate=Zs(t.rotate||0,r.rotate||0,n))}(a,i,n.latestValues,o,f,c)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=o},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,r,n=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(r=this.resumingFrom.currentAnimation)||void 0===r||r.stop()),this.pendingAnimation&&(Ns.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ws.update((function(){pf.hasAnimatedSinceResize=!0,n.currentAnimation=function(e,t,r){void 0===r&&(r={});var n=Qs(e)?e:Js(e);return cc("",n,t,r),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}}(0,1e3,es(es({},e),{onUpdate:function(t){var r;n.mixTargetDelta(t),null===(r=e.onUpdate)||void 0===r||r.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),n.completeAnimation()}})),n.resumingFrom&&(n.resumingFrom.currentAnimation=n.currentAnimation),n.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,r=e.target,n=e.layout,o=e.latestValues;t&&r&&n&&(_c(t,r),zc(t,o),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,t,o))},e.prototype.registerSharedNode=function(e,t){var r,n,o;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Qc),this.sharedNodes.get(e).add(t),t.promote({transition:null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.transition,preserveFollowOpacity:null===(o=null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.shouldPreserveFollowOpacity)||void 0===o?void 0:o.call(n,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,r=t.needsReset,n=t.transition,o=t.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,o),r&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,r={},n=0;n<nf.length;n++){var o="rotate"+nf[n];e.getStaticValue(o)&&(t=!0,r[o]=e.getStaticValue(o),e.setStaticValue(o,0))}if(t){for(var o in null===e||void 0===e||e.syncRender(),r)e.setStaticValue(o,r[o]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,r,n,o,i,a;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=hf(e.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!==(r=this.latestValues.opacity)&&void 0!==r?r:1,c.pointerEvents=hf(e.pointerEvents)||""),this.hasProjected&&!kc(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var f=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=tf(this.projectionDeltaWithTransform,this.treeScale,f),l&&(s.transform=l(f,s.transform));var d=this.projectionDelta,h=d.x,p=d.y;for(var v in s.transformOrigin="".concat(100*h.origin,"% ").concat(100*p.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(o=null!==(n=f.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=u===this?null!==(i=f.opacity)&&void 0!==i?i:"":null!==(a=f.opacityExit)&&void 0!==a?a:0,ef)if(void 0!==f[v]){var m=ef[v],y=m.correct,g=m.applyTo,b=y(f[v],u);if(g)for(var _=g.length,x=0;x<_;x++)s[g[x]]=b;else s[v]=b}return this.options.layoutId&&(s.pointerEvents=u===this?hf(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(bf),this.root.sharedNodes.clear()},e}()}function mf(e){e.updateLayout()}function yf(e){var t,r,n,o,i=null!==(r=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==r?r:e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,l=a.measured;"size"===e.options.animationType?rf((function(e){var t=i.isShared?i.measured[e]:i.layout[e],r=Fc(t);t.min=s[e].min,t.max=t.min+r})):"position"===e.options.animationType&&rf((function(e){var t=i.isShared?i.measured[e]:i.layout[e],r=Fc(s[e]);t.max=t.min+r}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Vc(u,s,i.layout);var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i.isShared?Vc(c,e.applyTransform(l,!0),i.measured):Vc(c,s,i.layout);var f=!Yc(u),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,p=h.snapshot,v=h.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};qc(m,i.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};qc(y,s,v.actual),Jc(m,y)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:c,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(o=(n=e.options).onExitComplete)||void 0===o||o.call(n));e.options.transition=void 0}function gf(e){e.clearSnapshot()}function bf(e){e.clearMeasurements()}function _f(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function xf(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function wf(e){e.resolveTargetDelta()}function kf(e){e.calcProjection()}function Ef(e){e.resetRotation()}function Tf(e){e.removeLeadSnapshot()}function Sf(e,t,r){e.translate=Zs(t.translate,0,r),e.scale=Zs(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Cf(e,t,r,n){e.min=Zs(t.min,r.min,n),e.max=Zs(t.max,r.max,n)}function Af(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var If={duration:.45,ease:[.4,0,.1,1]};function Mf(e,t){for(var r=e.root,n=e.path.length-1;n>=0;n--)if(Boolean(e.path[n].instance)){r=e.path[n];break}var o=(r&&r!==e.root?r.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));o&&e.mount(o,!0)}function Pf(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Of(e){Pf(e.x),Pf(e.y)}var zf=1;var Rf=(0,e.createContext)({}),Df=(0,e.createContext)({});var Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qa(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,r=e.props;t&&t.setProps(r)},t.prototype.render=function(){return this.props.children},t}(e.Component);function jf(t){var r=t.preloadedFeatures,n=t.createVisualElement,o=t.projectionNodeConstructor,i=t.useRender,a=t.useVisualState,s=t.Component;return r&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?as.projectionNodeConstructor=e[t]:as[t].Component=e[t])}(r),(0,e.forwardRef)((function(t,r){var l=function(t){var r,n=t.layoutId,o=null===(r=(0,e.useContext)(Rf))||void 0===r?void 0:r.id;return o&&void 0!==n?o+"-"+n:n}(t);t=es(es({},t),{layoutId:l});var u=(0,e.useContext)(cs),c=null,f=Ss(t),d=u.isStatic?void 0:As((function(){if(pf.hasEverUpdated)return zf++})),h=a(t,u.isStatic);return!u.isStatic&&hs&&(f.visualElement=gs(s,h,es(es({},u),t),n),function(t,r,n,o){var i,a=r.layoutId,s=r.layout,l=r.drag,u=r.dragConstraints,c=r.layoutScroll,f=(0,e.useContext)(Df);o&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new o(t,n.getLatestValues(),null===(i=n.parent)||void 0===i?void 0:i.projection),n.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(l)||u&&bs(u),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:f,layoutScroll:c}))}(d,t,f.visualElement,o||as.projectionNodeConstructor),c=function(t,r,n){var o=[];if((0,e.useContext)(ss),!r)return null;for(var i=0;i<us;i++){var a=ls[i],s=as[a],l=s.isEnabled,u=s.Component;l(t)&&u&&o.push(e.createElement(u,es({key:a},t,{visualElement:r})))}return o}(t,f.visualElement)),e.createElement(Lf,{visualElement:f.visualElement,props:es(es({},u),t)},c,e.createElement(fs.Provider,{value:f},i(s,t,d,function(t,r,n){return(0,e.useCallback)((function(e){var o;e&&(null===(o=t.mount)||void 0===o||o.call(t,e)),r&&(e?r.mount(e):r.unmount()),n&&("function"===typeof n?n(e):bs(n)&&(n.current=e))}),[r])}(h,f.visualElement,r),h,u.isStatic,f.visualElement)))}))}function Ff(e){function t(t,r){return void 0===r&&(r={}),jf(e(t,r))}if("undefined"===typeof Proxy)return t;var r=new Map;return new Proxy(t,{get:function(e,n){return r.has(n)||r.set(n,t(n)),r.get(n)}})}var Nf=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Bf(e){return"string"===typeof e&&!e.includes("-")&&!!(Nf.indexOf(e)>-1||/[A-Z]/.test(e))}function Vf(e,t){var r=t.layout,n=t.layoutId;return lf(e)||cf(e)||(r||void 0!==n)&&(!!ef[e]||"opacity"===e)}var Uf={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Gf(e){return e.startsWith("--")}var qf=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function Wf(e,t,r,n){var o,i=e.style,a=e.vars,s=e.transform,l=e.transformKeys,u=e.transformOrigin;l.length=0;var c=!1,f=!1,d=!0;for(var h in t){var p=t[h];if(Gf(h))a[h]=p;else{var v=Ju[h],m=qf(p,v);if(lf(h)){if(c=!0,s[h]=m,l.push(h),!d)continue;p!==(null!==(o=v.default)&&void 0!==o?o:0)&&(d=!1)}else cf(h)?(u[h]=m,f=!0):i[h]=m}}c?i.transform=function(e,t,r,n){var o=e.transform,i=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,l=t.allowTransformNone,u=void 0===l||l,c="";i.sort(af);for(var f=!1,d=i.length,h=0;h<d;h++){var p=i[h];c+="".concat(Uf[p]||p,"(").concat(o[p],") "),"z"===p&&(f=!0)}return!f&&s?c+="translateZ(0)":c=c.trim(),n?c=n(o,r?"":c):u&&r&&(c="none"),c}(e,r,d,n):n?i.transform=n({},""):!t.transform&&i.transform&&(i.transform="none"),f&&(i.transformOrigin=function(e){var t=e.originX,r=void 0===t?"50%":t,n=e.originY,o=void 0===n?"50%":n,i=e.originZ,a=void 0===i?0:i;return"".concat(r," ").concat(o," ").concat(a)}(u))}var Zf=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Hf(e,t,r){for(var n in t)Qs(t[n])||Vf(n,r)||(e[n]=t[n])}function Xf(t,r,n){var o={};return Hf(o,t.style||{},t),Object.assign(o,function(t,r,n){var o=t.transformTemplate;return(0,e.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};Wf(e,r,{enableHardwareAcceleration:!n},o);var t=e.style;return es(es({},e.vars),t)}),[r])}(t,r,n)),t.transformValues&&(o=t.transformValues(o)),o}function $f(e,t,r){var n={},o=Xf(e,t,r);return Boolean(e.drag)&&!1!==e.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),n.style=o,n}var Kf=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function Yf(e){return Kf.has(e)}var Jf,Qf=function(e){return!Yf(e)};try{(Jf=require("@emotion/is-prop-valid").default)&&(Qf=function(e){return e.startsWith("on")?!Yf(e):Jf(e)})}catch(HC){}function ed(e,t,r){return"string"===typeof e?e:Al.transform(t+r*e)}var td={offset:"stroke-dashoffset",array:"stroke-dasharray"},rd={offset:"strokeDashoffset",array:"strokeDasharray"};function nd(e,t,r,n){var o=t.attrX,i=t.attrY,a=t.originX,s=t.originY,l=t.pathLength,u=t.pathSpacing,c=void 0===u?1:u,f=t.pathOffset,d=void 0===f?0:f;Wf(e,ts(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),r,n),e.attrs=e.style,e.style={};var h=e.attrs,p=e.style,v=e.dimensions;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(void 0!==a||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,r){var n=ed(t,e.x,e.width),o=ed(r,e.y,e.height);return"".concat(n," ").concat(o)}(v,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==o&&(h.x=o),void 0!==i&&(h.y=i),void 0!==l&&function(e,t,r,n,o){void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=!0),e.pathLength=1;var i=o?td:rd;e[i.offset]=Al.transform(-n);var a=Al.transform(t),s=Al.transform(r);e[i.array]="".concat(a," ").concat(s)}(h,l,c,d,!1)}var od=function(){return es(es({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function id(t,r){var n=(0,e.useMemo)((function(){var e=od();return nd(e,r,{enableHardwareAcceleration:!1},t.transformTemplate),es(es({},e.attrs),{style:es({},e.style)})}),[r]);if(t.style){var o={};Hf(o,t.style,t),n.style=es(es({},o),n.style)}return n}function ad(t){void 0===t&&(t=!1);return function(r,n,o,i,a,s){var l=a.latestValues,u=(Bf(r)?id:$f)(n,l,s),c=function(e,t,r){var n={};for(var o in e)(Qf(o)||!0===r&&Yf(o)||!t&&!Yf(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}(n,"string"===typeof r,t),f=es(es(es({},c),u),{ref:i});return o&&(f["data-projection-id"]=o),(0,e.createElement)(r,f)}}var sd=/([a-z])([A-Z])/g,ld=function(e){return e.replace(sd,"$1-$2").toLowerCase()};function ud(e,t,r,n){var o=t.style,i=t.vars;for(var a in Object.assign(e.style,o,n&&n.getProjectionStyles(r)),i)e.style.setProperty(a,i[a])}var cd=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function fd(e,t,r,n){for(var o in ud(e,t,void 0,n),t.attrs)e.setAttribute(cd.has(o)?o:ld(o),t.attrs[o])}function dd(e){var t=e.style,r={};for(var n in t)(Qs(t[n])||Vf(n,e))&&(r[n]=t[n]);return r}function hd(e){var t=dd(e);for(var r in e){if(Qs(e[r]))t["x"===r||"y"===r?"attr"+r.toUpperCase():r]=e[r]}return t}function pd(e){return"object"===typeof e&&"function"===typeof e.start}function vd(e,t,r,n){var o=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:yd(t,r,n,o),renderState:i()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var md=function(t){return function(r,n){var o=(0,e.useContext)(fs),i=(0,e.useContext)(ds);return n?vd(t,r,o,i):As((function(){return vd(t,r,o,i)}))}};function yd(e,t,r,n){var o={},i=!1===(null===r||void 0===r?void 0:r.initial),a=n(e);for(var s in a)o[s]=hf(a[s]);var l=e.initial,u=e.animate,c=Es(e),f=Ts(e);t&&f&&!c&&!1!==e.inherit&&(null!==l&&void 0!==l||(l=t.initial),null!==u&&void 0!==u||(u=t.animate));var d=i||!1===l,h=d?u:l;h&&"boolean"!==typeof h&&!pd(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var r=ws(e,t);if(r){var n=r.transitionEnd;r.transition;var i=ts(r,["transitionEnd","transition"]);for(var a in i){var s=i[a];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(o[a]=s)}for(var a in n)o[a]=n[a]}}));return o}var gd,bd={useVisualState:md({scrapeMotionValuesFromProps:hd,createRenderState:od,onMount:function(e,t,r){var n=r.renderState,o=r.latestValues;try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(vv){n.dimensions={x:0,y:0,width:0,height:0}}nd(n,o,{enableHardwareAcceleration:!1},e.transformTemplate),fd(t,n)}})},_d={useVisualState:md({scrapeMotionValuesFromProps:dd,createRenderState:Zf})};function xd(e,t,r,n){return e.addEventListener(t,r,n),function(){return e.removeEventListener(t,r,n)}}function wd(t,r,n,o){(0,e.useEffect)((function(){var e=t.current;if(n&&e)return xd(e,r,n,o)}),[t,r,n,o])}function kd(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Ed(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(gd||(gd={}));var Td={pageX:0,pageY:0};function Sd(e,t){void 0===t&&(t="page");var r=e.touches[0]||e.changedTouches[0]||Td;return{x:r[t+"X"],y:r[t+"Y"]}}function Cd(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Ad(e,t){return void 0===t&&(t="page"),{point:Ed(e)?Sd(e,t):Cd(e,t)}}var Id=function(e,t){void 0===t&&(t=!1);var r,n=function(t){return e(t,Ad(t))};return t?(r=n,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}):n},Md={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Pd={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Od(e){return hs&&null===window.onpointerdown?e:hs&&null===window.ontouchstart?Pd[e]:hs&&null===window.onmousedown?Md[e]:e}function zd(e,t,r,n){return xd(e,Od(t),Id(r,"pointerdown"===t),n)}function Rd(e,t,r,n){return wd(e,Od(t),r&&Id(r,"pointerdown"===t),n)}function Dd(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var Ld=Dd("dragHorizontal"),jd=Dd("dragVertical");function Fd(e){var t=!1;if("y"===e)t=jd();else if("x"===e)t=Ld();else{var r=Ld(),n=jd();r&&n?t=function(){r(),n()}:(r&&r(),n&&n())}return t}function Nd(){var e=Fd(!0);return!e||(e(),!1)}function Bd(e,t,r){return function(n,o){var i;kd(n)&&!Nd()&&(null===(i=e.animationState)||void 0===i||i.setActive(gd.Hover,t),null===r||void 0===r||r(n,o))}}var Vd=function e(t,r){return!!r&&(t===r||e(t,r.parentElement))};function Ud(t){return(0,e.useEffect)((function(){return function(){return t()}}),[])}var Gd=new WeakMap,qd=new WeakMap,Wd=function(e){var t;null===(t=Gd.get(e.target))||void 0===t||t(e)},Zd=function(e){e.forEach(Wd)};function Hd(e,t,r){var n=function(e){var t=e.root,r=ts(e,["root"]),n=t||document;qd.has(n)||qd.set(n,{});var o=qd.get(n),i=JSON.stringify(r);return o[i]||(o[i]=new IntersectionObserver(Zd,es({root:t},r))),o[i]}(t);return Gd.set(e,r),n.observe(e),function(){Gd.delete(e),n.unobserve(e)}}var Xd={some:0,all:1};function $d(t,r,n,o){var i=o.root,a=o.margin,s=o.amount,l=void 0===s?"some":s,u=o.once;(0,e.useEffect)((function(){if(t){var e={root:null===i||void 0===i?void 0:i.current,rootMargin:a,threshold:"number"===typeof l?l:Xd[l]};return Hd(n.getInstance(),e,(function(e){var t,o=e.isIntersecting;if(r.isInView!==o&&(r.isInView=o,!u||o||!r.hasEnteredView)){o&&(r.hasEnteredView=!0),null===(t=n.animationState)||void 0===t||t.setActive(gd.InView,o);var i=n.getProps(),a=o?i.onViewportEnter:i.onViewportLeave;null===a||void 0===a||a(e)}}))}}),[t,i,a,l])}function Kd(t,r,n,o){var i=o.fallback,a=void 0===i||i;(0,e.useEffect)((function(){t&&a&&requestAnimationFrame((function(){var e;r.hasEnteredView=!0;var t=n.getProps().onViewportEnter;null===t||void 0===t||t(null),null===(e=n.animationState)||void 0===e||e.setActive(gd.InView,!0)}))}),[t])}var Yd=function(e){return function(t){return e(t),null}},Jd={inView:Yd((function(t){var r=t.visualElement,n=t.whileInView,o=t.onViewportEnter,i=t.onViewportLeave,a=t.viewport,s=void 0===a?{}:a,l=(0,e.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(n||o||i);s.once&&l.current.hasEnteredView&&(u=!1),("undefined"===typeof IntersectionObserver?Kd:$d)(u,l.current,r,s)})),tap:Yd((function(t){var r=t.onTap,n=t.onTapStart,o=t.onTapCancel,i=t.whileTap,a=t.visualElement,s=r||n||o||i,l=(0,e.useRef)(!1),u=(0,e.useRef)(null);function c(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function f(){var e;return c(),l.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(gd.Tap,!1),!Nd()}function d(e,t){f()&&(Vd(a.getInstance(),e.target)?null===r||void 0===r||r(e,t):null===o||void 0===o||o(e,t))}function h(e,t){f()&&(null===o||void 0===o||o(e,t))}Rd(a,"pointerdown",s?function(e,t){var r;c(),l.current||(l.current=!0,u.current=Kl(zd(window,"pointerup",d),zd(window,"pointercancel",h)),null===(r=a.animationState)||void 0===r||r.setActive(gd.Tap,!0),null===n||void 0===n||n(e,t))}:void 0),Ud(c)})),focus:Yd((function(e){var t=e.whileFocus,r=e.visualElement;wd(r,"focus",t?function(){var e;null===(e=r.animationState)||void 0===e||e.setActive(gd.Focus,!0)}:void 0),wd(r,"blur",t?function(){var e;null===(e=r.animationState)||void 0===e||e.setActive(gd.Focus,!1)}:void 0)})),hover:Yd((function(e){var t=e.onHoverStart,r=e.onHoverEnd,n=e.whileHover,o=e.visualElement;Rd(o,"pointerenter",t||n?Bd(o,!0,t):void 0),Rd(o,"pointerleave",r||n?Bd(o,!1,r):void 0)}))},Qd=0,eh=function(){return Qd++},th=function(){return As(eh)};function rh(){var t=(0,e.useContext)(ds);if(null===t)return[!0,null];var r=t.isPresent,n=t.onExitComplete,o=t.register,i=th();(0,e.useEffect)((function(){return o(i)}),[]);return!r&&n?[!1,function(){return null===n||void 0===n?void 0:n(i)}]:[!0]}function nh(e,t){if(!Array.isArray(t))return!1;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var oh=function(e){return/^\-?\d*\.?\d+$/.test(e)},ih=function(e){return/^0[^.\s]+$/.test(e)},ah=function(e){return function(t){return t.test(e)}},sh=[ml,Al,Cl,Sl,Ml,Il,{test:function(e){return"auto"===e},parse:function(e){return e}}],lh=function(e){return sh.find(ah(e))},uh=os(os([],ns(sh),!1),[Bl,Hl],!1),ch=function(e){return uh.find(ah(e))};function fh(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Js(r))}function dh(e,t){var r=ks(e,t),n=r?e.makeTargetAnimatable(r,!1):{},o=n.transitionEnd,i=void 0===o?{}:o;n.transition;var a=ts(n,["transitionEnd","transition"]);for(var s in a=es(es({},a),i)){fh(e,s,nc(a[s]))}}function hh(e,t){if(t)return(t[e]||t.default||t).from}function ph(e,t,r){var n;void 0===r&&(r={});var o=ks(e,t,r.custom),i=(o||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;r.transitionOverride&&(a=r.transitionOverride);var s=o?function(){return vh(e,o,r)}:function(){return Promise.resolve()},l=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(n){void 0===n&&(n=0);var o=a.delayChildren,i=void 0===o?0:o,s=a.staggerChildren,l=a.staggerDirection;return function(e,t,r,n,o,i){void 0===r&&(r=0);void 0===n&&(n=0);void 0===o&&(o=1);var a=[],s=(e.variantChildren.size-1)*n,l=1===o?function(e){return void 0===e&&(e=0),e*n}:function(e){return void 0===e&&(e=0),s-e*n};return Array.from(e.variantChildren).sort(mh).forEach((function(e,n){a.push(ph(e,t,es(es({},i),{delay:r+l(n)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,i+n,s,l,r)}:function(){return Promise.resolve()},u=a.when;if(u){var c=ns("beforeChildren"===u?[s,l]:[l,s],2),f=c[0],d=c[1];return f().then(d)}return Promise.all([s(),l(r.delay)])}function vh(e,t,r){var n,o=void 0===r?{}:r,i=o.delay,a=void 0===i?0:i,s=o.transitionOverride,l=o.type,u=e.makeTargetAnimatable(t),c=u.transition,f=void 0===c?e.getDefaultTransition():c,d=u.transitionEnd,h=ts(u,["transition","transitionEnd"]);s&&(f=s);var p=[],v=l&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[l]);for(var m in h){var y=e.getValue(m),g=h[m];if(!(!y||void 0===g||v&&yh(v,m))){var b=es({delay:a},f);e.shouldReduceMotion&&lf(m)&&(b=es(es({},b),{type:!1,delay:0}));var _=cc(m,y,g,b);p.push(_)}}return Promise.all(p).then((function(){d&&dh(e,d)}))}function mh(e,t){return e.sortNodePosition(t)}function yh(e,t){var r=e.protectedKeys,n=e.needsAnimating,o=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,o}var gh=[gd.Animate,gd.InView,gd.Focus,gd.Hover,gd.Tap,gd.Drag,gd.Exit],bh=os([],ns(gh),!1).reverse(),_h=gh.length;function xh(e){return function(t){return Promise.all(t.map((function(t){var r=t.animation,n=t.options;return function(e,t,r){var n;if(void 0===r&&(r={}),e.notifyAnimationStart(t),Array.isArray(t)){var o=t.map((function(t){return ph(e,t,r)}));n=Promise.all(o)}else if("string"===typeof t)n=ph(e,t,r);else{var i="function"===typeof t?ks(e,t,r.custom):t;n=vh(e,i,r)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,r,n)})))}}function wh(e){var t=xh(e),r=function(){var e;return(e={})[gd.Animate]=kh(!0),e[gd.InView]=kh(),e[gd.Hover]=kh(),e[gd.Tap]=kh(),e[gd.Drag]=kh(),e[gd.Focus]=kh(),e[gd.Exit]=kh(),e}(),n={},o=!0,i=function(t,r){var n=ks(e,r);if(n){n.transition;var o=n.transitionEnd,i=ts(n,["transition","transitionEnd"]);t=es(es(es({},t),i),o)}return t};function a(a,s){for(var l,u=e.getProps(),c=e.getVariantContext(!0)||{},f=[],d=new Set,h={},p=1/0,v=function(t){var n=bh[t],v=r[n],m=null!==(l=u[n])&&void 0!==l?l:c[n],y=xs(m),g=n===s?v.isActive:null;!1===g&&(p=t);var b=m===c[n]&&m!==u[n]&&y;if(b&&o&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=es({},h),!v.isActive&&null===g||!m&&!v.prevProp||pd(m)||"boolean"===typeof m)return"continue";var _=function(e,t){if("string"===typeof t)return t!==e;if(_s(t))return!nh(t,e);return!1}(v.prevProp,m),x=_||n===s&&v.isActive&&!b&&y||t>p&&y,w=Array.isArray(m)?m:[m],k=w.reduce(i,{});!1===g&&(k={});var E=v.prevResolvedValues,T=void 0===E?{}:E,S=es(es({},T),k),C=function(e){x=!0,d.delete(e),v.needsAnimating[e]=!0};for(var A in S){var I=k[A],M=T[A];h.hasOwnProperty(A)||(I!==M?Vu(I)&&Vu(M)?!nh(I,M)||_?C(A):v.protectedKeys[A]=!0:void 0!==I?C(A):d.add(A):void 0!==I&&d.has(A)?C(A):v.protectedKeys[A]=!0)}v.prevProp=m,v.prevResolvedValues=k,v.isActive&&(h=es(es({},h),k)),o&&e.blockInitialAnimation&&(x=!1),x&&!b&&f.push.apply(f,os([],ns(w.map((function(e){return{animation:e,options:es({type:n},a)}}))),!1))},m=0;m<_h;m++)v(m);if(n=es({},h),d.size){var y={};d.forEach((function(t){var r=e.getBaseTarget(t);void 0!==r&&(y[t]=r)})),f.push({animation:y})}var g=Boolean(f.length);return o&&!1===u.initial&&!e.manuallyAnimateOnMount&&(g=!1),o=!1,g?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==n[e]},animateChanges:a,setActive:function(t,n,o){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n;var s=a(o,t);for(var l in r)r[l].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:function(){return r}}}function kh(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Eh={animation:Yd((function(t){var r=t.visualElement,n=t.animate;r.animationState||(r.animationState=wh(r)),pd(n)&&(0,e.useEffect)((function(){return n.subscribe(r)}),[n])})),exit:Yd((function(t){var r=t.custom,n=t.visualElement,o=ns(rh(),2),i=o[0],a=o[1],s=(0,e.useContext)(ds);(0,e.useEffect)((function(){var e,t;n.isPresent=i;var o=null===(e=n.animationState)||void 0===e?void 0:e.setActive(gd.Exit,!i,{custom:null!==(t=null===s||void 0===s?void 0:s.custom)&&void 0!==t?t:r});!i&&(null===o||void 0===o||o.then(a))}),[i])}))},Th=function(){function e(e,t,r){var n=this,o=(void 0===r?{}:r).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var e=Ah(n.lastMoveEventInfo,n.history),t=null!==n.startEvent,r=jc(e.offset,{x:0,y:0})>=3;if(t||r){var o=e.point,i=qs().timestamp;n.history.push(es(es({},o),{timestamp:i}));var a=n.handlers,s=a.onStart,l=a.onMove;t||(s&&s(n.lastMoveEvent,e),n.startEvent=n.lastMoveEvent),l&&l(n.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){n.lastMoveEvent=e,n.lastMoveEventInfo=Sh(t,n.transformPagePoint),kd(e)&&0===e.buttons?n.handlePointerUp(e,t):Ws.update(n.updatePoint,!0)},this.handlePointerUp=function(e,t){n.end();var r=n.handlers,o=r.onEnd,i=r.onSessionEnd,a=Ah(Sh(t,n.transformPagePoint),n.history);n.startEvent&&o&&o(e,a),i&&i(e,a)},!(Ed(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var i=Sh(Ad(e),this.transformPagePoint),a=i.point,s=qs().timestamp;this.history=[es(es({},a),{timestamp:s})];var l=t.onSessionStart;l&&l(e,Ah(i,this.history)),this.removeListeners=Kl(zd(window,"pointermove",this.handlePointerMove),zd(window,"pointerup",this.handlePointerUp),zd(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Ns.update(this.updatePoint)},e}();function Sh(e,t){return t?{point:t(e.point)}:e}function Ch(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ah(e,t){var r=e.point;return{point:r,delta:Ch(r,Mh(t)),offset:Ch(r,Ih(t)),velocity:Ph(t,.1)}}function Ih(e){return e[0]}function Mh(e){return e[e.length-1]}function Ph(e,t){if(e.length<2)return{x:0,y:0};for(var r=e.length-1,n=null,o=Mh(e);r>=0&&(n=e[r],!(o.timestamp-n.timestamp>Mu(t)));)r--;if(!n)return{x:0,y:0};var i=(o.timestamp-n.timestamp)/1e3;if(0===i)return{x:0,y:0};var a={x:(o.x-n.x)/i,y:(o.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Oh(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function zh(e,t){var r,n=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(n=(r=ns([o,n],2))[0],o=r[1]),{min:n,max:o}}var Rh=.35;function Dh(e,t,r){return{min:Lh(e,t),max:Lh(e,r)}}function Lh(e,t){var r;return"number"===typeof e?e:null!==(r=e[t])&&void 0!==r?r:0}function jh(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function Fh(e,t){return jh(function(e,t){if(!t)return e;var r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}var Nh=new WeakMap,Bh=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var r=this,n=(void 0===t?{}:t).snapToCursor,o=void 0!==n&&n;if(!1!==this.visualElement.isPresent){this.panSession=new Th(e,{onSessionStart:function(e){r.stopAnimation(),o&&r.snapToCursor(Ad(e,"page").point)},onStart:function(e,t){var n,o=r.getProps(),i=o.drag,a=o.dragPropagation,s=o.onDragStart;(!i||a||(r.openGlobalLock&&r.openGlobalLock(),r.openGlobalLock=Fd(i),r.openGlobalLock))&&(r.isDragging=!0,r.currentDirection=null,r.resolveConstraints(),r.visualElement.projection&&(r.visualElement.projection.isAnimationBlocked=!0,r.visualElement.projection.target=void 0),rf((function(e){var t,n,o=r.getAxisMotionValue(e).get()||0;if(Cl.test(o)){var i=null===(n=null===(t=r.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.actual[e];if(i)o=Fc(i)*(parseFloat(o)/100)}r.originPoint[e]=o})),null===s||void 0===s||s(e,t),null===(n=r.visualElement.animationState)||void 0===n||n.setActive(gd.Drag,!0))},onMove:function(e,t){var n=r.getProps(),o=n.dragPropagation,i=n.dragDirectionLock,a=n.onDirectionLock,s=n.onDrag;if(o||r.openGlobalLock){var l=t.offset;if(i&&null===r.currentDirection)return r.currentDirection=function(e,t){void 0===t&&(t=10);var r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(l),void(null!==r.currentDirection&&(null===a||void 0===a||a(r.currentDirection)));r.updateAxis("x",t.point,l),r.updateAxis("y",t.point,l),r.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return r.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var r=this.isDragging;if(this.cancel(),r){var n=t.velocity;this.startAnimation(n);var o=this.getProps().onDragEnd;null===o||void 0===o||o(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(gd.Drag,!1)},e.prototype.updateAxis=function(e,t,r){var n=this.getProps().drag;if(r&&Vh(e,n,this.currentDirection)){var o=this.getAxisMotionValue(e),i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=function(e,t,r){var n=t.min,o=t.max;return void 0!==n&&e<n?e=r?Zs(n,e,r.min):Math.max(e,n):void 0!==o&&e>o&&(e=r?Zs(o,e,r.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),r=t.dragConstraints,n=t.dragElastic,o=(this.visualElement.projection||{}).layout,i=this.constraints;r&&bs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!r||!o)&&function(e,t){var r=t.top,n=t.left,o=t.bottom,i=t.right;return{x:Oh(e.x,n,i),y:Oh(e.y,r,o)}}(o.actual,r),this.elastic=function(e){return void 0===e&&(e=Rh),!1===e?e=0:!0===e&&(e=Rh),{x:Dh(e,"left","right"),y:Dh(e,"top","bottom")}}(n),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&rf((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(o.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,r=e.onMeasureDragConstraints;if(!t||!bs(t))return!1;var n=t.current,o=this.visualElement.projection;if(!o||!o.layout)return!1;var i=function(e,t,r){var n=Fh(e,r),o=t.scroll;return o&&(Ic(n.x,o.x),Ic(n.y,o.y)),n}(n,o.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:zh(e.x,t.x),y:zh(e.y,t.y)}}(o.layout.actual,i);if(r){var s=r(function(e){var t=e.x,r=e.y;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=jh(s))}return a},e.prototype.startAnimation=function(e){var t=this,r=this.getProps(),n=r.drag,o=r.dragMomentum,i=r.dragElastic,a=r.dragTransition,s=r.dragSnapToOrigin,l=r.onDragTransitionEnd,u=this.constraints||{},c=rf((function(r){var l;if(Vh(r,n,t.currentDirection)){var c=null!==(l=null===u||void 0===u?void 0:u[r])&&void 0!==l?l:{};s&&(c={min:0,max:0});var f=i?200:1e6,d=i?40:1e7,h=es(es({type:"inertia",velocity:o?e[r]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.startAxisValueAnimation(r,h)}}));return Promise.all(c).then(l)},e.prototype.startAxisValueAnimation=function(e,t){return cc(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;rf((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,r,n="_drag"+e.toUpperCase(),o=this.visualElement.getProps()[n];return o||this.visualElement.getValue(e,null!==(r=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==r?r:0)},e.prototype.snapToCursor=function(e){var t=this;rf((function(r){if(Vh(r,t.getProps().drag,t.currentDirection)){var n=t.visualElement.projection,o=t.getAxisMotionValue(r);if(n&&n.layout){var i=n.layout.actual[r],a=i.min,s=i.max;o.set(e[r]-Zs(a,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,r=this.getProps(),n=r.drag,o=r.dragConstraints,i=this.visualElement.projection;if(bs(o)&&i&&this.constraints){this.stopAnimation();var a={x:0,y:0};rf((function(e){var r=t.getAxisMotionValue(e);if(r){var n=r.get();a[e]=function(e,t){var r=.5,n=Fc(e),o=Fc(t);return o>n?r=ul(t.min,t.max-n,e.min):n>o&&(r=ul(e.min,e.max-o,t.min)),el(0,1,r)}({min:n,max:n},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),rf((function(e){if(Vh(e,n,null)){var r=t.getAxisMotionValue(e),o=t.constraints[e],i=o.min,s=o.max;r.set(Zs(i,s,a[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;Nh.set(this.visualElement,this);var r=zd(this.visualElement.getInstance(),"pointerdown",(function(e){var r=t.getProps(),n=r.drag,o=r.dragListener;n&&(void 0===o||o)&&t.start(e)})),n=function(){bs(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},o=this.visualElement.projection,i=o.addEventListener("measure",n);o&&!o.layout&&(null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout()),n();var a=xd(window,"resize",(function(){t.scalePositionWithinConstraints()}));return o.addEventListener("didUpdate",(function(e){var r=e.delta,n=e.hasLayoutChanged;t.isDragging&&n&&(rf((function(e){var n=t.getAxisMotionValue(e);n&&(t.originPoint[e]+=r[e].translate,n.set(n.get()+r[e].translate))})),t.visualElement.syncRender())})),function(){a(),r(),i()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,r=void 0!==t&&t,n=e.dragDirectionLock,o=void 0!==n&&n,i=e.dragPropagation,a=void 0!==i&&i,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?Rh:u,f=e.dragMomentum,d=void 0===f||f;return es(es({},e),{drag:r,dragDirectionLock:o,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d})},e}();function Vh(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}var Uh={pan:Yd((function(t){var r=t.onPan,n=t.onPanStart,o=t.onPanEnd,i=t.onPanSessionStart,a=t.visualElement,s=r||n||o||i,l=(0,e.useRef)(null),u=(0,e.useContext)(cs).transformPagePoint,c={onSessionStart:i,onStart:n,onMove:r,onEnd:function(e,t){l.current=null,o&&o(e,t)}};(0,e.useEffect)((function(){null!==l.current&&l.current.updateHandlers(c)})),Rd(a,"pointerdown",s&&function(e){l.current=new Th(e,c,{transformPagePoint:u})}),Ud((function(){return l.current&&l.current.end()}))})),drag:Yd((function(t){var r=t.dragControls,n=t.visualElement,o=As((function(){return new Bh(n)}));(0,e.useEffect)((function(){return r&&r.subscribe(o)}),[o,r]),(0,e.useEffect)((function(){return o.addListeners()}),[o])}))},Gh=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var qh=function(e){var t=e.treeType,r=void 0===t?"":t,n=e.build,o=e.getBaseTarget,i=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,u=e.removeValueFromRenderState,c=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var d=e.parent,h=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,y=e.shouldReduceMotion;void 0===t&&(t={});var g,b,_=!1,x=m.latestValues,w=m.renderState,k=function(){var e=Gh.map((function(){return new Ks})),t={},r={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){Gh.forEach((function(n){var o,i="on"+n,a=e[i];null===(o=t[n])||void 0===o||o.call(t),a&&(t[n]=r[i](a))}))}};return e.forEach((function(e,t){r["on"+Gh[t]]=function(t){return e.add(t)},r["notify"+Gh[t]]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.notify.apply(e,os([],ns(t),!1))}})),r}(),E=new Map,T=new Map,S={},C=es({},x);function A(){g&&_&&(I(),s(g,w,h.style,j.projection))}function I(){n(j,w,x,t,h)}function M(){k.notifyUpdate(x)}function P(e,t){var r=t.onChange((function(t){x[e]=t,h.onUpdate&&Ws.update(M,!1,!0)})),n=t.onRenderRequest(j.scheduleRender);T.set(e,(function(){r(),n()}))}var O=f(h);for(var z in O){var R=O[z];void 0!==x[z]&&Qs(R)&&R.set(x[z],!1)}var D=Es(h),L=Ts(h),j=es(es({treeType:r,current:null,depth:d?d.depth+1:0,parent:d,children:new Set,presenceId:p,shouldReduceMotion:y,variantChildren:L?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===d||void 0===d?void 0:d.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(g)},mount:function(e){_=!0,g=j.current=e,j.projection&&j.projection.mount(e),L&&d&&!D&&(b=null===d||void 0===d?void 0:d.addVariantChild(j)),E.forEach((function(e,t){return P(t,e)})),null===d||void 0===d||d.children.add(j),j.setProps(h)},unmount:function(){var e;null===(e=j.projection)||void 0===e||e.unmount(),Ns.update(M),Ns.render(A),T.forEach((function(e){return e()})),null===b||void 0===b||b(),null===d||void 0===d||d.children.delete(j),k.clearAllListeners(),g=void 0,_=!1},addVariantChild:function(e){var t,r=j.getClosestVariantNode();if(r)return null===(t=r.variantChildren)||void 0===t||t.add(e),function(){return r.variantChildren.delete(e)}},sortNodePosition:function(e){return c&&r===e.treeType?c(j.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return L?j:null===d||void 0===d?void 0:d.getClosestVariantNode()},getLayoutId:function(){return h.layoutId},getInstance:function(){return g},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){j.isVisible!==e&&(j.isVisible=e,j.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),i(j,e,h,t)},measureViewportBox:function(){return a(g,h)},addValue:function(e,t){j.hasValue(e)&&j.removeValue(e),E.set(e,t),x[e]=t.get(),P(e,t)},removeValue:function(e){var t;E.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete x[e],u(e,w)},hasValue:function(e){return E.has(e)},getValue:function(e,t){var r=E.get(e);return void 0===r&&void 0!==t&&(r=Js(t),j.addValue(e,r)),r},forEachValue:function(e){return E.forEach(e)},readValue:function(e){var r;return null!==(r=x[e])&&void 0!==r?r:l(g,e,t)},setBaseTarget:function(e,t){C[e]=t},getBaseTarget:function(e){if(o){var t=o(h,e);if(void 0!==t&&!Qs(t))return t}return C[e]}},k),{build:function(){return I(),w},scheduleRender:function(){Ws.render(A,!1,!0)},syncRender:A,setProps:function(e){(e.transformTemplate||h.transformTemplate)&&j.scheduleRender(),h=e,k.updatePropListeners(e),S=function(e,t,r){var n;for(var o in t){var i=t[o],a=r[o];if(Qs(i))e.addValue(o,i);else if(Qs(a))e.addValue(o,Js(i));else if(a!==i)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(i)}else e.addValue(o,Js(null!==(n=e.getStaticValue(o))&&void 0!==n?n:i))}for(var o in r)void 0===t[o]&&e.removeValue(o);return t}(j,f(h),S)},getProps:function(){return h},getVariant:function(e){var t;return null===(t=h.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return h.transition},getTransformPagePoint:function(){return h.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===d||void 0===d?void 0:d.getVariantContext();if(!D){var t=(null===d||void 0===d?void 0:d.getVariantContext())||{};return void 0!==h.initial&&(t.initial=h.initial),t}for(var r={},n=0;n<Zh;n++){var o=Wh[n],i=h[o];(xs(i)||!1===i)&&(r[o]=i)}return r}});return j}},Wh=os(["initial"],ns(gh),!1),Zh=Wh.length;function Hh(e){return"string"===typeof e&&e.startsWith("var(--")}var Xh=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function $h(e,t,r){void 0===r&&(r=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var n=ns(function(e){var t=Xh.exec(e);if(!t)return[,];var r=ns(t,3);return[r[1],r[2]]}(e),2),o=n[0],i=n[1];if(o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():Hh(i)?$h(i,t,r+1):i}}var Kh,Yh=new Set(["width","height","top","left","right","bottom","x","y"]),Jh=function(e){return Yh.has(e)},Qh=function(e,t){e.set(t,!1),e.set(t)},ep=function(e){return e===ml||e===Al};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Kh||(Kh={}));var tp=function(e,t){return parseFloat(e.split(", ")[t])},rp=function(e,t){return function(r,n){var o=n.transform;if("none"===o||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return tp(i[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?tp(a[1],e):0}},np=new Set(["x","y","z"]),op=of.filter((function(e){return!np.has(e)}));var ip={width:function(e,t){var r=e.x,n=t.paddingLeft,o=void 0===n?"0":n,i=t.paddingRight,a=void 0===i?"0":i;return r.max-r.min-parseFloat(o)-parseFloat(a)},height:function(e,t){var r=e.y,n=t.paddingTop,o=void 0===n?"0":n,i=t.paddingBottom,a=void 0===i?"0":i;return r.max-r.min-parseFloat(o)-parseFloat(a)},top:function(e,t){var r=t.top;return parseFloat(r)},left:function(e,t){var r=t.left;return parseFloat(r)},bottom:function(e,t){var r=e.y,n=t.top;return parseFloat(n)+(r.max-r.min)},right:function(e,t){var r=e.x,n=t.left;return parseFloat(n)+(r.max-r.min)},x:rp(4,13),y:rp(5,14)},ap=function(e,t,r,n){void 0===r&&(r={}),void 0===n&&(n={}),t=es({},t),n=es({},n);var o=Object.keys(t).filter(Jh),i=[],a=!1,s=[];if(o.forEach((function(o){var l=e.getValue(o);if(e.hasValue(o)){var u,c=r[o],f=lh(c),d=t[o];if(Vu(d)){var h=d.length,p=null===d[0]?1:0;c=d[p],f=lh(c);for(var v=p;v<h;v++)u?lh(d[v]):(u=lh(d[v]))===f||ep(f)&&ep(u)}else u=lh(d);if(f!==u)if(ep(f)&&ep(u)){var m=l.get();"string"===typeof m&&l.set(parseFloat(m)),"string"===typeof d?t[o]=parseFloat(d):Array.isArray(d)&&u===Al&&(t[o]=d.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===c||0===d)?0===c?l.set(u.transform(c)):t[o]=f.transform(d):(a||(i=function(e){var t=[];return op.forEach((function(r){var n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(o),n[o]=void 0!==n[o]?n[o]:t[o],Qh(l,d))}})),s.length){var l=function(e,t,r){var n=t.measureViewportBox(),o=t.getInstance(),i=getComputedStyle(o),a=i.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),r.forEach((function(e){s[e]=ip[e](n,i)})),t.syncRender();var l=t.measureViewportBox();return r.forEach((function(r){var n=t.getValue(r);Qh(n,s[r]),e[r]=ip[r](l,i)})),e}(t,e,s);return i.length&&i.forEach((function(t){var r=ns(t,2),n=r[0],o=r[1];e.getValue(n).set(o)})),e.syncRender(),{target:l,transitionEnd:n}}return{target:t,transitionEnd:n}};function sp(e,t,r,n){return function(e){return Object.keys(e).some(Jh)}(t)?ap(e,t,r,n):{target:t,transitionEnd:n}}var lp=function(e,t,r,n){var o=function(e,t,r){var n,o=ts(t,[]),i=e.getInstance();if(!(i instanceof Element))return{target:o,transitionEnd:r};for(var a in r&&(r=es({},r)),e.forEachValue((function(e){var t=e.get();if(Hh(t)){var r=$h(t,i);r&&e.set(r)}})),o){var s=o[a];if(Hh(s)){var l=$h(s,i);l&&(o[a]=l,r&&(null!==(n=r[a])&&void 0!==n||(r[a]=s)))}}return{target:o,transitionEnd:r}}(e,t,n);return sp(e,t=o.target,r,n=o.transitionEnd)};var up={treeType:"dom",readValueFromInstance:function(e,t){if(lf(t)){var r=ec(t);return r&&r.default||0}var n,o=(n=e,window.getComputedStyle(n));return(Gf(t)?o.getPropertyValue(t):o[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var r;return null===(r=e.style)||void 0===r?void 0:r[t]},measureViewportBox:function(e,t){return Fh(e,t.transformPagePoint)},resetTransform:function(e,t,r){var n=r.transformTemplate;t.style.transform=n?n({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var r=t.vars,n=t.style;delete r[e],delete n[e]},makeTargetAnimatable:function(e,t,r,n){var o=r.transformValues;void 0===n&&(n=!0);var i=t.transition,a=t.transitionEnd,s=ts(t,["transition","transitionEnd"]),l=function(e,t,r){var n,o,i={};for(var a in e)i[a]=null!==(n=hh(a,t))&&void 0!==n?n:null===(o=r.getValue(a))||void 0===o?void 0:o.get();return i}(s,i||{},e);if(o&&(a&&(a=o(a)),s&&(s=o(s)),l&&(l=o(l))),n){!function(e,t,r){var n,o,i,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),l=s.length;if(l)for(var u=0;u<l;u++){var c=s[u],f=t[c],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(o=null!==(n=r[c])&&void 0!==n?n:e.readValue(c))&&void 0!==o?o:t[c]),void 0!==d&&null!==d&&("string"===typeof d&&(oh(d)||ih(d))?d=parseFloat(d):!ch(d)&&Hl.test(f)&&(d=tc(c,f)),e.addValue(c,Js(d)),null!==(i=(a=r)[c])&&void 0!==i||(a[c]=d),e.setBaseTarget(c,d))}}(e,s,l);var u=lp(e,s,l,a);a=u.transitionEnd,s=u.target}return es({transition:i,transitionEnd:a},s)},scrapeMotionValuesFromProps:dd,build:function(e,t,r,n,o){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),Wf(t,r,n,o.transformTemplate)},render:ud},cp=qh(up),fp=qh(es(es({},up),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var r;return lf(t)?(null===(r=ec(t))||void 0===r?void 0:r.default)||0:(t=cd.has(t)?t:ld(t),e.getAttribute(t))},scrapeMotionValuesFromProps:hd,build:function(e,t,r,n,o){nd(t,r,n,o.transformTemplate)},render:fd})),dp=function(e,t){return Bf(e)?fp(t,{enableHardwareAcceleration:!1}):cp(t,{enableHardwareAcceleration:!0})};function hp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var pp={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Al.test(e))return e;e=parseFloat(e)}var r=hp(e,t.target.x),n=hp(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},vp="_$css",mp={correct:function(e,t){var r=t.treeScale,n=t.projectionDelta,o=e,i=e.includes("var("),a=[];i&&(e=e.replace(Xh,(function(e){return a.push(e),vp})));var s=Hl.parse(e);if(s.length>5)return o;var l=Hl.createTransformer(e),u="number"!==typeof s[0]?1:0,c=n.x.scale*r.x,f=n.y.scale*r.y;s[0+u]/=c,s[1+u]/=f;var d=Zs(c,f,.5);"number"===typeof s[2+u]&&(s[2+u]/=d),"number"===typeof s[3+u]&&(s[3+u]/=d);var h=l(s);if(i){var p=0;h=h.replace(vp,(function(){var e=a[p];return p++,e}))}return h}},yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qa(t,e),t.prototype.componentDidMount=function(){var e,t=this,r=this.props,n=r.visualElement,o=r.layoutGroup,i=r.switchLayoutGroup,a=r.layoutId,s=n.projection;e=gp,Object.assign(ef,e),s&&((null===o||void 0===o?void 0:o.group)&&o.group.add(s),(null===i||void 0===i?void 0:i.register)&&a&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(es(es({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),pf.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,r=this.props,n=r.layoutDependency,o=r.visualElement,i=r.drag,a=r.isPresent,s=o.projection;return s?(s.isPresent=a,i||e.layoutDependency!==n||void 0===n?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Ws.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,r=e.layoutGroup,n=e.switchLayoutGroup,o=t.projection;o&&(o.scheduleCheckAfterUnmount(),(null===r||void 0===r?void 0:r.group)&&r.group.remove(o),(null===n||void 0===n?void 0:n.deregister)&&n.deregister(o))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(e.Component);var gp={borderRadius:es(es({},pp),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:pp,borderTopRightRadius:pp,borderBottomLeftRadius:pp,borderBottomRightRadius:pp,boxShadow:mp},bp={measureLayout:function(t){var r=ns(rh(),2),n=r[0],o=r[1],i=(0,e.useContext)(Rf);return e.createElement(yp,es({},t,{layoutGroup:i,switchLayoutGroup:(0,e.useContext)(Df),isPresent:n,safeToRemove:o}))}},_p=vf({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),xp={current:void 0},wp=vf({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!xp.current){var e=new _p(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),xp.current=e}return xp.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),kp=es(es(es(es({},Eh),Jd),Uh),bp),Ep=Ff((function(e,t){return function(e,t,r,n,o){var i=t.forwardMotionProps,a=void 0!==i&&i,s=Bf(e)?bd:_d;return es(es({},s),{preloadedFeatures:r,useRender:ad(a),createVisualElement:n,projectionNodeConstructor:o,Component:e})}(e,t,kp,dp,wp)}));function Tp(){return(Tp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Sp=e.forwardRef((function(t,r){var n,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","children"]),s=Ha(),l=s.open,u=s.animate,c=Fa().accordion.styles.base,f=e.useRef(null);o=null!=o?o:"";var d=Dn()(Nn(c.body),o),h={unmount:{height:"0px",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{height:(null==(n=f.current)?void 0:n.scrollHeight)+"px",transition:{duration:.2,times:[.4,0,.2,1]}}},p=Gn()({unmount:{opacity:0,transition:{duration:.3,ease:"linear"}},mount:{opacity:1,transition:{duration:.3,ease:"linear"}}},u);return e.createElement(Ep.div,{className:"overflow-hidden",ref:f,initial:"unmount",exit:"unmount",animate:l?"mount":"unmount",variants:h},e.createElement(Ep.div,Tp({},a,{ref:r,className:d,initial:"unmount",exit:"unmount",animate:l?"mount":"unmount",variants:p}),i))}));Sp.propTypes={className:Ga,children:Wa},Sp.displayName="MaterialTailwind.AccordionBody";var Cp=Sp;function Ap(){return(Ap=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ip=e.forwardRef((function(t,r){var n,o=t.open,i=t.icon,a=t.animate,s=t.className,l=t.disabled,u=t.children,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["open","icon","animate","className","disabled","children"]),f=Fa().accordion,d=f.defaultProps,h=f.styles.base;i=null!=i?i:d.icon,a=null!=a?a:d.animate,s=null!=s?s:d.className,l=null!=l?l:d.disabled;var p=Dn()(Nn(h.container),((n={})[Nn(h.disabled)]=l,n),s),v=e.useMemo((function(){return{open:o,icon:i,animate:a}}),[o,i,a]);return e.createElement(Xa,{value:v},e.createElement("div",Ap({},c,{ref:r,className:p}),u))}));Ip.propTypes={open:Na,icon:Ba,animate:Va,disabled:Ua,className:Ga,children:Wa},Ip.displayName="MaterialTailwind.Accordion";Object.assign(Ip,{Header:Ya,Body:Cp});function Mp(){var t=(0,e.useRef)(!1);return ps((function(){return t.current=!0,function(){t.current=!1}}),[]),t}var Pp=function(t){var r=t.children,n=t.initial,o=t.isPresent,i=t.onExitComplete,a=t.custom,s=t.presenceAffectsLayout,l=As(Op),u=th(),c=(0,e.useMemo)((function(){return{id:u,initial:n,isPresent:o,custom:a,onExitComplete:function(e){var t,r;l.set(e,!0);try{for(var n=rs(l.values()),o=n.next();!o.done;o=n.next()){if(!o.value)return}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}null===i||void 0===i||i()},register:function(e){return l.set(e,!1),function(){return l.delete(e)}}}}),s?void 0:[o]);return(0,e.useMemo)((function(){l.forEach((function(e,t){return l.set(t,!1)}))}),[o]),e.useEffect((function(){!o&&!l.size&&(null===i||void 0===i||i())}),[o]),e.createElement(ds.Provider,{value:c},r)};function Op(){return new Map}var zp=function(e){return e.key||""};var Rp=function(t){var r=t.children,n=t.custom,o=t.initial,i=void 0===o||o,a=t.onExitComplete,s=t.exitBeforeEnter,l=t.presenceAffectsLayout,u=void 0===l||l,c=ns(function(){var t=Mp(),r=ns((0,e.useState)(0),2),n=r[0],o=r[1],i=(0,e.useCallback)((function(){t.current&&o(n+1)}),[n]);return[(0,e.useCallback)((function(){return Ws.postRender(i)}),[i]),n]}(),1),f=c[0],d=(0,e.useContext)(Rf).forceRender;d&&(f=d);var h=Mp(),p=function(t){var r=[];return e.Children.forEach(t,(function(t){(0,e.isValidElement)(t)&&r.push(t)})),r}(r),v=p,m=new Set,y=(0,e.useRef)(v),g=(0,e.useRef)(new Map).current,b=(0,e.useRef)(!0);if(ps((function(){b.current=!1,function(e,t){e.forEach((function(e){var r=zp(e);t.set(r,e)}))}(p,g),y.current=v})),Ud((function(){b.current=!0,g.clear(),m.clear()})),b.current)return e.createElement(e.Fragment,null,v.map((function(t){return e.createElement(Pp,{key:zp(t),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:u},t)})));v=os([],ns(v),!1);for(var _=y.current.map(zp),x=p.map(zp),w=_.length,k=0;k<w;k++){var E=_[k];-1===x.indexOf(E)&&m.add(E)}return s&&m.size&&(v=[]),m.forEach((function(t){if(-1===x.indexOf(t)){var r=g.get(t);if(r){var o=_.indexOf(t);v.splice(o,0,e.createElement(Pp,{key:zp(r),isPresent:!1,onExitComplete:function(){g.delete(t),m.delete(t);var e=y.current.findIndex((function(e){return e.key===t}));if(y.current.splice(e,1),!m.size){if(y.current=p,!1===h.current)return;f(),a&&a()}},custom:n,presenceAffectsLayout:u},r))}}})),v=v.map((function(t){var r=t.key;return m.has(r)?t:e.createElement(Pp,{key:zp(t),isPresent:!0,presenceAffectsLayout:u},t)})),e.createElement(e.Fragment,null,m.size?v:v.map((function(t){return(0,e.cloneElement)(t)})))},Dp=r(8660),Lp=r.n(Dp);function jp(e,t,r){return e.findIndex((function(e){return e===t}))>=0?t:r}function Fp(){return(Fp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Np=e.forwardRef((function(t,r){var n=t.variant,o=t.color,i=t.icon,a=t.show,s=t.dismissible,l=t.animate,u=t.className,c=t.children,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","icon","show","dismissible","animate","className","children"]),d=Fa().alert,h=d.defaultProps,p=d.valid,v=d.styles,m=v.base,y=v.variants,g=new(Lp());n=null!=n?n:h.variant,o=null!=o?o:h.color,u=null!=u?u:h.className,l=null!=l?l:h.animate,a=null!=a?a:h.show;var b=Nn(m),_=Nn(y[jp(p.variants,n,"filled")][jp(p.colors,o,"blue")]),x=Dn()(b,_,u),w=Gn()({unmount:{opacity:0},mount:{opacity:1}},l),k=e.createElement("div",{className:"absolute top-4 left-4"},i);return e.createElement(Rp,null,a&&e.createElement(Ep.div,Fp({},f,{ref:r,role:"alert",className:x,initial:"unmount",exit:"unmount",animate:a?"mount":"unmount",variants:w}),i&&k,e.createElement("div",{className:(i?"ml-8":"")+" mr-12"},c),s&&e.createElement("div",{className:"absolute top-3 right-3 w-max rounded-lg hover:bg-white hover:bg-opacity-20 transition-all"},e.createElement("div",{role:"button",onClick:s.onClose,onMouseDown:function(e){return!s.action&&g.create(e,"light")},className:"w-max "+(s.action?"":"p-1 rounded-lg")},s.action||e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))))}));Np.propTypes={variant:Vn().oneOf(Kn),color:Vn().oneOf(Yn),icon:Jn,show:Qn,dismissible:eo,animate:to,className:ro,children:no},Np.displayName="MaterialTailwind.Alert";function Bp(){return(Bp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Vp=e.forwardRef((function(t,r){var n=t.variant,o=t.size,i=t.className,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","size","className"]),s=Fa().avatar,l=s.valid,u=s.defaultProps,c=s.styles,f=c.base,d=c.variants,h=c.sizes;n=null!=n?n:u.variant,o=null!=o?o:u.size,i=null!=i?i:u.className;var p=Nn(d[jp(l.variants,n,"rounded")]),v=Nn(h[jp(l.sizes,o,"md")]),m=Dn()(Nn(f),p,v,i);return e.createElement("img",Bp({},a,{ref:r,className:m}))}));Vp.propTypes={variant:Vn().oneOf(io),size:Vn().oneOf(ao),className:so},Vp.displayName="MaterialTailwind.Avatar";var Up=Vn().node,Gp=Vn().bool,qp=Vn().string,Wp=Vn().node.isRequired;function Zp(){return(Zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Hp=(0,e.forwardRef)((function(t,r){var n,o=t.separator,i=t.fullWidth,a=t.className,s=t.children,l=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["separator","fullWidth","className","children"]),u=Fa().breadcrumbs,c=u.defaultProps,f=u.styles.base;o=null!=o?o:c.separator,i=null!=i?i:c.fullWidth,a=null!=a?a:c.className;var d=Dn()(Nn(f.root.initial),((n={})[Nn(f.root.fullWidth)]=i,n)),h=Dn()(Nn(f.list),a),p=Dn()(Nn(f.item.initial)),v=Dn()(Nn(f.separator));return e.createElement("nav",{"aria-label":"breadcrumb",className:d},e.createElement("ol",Zp({},l,{ref:r,className:h}),e.Children.map(s,(function(t,r){var n,i;return(0,e.isValidElement)(t)?e.createElement("li",{className:Dn()(p,((i={})[Nn(f.item.disabled)]=null==t||null==(n=t.props)?void 0:n.disabled,i))},t,r!==e.Children.count(s)-1&&e.createElement("span",{className:v},o)):null}))))}));Hp.propTypes={separator:Up,fullWidth:Gp,className:qp,children:Wp},Hp.displayName="MaterialTailwind.Breacrumbs";function Xp(){return(Xp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var $p=e.forwardRef((function(t,r){var n,o=t.variant,i=t.size,a=t.color,s=t.fullWidth,l=t.ripple,u=t.className,c=t.children,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","size","color","fullWidth","ripple","className","children"]),d=Fa().button,h=d.valid,p=d.defaultProps,v=d.styles,m=v.base,y=v.variants,g=v.sizes;o=null!=o?o:p.variant,i=null!=i?i:p.size,a=null!=a?a:p.color,s=null!=s?s:p.fullWidth,l=null!=l?l:p.ripple,u=null!=u?u:p.className;var b=void 0!==l&&new(Lp()),_=Nn(m.initial),x=Nn(y[jp(h.variants,o,"filled")][jp(h.colors,a,"blue")]),w=Nn(g[jp(h.sizes,i,"md")]),k=Dn()(_,w,x,((n={})[Nn(m.fullWidth)]=s,n),u);return e.createElement("button",Xp({},f,{ref:r,className:k,type:f.type||"button",onMouseDown:function(e){var t=null==f?void 0:f.onMouseDown;return l&&b.create(e,"filled"===o||"gradient"===o?"light":"dark"),"function"==typeof t&&t(e)}}),c)}));$p.propTypes={variant:Vn().oneOf(vo),size:Vn().oneOf(mo),color:Vn().oneOf(yo),fullWidth:go,ripple:bo,className:_o,children:xo},$p.displayName="MaterialTailwind.Button";function Kp(){return(Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Yp=e.forwardRef((function(t,r){var n,o,i=t.variant,a=t.color,s=t.shadow,l=t.floated,u=t.className,c=t.children,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","shadow","floated","className","children"]),d=Fa().cardHeader,h=d.defaultProps,p=d.styles,v=d.valid,m=p.base,y=p.variants;i=null!=i?i:h.variant,a=null!=a?a:h.color,s=null!=s?s:h.shadow,l=null!=l?l:h.floated,u=null!=u?u:h.className;var g=Nn(m.initial),b=Nn(y[jp(v.variants,i,"filled")][jp(v.colors,a,"white")]),_=Dn()(g,b,((n={})[Nn(m.shadow)]=s,n),((o={})[Nn(m.floated)]=l,o),u);return e.createElement("div",Kp({},f,{ref:r,className:_}),c)}));Yp.propTypes={variant:Vn().oneOf(Co),color:Vn().oneOf(Ao),shadow:Io,floated:Mo,className:Oo,children:zo},Yp.displayName="MaterialTailwind.CardHeader";var Jp=Yp;function Qp(){return(Qp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ev=e.forwardRef((function(t,r){var n=t.className,o=t.children,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","children"]),a=Fa().cardBody,s=a.defaultProps,l=a.styles.base;n=null!=n?n:s.className;var u=Dn()(Nn(l),n);return e.createElement("div",Qp({},i,{ref:r,className:u}),o)}));ev.propTypes={className:Oo,children:zo},ev.displayName="MaterialTailwind.CardBody";var tv=ev;function rv(){return(rv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var nv=e.forwardRef((function(t,r){var n,o=t.divider,i=t.className,a=t.children,s=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["divider","className","children"]),l=Fa().cardFooter,u=l.defaultProps,c=l.styles.base;i=null!=i?i:u.className,o=null!=o?o:u.divider;var f=Dn()(Nn(c.initial),((n={})[Nn(c.divider)]=o,n),i);return e.createElement("div",rv({},s,{ref:r,className:f}),a)}));nv.propTypes={divider:Po,className:Oo,children:zo},nv.displayName="MaterialTailwind.CardFooter";var ov=nv;function iv(){return(iv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var av=e.forwardRef((function(t,r){var n,o=t.variant,i=t.color,a=t.shadow,s=t.className,l=t.children,u=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","shadow","className","children"]),c=Fa().card,f=c.defaultProps,d=c.styles,h=c.valid,p=d.base,v=d.variants;o=null!=o?o:f.variant,i=null!=i?i:f.color,a=null!=a?a:f.shadow,s=null!=s?s:f.className;var m=Nn(p.initial),y=Nn(v[jp(h.variants,o,"filled")][jp(h.colors,i,"white")]),g=Dn()(m,y,((n={})[Nn(p.shadow)]=a,n),s);return e.createElement("div",iv({},u,{ref:r,className:g}),l)}));av.propTypes={variant:Vn().oneOf(Co),color:Vn().oneOf(Ao),shadow:Io,className:Oo,children:zo},av.displayName="MaterialTailwind.Card";Object.assign(av,{Header:Jp,Body:tv,Footer:ov});function sv(){return(sv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var lv=e.forwardRef((function(t,r){var n=t.color,o=t.label,i=t.icon,a=t.ripple,s=t.className,l=t.containerProps,u=t.labelProps,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["color","label","icon","ripple","className","containerProps","labelProps"]),f=Fa().checkbox,d=f.defaultProps,h=f.valid,p=f.styles,v=p.base,m=p.colors;n=null!=n?n:d.color,a=null!=a?a:d.ripple,s=null!=s?s:d.className;var y=void 0!==a&&new(Lp()),g=Dn()(Nn(v.root)),b=Dn()(Nn(v.container),null==l?void 0:l.className),_=Dn()(Nn(v.input),Nn(m[jp(h.colors,n,"blue")]),s),x=Dn()(Nn(v.label),null==u?void 0:u.className);return e.createElement("div",{ref:r,className:g},e.createElement("label",sv({},l,{className:b,htmlFor:c.id||"checkbox",onMouseDown:function(e){var t=null==l?void 0:l.onMouseDown;return a&&y.create(e,"dark"),"function"==typeof t&&t(e)}}),e.createElement("input",sv({},c,{type:"checkbox",className:_,id:c.id||"checkbox"})),e.createElement("div",{className:"text-white absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity"},i||e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 20 20",fill:"currentColor",stroke:"currentColor",strokeWidth:1},e.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})))),o&&e.createElement("label",sv({},u,{className:x,htmlFor:c.id||"checkbox"}),o))}));lv.propTypes={color:Vn().oneOf(Fo),label:No,icon:Bo,ripple:Vo,className:Uo,containerProps:Go,labelProps:qo},lv.displayName="MaterialTailwind.Checkbox";function uv(){return(uv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var cv=e.forwardRef((function(t,r){var n=t.variant,o=t.color,i=t.icon,a=t.show,s=t.dismissible,l=t.animate,u=t.className,c=t.value,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","icon","show","dismissible","animate","className","value"]),d=Fa().chip,h=d.defaultProps,p=d.valid,v=d.styles,m=v.base,y=v.variants,g=v.closeButtonColor,b=new(Lp());n=null!=n?n:h.variant,o=null!=o?o:h.color,u=null!=u?u:h.className,l=null!=l?l:h.animate,a=null!=a?a:h.show;var _=Nn(y[jp(p.variants,n,"filled")][jp(p.colors,o,"blue")]),x=Nn(g[jp(p.colors,o,"blue")]),w=Dn()(Nn(m),_,u),k=Dn()("absolute top-1 right-1 mt-[0.5px] mx-px w-max rounded-md",x,"transition-colors"),E=Gn()({unmount:{opacity:0},mount:{opacity:1}},l),T=e.createElement("div",{className:"w-5 h-5 absolute top-2/4 left-1 -translate-y-2/4"},i);return e.createElement(Rp,null,a&&e.createElement(Ep.div,uv({},f,{ref:r,className:w,initial:"unmount",exit:"unmount",animate:a?"mount":"unmount",variants:E}),i&&T,e.createElement("div",{className:(i?"ml-4":"")+" "+(s?"mr-5":"")+" mt-px"},c),s&&e.createElement("div",{className:k},e.createElement("div",{role:"button",onClick:s.onClose,onMouseDown:function(e){return!s.action&&b.create(e,"light")},className:"w-5 h-5 "+(s.action?"":"p-1")},s.action||e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))))))}));cv.propTypes={variant:Vn().oneOf(Ho),color:Vn().oneOf(Xo),icon:$o,show:Ko,dismissible:Yo,animate:Jo,className:Qo,value:ei},cv.displayName="MaterialTailwind.Chip";var fv=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],dv=["mainAxis","crossAxis","limiter"],hv=["apply"];function pv(e){return e.split("-")[0]}function vv(e){return e.split("-")[1]}function mv(e){return["top","bottom"].includes(pv(e))?"x":"y"}function yv(e){return"y"===e?"height":"width"}function gv(e,t,r){var n,o=e.reference,i=e.floating,a=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,l=mv(t),u=yv(l),c=o[u]/2-i[u]/2,f="x"===l;switch(pv(t)){case"top":n={x:a,y:o.y-i.height};break;case"bottom":n={x:a,y:o.y+o.height};break;case"right":n={x:o.x+o.width,y:s};break;case"left":n={x:o.x-i.width,y:s};break;default:n={x:o.x,y:o.y}}switch(vv(t)){case"start":n[l]-=c*(r&&f?-1:1);break;case"end":n[l]+=c*(r&&f?-1:1)}return n}var bv=function(){var e=xe(Me.mark((function e(t,r,n){var o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k,E,T,S,C;return Me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.placement,i=void 0===o?"bottom":o,a=n.strategy,s=void 0===a?"absolute":a,l=n.middleware,u=void 0===l?[]:l,c=n.platform,e.next=9,null==c.isRTL?void 0:c.isRTL(r);case 9:return f=e.sent,e.next=12,c.getElementRects({reference:t,floating:r,strategy:s});case 12:d=e.sent,h=gv(d,i,f),p=h.x,v=h.y,m=i,y={},g=0;case 19:if(!(g<u.length)){e.next=53;break}return _=u[g],x=_.name,w=_.fn,e.next=25,w({x:p,y:v,initialPlacement:i,placement:m,strategy:s,middlewareData:y,rects:d,platform:c,elements:{reference:t,floating:r}});case 25:if(k=e.sent,E=k.x,T=k.y,S=k.data,C=k.reset,p=null!=E?E:p,v=null!=T?T:v,y=me(me({},y),{},pe({},x,me(me({},y[x]),S))),e.t0=C,!e.t0){e.next=50;break}if(e.t1="object"==typeof C,!e.t1){e.next=49;break}if(C.placement&&(m=C.placement),e.t2=C.rects,!e.t2){e.next=48;break}if(!0!==C.rects){e.next=46;break}return e.next=43,c.getElementRects({reference:t,floating:r,strategy:s});case 43:e.t3=e.sent,e.next=47;break;case 46:e.t3=C.rects;case 47:d=e.t3;case 48:b=gv(d,m,f),p=b.x,v=b.y;case 49:g=-1;case 50:g++,e.next=19;break;case 53:return e.abrupt("return",{x:p,y:v,placement:m,strategy:s,middlewareData:y});case 54:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function _v(e){return"number"!=typeof e?function(e){return me({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function xv(e){return me(me({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function wv(e,t){return kv.apply(this,arguments)}function kv(){return kv=xe(Me.mark((function e(t,r){var n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k;return Me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r={}),o=t.x,i=t.y,a=t.platform,s=t.rects,l=t.elements,u=t.strategy,f=(c=r).boundary,d=void 0===f?"clippingAncestors":f,h=c.rootBoundary,p=void 0===h?"viewport":h,v=c.elementContext,m=void 0===v?"floating":v,y=c.altBoundary,g=void 0!==y&&y,b=c.padding,_=_v(void 0===b?0:b),x=l[g?"floating"===m?"reference":"floating":m],e.t0=xv,e.t1=a,e.next=24,null==a.isElement?void 0:a.isElement(x);case 24:if(e.t3=n=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=n;case 28:if(!e.t2){e.next=32;break}e.t4=x,e.next=38;break;case 32:if(e.t5=x.contextElement,e.t5){e.next=37;break}return e.next=36,null==a.getDocumentElement?void 0:a.getDocumentElement(l.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=d,e.t8=p,e.t9=u,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:if(e.t11=e.sent,w=(0,e.t0)(e.t11),e.t12=xv,!a.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=61;break}return e.t14=a,e.t15="floating"===m?me(me({},s.floating),{},{x:o,y:i}):s.reference,e.next=53,null==a.getOffsetParent?void 0:a.getOffsetParent(l.floating);case 53:return e.t16=e.sent,e.t17=u,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=58,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 58:e.t13=e.sent,e.next=62;break;case 61:e.t13=s[m];case 62:return e.t19=e.t13,k=(0,e.t12)(e.t19),e.abrupt("return",{top:w.top-k.top+_.top,bottom:k.bottom-w.bottom+_.bottom,left:w.left-k.left+_.left,right:k.right-w.right+_.right});case 65:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}var Ev=Math.min,Tv=Math.max;function Sv(e,t,r){return Tv(e,Ev(t,r))}var Cv={left:"right",right:"left",bottom:"top",top:"bottom"};function Av(e){return e.replace(/left|right|bottom|top/g,(function(e){return Cv[e]}))}function Iv(e,t,r){void 0===r&&(r=!1);var n=vv(e),o=mv(e),i=yv(o),a="x"===o?n===(r?"end":"start")?"right":"left":"start"===n?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Av(a)),{main:a,cross:Av(a)}}var Mv={start:"end",end:"start"};function Pv(e){return e.replace(/start|end/g,(function(e){return Mv[e]}))}var Ov=["top","right","bottom","left"],zv=(Ov.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return xe(Me.mark((function r(){var n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k,E,T,S,C,A,I,M,P,O,z,R,D,L;return Me.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.placement,i=t.middlewareData,a=t.rects,s=t.initialPlacement,l=t.platform,u=t.elements,f=(c=e).mainAxis,d=void 0===f||f,h=c.crossAxis,p=void 0===h||h,v=c.fallbackPlacements,m=c.fallbackStrategy,y=void 0===m?"bestFit":m,g=c.flipAlignment,b=void 0===g||g,_=ge(c,fv),x=pv(o),w=v||(x!==s&&b?function(e){var t=Av(e);return[Pv(e),t,Pv(t)]}(s):[Av(s)]),k=[s].concat(be(w)),r.next=22,wv(t,_);case 22:if(E=r.sent,T=[],S=(null==(n=i.flip)?void 0:n.overflows)||[],d&&T.push(E[x]),!p){r.next=36;break}return r.t0=Iv,r.t1=o,r.t2=a,r.next=31,null==l.isRTL?void 0:l.isRTL(u.floating);case 31:r.t3=r.sent,C=(0,r.t0)(r.t1,r.t2,r.t3),A=C.main,I=C.cross,T.push(E[A],E[I]);case 36:if(S=[].concat(be(S),[{placement:o,overflows:T}]),T.every((function(e){return e<=0}))){r.next=50;break}if(O=(null!=(M=null==(P=i.flip)?void 0:P.index)?M:0)+1,!(z=k[O])){r.next=40;break}return r.abrupt("return",{data:{index:O,overflows:S},reset:{placement:z}});case 40:R="bottom",r.t4=y,r.next="bestFit"===r.t4?44:"initialPlacement"===r.t4?47:48;break;case 44:return L=null==(D=S.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:D[0].placement,L&&(R=L),r.abrupt("break",48);case 47:R=s;case 48:if(o===R){r.next=50;break}return r.abrupt("return",{reset:{placement:R}});case 50:return r.abrupt("return",{});case 51:case"end":return r.stop()}}),r)})))()}}});var Rv=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return xe(Me.mark((function r(){var n,o,i,a,s,l,u;return Me.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.x,o=t.y,i=t.placement,a=t.rects,s=t.platform,l=t.elements,r.t0=function(e,t,r,n){void 0===n&&(n=!1);var o=pv(e),i=vv(e),a="x"===mv(e),s=["left","top"].includes(o)?-1:1,l=n&&a?-1:1,u="function"==typeof r?r(me(me({},t),{},{placement:e})):r,c="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:me({mainAxis:0,crossAxis:0,alignmentAxis:null},u),f=c.mainAxis,d=c.crossAxis,h=c.alignmentAxis;return i&&"number"==typeof h&&(d="end"===i?-1*h:h),a?{x:d*l,y:f*s}:{x:f*s,y:d*l}},r.t1=i,r.t2=a,r.t3=e,r.next=12,null==s.isRTL?void 0:s.isRTL(l.floating);case 12:return r.t4=r.sent,u=(0,r.t0)(r.t1,r.t2,r.t3,r.t4),r.abrupt("return",{x:n+u.x,y:o+u.y,data:u});case 15:case"end":return r.stop()}}),r)})))()}}};function Dv(e){return"x"===e?"y":"x"}var Lv=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return xe(Me.mark((function r(){var n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x,w,k;return Me.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=t.x,i=t.y,a=t.placement,l=(s=e).mainAxis,u=void 0===l||l,c=s.crossAxis,f=void 0!==c&&c,d=s.limiter,h=void 0===d?{fn:function(e){return{x:e.x,y:e.y}}}:d,p=ge(s,dv),v={x:o,y:i},r.next=14,wv(t,p);case 14:return m=r.sent,y=mv(pv(a)),g=Dv(y),b=v[y],_=v[g],u&&(x="y"===y?"bottom":"right",b=Sv(b+m["y"===y?"top":"left"],b,b-m[x])),f&&(w="y"===g?"bottom":"right",_=Sv(_+m["y"===g?"top":"left"],_,_-m[w])),k=h.fn(me(me({},t),{},(pe(n={},y,b),pe(n,g,_),n))),r.abrupt("return",me(me({},k),{},{data:{x:k.x-o,y:k.y-i}}));case 22:case"end":return r.stop()}}),r)})))()}}},jv=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return xe(Me.mark((function r(){var n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g,b,_,x;return Me.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.placement,o=t.rects,i=t.platform,a=t.elements,l=(s=e).apply,u=ge(s,hv),r.next=9,wv(t,u);case 9:if(c=r.sent,f=pv(n),d=vv(n),"top"!==f&&"bottom"!==f){r.next=31;break}return h=f,r.t0=d,r.next=17,null==i.isRTL?void 0:i.isRTL(a.floating);case 17:if(!r.sent){r.next=21;break}r.t1="start",r.next=22;break;case 21:r.t1="end";case 22:if(r.t2=r.t1,r.t0!==r.t2){r.next=27;break}r.t3="left",r.next=28;break;case 27:r.t3="right";case 28:p=r.t3,r.next=32;break;case 31:p=f,h="end"===d?"top":"bottom";case 32:return v=Tv(c.left,0),m=Tv(c.right,0),y=Tv(c.top,0),g=Tv(c.bottom,0),b={height:o.floating.height-(["left","right"].includes(n)?2*(0!==y||0!==g?y+g:Tv(c.top,c.bottom)):c[h]),width:o.floating.width-(["top","bottom"].includes(n)?2*(0!==v||0!==m?v+m:Tv(c.left,c.right)):c[p])},r.next=39,i.getDimensions(a.floating);case 39:return _=r.sent,null==l||l(me(me({},b),o)),r.next=43,i.getDimensions(a.floating);case 43:return x=r.sent,r.abrupt("return",_.width!==x.width||_.height!==x.height?{reset:{rects:!0}}:{});case 45:case"end":return r.stop()}}),r)})))()}}};function Fv(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function Nv(e){if(null==e)return window;if(!Fv(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bv(e){return Nv(e).getComputedStyle(e)}function Vv(e){return Fv(e)?"":e?(e.nodeName||"").toLowerCase():""}function Uv(e){return e instanceof Nv(e).HTMLElement}function Gv(e){return e instanceof Nv(e).Element}function qv(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Nv(e).ShadowRoot||e instanceof ShadowRoot)}function Wv(e){var t=Bv(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function Zv(e){return["table","td","th"].includes(Vv(e))}function Hv(e){var t=navigator.userAgent.toLowerCase().includes("firefox"),r=Bv(e);return"none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||["transform","perspective"].includes(r.willChange)||t&&"filter"===r.willChange||t&&!!r.filter&&"none"!==r.filter}function Xv(){return!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}var $v=Math.min,Kv=Math.max,Yv=Math.round;function Jv(e,t,r){var n,o,i,a;void 0===t&&(t=!1),void 0===r&&(r=!1);var s=e.getBoundingClientRect(),l=1,u=1;t&&Uv(e)&&(l=e.offsetWidth>0&&Yv(s.width)/e.offsetWidth||1,u=e.offsetHeight>0&&Yv(s.height)/e.offsetHeight||1);var c=Gv(e)?Nv(e):window,f=!Xv()&&r,d=(s.left+(f&&null!=(n=null==(o=c.visualViewport)?void 0:o.offsetLeft)?n:0))/l,h=(s.top+(f&&null!=(i=null==(a=c.visualViewport)?void 0:a.offsetTop)?i:0))/u,p=s.width/l,v=s.height/u;return{width:p,height:v,top:h,right:d+p,bottom:h+v,left:d,x:d,y:h}}function Qv(e){return(t=e,(t instanceof Nv(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function em(e){return Gv(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function tm(e){return Jv(Qv(e)).left+em(e).scrollLeft}function rm(e,t,r){var n=Uv(t),o=Qv(t),i=Jv(e,n&&function(e){var t=Jv(e);return Yv(t.width)!==e.offsetWidth||Yv(t.height)!==e.offsetHeight}(t),"fixed"===r),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(n||!n&&"fixed"!==r)if(("body"!==Vv(t)||Wv(o))&&(a=em(t)),Uv(t)){var l=Jv(t,!0);s.x=l.x+t.clientLeft,s.y=l.y+t.clientTop}else o&&(s.x=tm(o));return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function nm(e){return"html"===Vv(e)?e:e.assignedSlot||e.parentNode||(qv(e)?e.host:null)||Qv(e)}function om(e){return Uv(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function im(e){for(var t=Nv(e),r=om(e);r&&Zv(r)&&"static"===getComputedStyle(r).position;)r=om(r);return r&&("html"===Vv(r)||"body"===Vv(r)&&"static"===getComputedStyle(r).position&&!Hv(r))?t:r||function(e){var t=nm(e);for(qv(t)&&(t=t.host);Uv(t)&&!["html","body"].includes(Vv(t));){if(Hv(t))return t;t=t.parentNode}return null}(e)||t}function am(e){if(Uv(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=Jv(e);return{width:t.width,height:t.height}}function sm(e){var t=nm(e);return["html","body","#document"].includes(Vv(t))?e.ownerDocument.body:Uv(t)&&Wv(t)?t:sm(t)}function lm(e,t){var r;void 0===t&&(t=[]);var n=sm(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=Nv(n),a=o?[i].concat(i.visualViewport||[],Wv(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(lm(a))}function um(e,t,r){return"viewport"===t?xv(function(e,t){var r=Nv(e),n=Qv(e),o=r.visualViewport,i=n.clientWidth,a=n.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var u=Xv();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,r)):Gv(t)?function(e,t){var r=Jv(e,!1,"fixed"===t),n=r.top+e.clientTop,o=r.left+e.clientLeft;return{top:n,left:o,x:o,y:n,right:o+e.clientWidth,bottom:n+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,r):xv(function(e){var t,r=Qv(e),n=em(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Kv(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=Kv(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+tm(e),l=-n.scrollTop;return"rtl"===Bv(o||r).direction&&(s+=Kv(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(Qv(e)))}var cm={getClippingRect:function(e){var t=e.element,r=e.boundary,n=e.rootBoundary,o=e.strategy,i=[].concat(be("clippingAncestors"===r?function(e){var t=lm(e),r=["absolute","fixed"].includes(Bv(e).position)&&Uv(e)?im(e):e;return Gv(r)?t.filter((function(e){return Gv(e)&&function(e,t){var r=null==t||null==t.getRootNode?void 0:t.getRootNode();if(null!=e&&e.contains(t))return!0;if(r&&qv(r)){var n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}return!1}(e,r)&&"body"!==Vv(e)})):[]}(t):[].concat(r)),[n]),a=i[0],s=i.reduce((function(e,r){var n=um(t,r,o);return e.top=Kv(n.top,e.top),e.right=$v(n.right,e.right),e.bottom=$v(n.bottom,e.bottom),e.left=Kv(n.left,e.left),e}),um(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,r=e.offsetParent,n=e.strategy,o=Uv(r),i=Qv(r);if(r===i)return t;var a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if((o||!o&&"fixed"!==n)&&(("body"!==Vv(r)||Wv(i))&&(a=em(r)),Uv(r))){var l=Jv(r,!0);s.x=l.x+r.clientLeft,s.y=l.y+r.clientTop}return me(me({},t),{},{x:t.x-a.scrollLeft+s.x,y:t.y-a.scrollTop+s.y})},isElement:Gv,getDimensions:am,getOffsetParent:im,getDocumentElement:Qv,getElementRects:function(e){var t=e.reference,r=e.floating,n=e.strategy;return{reference:rm(t,im(r),n),floating:me(me({},am(r)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===Bv(e).direction}};function fm(e,t,r,n){void 0===n&&(n={});var o=n,i=o.ancestorScroll,a=void 0===i||i,s=o.ancestorResize,l=void 0===s||s,u=o.elementResize,c=void 0===u||u,f=o.animationFrame,d=void 0!==f&&f,h=!1,p=a&&!d,v=l&&!d,m=c&&!d,y=p||v?[].concat(be(Gv(e)?lm(e):[]),be(lm(t))):[];y.forEach((function(e){p&&e.addEventListener("scroll",r,{passive:!0}),v&&e.addEventListener("resize",r)}));var g,b=null;m&&(b=new ResizeObserver(r),Gv(e)&&b.observe(e),b.observe(t));var _=d?Jv(e):null;return d&&function t(){if(!h){var n=Jv(e);!_||n.x===_.x&&n.y===_.y&&n.width===_.width&&n.height===_.height||r(),_=n,g=requestAnimationFrame(t)}}(),function(){var e;h=!0,y.forEach((function(e){p&&e.removeEventListener("scroll",r),v&&e.removeEventListener("resize",r)})),null==(e=b)||e.disconnect(),b=null,d&&cancelAnimationFrame(g)}}var dm="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function hm(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var r,n,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!hm(e[n],t[n]))return!1;return!0}if((r=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,o[n]))return!1;for(n=r;0!==n--;){var i=o[n];if(("_owner"!==i||!e.$$typeof)&&!hm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function pm(t){var r=void 0===t?{}:t,o=r.middleware,i=r.placement,s=void 0===i?"bottom":i,l=r.strategy,u=void 0===l?"absolute":l,c=(0,e.useRef)(null),f=(0,e.useRef)(null),d=a((0,e.useState)({x:null,y:null,strategy:u,placement:s,middlewareData:{}}),2),h=d[0],p=d[1],v=a((0,e.useState)(o),2),m=v[0],y=v[1];hm(null==m?void 0:m.map((function(e){return e.options})),null==o?void 0:o.map((function(e){return e.options})))||y(o);var g=(0,e.useRef)(!0);dm((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,e.useCallback)((function(){c.current&&f.current&&function(e,t,r){return bv(e,t,me({platform:cm},r))}(c.current,f.current,{middleware:m,placement:s,strategy:u}).then((function(e){g.current&&(0,n.flushSync)((function(){p(e)}))}))}),[m,s,u]);dm(b,[b]);var _=(0,e.useCallback)((function(e){c.current=e,b()}),[b]),x=(0,e.useCallback)((function(e){f.current=e,b()}),[b]),w=(0,e.useMemo)((function(){return{reference:c,floating:f}}),[]);return(0,e.useMemo)((function(){return me(me({},h),{},{update:b,refs:w,reference:_,floating:x})}),[h,b,w,_,x])}var vm=r(5021),mm=new WeakMap,ym=new WeakMap,gm={},bm=0,_m=function(e,t,r){void 0===t&&(t=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===r&&(r="data-aria-hidden");var n=Array.isArray(e)?e:[e];gm[r]||(gm[r]=new WeakMap);var o=gm[r],i=[],a=new Set;n.forEach((function e(t){t&&!a.has(t)&&(a.add(t),e(t.parentNode))}));return function e(t){!t||n.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(a.has(t))e(t);else{var n=t.getAttribute("aria-hidden"),s=null!==n&&"false"!==n,l=(mm.get(t)||0)+1,u=(o.get(t)||0)+1;mm.set(t,l),o.set(t,u),i.push(t),1===l&&s&&ym.set(t,!0),1===u&&t.setAttribute(r,"true"),s||t.setAttribute("aria-hidden","true")}}))}(t),a.clear(),bm++,function(){i.forEach((function(e){var t=mm.get(e)-1,n=o.get(e)-1;mm.set(e,t),o.set(e,n),t||(ym.has(e)||e.removeAttribute("aria-hidden"),ym.delete(e)),n||e.removeAttribute(r)})),--bm||(mm=new WeakMap,mm=new WeakMap,ym=new WeakMap,gm={})}},xm=["lockScroll"],wm="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function km(){var e=new Map;return{emit:function(t,r){var n;null==(n=e.get(t))||n.forEach((function(e){return e(r)}))},on:function(t,r){e.set(t,[].concat(be(e.get(t)||[]),[r]))},off:function(t,r){e.set(t,(e.get(t)||[]).filter((function(e){return e!==r})))}}}var Em=!1,Tm=0,Sm=function(){return"floating-ui-"+Tm++};var Cm=t["useId".toString()],Am=null!=Cm?Cm:function(){var t=a(e.useState((function(){return Em?Sm():void 0})),2),r=t[0],n=t[1];return wm((function(){null==r&&n(Sm())}),[]),e.useEffect((function(){Em||(Em=!0)}),[]),r},Im=(0,e.createContext)(null),Mm=(0,e.createContext)(null),Pm=function(){var t,r;return null!=(t=null==(r=(0,e.useContext)(Im))?void 0:r.id)?t:null},Om=function(){return(0,e.useContext)(Mm)},zm=function(t){var r=t.children,n=t.id,o=Pm();return e.createElement(Im.Provider,{value:(0,e.useMemo)((function(){return{id:n,parentId:o}}),[n,o])},r)},Rm=function(t){var r=t.children,n=(0,e.useRef)([]),o=(0,e.useCallback)((function(e){n.current=[].concat(be(n.current),[e])}),[]),i=(0,e.useCallback)((function(e){n.current=n.current.filter((function(t){return t!==e}))}),[]),a=(0,e.useState)((function(){return km()}))[0];return e.createElement(Mm.Provider,{value:(0,e.useMemo)((function(){return{nodesRef:n,addNode:o,removeNode:i,events:a}}),[n,o,i,a])},r)};function Dm(e,t,r){var n={};return me(me(me({},"floating"===r&&{tabIndex:-1}),e),t.map((function(e){return e?e[r]:null})).concat(e).reduce((function(e,t){return t?(Object.entries(t).forEach((function(t){var r=a(t,2),o=r[0],i=r[1];0===o.indexOf("on")?(n[o]||(n[o]=[]),"function"===typeof i&&n[o].push(i),e[o]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n[o].forEach((function(e){return e.apply(void 0,t)}))}):e[o]=i})),e):e}),{}))}var Lm=function(e){return void 0===e&&(e=[]),{getReferenceProps:function(t){return Dm(t,e,"reference")},getFloatingProps:function(t){return Dm(t,e,"floating")},getItemProps:function(t){return Dm(t,e,"item")}}};function jm(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function Fm(e){var t;return null!=(t=jm(e).defaultView)?t:window}function Nm(e){return!!e&&e instanceof Fm(e).Element}function Bm(e){return!!e&&e instanceof Fm(e).HTMLElement}function Vm(e,t){for(var r,n=null!=(r=null==e?void 0:e.nodesRef.current.filter((function(e){var r;return e.parentId===t&&(null==(r=e.context)?void 0:r.open)})))?r:[],o=n;o.length;){var i;o=null!=(i=null==e?void 0:e.nodesRef.current.filter((function(e){var t;return null==(t=o)?void 0:t.some((function(t){var r;return e.parentId===t.id&&(null==(r=e.context)?void 0:r.open)}))})))?i:[],n=n.concat(o)}return n}function Um(e){var t,r=void 0===e?{}:e,n=r.restMs,o=void 0===n?0:n,i=r.buffer,s=void 0===i?1:i;r.debug;return function(e){var r=e.x,n=e.y,i=e.placement,l=e.refs,u=e.onClose,c=e.nodeId,f=e.tree;return function(e){var d;if(clearTimeout(t),!e.pointerType||"mouse"===e.pointerType){var h=e.target,p=e.clientX,v=e.clientY,m=h;if(!("pointermove"===e.type&&Nm(l.reference.current)&&l.reference.current.contains(m)||null!=(d=l.floating.current)&&d.contains(m))&&(!f||!Vm(f,c).some((function(e){var t=e.context;return null==t?void 0:t.open})))&&l.reference.current&&l.floating.current&&null!=i&&null!=r&&null!=n){var y=l.reference.current.getBoundingClientRect(),g=l.floating.current.getBoundingClientRect(),b=i.split("-")[0],_=r>g.right-g.width/2,x=n>g.bottom-g.height/2;switch(b){case"top":if(p>=g.left&&p<=g.right&&v>=g.bottom&&v<=y.top)return;break;case"bottom":if(p>=g.left&&p<=g.right&&v>=y.bottom&&v<=g.top)return;break;case"left":if(p>=g.right&&p<=y.left&&v>=g.left&&v<=g.right)return;break;case"right":if(p>=g.right&&p<=y.left&&v>=g.right&&v<=y.left)return}var w=function(e){var t=a(e,2),r=t[0],n=t[1],o=g.width>y.width,i=g.height>y.height;switch(b){case"top":var l=[o?r:_?r+s:r-s,n+s],u=[o?r:_?r-s:r+s,n+s],c=[[g.left,_||o?g.bottom-s:g.top],[g.right,_?o?g.bottom-s:g.top:g.bottom-s]];return _?[l,u].concat(c):[l].concat(c,[u]);case"bottom":var f=[o?r:_?r+s:r-s,n-s],d=[o?r:_?r-s:r+s,n-s],h=[[g.left,_||o?g.top+s:g.bottom],[g.right,_?o?g.top+s:g.bottom:g.top+s]];return _?[f,d].concat(h):[f].concat(h,[d]);case"left":var p=[r+s,i?n:x?n-s:n+s],v=[r+s,i?n:x?n+s:n-s],m=[[x||i?g.right-s:g.left,g.top],[x?i?g.right-s:g.left:g.right-s,g.bottom]];return x?[p].concat(m,[v]):[].concat(m,[p,v]);case"right":var w=[r-s,i?n:x?n+s:n-s],k=[r-s,i?n:x?n-s:n+s],E=[[x||i?g.left+s:g.right,g.top],[x?i?g.left+s:g.right:g.left+s,g.bottom]];return x?[w,k].concat(E):[w].concat(E,[k])}}([r,n]);0,vm([p,v],w)?o&&(t=setTimeout(u,o)):(clearTimeout(t),u())}}}}}var Gm=function(t){var r=t.children,o=t.id,i=void 0===o?"floating-ui-root":o,s=a((0,e.useState)(!1),2),l=s[0],u=s[1],c=(0,e.useRef)(null);return wm((function(){var e=document.getElementById(i);e?c.current=e:(c.current=document.createElement("div"),c.current.id=i);var t=c.current;document.body.contains(t)||document.body.appendChild(t),u(!0)}),[i]),l&&c.current?(0,n.createPortal)(r,c.current):null};function qm(){return qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}var Wm="data-floating-ui-scroll-lock",Zm=(0,e.forwardRef)((function(t,r){var n=t.lockScroll,o=void 0!==n&&n,i=ge(t,xm);return wm((function(){if(o){var e=window.pageXOffset,t=window.pageYOffset,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",n=window.innerWidth-document.documentElement.clientWidth;if(!document.body.hasAttribute(Wm))return Object.assign(document.body.style,pe({position:"fixed",overflow:"hidden",top:"-"+t+"px",left:"-"+e+"px",right:"0"},r,n+"px")),document.body.setAttribute(Wm,""),function(){Object.assign(document.body.style,pe({position:"",overflow:"",top:"",left:"",right:""},r,"")),document.body.removeAttribute(Wm),window.scrollTo(e,t)}}}),[o]),e.createElement("div",qm({ref:r},i,{style:me({position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0},i.style)}))}));function Hm(e){e.preventDefault(),e.stopPropagation()}function Xm(t){var r=(0,e.useRef)(t);return wm((function(){r.current=t})),r}function $m(e){requestAnimationFrame((function(){null==e||e.focus()}))}var Km=(0,e.forwardRef)((function(t,r){return e.createElement("span",qm({},t,{ref:r,tabIndex:0,style:{position:"fixed",opacity:"0",pointerEvents:"none",outline:"0"}}))}));function Ym(t){var r=t.context,n=r.refs,o=r.nodeId,i=r.onOpenChange,a=t.children,s=t.order,l=void 0===s?["content"]:s,u=t.endGuard,c=void 0===u||u,f=t.preventTabbing,d=void 0!==f&&f,h=t.initialFocus,p=void 0===h?0:h,v=t.returnFocus,m=void 0===v||v,y=t.modal,g=void 0===y||y,b=Xm(l),_=Xm(i),x=Om(),w=(0,e.useCallback)((function(){return b.current.map((function(e){return Bm(n.reference.current)&&"reference"===e?n.reference.current:n.floating.current&&"floating"===e?n.floating.current:"content"===e?Array.from(null!=(t=null==(r=n.floating.current)?void 0:r.querySelectorAll("input:not([type='hidden']):not([disabled]),select:not([disabled]),textarea:not([disabled]),a[href],button:not([disabled]),[tabindex],iframe,object,embed,area[href],audio[controls],video[controls],[contenteditable]:not([contenteditable='false'])"))?t:[]):null;var t,r})).flat().filter((function(e){return e===n.floating.current||e===n.reference.current||(Bm(e)?"-"!==(null!=(t=e.getAttribute("tabindex"))?t:"0")[0].trim():void 0);var t}))}),[b,n.floating,n.reference]);return(0,e.useEffect)((function(){var e=0===w().filter((function(e){return e!==n.floating.current&&e!==n.reference.current})).length;function t(t){if("Tab"===t.key){(d||e)&&Hm(t);var r=w();"reference"===b.current[0]&&t.target===n.reference.current&&(Hm(t),t.shiftKey?$m(r[r.length-1]):$m(r[1])),"floating"===b.current[1]&&t.target===n.floating.current&&t.shiftKey&&(Hm(t),$m(r[0]))}}var r=jm(n.floating.current);return r.addEventListener("keydown",t),function(){r.removeEventListener("keydown",t)}}),[d,w,b,n.floating,n.reference]),(0,e.useEffect)((function(){function e(e){var t,r=e.relatedTarget;null!=(t=n.floating.current)&&t.contains(r)||!Nm(n.reference.current)||n.reference.current.contains(r)||x&&Vm(x,o).some((function(e){var t,n;return null==(t=e.context)||null==(n=t.refs.floating.current)?void 0:n.contains(r)}))||_.current(!1)}var t=n.floating.current,r=n.reference.current;if(t&&Bm(r)){!g&&t.addEventListener("focusout",e);var i=g?_m(t):null;return function(){!g&&t.removeEventListener("focusout",e),null==i||i()}}}),[o,x,g,_,w,p,n.floating,n.reference]),(0,e.useEffect)((function(){var e;if(!d){var t,r=n.floating.current,o=null!=(e=jm(r).activeElement)?e:document.activeElement;if("number"===typeof p)$m(null!=(t=w()[p])?t:r);else if(Bm(null==p?void 0:p.current)){var i;$m(null!=(i=p.current)?i:r)}return function(){m&&Bm(o)&&$m(o)}}}),[d,w,p,g,m,n.floating]),e.createElement(e.Fragment,null,g&&e.createElement(Km,{onFocus:function(e){Hm(e);var t=w();"reference"===l[0]?$m(t[0]):$m(t[t.length-1])}}),(0,e.cloneElement)(a,l.includes("floating")?{tabIndex:0}:{}),g&&c&&e.createElement(Km,{onFocus:function(e){Hm(e),$m(w()[0])}}))}function Jm(e,t,r){return r&&"mouse"!==r?0:"number"===typeof e?e:null==e?void 0:e[t]}var Qm=function(t,r){var n=void 0===r?{}:r,o=n.enabled,i=void 0===o||o,a=n.delay,s=void 0===a?0:a,l=n.handleClose,u=void 0===l?null:l,c=n.mouseOnly,f=void 0!==c&&c,d=n.restMs,h=void 0===d?0:d,p=t.open,v=t.onOpenChange,m=t.dataRef,y=t.events,g=t.refs,b=Om(),_=Xm(v),x=Xm(u),w=(0,e.useRef)(),k=(0,e.useRef)(),E=(0,e.useRef)(),T=(0,e.useRef)(),S=(0,e.useRef)(!0);wm((function(){i&&(p||(w.current=void 0))})),(0,e.useEffect)((function(){if(i)return y.on("dismiss",e),function(){y.off("dismiss",e)};function e(){clearTimeout(k.current),clearTimeout(T.current),S.current=!0}}),[i,y,g.floating]),(0,e.useEffect)((function(){if(i&&x.current){var e=jm(g.floating.current).documentElement;return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseleave",t)}}function t(){var e;null!=(e=m.current.openEvent)&&e.type.includes("mouse")&&_.current(!1)}}),[g.floating,_,i,x,m]);var C=(0,e.useCallback)((function(e){void 0===e&&(e=!0),s&&!E.current?(clearTimeout(k.current),k.current=setTimeout((function(){return _.current(!1)}),Jm(s,"close",w.current))):e&&_.current(!1)}),[s,_]),A=(0,e.useCallback)((function(){E.current&&(jm(g.floating.current).removeEventListener("pointermove",E.current),E.current=void 0)}),[g.floating]);if((0,e.useEffect)((function(){p||A()}),[p,i,A]),(0,e.useEffect)((function(){if(i){var e=g.reference.current;return Nm(e)?(e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",n),function(){e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",n)}):void 0}function r(e){clearTimeout(k.current),S.current=!1,p||f&&"mouse"!==w.current||h>0&&0===Jm(s,"open")||(m.current.openEvent=e,s?k.current=setTimeout((function(){_.current(!0)}),Jm(s,"open",w.current)):_.current(!0))}function n(e){var r,n;if("click"!==(null==(r=m.current.openEvent)?void 0:r.type)&&"pointerdown"!==(null==(n=m.current.openEvent)?void 0:n.type)){var o=jm(g.floating.current);if(clearTimeout(T.current),x.current)return clearTimeout(k.current),E.current&&o.removeEventListener("pointermove",E.current),E.current=x.current(me(me({},t),{},{tree:b,x:e.clientX,y:e.clientY,onClose:function(){A(),C()}})),void o.addEventListener("pointermove",E.current);C()}}}),[i,C,t,s,x,m,f,_,p,b,h,A,g.reference,g.floating]),!i)return{};function I(e){w.current=e.pointerType}return{reference:{onPointerDown:I,onPointerEnter:I,onMouseMove:function(){p||0===h||(clearTimeout(T.current),T.current=setTimeout((function(){S.current||v(!0)}),h))}},floating:{onMouseEnter:function(){clearTimeout(k.current)},onMouseLeave:function(){return C(!1)}}}},ey=function(e,t){var r=e.open,n=void 0===t?{}:t,o=n.enabled,i=void 0===o||o,a=n.role,s=void 0===a?"dialog":a,l=Am(),u=Am(),c={id:l,role:s};return i?"tooltip"===s?{reference:{"aria-describedby":r?l:void 0},floating:c}:{reference:me(me({"aria-expanded":r?"true":"false","aria-haspopup":s,"aria-controls":r?l:void 0},"listbox"===s&&{role:"combobox"}),"menu"===s&&{id:u}),floating:me(me({},c),"menu"===s&&{"aria-labelledby":u})}:{}},ty=function(t,r){var n=t.open,o=t.onOpenChange,i=t.dataRef,a=void 0===r?{}:r,s=a.enabled,l=void 0===s||s,u=a.pointerDown,c=void 0!==u&&u,f=a.toggle,d=void 0===f||f,h=(0,e.useRef)();return l?{reference:me(me({},c&&{onPointerDown:function(e){var t;(h.current=e.pointerType,n)?d&&"pointerdown"===(null==(t=i.current.openEvent)?void 0:t.type)&&o(!1):o(!0);i.current.openEvent=e.nativeEvent}}),{},{onClick:function(e){if(c&&h.current)h.current=void 0;else{var t;if(n)d&&"click"===(null==(t=i.current.openEvent)?void 0:t.type)&&o(!1);else o(!0);i.current.openEvent=e.nativeEvent}}})}:{}},ry=function(t,r){var n=t.open,o=t.onOpenChange,i=t.refs,a=t.events,s=t.nodeId,l=void 0===r?{}:r,u=l.enabled,c=void 0===u||u,f=l.escapeKey,d=void 0===f||f,h=l.outsidePointerDown,p=void 0===h||h,v=l.referencePointerDown,m=void 0!==v&&v,y=l.ancestorScroll,g=void 0!==y&&y,b=l.bubbles,_=void 0===b||b,x=Om(),w=Xm(o),k=(0,e.useCallback)((function(){var e;return null==(e=i.floating.current)?void 0:e.contains(jm(i.floating.current).activeElement)}),[i.floating]),E=(0,e.useCallback)((function(){Bm(i.reference.current)&&i.reference.current.focus()}),[i.reference]);return(0,e.useEffect)((function(){if(n&&c){var e=jm(i.floating.current);d&&e.addEventListener("keydown",r),p&&e.addEventListener("mousedown",o);var t=(g?[].concat(be(Nm(i.reference.current)?lm(i.reference.current):[]),be(Nm(i.floating.current)?lm(i.floating.current):[])):[]).filter((function(t){var r;return t!==(null==(r=e.defaultView)?void 0:r.visualViewport)}));return t.forEach((function(e){return e.addEventListener("scroll",l,{passive:!0})})),function(){d&&e.removeEventListener("keydown",r),p&&e.removeEventListener("mousedown",o),t.forEach((function(e){return e.removeEventListener("scroll",l)}))}}function r(e){if("Escape"===e.key){if(!_&&!k())return;a.emit("dismiss"),w.current(!1),E()}}function o(e){var t,r=x&&Vm(x,s).some((function(t){var r,n;return null==(r=t.context)||null==(n=r.refs.floating.current)?void 0:n.contains(e.target)}));null!=(t=i.floating.current)&&t.contains(e.target)||Nm(i.reference.current)&&i.reference.current.contains(e.target)||r||(_||k())&&(a.emit("dismiss"),w.current(!1),E())}function l(){w.current(!1)}}),[d,p,a,x,s,n,w,E,g,c,_,k,i.floating,i.reference]),c?{reference:{onPointerDown:function(){m&&(a.emit("dismiss"),o(!1))}}}:{}},ny=function(t,r){var n=t.open,o=t.onOpenChange,i=t.dataRef,a=t.refs,s=t.events,l=void 0===r?{}:r,u=l.enabled,c=void 0===u||u,f=l.keyboardOnly,d=void 0===f||f,h=(0,e.useRef)(!1);return(0,e.useEffect)((function(){var e;if(c){var t=null!=(e=jm(a.floating.current).defaultView)?e:window;return t.addEventListener("focus",o),t.addEventListener("blur",r),function(){t.removeEventListener("focus",o),t.removeEventListener("blur",r)}}function r(){h.current=!n}function o(){setTimeout((function(){h.current=!1}))}}),[a.floating,n,c]),(0,e.useEffect)((function(){if(c)return s.on("dismiss",e),function(){s.off("dismiss",e)};function e(){h.current=!0}}),[s,c]),c?{reference:{onPointerDown:function(e){var t=e.pointerType;h.current=!(!t||!d)},onFocus:function(e){var t,r,n;h.current||"focus"===e.type&&"mousedown"===(null==(t=i.current.openEvent)?void 0:t.type)&&Nm(a.reference.current)&&null!=(r=a.reference.current)&&r.contains(null==(n=i.current.openEvent)?void 0:n.target)||(i.current.openEvent=e.nativeEvent,o(!0))},onBlur:function(e){var t,r=e.relatedTarget;null!=(t=a.floating.current)&&t.contains(r)||Nm(a.reference.current)&&a.reference.current.contains(r)||(h.current=!1,o(!1))}}}:{}};var oy="ArrowUp",iy="ArrowDown",ay="ArrowLeft",sy="ArrowRight";function ly(e,t){var r=void 0===t?{}:t,n=r.startingIndex,o=void 0===n?-1:n,i=r.decrement,a=void 0!==i&&i,s=e.current,l=o;do{var u,c;l+=a?-1:1}while(l>=0&&l<=s.length-1&&(null==s[l]||null!=(u=s[l])&&u.hasAttribute("disabled")||"true"===(null==(c=s[l])?void 0:c.getAttribute("aria-disabled"))));return l}function uy(e,t,r){switch(e){case"vertical":return t;case"horizontal":return r;default:return t||r}}function cy(e,t){return uy(t,e===oy||e===iy,e===ay||e===sy)}function fy(e,t,r){return uy(t,e===iy,r?e===ay:e===sy)}function dy(e){return ly(e)}function hy(e){return ly(e,{decrement:!0,startingIndex:e.current.length})}var py=function(t,r){var n=t.open,o=t.onOpenChange,i=t.refs,s=void 0===r?{listRef:{current:[]},activeIndex:null,onNavigate:function(){}}:r,l=s.listRef,u=s.activeIndex,c=s.onNavigate,f=s.enabled,d=void 0===f||f,h=s.selectedIndex,p=void 0===h?null:h,v=s.allowEscape,m=void 0!==v&&v,y=s.loop,g=void 0!==y&&y,b=s.nested,_=void 0!==b&&b,x=s.rtl,w=void 0!==x&&x,k=s.virtual,E=void 0!==k&&k,T=s.focusItemOnOpen,S=void 0===T?"auto":T,C=s.focusItemOnHover,A=void 0===C||C,I=s.orientation,M=void 0===I?"vertical":I;var P=Pm(),O=Om(),z=function(t){var r=(0,e.useRef)();return wm((function(){r.current=t}),[t]),r.current}(n),R=(0,e.useRef)(S),D=(0,e.useRef)(null!=p?p:-1),L=(0,e.useRef)(""),j=(0,e.useRef)(!1),F=Xm(c),N=(0,e.useRef)(!1),B=a((0,e.useState)(),2),V=B[0],U=B[1],G=(0,e.useCallback)((function(e,t){var r,n;E?U(null==(r=e.current[t.current])?void 0:r.id):null==(n=e.current[t.current])||n.focus({preventScroll:!0})}),[E]);function q(e){"auto"===S&&(R.current=!e.pointerType)}function W(e){if(N.current=!0,_&&function(e,t,r){return uy(t,r?e===sy:e===ay,e===oy)}(e.key,M,w))return Hm(e),o(!1),void(Bm(i.reference.current)&&i.reference.current.focus());var t=D.current,r=dy(l),n=hy(l);if("Home"===e.key&&(D.current=r,c(D.current)),"End"===e.key&&(D.current=n,c(D.current)),cy(e.key,M)){if(Hm(e),!E&&e.currentTarget.ownerDocument.activeElement===e.currentTarget)return D.current=null!=p?p:fy(e.key,M,w)?r:n,void c(D.current);fy(e.key,M,w)?D.current=g?t>=n?m&&t!==l.current.length?-1:r:ly(l,{startingIndex:t}):Math.min(n,ly(l,{startingIndex:t})):D.current=g?t<=r?m&&-1!==t?l.current.length:n:ly(l,{startingIndex:t,decrement:!0}):Math.max(r,ly(l,{startingIndex:t,decrement:!0})),c(D.current)}}return wm((function(){d&&(null!=p&&(D.current=p),!z&&n&&R.current&&(F.current(D.current),G(l,D)))}),[n,z,p,l,F,G,d]),wm((function(){d&&n&&(null===u?(!z&&R.current&&null==p||m)&&(D.current=m?-1:dy(l),F.current(u),G(l,D)):(D.current=u,F.current(u),G(l,D)))}),[n,z,u,p,_,l,F,G,d,P,m,i.floating,null==O?void 0:O.nodesRef]),wm((function(){if(null==p&&d){if(n&&(cy(L.current,M)||R.current&&(" "===L.current||"Enter"===L.current))){var e=dy(l),t=hy(l);D.current=function(e,t,r){return uy(t,e===oy,r?e===sy:e===ay)}(L.current,M,w)?m?l.current.length:t:m?-1:e,F.current(D.current),G(l,D)}L.current=""}}),[n,l,p,F,G,d,M,w,m]),wm((function(){d&&!n&&j.current&&null!=p&&Bm(i.reference.current)&&i.reference.current.focus()}),[i.reference,p,n,d]),wm((function(){return j.current=!0,function(){j.current=!1}}),[]),wm((function(){var e;d&&(n||("auto"===S&&(R.current=!0),D.current=null!=(e=null!=p?p:u)?e:-1,F.current(null)))}),[n,p,u,d,S,F]),d?{reference:me(me({},E&&n&&null!=u&&{"aria-activedescendant":V}),{},{onPointerEnter:q,onPointerDown:q,onKeyDown:function(e){if(N.current=!0,E&&n)return W(e);"auto"===S&&(R.current=!0),L.current=e.key,_?function(e,t,r){return uy(t,r?e===ay:e===sy,e===iy)}(e.key,M,w)&&(Hm(e),n?(D.current=dy(l),c(D.current)):o(!0)):(cy(e.key,M)&&(D.current=null==p?fy(e.key,M,w)?dy(l):hy(l):p,Hm(e),o(!0),c(D.current)),E&&!n&&W(e))}}),floating:me(me({"aria-orientation":"both"===M?void 0:M},E&&null!=u&&{"aria-activedescendant":V}),{},{onKeyDown:W,onPointerMove:function(){N.current=!1}}),item:me({onClick:function(e){return e.currentTarget.focus({preventScroll:!0})}},A&&{onPointerMove:function(e){var t=e.currentTarget;if(t){var r=l.current.indexOf(t);-1!==r&&c(r)}},onPointerLeave:function(){var e;N.current||(c(null),E?(D.current=-1,G(l,D)):null==(e=i.floating.current)||e.focus({preventScroll:!0}))}})}:{}},vy=function(t,r){var n,o=t.open,i=t.dataRef,a=void 0===r?{listRef:{current:[]},activeIndex:null}:r,s=a.listRef,l=a.activeIndex,u=a.onMatch,c=void 0===u?function(){}:u,f=a.enabled,d=void 0===f||f,h=a.findMatch,p=void 0===h?null:h,v=a.resetMs,m=void 0===v?1e3:v,y=a.ignoreKeys,g=void 0===y?[]:y,b=a.selectedIndex,_=void 0===b?null:b,x=(0,e.useRef)(),w=(0,e.useRef)(""),k=(0,e.useRef)(null!=(n=null!=_?_:l)?n:-1),E=(0,e.useRef)(null);function T(e){if(e.currentTarget.contains(jm(e.currentTarget).activeElement)){w.current.length>0&&" "!==w.current[0]&&(i.current.typing=!0," "===e.key&&Hm(e));var t=s.current;if(null!=t&&!["Home","End","Escape","Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].concat(be(g)).includes(e.key)){t.every((function(e){var t,r;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(r=e[1])?void 0:r.toLocaleLowerCase())}))&&w.current===e.key&&(w.current="",k.current=E.current),w.current+=e.key,clearTimeout(x.current),x.current=setTimeout((function(){w.current="",k.current=E.current,i.current.typing=!1}),m);var r=k.current,n=[].concat(be(t.slice((null!=r?r:0)+1)),be(t.slice(0,(null!=r?r:0)+1))),o=p?p(n,w.current):n.find((function(e){return 0===(null==e?void 0:e.toLocaleLowerCase().indexOf(w.current))})),a=o?t.indexOf(o):-1;-1!==a&&(c(a),E.current=a)}}}return wm((function(){o&&(clearTimeout(x.current),E.current=null,w.current="")}),[o]),wm((function(){var e;o&&""===w.current&&(k.current=null!=(e=null!=_?_:l)?e:-1)}),[o,_,l]),d?{reference:{onKeyDown:T},floating:{onKeyDown:T}}:{}};function my(t){var r=void 0===t?{}:t,n=r.open,o=void 0!==n&&n,i=r.onOpenChange,a=void 0===i?function(){}:i,s=r.placement,l=r.middleware,u=r.strategy,c=r.nodeId,f=Om(),d=(0,e.useRef)({}),h=(0,e.useState)((function(){return km()}))[0],p=pm({placement:s,middleware:l,strategy:u}),v=(0,e.useMemo)((function(){return me(me({},p),{},{dataRef:d,nodeId:c,events:h,open:o,onOpenChange:a})}),[p,d,c,h,o,a]);return wm((function(){var e=null==f?void 0:f.nodesRef.current.find((function(e){return e.id===c}));e&&(e.context=v)})),(0,e.useMemo)((function(){return me({context:v},p)}),[p,v])}var yy=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}};function gy(){return(gy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var by=e.forwardRef((function(t,r){var n=t.className,o=t.children,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","children"]),a=Fa().dialogHeader,s=a.defaultProps,l=a.styles.base;n=null!=n?n:s.className;var u=Dn()(Nn(l),n);return e.createElement("div",gy({},i,{ref:r,className:u}),o)}));by.propTypes={className:li,children:ui},by.displayName="MaterialTailwind.DialogHeader";var _y=by;function xy(){return(xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var wy=e.forwardRef((function(t,r){var n,o=t.divider,i=t.className,a=t.children,s=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["divider","className","children"]),l=Fa().dialogBody,u=l.defaultProps,c=l.styles.base;i=null!=i?i:u.className;var f=Dn()(Nn(c.initial),((n={})[Nn(c.divider)]=o,n),i);return e.createElement("div",xy({},s,{ref:r,className:f}),a)}));wy.propTypes={divider:si,className:li,children:ui},wy.displayName="MaterialTailwind.DialogBody";var ky=wy;function Ey(){return(Ey=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ty=e.forwardRef((function(t,r){var n=t.className,o=t.children,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","children"]),a=Fa().dialogFooter,s=a.defaultProps,l=a.styles.base;n=null!=n?n:s.className;var u=Dn()(Nn(l),n);return e.createElement("div",Ey({},i,{ref:r,className:u}),o)}));Ty.propTypes={className:li,children:ui},Ty.displayName="MaterialTailwind.DialogFooter";var Sy=Ty;function Cy(){return(Cy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ay=e.forwardRef((function(t,r){var n=t.open,o=t.handler,i=t.size,a=t.dismiss,s=t.animate,l=t.className,u=t.children,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["open","handler","size","dismiss","animate","className","children"]),f=Fa().dialog,d=f.defaultProps,h=f.valid,p=f.styles,v=p.base,m=p.sizes;o=null!=o?o:void 0,i=null!=i?i:d.size,a=null!=a?a:d.dismiss,s=null!=s?s:d.animate,l=null!=l?l:d.className;var y=Dn()(Nn(v.backdrop)),g=Dn()(Nn(v.container),Nn(m[jp(h.sizes,i,"md")]),l),b=Gn()({unmount:{opacity:0,y:-50,transition:{duration:.3}},mount:{opacity:1,y:0,transition:{duration:.3}}},s),_=my({open:n,onOpenChange:o}),x=_.floating,w=_.context,k=Am(),E=Lm([ty(w),ey(w),ry(w,a)]).getFloatingProps,T=e.useMemo((function(){return yy([r,x])}),[x,r]);return e.createElement(Gm,null,e.createElement(Rp,null,n&&e.createElement(Zm,{style:{zIndex:9999},lockScroll:!0},e.createElement(Ym,{context:w},e.createElement(Ep.div,{className:"xxl"===i?"":y,initial:"unmount",exit:"unmount",animate:n?"mount":"unmount",variants:{unmount:{opacity:0,transition:{delay:.2}},mount:{opacity:1}},transition:{duration:.2}},e.createElement(Ep.div,Cy({},E(Cy({},c,{ref:T,className:g,"aria-labelledby":k+"-label","aria-describedby":k+"-description"})),{initial:"unmount",exit:"unmount",animate:n?"mount":"unmount",variants:b}),u))))))}));Ay.propTypes={open:ri,handler:ni,size:Vn().oneOf(oi),dismiss:ii,animate:ai,className:li,children:ui},Ay.displayName="MaterialTailwind.Dialog";Object.assign(Ay,{Header:_y,Body:ky,Footer:Sy});function Iy(){return(Iy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var My=e.forwardRef((function(t,r){var n=t.variant,o=t.size,i=t.color,a=t.ripple,s=t.className,l=t.children,u=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","size","color","ripple","className","children"]),c=Fa().iconButton,f=c.valid,d=c.defaultProps,h=c.styles,p=h.base,v=h.variants,m=h.sizes;n=null!=n?n:d.variant,o=null!=o?o:d.size,i=null!=i?i:d.color,a=null!=a?a:d.ripple,s=null!=s?s:d.className;var y=void 0!==a&&new(Lp()),g=Nn(p),b=Nn(v[jp(f.variants,n,"filled")][jp(f.colors,i,"blue")]),_=Nn(m[jp(f.sizes,o,"md")]),x=Dn()(g,_,b,s);return e.createElement("button",Iy({},u,{ref:r,className:x,type:u.type||"button",onMouseDown:function(e){var t=null==u?void 0:u.onMouseDown;return a&&y.create(e,"filled"===n||"gradient"===n?"light":"dark"),"function"==typeof t&&t(e)}}),l)}));My.propTypes={variant:Vn().oneOf(vo),size:Vn().oneOf(mo),color:Vn().oneOf(yo),ripple:bo,className:_o,children:xo},My.displayName="MaterialTailwind.IconButton";function Py(){return(Py=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Oy=e.forwardRef((function(t,r){var n,o,i,a,s,l,u,c=t.variant,f=t.color,d=t.size,h=t.label,p=t.error,v=t.success,m=t.icon,y=t.labelProps,g=t.className,b=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","size","label","error","success","icon","labelProps","className"]),_=Fa().input,x=_.defaultProps,w=_.valid,k=_.styles,E=k.base,T=k.variants;c=null!=c?c:x.variant,d=null!=d?d:x.size,f=null!=f?f:x.color,h=null!=h?h:x.label,y=null!=y?y:x.labelProps,g=null!=g?g:x.className,m=null!=m?m:x.icon;var S=T[jp(w.variants,c,"outlined")],C=S.sizes[jp(w.sizes,d,"md")],A=Nn(S.error.input),I=Nn(S.success.input),M=Nn(S.colors.input[jp(w.colors,f,"blue")]),P=Nn(S.error.label),O=Nn(S.success.label),z=Nn(S.colors.label[jp(w.colors,f,"blue")]),R=Dn()(Nn(E.container),Nn(C.container)),D=Dn()(Nn(E.input),Nn(S.base.input),Nn(C.input),((n={})[Nn(S.base.inputWithIcon)]=m,n),((o={})[M]=!p&&!v,o),((i={})[A]=p,i),((a={})[I]=v,a),g),L=Dn()(Nn(E.label),Nn(S.base.label),Nn(C.label),((s={})[z]=!p&&!v,s),((l={})[P]=p,l),((u={})[O]=v,u),null==y?void 0:y.className),j=Dn()(Nn(E.icon),Nn(S.base.icon),Nn(C.icon));return e.createElement("div",{ref:r,className:R},m&&e.createElement("div",{className:j},m),e.createElement("input",Py({},b,{className:D,placeholder:(null==b?void 0:b.placeholder)||" "})),e.createElement("label",{className:L},h))}));Oy.propTypes={variant:Vn().oneOf(gi),size:Vn().oneOf(bi),color:Vn().oneOf(_i),label:xi,error:wi,success:ki,icon:Ei,labelProps:Si,className:Ci},Oy.displayName="MaterialTailwind.Input";var zy=Vn().bool,Ry=Vn().func,Dy=$n,Ly=Xn,jy=Hn,Fy=Zn,Ny=Vn().bool,By=Vn().bool,Vy=Vn().string,Uy=Vn().node.isRequired,Gy=Vn().shape({open:Vn().bool.isRequired,handler:Vn().func.isRequired,setInternalOpen:Vn().func.isRequired,strategy:Vn().oneOf(["fixed","absolute"]).isRequired,x:Vn().number.isRequired,y:Vn().number.isRequired,reference:Vn().func.isRequired,floating:Vn().func.isRequired,listItemsRef:Vn().instanceOf(Object).isRequired,getReferenceProps:Vn().func.isRequired,getFloatingProps:Vn().func.isRequired,getItemProps:Vn().func.isRequired,appliedAnimation:Fy.isRequired,lockScroll:Vn().bool.isRequired,context:Vn().instanceOf(Object).isRequired}),qy=e.createContext(null);function Wy(){var t=e.useContext(qy);if(!t)throw new Error("useMenu() must be used within a Menu. It happens when you use MenuCore, MenuHandler, MenuItem or MenuList components outside the Menu component.");return t}qy.displayName="MaterialTailwind.MenuContext";var Zy=function(t){var r=t.value,n=t.children;return e.createElement(qy.Provider,{value:r},n)};Zy.prototypes={value:Gy,children:Uy},Zy.displayName="MaterialTailwind.MenuContextProvider";var Hy=e.forwardRef((function(t,r){var n=t.open,o=t.handler,i=t.placement,a=t.offset,s=t.dismiss,l=t.animate,u=t.lockScroll,c=t.children,f=Fa().menu.defaultProps,d=e.useState(!1),h=d[0],p=d[1];n=null!=n?n:h,o=null!=o?o:p,i=null!=i?i:f.placement,a=null!=a?a:f.offset,s=null!=s?s:f.dismiss,l=null!=l?l:f.animate,u=null!=u?u:f.lockScroll;var v=Gn()({unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},l),m=e.useState(null),y=m[0],g=m[1],b=e.useRef([]),_=e.useRef(e.Children.map(c,(function(t){return e.isValidElement(t)?t.props.children:null}))),x=Om(),w=function(){var e=Am(),t=Om(),r=Pm();return wm((function(){var n={id:e,parentId:r};return null==t||t.addNode(n),function(){null==t||t.removeNode(n)}}),[t,e,r]),e}(),k=Pm(),E=null!=k,T=my({open:n,onOpenChange:o,middleware:[Rv(a),zv(),Lv()],placement:i,nodeId:w}),S=T.x,C=T.y,A=T.reference,I=T.floating,M=T.strategy,P=T.refs,O=T.update,z=T.context,R=Lm([Qm(z,{handleClose:Um(),enabled:E}),ty(z),ey(z,{role:"menu"}),ry(z,s),py(z,{listRef:b,activeIndex:y,nested:E,onNavigate:g}),vy(z,{listRef:_,onMatch:n?g:void 0,activeIndex:y})]),D=R.getReferenceProps,L=R.getFloatingProps,j=R.getItemProps;e.useEffect((function(){if(n&&P.reference.current&&P.floating.current)return fm(P.reference.current,P.floating.current,O)}),[n,E,O,P.reference,P.floating]),e.useEffect((function(){var e=function(e){var t=e.openElement,r=e.referenceElement;e.parentElementId===w&&b.current.forEach((function(e){e&&e!==r&&(e.style.pointerEvents=t?"none":"")}))};return x.events.on("openChange",e),function(){x.events.off("openChange",e)}}),[w,x.events,P.reference,P.floating]),e.useEffect((function(){null==x||x.events.emit("openChange",{open:n,parentId:k,reference:P.reference.current})}),[x,n,k,P.reference]);var F=e.useMemo((function(){return{open:n,handler:o,setInternalOpen:p,strategy:M,x:S,y:C,reference:A,floating:I,listItemsRef:b,getReferenceProps:D,getFloatingProps:L,getItemProps:j,appliedAnimation:v,lockScroll:u,context:z}}),[n,o,p,M,S,C,A,I,D,L,j,v,u,z]);return e.createElement(Zy,{value:F},e.createElement(zm,{id:w},c))}));Hy.propTypes={open:zy,handler:Ry,placement:Vn().oneOf(Dy),offset:Ly,dismiss:jy,animate:Fy,lockScroll:Ny,children:Uy},Hy.displayName="MaterialTailwind.MenuCore";var Xy=Hy;function $y(){return($y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ky=e.forwardRef((function(t,r){var n=t.children,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children"]),i=Wy(),a=i.getReferenceProps,s=i.reference,l=e.useMemo((function(){return yy([r,s])}),[r,s]);return e.cloneElement(n,$y({},a($y({},o,{ref:l}))))}));Ky.propTypes={children:Uy},Ky.displayName="MaterialTailwind.MenuHandler";var Yy=Ky;function Jy(){return(Jy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Qy=e.forwardRef((function(t,r){var n=t.children,o=t.className,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children","className"]),a=Fa().menu;a.defaultProps;var s=a.styles.base,l=Wy(),u=l.open,c=l.handler,f=l.setInternalOpen,d=l.strategy,h=l.x,p=l.y,v=l.floating,m=l.listItemsRef,y=l.getFloatingProps,g=l.getItemProps,b=l.appliedAnimation,_=l.lockScroll,x=l.context;o=null!=o?o:"";var w=Dn()(Nn(s.menu),o),k=e.useMemo((function(){return yy([r,v])}),[r,v]),E=e.createElement(Ep.ul,Jy({},y(Jy({},i,{ref:k,className:w,style:{position:d,top:null!=p?p:"",left:null!=h?h:""}})),{initial:"unmount",exit:"unmount",animate:u?"mount":"unmount",variants:b}),e.Children.map(n,(function(t,r){return e.isValidElement(t)&&e.cloneElement(t,g(Jy({},t.props,{onClick:function(e){var r,n=null==(r=t.props)?void 0:r.onClick;"function"==typeof n&&c?n(e):"function"==typeof n&&(f(!1),n(e)),f(!1)},ref:function(e){m.current[r]=e}})))})));return e.createElement(Gm,null,e.createElement(Rp,null,u&&e.createElement(e.Fragment,null,_?e.createElement(Zm,{lockScroll:!0},e.createElement(Ym,{context:x,preventTabbing:!0},E)):e.createElement(Ym,{context:x,preventTabbing:!0},E))))}));Qy.propTypes={className:Vy,children:Uy},Qy.displayName="MaterialTailwind.MenuList";var eg=Qy;function tg(){return(tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var rg=e.forwardRef((function(t,r){var n,o=t.className,i=t.disabled,a=t.children,s=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["className","disabled","children"]),l=Fa().menu.styles.base;o=null!=o?o:"",i=null!=i&&i;var u=Dn()(Nn(l.item.initial),((n={})[Nn(l.item.disabled)]=i,n),o);return e.createElement("li",tg({},s,{ref:r,role:"menuitem",className:u}),a)}));rg.propTypes={className:Vy,disabled:By,children:Uy},rg.displayName="MaterialTailwind.MenuItem";var ng=rg;function og(){return(og=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ig=e.forwardRef((function(t,r){var n=t.open,o=t.handler,i=t.placement,a=t.offset,s=t.dismiss,l=t.animate,u=t.lockScroll,c=t.children,f={open:n,handler:o,placement:i,offset:a,dismiss:s,animate:l,lockScroll:u};return null==Pm()?e.createElement(Rm,null,e.createElement(Xy,og({ref:r},f),c)):e.createElement(Xy,og({ref:r},f),c)}));ig.propTypes=Xy.propTypes,ig.displayName="MaterialTailwind.Menu";Object.assign(ig,{Handler:Yy,List:eg,Item:ng});function ag(){return(ag=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var sg=e.forwardRef((function(t,r){var n,o=t.variant,i=t.color,a=t.shadow,s=t.blurred,l=t.fullWidth,u=t.className,c=t.children,f=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","shadow","blurred","fullWidth","className","children"]),d=Fa().navbar,h=d.defaultProps,p=d.valid,v=d.styles,m=v.base,y=v.variants;o=null!=o?o:h.variant,i=null!=i?i:h.color,a=null!=a?a:h.shadow,s=null!=s?s:h.blurred,l=null!=l?l:h.fullWidth,u=null!=u?u:h.className;var g=Dn()(Nn(m.initial),((n={})[Nn(m.shadow)]=a,n[Nn(m.blurred)]=s&&"white"===i,n[Nn(m.fullWidth)]=l,n)),b=Dn()(Nn(y[jp(p.variants,o,"filled")][jp(p.colors,i,"white")])),_=Dn()(g,b,u);return e.createElement("nav",ag({},f,{ref:r,className:_}),c)}));sg.propTypes={variant:Vn().oneOf(Pi),color:Vn().oneOf(Oi),shadow:zi,blurred:Ri,fullWidth:Di,className:Li,children:ji},sg.displayName="MaterialTailwind.Navbar";var lg=Vn().bool,ug=Vn().func,cg=$n,fg=Xn,dg=Hn,hg=Zn,pg=Vn().node,vg=Vn().bool,mg=Vn().string,yg=Vn().node.isRequired,gg=Vn().shape({open:Vn().bool.isRequired,strategy:Vn().oneOf(["fixed","absolute"]).isRequired,x:Vn().number,y:Vn().number,context:Vn().instanceOf(Object).isRequired,reference:Vn().func.isRequired,floating:Vn().func.isRequired,getReferenceProps:Vn().func.isRequired,getFloatingProps:Vn().func.isRequired,appliedAnimation:hg.isRequired,labelId:Vn().string.isRequired,descriptionId:Vn().string.isRequired}).isRequired,bg=e.createContext(null);function _g(){var t=e.useContext(bg);if(!t)throw new Error("usePopover() must be used within a Popover. It happens when you use PopoverHandler or PopoverContent components outside the Popover component.");return t}bg.displayName="MaterialTailwind.PopoverContext";var xg=function(t){var r=t.value,n=t.children;return e.createElement(bg.Provider,{value:r},n)};function wg(){return(wg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}xg.propTypes={value:gg,children:yg},xg.displayName="MaterialTailwind.PopoverContextProvider";var kg=e.forwardRef((function(t,r){var n=t.children,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children"]),i=_g(),a=i.getReferenceProps,s=i.reference,l=e.useMemo((function(){return yy([r,s])}),[r,s]);return e.cloneElement(n,wg({},a(wg({},o,{ref:l}))))}));kg.propTypes={children:yg},kg.displayName="MaterialTailwind.PopoverHandler";var Eg=kg;function Tg(){return(Tg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Sg=e.forwardRef((function(t,r){var n=t.children,o=t.className,i=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["children","className"]),a=Fa().popover,s=a.defaultProps,l=a.styles.base,u=_g(),c=u.open,f=u.strategy,d=u.x,h=u.y,p=u.context,v=u.floating,m=u.getFloatingProps,y=u.appliedAnimation,g=u.labelId,b=u.descriptionId;o=null!=o?o:s.className;var _=Dn()(Nn(l),o),x=e.useMemo((function(){return yy([r,v])}),[v,r]);return e.createElement(Gm,null,e.createElement(Rp,null,c&&e.createElement(Ym,{context:p},e.createElement(Ep.div,Tg({},m(Tg({},i,{ref:x,className:_,style:{position:f,top:null!=h?h:"",left:null!=d?d:""},"aria-labelledby":g,"aria-describedby":b})),{initial:"unmount",exit:"unmount",animate:c?"mount":"unmount",variants:y}),n))))}));Sg.propTypes={className:mg,children:yg},Sg.displayName="MaterialTailwind.PopoverContent";var Cg=Sg,Ag=function(t){var r=t.open,n=t.handler,o=t.placement,i=t.offset,a=t.dismiss,s=t.animate,l=t.children,u=Fa().popover.defaultProps,c=e.useState(!1),f=c[0],d=c[1];r=null!=r?r:f,n=null!=n?n:d,o=null!=o?o:u.placement,i=null!=i?i:u.offset,a=null!=a?a:u.dismiss,s=null!=s?s:u.animate;var h=Gn()({unmount:{opacity:0},mount:{opacity:1}},s),p=my({open:r,onOpenChange:n,middleware:[Rv(i),zv(),Lv()],placement:o}),v=p.x,m=p.y,y=p.reference,g=p.floating,b=p.strategy,_=p.refs,x=p.update,w=p.context,k=Am(),E=k+"-label",T=k+"-description",S=Lm([ty(w),ey(w),ry(w,a)]),C=S.getReferenceProps,A=S.getFloatingProps;e.useEffect((function(){if(_.reference.current&&_.floating.current&&r)return fm(_.reference.current,_.floating.current,x)}),[r,x,_.reference,_.floating]);var I=e.useMemo((function(){return{open:r,strategy:b,x:v,y:m,context:w,reference:y,floating:g,getReferenceProps:C,getFloatingProps:A,appliedAnimation:h,labelId:E,descriptionId:T}}),[r,b,v,m,w,y,g,A,C,h,E,T]);return e.createElement(xg,{value:I},l)};Ag.propTypes={open:lg,handler:ug,placement:Vn().oneOf(cg),offset:fg,dismiss:dg,animate:hg,children:yg},Ag.displayName="MaterialTailwind.Popover";Object.assign(Ag,{Handler:Eg,Content:Cg});function Ig(){return(Ig=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Mg=e.forwardRef((function(t,r){var n,o=t.variant,i=t.color,a=t.value,s=t.label,l=t.className,u=t.barProps,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","value","label","className","barProps"]),f=Fa().progress,d=f.defaultProps,h=f.valid,p=f.styles,v=p.base,m=p.variants;o=null!=o?o:d.variant,i=null!=i?i:d.color,s=null!=s?s:d.label,l=null!=l?l:d.className,u=null!=u?u:d.barProps;var y=Nn(m[jp(h.variants,o,"filled")][jp(h.colors,i,"blue")]),g=Nn(v.container.initial),b=Nn(v.container.withLabel),_=Nn(v.bar),x=Dn()(g,((n={})[b]=s,n),l),w=Dn()(_,y,null==u?void 0:u.className);return e.createElement("div",Ig({},c,{ref:r,className:x}),e.createElement("div",Ig({},u,{className:w,style:{width:a+"%"}}),s&&a+"% "+("string"==typeof s?s:"")))}));Mg.propTypes={variant:Vn().oneOf(Bi),color:Vn().oneOf(Vi),value:Ui,label:Gi,barProps:qi,className:Wi},Mg.displayName="MaterialTailwind.Progress";function Pg(){return(Pg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Og=e.forwardRef((function(t,r){var n=t.color,o=t.label,i=t.icon,a=t.ripple,s=t.className,l=t.containerProps,u=t.labelProps,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["color","label","icon","ripple","className","containerProps","labelProps"]),f=Fa().radio,d=f.defaultProps,h=f.valid,p=f.styles,v=p.base,m=p.colors;n=null!=n?n:d.color,a=null!=a?a:d.ripple,s=null!=s?s:d.className;var y=void 0!==a&&new(Lp()),g=Dn()(Nn(v.root)),b=Dn()(Nn(v.container),null==l?void 0:l.className),_=Dn()(Nn(v.input),Nn(m[jp(h.colors,n,"blue")]),s),x=Dn()(Nn(v.label),null==u?void 0:u.className),w=Dn()("absolute top-2/4 left-2/4 -translate-y-2/4 -translate-x-2/4 pointer-events-none opacity-0 peer-checked:opacity-100 transition-opacity",m[jp(h.colors,n,"blue")].color);return e.createElement("div",{ref:r,className:g},e.createElement("label",Pg({},l,{className:b,htmlFor:c.id||"radio",onMouseDown:function(e){var t=null==l?void 0:l.onMouseDown;return a&&y.create(e,"dark"),"function"==typeof t&&t(e)}}),e.createElement("input",Pg({},c,{type:"radio",className:_,id:c.id||"radio"})),e.createElement("div",{className:w},i||e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 16 16",fill:"currentColor"},e.createElement("circle",{"data-name":"ellipse",cx:"8",cy:"8",r:"8"})))),o&&e.createElement("label",Pg({},u,{className:x,htmlFor:c.id||"radio"}),o))}));Og.propTypes={color:Vn().oneOf(Fo),label:No,icon:Bo,ripple:Vo,className:Uo,containerProps:Go,labelProps:qo},Og.displayName="MaterialTailwind.Radio";var zg=e.createContext(null);zg.displayName="MaterialTailwind.SelectContext";var Rg=function(t){var r=t.value,n=t.children;return e.createElement(zg.Provider,{value:r},n)};function Dg(){return(Dg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Rg.propTypes={value:ya,children:ma},Rg.displayName="MaterialTailwind.SelectContextProvider";var Lg=function(t){var r,n=function(){p(a),y(i),m(!1),b(null)},o=function(e){"Enter"!==e.key&&(" "!==e.key||x.current.typing)||(e.preventDefault(),n())},i=t.value,a=t.index,s=t.disabled,l=t.className,u=t.children,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","index","disabled","className","children"]),f=Fa().select.styles.base,d=function(){var t=e.useContext(zg);if(null===t)throw new Error("useSelect() must be used within a Select. It happens when you use SelectOption component outside the Select component.");return t}(),h=d.selectedIndex,p=d.setSelectedIndex,v=d.listRef,m=d.setOpen,y=d.onChange,g=d.activeIndex,b=d.setActiveIndex,_=d.getItemProps,x=d.dataRef,w=Nn(f.option.initial),k=Nn(f.option.active),E=Nn(f.option.disabled),T=Dn()(w,((r={})[k]=h===a,r[E]=s,r),null!=l?l:"");return e.createElement("li",Dg({},c,{role:"option",ref:function(e){return v.current[a]=e},className:T,tabIndex:g===a?0:1,"aria-selected":g===a&&h===a,"data-selected":h===a},_({onClick:function(e){var t=null==c?void 0:c.onClick;"function"==typeof t&&(t(e),n()),n()},onKeyDown:function(e){var t=null==c?void 0:c.onKeyDown;"function"==typeof t&&(t(e),o(e)),o(e)}})),u)};Lg.defaultProps={value:"",index:0,className:"",disabled:!1},Lg.propTypes={value:oa,index:ha,disabled:pa,className:va,children:ma},Lg.displayName="MaterialTailwind.SelectOption";var jg=Lg;function Fg(){return(Fg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ng=e.forwardRef((function(t,r){var n,o,i,a,s,l,u,c,f,d,h,p,v,m,y,g=t.variant,b=t.color,_=t.size,x=t.label,w=t.error,k=t.success,E=t.arrow,T=t.value,S=t.onChange,C=t.selected,A=t.offset,I=t.dismiss,M=t.animate,P=t.lockScroll,O=t.labelProps,z=t.menuProps,R=t.className,D=t.disabled,L=t.children,j=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","size","label","error","success","arrow","value","onChange","selected","offset","dismiss","animate","lockScroll","labelProps","menuProps","className","disabled","children"]),F=Fa().select,N=F.defaultProps,B=F.valid,V=F.styles,U=V.base,G=V.variants,q=e.useState("close"),W=q[0],Z=q[1];g=null!=g?g:N.variant,b=null!=b?b:N.color,_=null!=_?_:N.size,x=null!=x?x:N.label,w=null!=w?w:N.error,k=null!=k?k:N.success,E=null!=E?E:N.arrow,T=null!=T?T:N.value,S=null!=S?S:N.onChange,C=null!=C?C:N.selected,A=null!=A?A:N.offset,I=null!=I?I:N.dismiss,M=null!=M?M:N.animate,O=null!=O?O:N.labelProps,z=null!=z?z:N.menuProps,R=null!=R?R:N.className;var H=e.useRef([]),X=e.useRef([].concat(null!=(o=e.Children.map(L,(function(e){var t=e.props;return null==t?void 0:t.value})))?o:[])),$=e.useState(!1),K=$[0],Y=$[1],J=e.useState(null),Q=J[0],ee=J[1],te=e.useState(0),re=te[0],ne=te[1],oe=e.useState(!1),ie=oe[0],ae=oe[1],se=function(t){var r=e.useRef();return ps((function(){r.current=t}),[t]),r.current}(Q);e.useEffect((function(){ne(Math.max(0,X.current.indexOf(T)+1))}),[T]);var le=my({open:K,onOpenChange:Y,middleware:[Rv(A),zv({padding:8}),jv({apply:function(e){var t,r,n=e.reference;e.height,Object.assign(null!=(r=null==(t=ve.floating.current)?void 0:t.style)?r:{},{width:n.width+"px",zIndex:99})},padding:20})]}),ue=le.x,ce=le.y,fe=le.reference,de=le.floating,he=le.strategy,pe=le.context,ve=le.refs,me=le.middlewareData,ye=le.update,ge=ve.floating,be=Lm([ty(pe),ey(pe,{role:"listbox"}),ry(pe,Fg({},I)),py(pe,{listRef:H,activeIndex:Q,selectedIndex:re,onNavigate:ee}),vy(pe,{listRef:X,onMatch:K?ee:ne,activeIndex:Q,selectedIndex:re})]),_e=be.getReferenceProps,xe=be.getFloatingProps,we=be.getItemProps;e.useEffect((function(){if(ve.reference.current&&ve.floating.current&&K)return fm(ve.reference.current,ve.floating.current,ye)}),[ve.reference,ve.floating,K,ye]),ps((function(){var e=ge.current;if(K&&ie&&e){var t=null!=Q?H.current[Q]:null!=re?H.current[re]:null;if(t&&null!=se){var r,n,o=null!=(n=null==(r=H.current[se])?void 0:r.offsetHeight)?n:0,i=e.offsetHeight,a=t.offsetTop,s=a+o;a<e.scrollTop?e.scrollTop-=e.scrollTop-a+5:s>i+e.scrollTop&&(e.scrollTop+=s-i-e.scrollTop+5)}}}),[K,ie,se,Q]),ps((function(){var e=ve.floating.current;if(K&&e&&e.offsetHeight<e.scrollHeight){var t=H.current[re];t&&(e.scrollTop=t.offsetTop-e.offsetHeight/2+t.offsetHeight/2)}}),[K,re,ve.floating,ve.reference,me]);var ke=e.useMemo((function(){return{selectedIndex:re,setSelectedIndex:ne,listRef:H,setOpen:Y,onChange:S||function(){},activeIndex:Q,setActiveIndex:ee,getItemProps:we,dataRef:pe.dataRef}}),[re,S,Q,we,pe.dataRef]);e.useEffect((function(){Z(K?"open":!K&&re?"withValue":"close")}),[K,re]);var Ee=G[jp(B.variants,g,"outlined")],Te=Ee.sizes[jp(B.sizes,_,"md")],Se=Ee.error.select,Ce=Ee.success.select,Ae=Ee.colors.select[jp(B.colors,b,"blue")],Ie=Ee.error.label,Me=Ee.success.label,Pe=Ee.colors.label[jp(B.colors,b,"blue")],Oe=Ee.states[W],ze=Dn()(Nn(U.container),Nn(Te.container)),Re=Dn()(Nn(U.select),Nn(Ee.base.select),Nn(Oe.select),Nn(Te.select),((i={})[Nn(Ae[W])]=!w&&!k,i),((a={})[Nn(Se.initial)]=w,a),((s={})[Nn(Se.states[W])]=w,s),((l={})[Nn(Ce.initial)]=k,l),((u={})[Nn(Ce.states[W])]=k,u),R),De=Dn()(Nn(U.label),Nn(Ee.base.label),Nn(Oe.label),Nn(Te.label.initial),Nn(Te.label.states[W]),((f={})[Nn(Pe[W])]=!w&&!k,f),((d={})[Nn(Ie.initial)]=w,d),((h={})[Nn(Ie.states[W])]=w,h),((p={})[Nn(Me.initial)]=k,p),((v={})[Nn(Me.states[W])]=k,v),null!=(c=O.className)?c:""),Le=Dn()(Nn(U.arrow.initial),((m={})[Nn(U.arrow.active)]=K,m)),je=Dn()(Nn(U.menu),null!=(y=z.className)?y:""),Fe=Dn()("absolute top-2/4 -translate-y-2/4","outlined"===g?"left-3 pt-0.5":"left-0 pt-3"),Ne=Gn()({unmount:{opacity:0,transformOrigin:"top",transform:"scale(0.95)",transition:{duration:.2,times:[.4,0,.2,1]}},mount:{opacity:1,transformOrigin:"top",transform:"scale(1)",transition:{duration:.2,times:[.4,0,.2,1]}}},M),Be=e.createElement(Ym,{context:pe,preventTabbing:!0},e.createElement(Ep.ul,Fg({},xe(Fg({},z,{ref:de,role:"listbox",className:je,style:{position:he,top:null!=ce?ce:"",left:null!=ue?ue:"",overflow:"auto"},onPointerEnter:function(e){var t=null==z?void 0:z.onPointerEnter;"function"==typeof t&&(t(e),ae(!1)),ae(!1)},onPointerMove:function(e){var t=null==z?void 0:z.onPointerMove;"function"==typeof t&&(t(e),ae(!1)),ae(!1)},onKeyDown:function(e){var t=null==z?void 0:z.onKeyDown;"function"==typeof t&&(t(e),ae(!0)),ae(!0)}})),{initial:"unmount",exit:"unmount",animate:K?"mount":"unmount",variants:Ne}),e.Children.map(L,(function(t,r){var n;return e.isValidElement(t)&&e.cloneElement(t,Fg({},t.props,{index:(null==(n=t.props)?void 0:n.index)||r+1,id:"material-tailwind-select-"+r}))}))));return e.createElement(Rg,{value:ke},e.createElement("div",{ref:r,className:ze},e.createElement("button",Fg({type:"button"},_e(Fg({},j,{ref:fe,className:Re,disabled:D}))),"function"==typeof C?e.createElement("span",{className:Fe},C(L[re-1],re-1)):e.createElement("span",Fg({className:Fe},null==(n=L[re-1])?void 0:n.props)),e.createElement("div",{className:Le},null!=E?E:e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},e.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})))),e.createElement("label",Fg({},O,{className:De}),x),e.createElement(Rp,null,K&&e.createElement(e.Fragment,null,P?e.createElement(Zm,{lockScroll:!0},Be):Be))))}));Ng.propTypes={variant:Vn().oneOf(Yi),color:Vn().oneOf(Qi),size:Vn().oneOf(Ji),label:ea,error:ta,success:ra,arrow:na,value:oa,onChange:ia,selected:aa,offset:sa,dismiss:la,animate:ua,lockScroll:ca,labelProps:fa,menuProps:da,className:va,disabled:pa,children:ma},Ng.displayName="MaterialTailwind.Select";Object.assign(Ng,{Option:jg});function Bg(){return(Bg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Vg=e.forwardRef((function(t,r){var n=t.color,o=t.label,i=t.ripple,a=t.className,s=t.containerProps,l=t.circleProps,u=t.labelProps,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["color","label","ripple","className","containerProps","circleProps","labelProps"]),f=Fa().switch,d=f.defaultProps,h=f.valid,p=f.styles,v=p.base,m=p.colors;n=null!=n?n:d.color,i=null!=i?i:d.ripple,a=null!=a?a:d.className;var y=void 0!==i&&new(Lp()),g=Dn()(Nn(v.root)),b=Dn()(Nn(v.container),null==s?void 0:s.className),_=Dn()(Nn(v.input),Nn(m[jp(h.colors,n,"blue")]),a),x=Dn()(Nn(v.circle),m[jp(h.colors,n,"blue")].circle,m[jp(h.colors,n,"blue")].before,null==l?void 0:l.className),w=Dn()(Nn(v.ripple)),k=Dn()(Nn(v.label),null==u?void 0:u.className);return e.createElement("div",{ref:r,className:g},e.createElement("div",Bg({},s,{className:b}),e.createElement("input",Bg({},c,{type:"checkbox",id:c.id||"switch",className:_})),e.createElement("label",Bg({},l,{htmlFor:c.id||"switch",className:x}),i&&e.createElement("div",{className:w,onMouseDown:function(e){var t=null==s?void 0:s.onMouseDown;return i&&y.create(e,"dark"),"function"==typeof t&&t(e)}}))),o&&e.createElement("label",Bg({},u,{htmlFor:c.id||"switch",className:k}),o))}));Vg.propTypes={color:Vn().oneOf(Fo),label:No,ripple:Vo,className:Uo,containerProps:Go,labelProps:qo,circleProps:Wo},Vg.displayName="MaterialTailwind.Switch";var Ug=Vn().oneOfType([Vn().string,Vn().number]).isRequired,Gg=Zn,qg=Vn().bool,Wg=Vn().string,Zg=Vn().instanceOf(Object),Hg=Vn().node.isRequired,Xg=(0,e.createContext)(null);function $g(){var t=(0,e.useContext)(Xg);if(!t)throw new Error("useTabs() must be used within a Tabs. It happens when you use TabsHeader, TabsBody, Tab or TabPanel outside the Tabs component.");return t}Xg.displayName="MaterialTailwind.TabsContext";var Kg=function(t){var r=t.value,n=t.children,o=(0,e.useState)({active:r,appliedAnimation:{unmount:{},mount:{}}}),i=o[0],a=o[1],s=(0,e.useMemo)((function(){return{tab:i,setTab:a}}),[i]);return e.createElement(Xg.Provider,{value:s},n)};function Yg(){return(Yg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}Kg.propTypes={value:Ug,children:Hg},Kg.displayName="MaterialTailwind.TabsContextProvider";var Jg=e.forwardRef((function(t,r){var n,o,i=t.value,a=t.className,s=t.disabled,l=t.children,u=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","className","disabled","children"]),c=Fa().tab,f=c.defaultProps,d=c.styles.base,h=$g(),p=h.tab,v=h.setTab,m=p.active,y=p.indicatorProps;a=null!=a?a:f.className,s=null!=s?s:f.disabled;var g=Dn()(Nn(d.tab.initial),((n={})[Nn(d.tab.disabled)]=s,n),a),b=Dn()(Nn(d.indicator),null!=(o=null==y?void 0:y.className)?o:"");return e.createElement("li",Yg({},u,{ref:r,role:"tab",className:g,onClick:function(e){var t=null==u?void 0:u.onClick;"function"==typeof t&&(v(Yg({},p,{active:i})),t(e)),v(Yg({},p,{active:i}))},"data-value":i}),e.createElement("div",{className:"z-20"},l),m===i&&e.createElement(Ep.div,Yg({},y,{transition:{duration:.5},className:b,layoutId:"indicator"})))}));Jg.propTypes={value:Ug,className:Wg,disabled:qg,children:Hg},Jg.displayName="MaterialTailwind.Tab";var Qg=Jg;function eb(){return(eb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var tb=e.forwardRef((function(t,r){var n=t.animate,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["animate","className","children"]),s=Fa().tabsBody,l=s.defaultProps,u=s.styles.base,c=$g(),f=c.tab,d=c.setTab;o=null!=o?o:l.className,n=null!=n?n:l.animate;var h=Dn()(Nn(u),o),p=Gn()({unmount:{opacity:0,position:"absolute",top:"0",left:"0",transition:{duration:.5,times:[.4,0,.2,1]}},mount:{opacity:1,position:"relative",transition:{duration:.5,times:[.4,0,.2,1]}}},n);return e.useEffect((function(){d(eb({},f,{appliedAnimation:p}))}),[n]),e.createElement("div",eb({},a,{ref:r,className:h}),i)}));tb.propTypes={animate:Gg,className:Wg,children:Hg},tb.displayName="MaterialTailwind.TabsBody";var rb=tb;function nb(){return(nb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var ob=e.forwardRef((function(t,r){var n=t.indicatorProps,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["indicatorProps","className","children"]),s=Fa().tabsHeader,l=s.defaultProps,u=s.styles.base,c=$g(),f=c.tab,d=c.setTab;e.useEffect((function(){d(nb({},f,{indicatorProps:n}))}),[n]),o=null!=o?o:l.className;var h=Dn()(Nn(u),o);return e.createElement("nav",null,e.createElement("ul",nb({},a,{ref:r,role:"tablist",className:h}),i))}));ob.propTypes={indicatorProps:Zg,className:Wg,children:Hg},ob.displayName="MaterialTailwind.TabsHeader";var ib=ob;function ab(){return(ab=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var sb=e.forwardRef((function(t,r){var n=t.value,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","className","children"]),s=Fa().tabPanel,l=s.defaultProps,u=s.styles.base,c=$g().tab,f=c.active,d=c.appliedAnimation;o=null!=o?o:l.className;var h=Dn()(Nn(u),o);return e.createElement(Rp,{exitBeforeEnter:!0},f===n&&e.createElement(Ep.div,ab({},a,{ref:r,role:"tabpanel",className:h,initial:"unmount",exit:"unmount",animate:f===n?"mount":"unmount",variants:d,"data-value":n}),i))}));sb.propTypes={value:Ug,className:Wg,children:Hg},sb.displayName="MaterialTailwind.TabPanel";var lb=sb;function ub(){return(ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var cb=e.forwardRef((function(t,r){var n=t.value,o=t.className,i=t.children,a=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","className","children"]),s=Fa().tabs,l=s.defaultProps,u=s.styles.base;o=null!=o?o:l.className;var c=Dn()(Nn(u),o);return e.createElement(Kg,{value:n},e.createElement("div",ub({},a,{ref:r,className:c}),i))}));cb.propTypes={value:Ug,className:Wg,children:Hg},cb.displayName="MaterialTailwind.Tabs";Object.assign(cb,{Tab:Qg,Body:rb,Header:ib,Panel:lb});function fb(){return(fb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var db=e.forwardRef((function(t,r){var n,o,i,a,s,l,u=t.variant,c=t.color,f=t.size,d=t.label,h=t.error,p=t.success,v=t.resize,m=t.labelProps,y=t.className,g=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","size","label","error","success","resize","labelProps","className"]),b=Fa().textarea,_=b.defaultProps,x=b.valid,w=b.styles,k=w.base,E=w.variants;u=null!=u?u:_.variant,f=null!=f?f:_.size,c=null!=c?c:_.color,d=null!=d?d:_.label,m=null!=m?m:_.labelProps,y=null!=y?y:_.className;var T=E[jp(x.variants,u,"outlined")],S=Nn(T.error.textarea),C=Nn(T.success.textarea),A=Nn(T.colors.textarea[jp(x.colors,c,"blue")]),I=Nn(T.error.label),M=Nn(T.success.label),P=Nn(T.colors.label[jp(x.colors,c,"blue")]),O=Dn()(Nn(k.container)),z=Dn()(Nn(k.textarea),Nn(T.base.textarea),Nn(T.sizes[jp(x.sizes,f,"md")].textarea),((n={})[A]=!h&&!p,n),((o={})[S]=h,o),((i={})[C]=p,i),v?"":"!resize-none",y),R=Dn()(Nn(k.label),Nn(T.base.label),Nn(T.sizes[jp(x.sizes,f,"md")].label),((a={})[P]=!h&&!p,a),((s={})[I]=h,s),((l={})[M]=p,l),null==m?void 0:m.className);return e.createElement("div",{ref:r,className:O},e.createElement("textarea",fb({},g,{className:z,placeholder:(null==g?void 0:g.placeholder)||" "})),e.createElement("label",{className:R},d))}));db.propTypes={variant:Vn().oneOf(gi),size:Vn().oneOf(bi),color:Vn().oneOf(_i),label:xi,error:wi,success:ki,resize:Ti,labelProps:Si,className:Ci},db.displayName="MaterialTailwind.Textarea";function hb(){return(hb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var pb=e.forwardRef((function(t,r){var n=t.open,o=t.handler,i=t.content,a=t.interactive,s=t.placement,l=t.offset,u=t.dismiss,c=t.animate,f=t.className,d=t.children,h=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["open","handler","content","interactive","placement","offset","dismiss","animate","className","children"]),p=Fa().tooltip,v=p.defaultProps,m=p.styles.base,y=e.useState(!1),g=y[0],b=y[1];n=null!=n?n:g,o=null!=o?o:b,a=null!=a?a:v.interactive,s=null!=s?s:v.placement,l=null!=l?l:v.offset,u=null!=u?u:v.dismiss,c=null!=c?c:v.animate,f=null!=f?f:v.className;var _=Dn()(Nn(m),f),x=Gn()({unmount:{opacity:0},mount:{opacity:1}},c),w=my({open:n,onOpenChange:o,middleware:[Rv(l),zv(),Lv()],placement:s}),k=w.x,E=w.y,T=w.reference,S=w.floating,C=w.strategy,A=w.refs,I=w.update,M=w.context,P=Lm([ty(M,{enabled:a}),ny(M),Qm(M),ey(M,{role:"tooltip"}),ry(M,u)]),O=P.getReferenceProps,z=P.getFloatingProps;e.useEffect((function(){if(A.reference.current&&A.floating.current&&n)return fm(A.reference.current,A.floating.current,I)}),[n,I,A.reference,A.floating]);var R=e.useMemo((function(){return yy([r,S])}),[S,r]),D=e.useMemo((function(){return yy([r,T])}),[T,r]);return e.createElement(e.Fragment,null,"string"==typeof d?e.createElement("span",hb({},O({ref:D})),d):e.cloneElement(d,hb({},O(hb({},null==d?void 0:d.props,{ref:D})))),e.createElement(Gm,null,e.createElement(Rp,null,n&&e.createElement(Ep.div,hb({},z(hb({},h,{ref:R,className:_,style:{position:C,top:null!=E?E:"",left:null!=k?k:""}})),{initial:"unmount",exit:"unmount",animate:n?"mount":"unmount",variants:x}),i))))}));pb.propTypes={open:lg,handler:ug,content:pg,interactive:vg,placement:Vn().oneOf(cg),offset:fg,dismiss:dg,animate:hg,className:mg,children:yg},pb.displayName="MaterialTailwind.Tooltip";function vb(){return(vb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var mb=e.forwardRef((function(t,r){var n,o,i,a,s=t.variant,l=t.color,u=t.textGradient,c=t.as,f=t.className,d=t.children,h=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["variant","color","textGradient","as","className","children"]),p=Fa().typography,v=p.defaultProps,m=p.valid,y=p.styles,g=y.variants,b=y.colors,_=y.textGradient;s=null!=s?s:v.variant,l=null!=l?l:v.color,u=u||v.textGradient,c=null!=c?c:void 0,f=null!=f?f:v.className;var x=Nn(g[jp(m.variants,s,"paragraph")]),w=b[jp(m.colors,l,"inherit")],k=Nn(_),E=Dn()(x,((n={})[w.color]=!u,n),((o={})[k]=u,o),((i={})[w.gradient]=u,i),f);switch(s){case"h1":a=e.createElement(c||"h1",vb({},h,{ref:r,className:E}),d);break;case"h2":a=e.createElement(c||"h2",vb({},h,{ref:r,className:E}),d);break;case"h3":a=e.createElement(c||"h3",vb({},h,{ref:r,className:E}),d);break;case"h4":a=e.createElement(c||"h4",vb({},h,{ref:r,className:E}),d);break;case"h5":a=e.createElement(c||"h5",vb({},h,{ref:r,className:E}),d);break;case"h6":a=e.createElement(c||"h6",vb({},h,{ref:r,className:E}),d);break;default:a=e.createElement(c||"p",vb({},h,{ref:r,className:E}),d)}return a}));mb.propTypes={variant:Vn().oneOf(Aa),color:Vn().oneOf(Ia),as:Ma,textGradient:Pa,className:Oa,children:za},mb.displayName="MaterialTailwind.Typography";var yb=r(184),gb=function(){var t=a((0,e.useState)(!1),2),r=t[0],n=t[1],o=k({showHM:r}),i=(o.getCollapseProps,o.getToggleProps,a((0,e.useState)(!1),2)),s=(i[0],i[1],a((0,e.useState)(0),2)),l=s[0],u=s[1];return(0,yb.jsxs)("div",{children:[(0,yb.jsx)("section",{className:"md:hidden block ",children:(0,yb.jsx)("svg",{onClick:function(){n(!r)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white top-7 absolute ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16m-7 6h7"})})}),r&&(0,yb.jsx)("section",{children:(0,yb.jsxs)("section",{className:" bg-sky-900 w-11/12 h-screen absolute top-0 z-50 right-0 ",children:[(0,yb.jsxs)("section",{className:" flex items-center justify-between mt-3 ",children:[(0,yb.jsx)("section",{className:"flex justify-center ",children:(0,yb.jsx)("h1",{className:"sm:text-3xl mx-4 my-3  font-bold bg-gradient-to-b from-white to-gray-400  bg-clip-text text-transparent  ",children:"Appleniik"})}),(0,yb.jsx)("section",{onClick:function(){return n(!1)},className:" flex justify-end mx-4 my-3 font-bold cursor-pointer ",children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-pink-600 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,yb.jsx)("section",{className:" border-b-4 w-11/12 mx-auto"}),(0,yb.jsx)("section",{className:" mx-4 my-2 ",children:(0,yb.jsx)("section",{className:" text-white text-right",children:(0,yb.jsxs)("section",{className:"relative flex flex-col items-start ",children:[(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"/",className:"\r border-b border-white border-opacity-20 cursor-pointer w-full \r px-4 py-2 text-sm  text-white hover:rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"}),(0,yb.jsx)("section",{className:" w-full bg-slate-800  border-b border-white border-opacity-20",children:(0,yb.jsx)(e.Fragment,{children:(0,yb.jsxs)(Ip,{className:" py-0 m-0 bg-sky-900 border-b border-opacity-20 border-white",open:1===l,onClick:function(){var e;u(l===(e=1)?0:e)},children:[(0,yb.jsx)("section",{className:"  text-right  cursor-pointer w-full \r px-4 py-1.5   text-white hover:rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:(0,yb.jsx)(Ya,{className:" border-b-0 py-0 m-0",children:(0,yb.jsx)("span",{className:" text-base",children:"\u0645\u062d\u0635\u0648\u0644\u0627\u062a"})})}),(0,yb.jsxs)(Cp,{className:" py-1",children:[(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"product",className:" px-8 cursor-pointer w-full block\r py-1.5 text-sm  text-white hover:rounded-md  \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0642\u0627\u0628 \u0645\u0648\u0628\u0627\u06cc\u0644"}),(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"",className:" px-8 cursor-pointer w-full block\r py-1.5 text-sm  text-white hover:rounded-md  \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u06a9\u06cc\u0633 \u0627\u06cc\u0631\u067e\u0627\u062f"}),(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"",className:" px-8 cursor-pointer w-full block\r py-1.5 text-sm  text-white hover:rounded-md  \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0628\u0646\u062f \u0648\u0627\u0686"})]})]})})}),(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"ContactUs",className:"  border-b border-white border-opacity-20 cursor-pointer w-full \r px-4 py-2 text-sm  text-white hover:rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0645\u0627"}),(0,yb.jsx)(de,{onClick:function(){return n(!r)},to:"AboutUs",className:"  border-b border-white border-opacity-20 cursor-pointer w-full \r px-4 py-2 text-sm  text-white hover:rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 \r focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0627"})]})})})]})}),(0,yb.jsxs)(Fr,{as:"div",className:"relative  items-center text-left hidden md:flex  ",children:[(0,yb.jsx)("div",{children:(0,yb.jsx)(de,{to:"/",className:"inline-flex justify-center cursor-pointer w-full px-4 py-2 text-sm  text-white rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc"})}),(0,yb.jsx)("div",{children:(0,yb.jsxs)(Fr.Button,{className:"inline-flex justify-center w-full px-4 py-2 text-sm  text-white rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:["\u0645\u062d\u0635\u0648\u0644\u0627\u062a",(0,yb.jsx)(zn,{className:"w-5 h-5 ml-2 mr-1 text-sky-200 font-extrabold","aria-hidden":"true"})]})}),(0,yb.jsx)("div",{children:(0,yb.jsx)(de,{to:"ContactUs",className:"inline-flex justify-center cursor-pointer w-full px-4 py-2 text-sm  text-white rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0645\u0627"})}),(0,yb.jsx)("div",{children:(0,yb.jsx)(de,{to:"AboutUs",className:"inline-flex justify-center cursor-pointer w-full px-4 py-2 text-sm  text-white rounded-md font-extrabold \r hover:bg-white hover:text-sky-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75",children:"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0627"})}),(0,yb.jsx)(On,{as:e.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,yb.jsx)(Fr.Items,{className:" z-50 absolute top-10 right-0 w-56 mt-2 origin-top-right bg-white divide-y divide-gray-100 rounded-md\r shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,yb.jsxs)("div",{className:"px-1 py-1 ",children:[(0,yb.jsx)(de,{to:"product",children:(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u0642\u0627\u0628 \u0645\u0648\u0628\u0627\u06cc\u0644"})}})}),(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u06a9\u06cc\u0633 \u0627\u06cc\u0631\u067e\u0627\u062f"})}}),(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u0628\u0646\u062f \u0633\u0627\u0639\u062a"})}})]})})})]})]})},bb=function(e,t){switch(t.type){case"addToCart":var r=be(e.cartList),n=r.findIndex((function(e){return e.id===t.itm.id}));if(n<0)return r.push(me(me({},t.itm),{},{amountRequired:t.amountRequired,check:!1})),localStorage.setItem("selectedProducts",JSON.stringify(r)),localStorage.setItem("totalCount",JSON.stringify(e.totalCount+t.amountRequired)),localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice+t.itm.price)),r.check=!1,me(me({},e),{},{cartList:r,totalCount:t.amountRequired+e.totalCount,totalPrice:t.itm.price+e.totalPrice,warning:r.check});if(r[n].amountRequired<t.itm.stockSelectedProduct){var o=me({},r[n]);return o.check=!1,o.amountRequired++,r[n]=o,localStorage.setItem("selectedProducts",JSON.stringify(r)),localStorage.setItem("totalCount",JSON.stringify(e.totalCount+t.amountRequired)),localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice+t.itm.price)),o.check=!1,me(me({},e),{},{cartList:r,totalCount:t.amountRequired+e.totalCount,totalPrice:t.itm.price+e.totalPrice,warning:o.check})}var i=me({},r[n]);return i.check=!0,r[n]=i,me(me({},e),{},{cartList:r,warning:i.check});case"decrement":var a=be(e.cartList),s=a.findIndex((function(e){return e.id===t.itm.id})),l=me({},a[s]);if(1===l.amountRequired){var u=a.filter((function(e){return e.id!==t.itm.id}));return localStorage.setItem("selectedProducts",JSON.stringify(u)),localStorage.setItem("totalCount",JSON.stringify(e.totalCount-t.amountRequired)),localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice-t.itm.price)),me(me({},e),{},{cartList:u,totalCount:e.totalCount-t.amountRequired,totalPrice:e.totalPrice-t.itm.price})}return l.amountRequired--,a[s]=l,localStorage.setItem("selectedProducts",JSON.stringify(a)),localStorage.setItem("totalCount",JSON.stringify(e.totalCount+t.amountRequired)),localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice+t.itm.price)),me(me({},e),{},{cartList:a,totalCount:e.totalCount-t.amountRequired,totalPrice:e.totalPrice-t.itm.price});case"delete":var c=be(e.cartList),f=c.findIndex((function(e){return e.id===t.itm.id})),d=me({},c[f]),h=c.filter((function(e){return e.id!==t.itm.id}));return localStorage.setItem("selectedProducts",JSON.stringify(h)),localStorage.setItem("totalCount",JSON.stringify(e.totalCount-d.amountRequired)),localStorage.setItem("totalPrice",JSON.stringify(e.totalPrice-d.price*d.amountRequired)),me(me({},e),{},{cartList:h,totalCount:e.totalCount-d.amountRequired,totalPrice:e.totalPrice-d.price*d.amountRequired});case"LocalStorage":var p=JSON.parse(localStorage.getItem("selectedProducts")),v=JSON.parse(localStorage.getItem("totalCount")),m=JSON.parse(localStorage.getItem("totalPrice"));if(null===p||null===v||null===m){localStorage.setItem("selectedProducts",JSON.stringify([]));var y=JSON.parse(localStorage.getItem("selectedProducts"));localStorage.setItem("totalCount",JSON.stringify(0));var g=JSON.parse(localStorage.getItem("totalCount"));localStorage.setItem("totalPrice",JSON.stringify(0));var b=JSON.parse(localStorage.getItem("totalPrice"));return me(me({},e),{},{cartList:y,totalCount:g,totalPrice:b})}var _=JSON.parse(localStorage.getItem("selectedProducts")),x=JSON.parse(localStorage.getItem("totalCount")),w=JSON.parse(localStorage.getItem("totalPrice"));return me(me({},e),{},{cartList:_,totalCount:x,totalPrice:w})}},_b=(0,e.createContext)(),xb=(0,e.createContext)(),wb={cartList:[],totalCount:0,totalPrice:0,warning:!1},kb=function(t){var r=t.children,n=a((0,e.useReducer)(bb,wb),2),o=n[0],i=n[1];return(0,yb.jsx)(_b.Provider,{value:o,children:(0,yb.jsx)(xb.Provider,{value:i,children:r})})},Eb=function(){return(0,e.useContext)(_b)},Tb=function(){return(0,e.useContext)(xb)},Sb=r(763),Cb=r.n(Sb),Ab=function(e,t){switch(t.type){case"AddToFavorite":var r=be(e.favoriteList);if(r.findIndex((function(e){return e._id===t.itms._id}))<0)return r.push(me(me({},t.itms),{},{flagFav:!0})),localStorage.setItem("FavoritesList",JSON.stringify(r)),localStorage.setItem("CountFavoritesList",JSON.stringify(e.count+1)),me(me({},e),{},{favoriteList:r,count:e.count+1});var n=r.indexOf((function(e){return e._id===t.itms._id}));return r.splice(n),localStorage.setItem("FavoritesList",JSON.stringify(r)),localStorage.setItem("CountFavoritesList",JSON.stringify(e.count-1)),me(me({},e),{},{favoriteList:r,count:e.count-1});case"RemoveFromFavorite":var o=be(e.favoriteList).filter((function(e){return e._id!==t.itms._id}));return localStorage.setItem("FavoritesList",JSON.stringify(o)),localStorage.setItem("CountFavoritesList",JSON.stringify(e.count-1)),me(me({},e),{},{favoriteList:o,count:e.count-1});case"GetFromLS":if(null==JSON.parse(localStorage.getItem("FavoritesList"))){localStorage.setItem("FavoritesList",JSON.stringify([])),localStorage.setItem("CountFavoritesList",JSON.stringify(0));var i=JSON.parse(localStorage.getItem("FavoritesList")),a=JSON.parse(localStorage.getItem("CountFavoritesList"));return me(me({},e),{},{favoriteList:i,count:a})}var s=JSON.parse(localStorage.getItem("FavoritesList")),l=JSON.parse(localStorage.getItem("CountFavoritesList"));return me(me({},e),{},{favoriteList:s,count:l})}},Ib=(0,e.createContext)(),Mb=(0,e.createContext)(),Pb={favoriteList:[],count:0},Ob=function(t){var r=t.children,n=a((0,e.useReducer)(Ab,Pb),2),o=n[0],i=n[1];return(0,yb.jsx)(Ib.Provider,{value:o,children:(0,yb.jsx)(Mb.Provider,{value:i,children:r})})},zb=function(){return(0,e.useContext)(Ib)},Rb=function(){return(0,e.useContext)(Mb)},Db=(0,e.createContext)(),Lb=(0,e.createContext)(),jb=function(t){var r=t.children,n=a((0,e.useState)(!1),2),o=n[0],i=n[1];return(0,e.useEffect)((function(){var e=JSON.parse(localStorage.getItem("AuthUser"))||!1;i(e)}),[]),(0,yb.jsx)(Db.Provider,{value:o,children:(0,yb.jsx)(Lb.Provider,{value:i,children:r})})},Fb=function(){return(0,e.useContext)(Db)},Nb=function(){return(0,e.useContext)(Lb)},Bb=function(){var t=a((0,e.useState)(!1),2),r=t[0],n=(t[1],a((0,e.useState)(!1),2)),o=n[0],i=n[1],s=Fb(),l=k({openHeader:r}),u=(l.getCollapseProps,l.getToggleProps,Eb()),c=u.cartList,f=(u.totalCount,zb()),d=(f.favoriteList,f.count),h=Tb(),p=Rb(),v=Nb(),m=Nb(),y=q();(0,e.useEffect)((function(){h({type:"LocalStorage"}),p({type:"GetFromLS"});var e=JSON.parse(localStorage.getItem("AuthUser"));v(e)}),[]);var g=function(){localStorage.removeItem("AuthUser"),m(!1),y("/")};return(0,yb.jsx)("div",{className:" fixed top-0 right-0 left-0  z-50",children:(0,yb.jsxs)("section",{className:"bg-sky-900 h-16 text-white ",children:[(0,yb.jsxs)("section",{className:" flex flex-col  container xl:max-w-screen-xl",children:[(0,yb.jsx)("section",{children:(0,yb.jsx)("h1",{className:" md:hidden mt-1  font-bold bg-gradient-to-b from-white to-gray-400  bg-clip-text text-transparent  ",children:"Appleniik"})}),(0,yb.jsxs)("section",{className:"md:hidden flex items-center justify-between ",children:[(0,yb.jsx)(gb,{}),(0,yb.jsxs)("section",{className:" flex items-center justify-between  ",children:[(0,yb.jsx)("svg",{onClick:function(){return i(!o)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,yb.jsxs)("section",{onClick:function(){return i(!1)},className:o?" font-bold flex flex-col  bg-sky-900 rounded-b absolute top-16 left-24 py-2":" hidden",children:[(0,yb.jsx)("section",{className:" text-center",children:s?(0,yb.jsx)("button",{onClick:g,className:" cursor-pointer px-3   hover:bg-white hover:text-sky-900 rounded-md",children:"\u062e\u0631\u0648\u062c"}):(0,yb.jsx)("section",{className:"text-center",children:(0,yb.jsx)(de,{to:"Register",className:" cursor-pointer px-4   hover:bg-white hover:text-sky-900 rounded-md\r ",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})})}),(0,yb.jsx)("section",{className:" text-center mt-2 cursor-pointer",children:s?(0,yb.jsx)(de,{to:"Profile",className:" whitespace-nowrap cursor-pointer px-6   hover:bg-white hover:text-sky-900 rounded-md ",children:s.name}):(0,yb.jsx)(de,{to:"Login",className:"cursor-pointer px-6     hover:bg-white hover:text-sky-900 rounded-md ",children:"\u0648\u0631\u0648\u062f"})})]}),(0,yb.jsx)("section",{className:" relative mr-4",children:(0,yb.jsxs)(de,{to:"FavoritesList",className:" flex items-center ",children:[(0,yb.jsx)("span",{className:"rounded-full px-1 absolute -top-1  font-thin bg-pink-600 text-xs self-start bg-opacity-80 ",children:d}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]})}),(0,yb.jsx)("section",{className:" relative  mr-6 ",children:(0,yb.jsxs)(de,{to:"Cart",className:" flex items-center justify-start text-sm cursor-pointer ",children:[(0,yb.jsx)("span",{className:"rounded-full px-1 absolute -top-1 left-3 font-thin bg-pink-600 \r text-xs self-start bg-opacity-80 ",children:c.length}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg cursor-pointer",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})})]})]})]}),(0,yb.jsxs)("section",{className:" hidden md:flex items-center justify-around my-3  w-full",children:[(0,yb.jsx)("section",{className:"flex justify-start text-xl ",children:(0,yb.jsx)("h1",{className:" mt-1  font-bold bg-gradient-to-b from-white to-gray-400  bg-clip-text text-transparent  ",children:"Appleniik"})}),(0,yb.jsx)(gb,{}),(0,yb.jsxs)("section",{className:" relative  flex justify-between  items-center",children:[(0,yb.jsxs)("section",{className:" text-sm flex text-white flex-col justify-start  items-base sm:flex-row sm:justify-between ",children:[s?(0,yb.jsx)("button",{onClick:g,className:"hidden md:block ml-3  cursor-pointer",children:"\u062e\u0631\u0648\u062c"}):(0,yb.jsx)(de,{to:"Register",className:"hidden md:block border-l pl-2 cursor-pointer ",children:"\u062b\u0628\u062a \u0646\u0627\u0645"}),(0,yb.jsx)("section",{to:"Login",className:"hidden md:block px-2 cursor-pointer text-white ",children:s?(0,yb.jsxs)(de,{to:"Profile",children:[s.name," "]}):(0,yb.jsx)(de,{to:"Login",children:"\u0648\u0631\u0648\u062f"})})]}),(0,yb.jsxs)(de,{to:"FavoritesList",className:" text-white flex items-center",children:[(0,yb.jsx)("span",{className:"rounded-full px-1 font-thin text-xs  bg-pink-600 absolute -top-1 left-12 bg-opacity-70 ",children:d}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})]}),(0,yb.jsxs)(de,{to:"Cart",className:" flex items-center  text-sm cursor-pointer",children:[(0,yb.jsx)("span",{className:"rounded-full px-1 font-thin text-xs text-white  bg-pink-600 absolute -top-1 left-2 bg-opacity-70 ",children:c.length}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg cursor-pointer",className:"h-6 w-6 text-white mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]})]})]})]})})},Vb=function(){return(0,yb.jsx)("section",{className:"container  px-2 mx-auto xl:max-w-screen-xl",children:(0,yb.jsx)(Bb,{})})},Ub=r(7945),Gb=r.n(Ub),qb=r(4569),Wb=r.n(qb);Wb().defaults.baseURL="http://back.appleniik.ir:5000/api";var Zb={get:Wb().get,post:Wb().post,delete:Wb().delete,put:Wb().put};function Hb(){return Zb.get("/product")}var Xb=(0,e.createContext)(),$b=(0,e.createContext)(),Kb=(0,e.createContext)(),Yb=(0,e.createContext)(),Jb=function(t){var r=t.children,n=a((0,e.useState)([]),2),o=n[0],i=n[1],s=a((0,e.useState)([]),2),l=s[0],u=s[1];return(0,e.useEffect)((function(){Hb().then((function(e){i(e.data),u(e.data)})).catch()}),[]),(0,yb.jsx)(Xb.Provider,{value:o,children:(0,yb.jsx)(Kb.Provider,{value:l,children:(0,yb.jsx)($b.Provider,{value:i,children:(0,yb.jsx)(Yb.Provider,{value:u,children:r})})})})},Qb=function(){return(0,e.useContext)(Xb)},e_=function(){return(0,e.useContext)(Kb)},t_=function(){return(0,e.useContext)(Yb)},r_=r(4282),n_=function(){Qb();var t=(0,e.useContext)($b),r=e_(),n=t_();return(0,e.useEffect)((function(){Hb().then((function(e){t(e.data),n(e.data)})).catch((function(e){console.log(e.response.data)}))}),[]),(0,e.useEffect)((function(){Gb().init({duration:1e3})}),[]),(0,yb.jsx)("div",{className:"container  xl:max-w-screen  grid gap-1  gap-y-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 \r lg:grid-cols-4 absolute top-28 left-0 right-0 ","data-aos":"fade-right","data-aos-easing":"ease-in-sine","data-aos-duration":"1000",children:r?r.map((function(e){return(0,yb.jsxs)("section",{className:"flex  flex-col relative items-center  overflow-hidden cursor-pointer rounded  ",children:[(0,yb.jsx)(de,{to:"/".concat(e._id),children:(0,yb.jsx)("img",{className:" ml-2 rounded relative px-0 mx-0 w-56 h-48 hover:scale-105 overflow-hidden transition-all duration-1000   ",src:e.image})}),(0,yb.jsxs)(de,{to:"/".concat(e._id),className:" text-sky-900 w-full pt-2 text-sm rounded-xl ",children:[(0,yb.jsxs)("h1",{className:" text-center  rounded",children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{className:" text-center  font-bold text-xl",children:[e.price.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),(0,yb.jsx)("span",{className:"font-normal text-sm",children:" \u062a\u0648\u0645\u0627\u0646 "})]})]})]},e._id)})):(0,yb.jsxs)("section",{className:"  w-screen container xl:max-w-screen-xl  absolute left-0 right-0",children:[(0,yb.jsx)("img",{src:r_,className:"rounded w-full h-3/4"}),(0,yb.jsx)("p",{className:" z-10 text-center absolute w-full top-20 font-extrabold  text-4xl animate-bounce",children:"...Loading"})]})})},o_=(r(9202),function(){e_();var t=t_(),r=Qb(),n=a((0,e.useState)(!1),2),o=n[0],i=n[1],s=a((0,e.useState)(!1),2),l=s[0],u=s[1],c=a((0,e.useState)(0),2),f=c[0],d=(c[1],a((0,e.useState)(5e5),2)),h=d[0],p=(d[1],1e4),v=((0,e.useRef)(),a((0,e.useState)(0),2)),m=v[0],y=v[1],g=a((0,e.useState)(5e5),2),b=g[0],_=g[1];return(0,yb.jsxs)("section",{className:" z-50",children:[(0,yb.jsxs)("section",{className:" flex items-center text-sm  cursor-pointer",onClick:function(){i(!o)},children:[(0,yb.jsx)("h1",{className:"",children:l?(0,yb.jsxs)("p",{className:" text-sm",children:["\u0628\u06cc\u0646"," ",m.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646 \u062a\u0627"," ",b.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"," "]}):"\u0645\u062d\u062f\u0648\u062f\u0647 \u0642\u06cc\u0645\u062a"}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:l?"hidden":"h-4 w-4 font-bold",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),(0,yb.jsx)("section",{className:"  ",children:(0,yb.jsxs)("section",{className:o?" flex flex-col w-80 mt-2  rounded-xl px-4 absolute left-10 border-2 sm:left-auto z-50 bg-white transition-all delay-700 duration-500 ease-in-out":"hidden",children:[(0,yb.jsxs)("div",{className:" flex items-center justify-between mt-2",children:[(0,yb.jsxs)("div",{className:" rounded-md ",children:[(0,yb.jsx)("span",{className:"text-sm pl-2 ",children:"\u06a9\u0645\u062a\u0631\u06cc\u0646"}),(0,yb.jsx)("input",{type:"number",onChange:function(e){return function(e){b-m>=p&&b<=h?parseInt(e.target.value)>parseInt(b)||y(parseInt(e.target.value)):parseInt(e.target.value)<m&&y(parseInt(e.target.value))}(e)},value:m,className:"w-20 text-sm pr-2 rounded-md border border-gray-400"})]}),(0,yb.jsxs)("div",{children:[(0,yb.jsx)("input",{type:"number",value:b,onChange:function(e){return function(e){b-m>=p&&b<=h?parseInt(e.target.value)<parseInt(m)||_(parseInt(e.target.value)):parseInt(e.target.value)>b&&_(parseInt(e.target.value))}(e)},className:"w-20 text-sm pr-2 rounded-md border border-gray-400"}),(0,yb.jsx)("span",{className:"text-sm mr-2 ",children:"\u0628\u06cc\u0634\u062a\u0631\u06cc\u0646"})]})]}),(0,yb.jsxs)("div",{className:" my-3  ",children:[(0,yb.jsx)("div",{className:" slider relative h-1 rounded-md bg-gray-300 ",children:(0,yb.jsx)("div",{className:" progress absolute h-1 bg-red-300 rounded"})}),(0,yb.jsxs)("div",{className:" range-input relative ",children:[(0,yb.jsx)("input",{onChange:function(e){b-m>=p&&b<=h?parseInt(e.target.value)>parseInt(b)||y(parseInt(e.target.value)):parseInt(e.target.value)<m&&y(parseInt(e.target.value))},type:"range",value:m,min:f,max:h,className:" range-min absolute w-full -top-1 h-1 bg-transparent appearance-none cursor-pointer"}),(0,yb.jsx)("input",{onChange:function(e){b-m>=p&&b<=h?parseInt(e.target.value)<parseInt(m)||_(parseInt(e.target.value)):parseInt(e.target.value)>b&&_(parseInt(e.target.value))},type:"range",value:b,min:f,max:h,className:" range-max absolute w-full -top-1 h-1 bg-transparent appearance-none cursor-pointer "})]}),(0,yb.jsxs)("div",{className:" flex items-center justify-between text-sm mt-3 text-pink-600",children:[(0,yb.jsx)("button",{onClick:function(){return i(!1)},children:"\u0644\u063a\u0648"}),(0,yb.jsx)("button",{onClick:function(){u(!0),i(!1);var e=r.filter((function(e){return e.price>=m&&e.price<=b}));t(e),console.log("minValue",m,"maxValue",b)},children:"\u062a\u0627\u06cc\u06cc\u062f"})]})]})]})})]})}),i_=function(){var t=a((0,e.useState)(!1),2),r=t[0],n=t[1],o=a((0,e.useState)(""),2),i=o[0],s=o[1],l=(Qb(),e_()),u=t_(),c=q(),f=a((0,e.useState)(!1),2),d=(f[0],f[1]);return(0,yb.jsxs)("section",{className:" flex items-center relative  rounded  z-20  w-full  sm:w-3/4  ",children:[(0,yb.jsx)("section",{className:" bg-pink-600 px-2 py-1 rounded cursor-pointer ",onClick:function(){if(""!==i){var e=l.filter((function(e){return e.title.includes(i)}));0===e.length?d(!0):(d(!1),u(e)),c({pathname:"/SearchResult",search:"?name=".concat(i)})}},children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6  text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,yb.jsx)("input",{type:" text",value:i,onKeyDown:function(e){return function(e){if(""===i&&"Enter"===e.key)n(!r);else if("Enter"===e.key&&(c({pathname:"/SearchResult",search:"?name=".concat(i)}),n(!r),""!==i)){var t=l.filter((function(e){return e.title.includes(i)}));0===t.length?d(!0):(d(!1),u(t))}}(e)},onChange:function(e){return function(e){s(e.target.value)}(e)},placeholder:"\u062c\u0633\u062a\u062c\u0648 ...",className:" px-2 py-1 z-10 w-full rounded outline-none border-gray-100 border-opacity-50 focus:border-gray-200 border-2 mr-3  "})]})},a_=(r(9526),function(){var t=e_(),r=t_(),n=function(){var e=Cb().orderBy(t,["price"],["asc"]);r(e)},o=function(){var e=Cb().orderBy(t,["price"],["desc"]);r(e)};return(0,yb.jsxs)("div",{className:"  flex items-center  ",children:[(0,yb.jsxs)("div",{className:"hidden lg:flex justify-start items-center   ",children:[(0,yb.jsx)("section",{className:"mt-2",children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 ml-1 flex items-start   stroke-sky-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})}),(0,yb.jsx)(bn.Group,{className:"text-sm ",children:(0,yb.jsxs)(bn.List,{children:[(0,yb.jsx)(bn,{className:function(e){return e.selected?"bg-sky-600 text-white px-2 py-2 rounded-xl transition-all  duration-300 ease-in-out animate-pulse  ":" px-2 "},children:(0,yb.jsx)("span",{onClick:function(){return n()},children:" \u062c\u062f\u06cc\u062f\u062a\u0631\u06cc\u0646"})}),(0,yb.jsx)(bn,{className:function(e){return e.selected?"bg-sky-600 text-white px-2 py-2 rounded-xl transition-all  duration-300 ease-in-out animate-pulse  ":" px-2 "},children:(0,yb.jsx)("span",{onClick:function(){return n()},children:" \u0627\u0631\u0632\u0627\u0646 \u062a\u0631\u06cc\u0646"})}),(0,yb.jsx)(bn,{className:function(e){return e.selected?"bg-sky-600 text-white px-2 py-2 rounded-xl transition-all  duration-300 ease-in-out animate-pulse  ":"  px-2"},children:(0,yb.jsx)("span",{onClick:function(){return o()},children:"\u06af\u0631\u0627\u0646 \u062a\u0631\u06cc\u0646"})}),(0,yb.jsx)(bn,{className:function(e){return e.selected?"bg-sky-600 text-white px-2 py-2 rounded-xl transition-all  duration-300 ease-in-out animate-pulse  ":"  px-2"},children:"\u067e\u0631\u0641\u0631\u0648\u0634 \u062a\u0631\u06cc\u0646"})]})})]}),(0,yb.jsx)("div",{className:" inline-block lg:hidden z-10 ",children:(0,yb.jsxs)(Fr,{as:"div",className:"relative  flex items-center text-left ",children:[(0,yb.jsx)("div",{children:(0,yb.jsxs)(Fr.Button,{className:"inline-flex justify-center  w-full px-2  py-1 text-sm text-sky-900 rounded-md font-extrabold \r hover:bg-sky-600 hover:text-white focus:outline-none focus-visible:ring-2  focus-visible:ring-white \r focus-visible:ring-opacity-75",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7  ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})," "]})}),(0,yb.jsx)(On,{as:e.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,yb.jsx)(Fr.Items,{className:"absolute  top-10 right-0 w-56 mt-1 origin-top-right bg-white divide-y divide-gray-100 rounded-md\r shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,yb.jsxs)("div",{className:"px-1 py-1 z-50 rounded-xl  ",children:[(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u062c\u062f\u06cc\u062f\u062a\u0631\u06cc\u0646"})}}),(0,yb.jsx)("button",{className:" text-right w-full",onClick:function(){return n()},children:(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?" bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm z-50"),children:"\u0627\u0631\u0632\u0627\u0646\u062a\u0631\u06cc\u0646"})}})}),(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{onClick:function(){return o()},className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u06af\u0631\u0627\u0646\u062a\u0631\u06cc\u0646"})}}),(0,yb.jsx)(Fr.Item,{children:function(e){var t=e.active;return(0,yb.jsx)("button",{className:"".concat(t?"bg-sky-600 text-white":"text-gray-900"," group flex rounded-md items-center w-full px-2 py-2 text-sm"),children:"\u067e\u0631\u0641\u0631\u0648\u0634 \u062a\u0631\u06cc\u0646"})}})]})})})]})})]})}),s_=function(){return(0,yb.jsxs)("div",{className:" absolute top-24 container xl:max-w-screen-xl left-0 right-0  ",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),(0,yb.jsxs)("section",{className:" mt-5  grid grid-cols-3 lg:grid-cols-4 w-full  items-center   ",children:[(0,yb.jsx)("section",{className:" col-span-1 lg:col-span-2  justify-self-start ",children:(0,yb.jsx)(a_,{})}),(0,yb.jsx)("section",{className:" col-span-1 justify-self-start w-full    ",children:(0,yb.jsx)(o_,{})})]}),(0,yb.jsx)("section",{children:(0,yb.jsx)(n_,{})})]})},l_=r(77),u_=r.n(l_),c_=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===f_}(e)}(e)};var f_="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function d_(e,t){return!1!==t.clone&&t.isMergeableObject(e)?p_((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function h_(e,t,r){return e.concat(t).map((function(e){return d_(e,r)}))}function p_(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||h_,r.isMergeableObject=r.isMergeableObject||c_;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=d_(e[t],r)})),Object.keys(t).forEach((function(o){r.isMergeableObject(t[o])&&e[o]?n[o]=p_(e[o],t[o],r):n[o]=d_(t[o],r)})),n}(e,t,r):d_(t,r)}p_.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return p_(e,r,t)}),{})};var v_=p_,m_="object"==typeof global&&global&&global.Object===Object&&global,y_="object"==typeof self&&self&&self.Object===Object&&self,g_=m_||y_||Function("return this")(),b_=g_.Symbol,__=Object.prototype,x_=__.hasOwnProperty,w_=__.toString,k_=b_?b_.toStringTag:void 0;var E_=function(e){var t=x_.call(e,k_),r=e[k_];try{e[k_]=void 0;var n=!0}catch(vv){}var o=w_.call(e);return n&&(t?e[k_]=r:delete e[k_]),o},T_=Object.prototype.toString;var S_=function(e){return T_.call(e)},C_=b_?b_.toStringTag:void 0;var A_=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":C_&&C_ in Object(e)?E_(e):S_(e)};var I_=function(e,t){return function(r){return e(t(r))}},M_=I_(Object.getPrototypeOf,Object);var P_=function(e){return null!=e&&"object"==typeof e},O_=Function.prototype,z_=Object.prototype,R_=O_.toString,D_=z_.hasOwnProperty,L_=R_.call(Object);var j_=function(e){if(!P_(e)||"[object Object]"!=A_(e))return!1;var t=M_(e);if(null===t)return!0;var r=D_.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&R_.call(r)==L_};var F_=function(){this.__data__=[],this.size=0};var N_=function(e,t){return e===t||e!==e&&t!==t};var B_=function(e,t){for(var r=e.length;r--;)if(N_(e[r][0],t))return r;return-1},V_=Array.prototype.splice;var U_=function(e){var t=this.__data__,r=B_(t,e);return!(r<0)&&(r==t.length-1?t.pop():V_.call(t,r,1),--this.size,!0)};var G_=function(e){var t=this.__data__,r=B_(t,e);return r<0?void 0:t[r][1]};var q_=function(e){return B_(this.__data__,e)>-1};var W_=function(e,t){var r=this.__data__,n=B_(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Z_(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Z_.prototype.clear=F_,Z_.prototype.delete=U_,Z_.prototype.get=G_,Z_.prototype.has=q_,Z_.prototype.set=W_;var H_=Z_;var X_=function(){this.__data__=new H_,this.size=0};var $_=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var K_=function(e){return this.__data__.get(e)};var Y_=function(e){return this.__data__.has(e)};var J_=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Q_=function(e){if(!J_(e))return!1;var t=A_(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ex=g_["__core-js_shared__"],tx=function(){var e=/[^.]+$/.exec(ex&&ex.keys&&ex.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var rx=function(e){return!!tx&&tx in e},nx=Function.prototype.toString;var ox=function(e){if(null!=e){try{return nx.call(e)}catch(vv){}try{return e+""}catch(vv){}}return""},ix=/^\[object .+?Constructor\]$/,ax=Function.prototype,sx=Object.prototype,lx=ax.toString,ux=sx.hasOwnProperty,cx=RegExp("^"+lx.call(ux).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fx=function(e){return!(!J_(e)||rx(e))&&(Q_(e)?cx:ix).test(ox(e))};var dx=function(e,t){return null==e?void 0:e[t]};var hx=function(e,t){var r=dx(e,t);return fx(r)?r:void 0},px=hx(g_,"Map"),vx=hx(Object,"create");var mx=function(){this.__data__=vx?vx(null):{},this.size=0};var yx=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gx=Object.prototype.hasOwnProperty;var bx=function(e){var t=this.__data__;if(vx){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return gx.call(t,e)?t[e]:void 0},_x=Object.prototype.hasOwnProperty;var xx=function(e){var t=this.__data__;return vx?void 0!==t[e]:_x.call(t,e)};var wx=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vx&&void 0===t?"__lodash_hash_undefined__":t,this};function kx(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kx.prototype.clear=mx,kx.prototype.delete=yx,kx.prototype.get=bx,kx.prototype.has=xx,kx.prototype.set=wx;var Ex=kx;var Tx=function(){this.size=0,this.__data__={hash:new Ex,map:new(px||H_),string:new Ex}};var Sx=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Cx=function(e,t){var r=e.__data__;return Sx(t)?r["string"==typeof t?"string":"hash"]:r.map};var Ax=function(e){var t=Cx(this,e).delete(e);return this.size-=t?1:0,t};var Ix=function(e){return Cx(this,e).get(e)};var Mx=function(e){return Cx(this,e).has(e)};var Px=function(e,t){var r=Cx(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ox(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ox.prototype.clear=Tx,Ox.prototype.delete=Ax,Ox.prototype.get=Ix,Ox.prototype.has=Mx,Ox.prototype.set=Px;var zx=Ox;var Rx=function(e,t){var r=this.__data__;if(r instanceof H_){var n=r.__data__;if(!px||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zx(n)}return r.set(e,t),this.size=r.size,this};function Dx(e){var t=this.__data__=new H_(e);this.size=t.size}Dx.prototype.clear=X_,Dx.prototype.delete=$_,Dx.prototype.get=K_,Dx.prototype.has=Y_,Dx.prototype.set=Rx;var Lx=Dx;var jx=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Fx=function(){try{var e=hx(Object,"defineProperty");return e({},"",{}),e}catch(vv){}}();var Nx=function(e,t,r){"__proto__"==t&&Fx?Fx(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Bx=Object.prototype.hasOwnProperty;var Vx=function(e,t,r){var n=e[t];Bx.call(e,t)&&N_(n,r)&&(void 0!==r||t in e)||Nx(e,t,r)};var Ux=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),o?Nx(r,s,l):Vx(r,s,l)}return r};var Gx=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var qx=function(e){return P_(e)&&"[object Arguments]"==A_(e)},Wx=Object.prototype,Zx=Wx.hasOwnProperty,Hx=Wx.propertyIsEnumerable,Xx=qx(function(){return arguments}())?qx:function(e){return P_(e)&&Zx.call(e,"callee")&&!Hx.call(e,"callee")},$x=Xx,Kx=Array.isArray;var Yx=function(){return!1},Jx="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qx=Jx&&"object"==typeof module&&module&&!module.nodeType&&module,ew=Qx&&Qx.exports===Jx?g_.Buffer:void 0,tw=(ew?ew.isBuffer:void 0)||Yx,rw=/^(?:0|[1-9]\d*)$/;var nw=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&rw.test(e))&&e>-1&&e%1==0&&e<t};var ow=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},iw={};iw["[object Float32Array]"]=iw["[object Float64Array]"]=iw["[object Int8Array]"]=iw["[object Int16Array]"]=iw["[object Int32Array]"]=iw["[object Uint8Array]"]=iw["[object Uint8ClampedArray]"]=iw["[object Uint16Array]"]=iw["[object Uint32Array]"]=!0,iw["[object Arguments]"]=iw["[object Array]"]=iw["[object ArrayBuffer]"]=iw["[object Boolean]"]=iw["[object DataView]"]=iw["[object Date]"]=iw["[object Error]"]=iw["[object Function]"]=iw["[object Map]"]=iw["[object Number]"]=iw["[object Object]"]=iw["[object RegExp]"]=iw["[object Set]"]=iw["[object String]"]=iw["[object WeakMap]"]=!1;var aw=function(e){return P_(e)&&ow(e.length)&&!!iw[A_(e)]};var sw=function(e){return function(t){return e(t)}},lw="object"==typeof exports&&exports&&!exports.nodeType&&exports,uw=lw&&"object"==typeof module&&module&&!module.nodeType&&module,cw=uw&&uw.exports===lw&&m_.process,fw=function(){try{var e=uw&&uw.require&&uw.require("util").types;return e||cw&&cw.binding&&cw.binding("util")}catch(vv){}}(),dw=fw,hw=dw&&dw.isTypedArray,pw=hw?sw(hw):aw,vw=Object.prototype.hasOwnProperty;var mw=function(e,t){var r=Kx(e),n=!r&&$x(e),o=!r&&!n&&tw(e),i=!r&&!n&&!o&&pw(e),a=r||n||o||i,s=a?Gx(e.length,String):[],l=s.length;for(var u in e)!t&&!vw.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||nw(u,l))||s.push(u);return s},yw=Object.prototype;var gw=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yw)},bw=I_(Object.keys,Object),_w=Object.prototype.hasOwnProperty;var xw=function(e){if(!gw(e))return bw(e);var t=[];for(var r in Object(e))_w.call(e,r)&&"constructor"!=r&&t.push(r);return t};var ww=function(e){return null!=e&&ow(e.length)&&!Q_(e)};var kw=function(e){return ww(e)?mw(e):xw(e)};var Ew=function(e,t){return e&&Ux(t,kw(t),e)};var Tw=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Sw=Object.prototype.hasOwnProperty;var Cw=function(e){if(!J_(e))return Tw(e);var t=gw(e),r=[];for(var n in e)("constructor"!=n||!t&&Sw.call(e,n))&&r.push(n);return r};var Aw=function(e){return ww(e)?mw(e,!0):Cw(e)};var Iw=function(e,t){return e&&Ux(t,Aw(t),e)},Mw="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pw=Mw&&"object"==typeof module&&module&&!module.nodeType&&module,Ow=Pw&&Pw.exports===Mw?g_.Buffer:void 0,zw=Ow?Ow.allocUnsafe:void 0;var Rw=function(e,t){if(t)return e.slice();var r=e.length,n=zw?zw(r):new e.constructor(r);return e.copy(n),n};var Dw=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var Lw=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var jw=function(){return[]},Fw=Object.prototype.propertyIsEnumerable,Nw=Object.getOwnPropertySymbols,Bw=Nw?function(e){return null==e?[]:(e=Object(e),Lw(Nw(e),(function(t){return Fw.call(e,t)})))}:jw,Vw=Bw;var Uw=function(e,t){return Ux(e,Vw(e),t)};var Gw=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},qw=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Gw(t,Vw(e)),e=M_(e);return t}:jw,Ww=qw;var Zw=function(e,t){return Ux(e,Ww(e),t)};var Hw=function(e,t,r){var n=t(e);return Kx(e)?n:Gw(n,r(e))};var Xw=function(e){return Hw(e,kw,Vw)};var $w=function(e){return Hw(e,Aw,Ww)},Kw=hx(g_,"DataView"),Yw=hx(g_,"Promise"),Jw=hx(g_,"Set"),Qw=hx(g_,"WeakMap"),ek="[object Map]",tk="[object Promise]",rk="[object Set]",nk="[object WeakMap]",ok="[object DataView]",ik=ox(Kw),ak=ox(px),sk=ox(Yw),lk=ox(Jw),uk=ox(Qw),ck=A_;(Kw&&ck(new Kw(new ArrayBuffer(1)))!=ok||px&&ck(new px)!=ek||Yw&&ck(Yw.resolve())!=tk||Jw&&ck(new Jw)!=rk||Qw&&ck(new Qw)!=nk)&&(ck=function(e){var t=A_(e),r="[object Object]"==t?e.constructor:void 0,n=r?ox(r):"";if(n)switch(n){case ik:return ok;case ak:return ek;case sk:return tk;case lk:return rk;case uk:return nk}return t});var fk=ck,dk=Object.prototype.hasOwnProperty;var hk=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&dk.call(e,"index")&&(r.index=e.index,r.input=e.input),r},pk=g_.Uint8Array;var vk=function(e){var t=new e.constructor(e.byteLength);return new pk(t).set(new pk(e)),t};var mk=function(e,t){var r=t?vk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},yk=/\w*$/;var gk=function(e){var t=new e.constructor(e.source,yk.exec(e));return t.lastIndex=e.lastIndex,t},bk=b_?b_.prototype:void 0,_k=bk?bk.valueOf:void 0;var xk=function(e){return _k?Object(_k.call(e)):{}};var wk=function(e,t){var r=t?vk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var kk=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return vk(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return mk(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wk(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return gk(e);case"[object Symbol]":return xk(e)}},Ek=Object.create,Tk=function(){function e(){}return function(t){if(!J_(t))return{};if(Ek)return Ek(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Sk=Tk;var Ck=function(e){return"function"!=typeof e.constructor||gw(e)?{}:Sk(M_(e))};var Ak=function(e){return P_(e)&&"[object Map]"==fk(e)},Ik=dw&&dw.isMap,Mk=Ik?sw(Ik):Ak;var Pk=function(e){return P_(e)&&"[object Set]"==fk(e)},Ok=dw&&dw.isSet,zk=Ok?sw(Ok):Pk,Rk="[object Arguments]",Dk="[object Function]",Lk="[object Object]",jk={};jk[Rk]=jk["[object Array]"]=jk["[object ArrayBuffer]"]=jk["[object DataView]"]=jk["[object Boolean]"]=jk["[object Date]"]=jk["[object Float32Array]"]=jk["[object Float64Array]"]=jk["[object Int8Array]"]=jk["[object Int16Array]"]=jk["[object Int32Array]"]=jk["[object Map]"]=jk["[object Number]"]=jk["[object Object]"]=jk["[object RegExp]"]=jk["[object Set]"]=jk["[object String]"]=jk["[object Symbol]"]=jk["[object Uint8Array]"]=jk["[object Uint8ClampedArray]"]=jk["[object Uint16Array]"]=jk["[object Uint32Array]"]=!0,jk["[object Error]"]=jk[Dk]=jk["[object WeakMap]"]=!1;var Fk=function e(t,r,n,o,i,a){var s,l=1&r,u=2&r,c=4&r;if(n&&(s=i?n(t,o,i,a):n(t)),void 0!==s)return s;if(!J_(t))return t;var f=Kx(t);if(f){if(s=hk(t),!l)return Dw(t,s)}else{var d=fk(t),h=d==Dk||"[object GeneratorFunction]"==d;if(tw(t))return Rw(t,l);if(d==Lk||d==Rk||h&&!i){if(s=u||h?{}:Ck(t),!l)return u?Zw(t,Iw(s,t)):Uw(t,Ew(s,t))}else{if(!jk[d])return i?t:{};s=kk(t,d,l)}}a||(a=new Lx);var p=a.get(t);if(p)return p;a.set(t,s),zk(t)?t.forEach((function(o){s.add(e(o,r,n,o,t,a))})):Mk(t)&&t.forEach((function(o,i){s.set(i,e(o,r,n,i,t,a))}));var v=f?void 0:(c?u?$w:Xw:u?Aw:kw)(t);return jx(v||t,(function(o,i){v&&(o=t[i=o]),Vx(s,i,e(o,r,n,i,t,a))})),s};var Nk=function(e){return Fk(e,4)};var Bk=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var Vk=function(e){return"symbol"==typeof e||P_(e)&&"[object Symbol]"==A_(e)};function Uk(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Uk.Cache||zx),r}Uk.Cache=zx;var Gk=Uk;var qk=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wk=/\\(\\)?/g,Zk=function(e){var t=Gk(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qk,(function(e,r,n,o){t.push(n?o.replace(Wk,"$1"):r||e)})),t})),Hk=Zk;var Xk=function(e){if("string"==typeof e||Vk(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},$k=b_?b_.prototype:void 0,Kk=$k?$k.toString:void 0;var Yk=function e(t){if("string"==typeof t)return t;if(Kx(t))return Bk(t,e)+"";if(Vk(t))return Kk?Kk.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var Jk=function(e){return null==e?"":Yk(e)};var Qk=function(e){return Kx(e)?Bk(e,Xk):Vk(e)?[e]:Dw(Hk(Jk(e)))};r(2110);var eE=function(e){return Fk(e,5)};function tE(){return tE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tE.apply(this,arguments)}function rE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function nE(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function oE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var iE=function(e){return Array.isArray(e)&&0===e.length},aE=function(e){return"function"===typeof e},sE=function(e){return null!==e&&"object"===typeof e},lE=function(e){return String(Math.floor(Number(e)))===e},uE=function(e){return"[object String]"===Object.prototype.toString.call(e)},cE=function(t){return 0===e.Children.count(t)},fE=function(e){return sE(e)&&aE(e.then)};function dE(e,t,r,n){void 0===n&&(n=0);for(var o=Qk(t);e&&n<o.length;)e=e[o[n++]];return void 0===e?r:e}function hE(e,t,r){for(var n=Nk(e),o=n,i=0,a=Qk(t);i<a.length-1;i++){var s=a[i],l=dE(e,a.slice(0,i+1));if(l&&(sE(l)||Array.isArray(l)))o=o[s]=Nk(l);else{var u=a[i+1];o=o[s]=lE(u)&&Number(u)>=0?[]:{}}}return(0===i?e:o)[a[i]]===r?e:(void 0===r?delete o[a[i]]:o[a[i]]=r,0===i&&void 0===r&&delete n[a[i]],n)}function pE(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var o=0,i=Object.keys(e);o<i.length;o++){var a=i[o],s=e[a];sE(s)?r.get(s)||(r.set(s,!0),n[a]=Array.isArray(s)?[]:{},pE(s,t,r,n[a])):n[a]=t}return n}var vE=(0,e.createContext)(void 0);vE.displayName="FormikContext";vE.Provider,vE.Consumer;function mE(){var t=(0,e.useContext)(vE);return t||u(!1),t}function yE(e,t){switch(t.type){case"SET_VALUES":return tE({},e,{values:t.payload});case"SET_TOUCHED":return tE({},e,{touched:t.payload});case"SET_ERRORS":return u_()(e.errors,t.payload)?e:tE({},e,{errors:t.payload});case"SET_STATUS":return tE({},e,{status:t.payload});case"SET_ISSUBMITTING":return tE({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return tE({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return tE({},e,{values:hE(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return tE({},e,{touched:hE(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return tE({},e,{errors:hE(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return tE({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return tE({},e,{touched:pE(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return tE({},e,{isSubmitting:!1});default:return e}}var gE={},bE={};function _E(t){var r=t.validateOnChange,n=void 0===r||r,o=t.validateOnBlur,i=void 0===o||o,a=t.validateOnMount,s=void 0!==a&&a,l=t.isInitialValid,u=t.enableReinitialize,c=void 0!==u&&u,f=t.onSubmit,d=nE(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),h=tE({validateOnChange:n,validateOnBlur:i,validateOnMount:s,onSubmit:f},d),p=(0,e.useRef)(h.initialValues),v=(0,e.useRef)(h.initialErrors||gE),m=(0,e.useRef)(h.initialTouched||bE),y=(0,e.useRef)(h.initialStatus),g=(0,e.useRef)(!1),b=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var _=(0,e.useReducer)(yE,{values:h.initialValues,errors:h.initialErrors||gE,touched:h.initialTouched||bE,status:h.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=_[0],w=_[1],k=(0,e.useCallback)((function(e,t){return new Promise((function(r,n){var o=h.validate(e,t);null==o?r(gE):fE(o)?o.then((function(e){r(e||gE)}),(function(e){n(e)})):r(o)}))}),[h.validate]),E=(0,e.useCallback)((function(e,t){var r=h.validationSchema,n=aE(r)?r(t):r,o=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1);void 0===n&&(n={});var o=xE(e);return t[r?"validateSync":"validate"](o,{abortEarly:!1,context:n})}(e,n);return new Promise((function(e,t){o.then((function(){e(gE)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return hE(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),o=0;for(r=n?r:r[Symbol.iterator]();;){var i;if(n){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var a=i;dE(t,a.path)||(t=hE(t,a.path,a.message))}}return t}(r)):t(r)}))}))}),[h.validationSchema]),T=(0,e.useCallback)((function(e,t){return new Promise((function(r){return r(b.current[e].validate(t))}))}),[]),S=(0,e.useCallback)((function(e){var t=Object.keys(b.current).filter((function(e){return aE(b.current[e].validate)})),r=t.length>0?t.map((function(t){return T(t,dE(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=hE(e,t[n],r)),e}),{})}))}),[T]),C=(0,e.useCallback)((function(e){return Promise.all([S(e),h.validationSchema?E(e):{},h.validate?k(e):{}]).then((function(e){var t=e[0],r=e[1],n=e[2];return v_.all([t,r,n],{arrayMerge:wE})}))}),[h.validate,h.validationSchema,S,k,E]),A=EE((function(e){return void 0===e&&(e=x.values),w({type:"SET_ISVALIDATING",payload:!0}),C(e).then((function(e){return g.current&&(w({type:"SET_ISVALIDATING",payload:!1}),w({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===g.current&&u_()(p.current,h.initialValues)&&A(p.current)}),[s,A]);var I=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:p.current,r=e&&e.errors?e.errors:v.current?v.current:h.initialErrors||{},n=e&&e.touched?e.touched:m.current?m.current:h.initialTouched||{},o=e&&e.status?e.status:y.current?y.current:h.initialStatus;p.current=t,v.current=r,m.current=n,y.current=o;var i=function(){w({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:o,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(h.onReset){var a=h.onReset(x.values,X);fE(a)?a.then(i):i()}else i()}),[h.initialErrors,h.initialStatus,h.initialTouched]);(0,e.useEffect)((function(){!0!==g.current||u_()(p.current,h.initialValues)||(c&&(p.current=h.initialValues,I()),s&&A(p.current))}),[c,h.initialValues,I,s,A]),(0,e.useEffect)((function(){c&&!0===g.current&&!u_()(v.current,h.initialErrors)&&(v.current=h.initialErrors||gE,w({type:"SET_ERRORS",payload:h.initialErrors||gE}))}),[c,h.initialErrors]),(0,e.useEffect)((function(){c&&!0===g.current&&!u_()(m.current,h.initialTouched)&&(m.current=h.initialTouched||bE,w({type:"SET_TOUCHED",payload:h.initialTouched||bE}))}),[c,h.initialTouched]),(0,e.useEffect)((function(){c&&!0===g.current&&!u_()(y.current,h.initialStatus)&&(y.current=h.initialStatus,w({type:"SET_STATUS",payload:h.initialStatus}))}),[c,h.initialStatus,h.initialTouched]);var M=EE((function(e){if(b.current[e]&&aE(b.current[e].validate)){var t=dE(x.values,e),r=b.current[e].validate(t);return fE(r)?(w({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),w({type:"SET_ISVALIDATING",payload:!1})}))):(w({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return h.validationSchema?(w({type:"SET_ISVALIDATING",payload:!0}),E(x.values,e).then((function(e){return e})).then((function(t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),w({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),P=(0,e.useCallback)((function(e,t){var r=t.validate;b.current[e]={validate:r}}),[]),O=(0,e.useCallback)((function(e){delete b.current[e]}),[]),z=EE((function(e,t){return w({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?A(x.values):Promise.resolve()})),R=(0,e.useCallback)((function(e){w({type:"SET_ERRORS",payload:e})}),[]),D=EE((function(e,t){var r=aE(e)?e(x.values):e;return w({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?A(r):Promise.resolve()})),L=(0,e.useCallback)((function(e,t){w({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),j=EE((function(e,t,r){return w({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?A(hE(x.values,e,t)):Promise.resolve()})),F=(0,e.useCallback)((function(e,t){var r,n=t,o=e;if(!uE(e)){e.persist&&e.persist();var i=e.target?e.target:e.currentTarget,a=i.type,s=i.name,l=i.id,u=i.value,c=i.checked,f=(i.outerHTML,i.options),d=i.multiple;n=t||(s||l),o=/number|range/.test(a)?(r=parseFloat(u),isNaN(r)?"":r):/checkbox/.test(a)?function(e,t,r){if("boolean"===typeof e)return Boolean(t);var n=[],o=!1,i=-1;if(Array.isArray(e))n=e,o=(i=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);if(t&&r&&!o)return n.concat(r);if(!o)return n;return n.slice(0,i).concat(n.slice(i+1))}(dE(x.values,n),c,u):f&&d?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):u}n&&j(n,o)}),[j,x.values]),N=EE((function(e){if(uE(e))return function(t){return F(t,e)};F(e)})),B=EE((function(e,t,r){return void 0===t&&(t=!0),w({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?i:r)?A(x.values):Promise.resolve()})),V=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,o=r.id,i=(r.outerHTML,t||(n||o));B(i,!0)}),[B]),U=EE((function(e){if(uE(e))return function(t){return V(t,e)};V(e)})),G=(0,e.useCallback)((function(e){aE(e)?w({type:"SET_FORMIK_STATE",payload:e}):w({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),q=(0,e.useCallback)((function(e){w({type:"SET_STATUS",payload:e})}),[]),W=(0,e.useCallback)((function(e){w({type:"SET_ISSUBMITTING",payload:e})}),[]),Z=EE((function(){return w({type:"SUBMIT_ATTEMPT"}),A().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=$()))return}catch(n){throw n}return Promise.resolve(r).then((function(e){return g.current&&w({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw w({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(w({type:"SUBMIT_FAILURE"}),t))throw e}))})),H=EE((function(e){e&&e.preventDefault&&aE(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&aE(e.stopPropagation)&&e.stopPropagation(),Z().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),X={resetForm:I,validateForm:A,validateField:M,setErrors:R,setFieldError:L,setFieldTouched:B,setFieldValue:j,setStatus:q,setSubmitting:W,setTouched:z,setValues:D,setFormikState:G,submitForm:Z},$=EE((function(){return f(x.values,X)})),K=EE((function(e){e&&e.preventDefault&&aE(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&aE(e.stopPropagation)&&e.stopPropagation(),I()})),Y=(0,e.useCallback)((function(e){return{value:dE(x.values,e),error:dE(x.errors,e),touched:!!dE(x.touched,e),initialValue:dE(p.current,e),initialTouched:!!dE(m.current,e),initialError:dE(v.current,e)}}),[x.errors,x.touched,x.values]),J=(0,e.useCallback)((function(e){return{setValue:function(t,r){return j(e,t,r)},setTouched:function(t,r){return B(e,t,r)},setError:function(t){return L(e,t)}}}),[j,B,L]),Q=(0,e.useCallback)((function(e){var t=sE(e),r=t?e.name:e,n=dE(x.values,r),o={name:r,value:n,onChange:N,onBlur:U};if(t){var i=e.type,a=e.value,s=e.as,l=e.multiple;"checkbox"===i?void 0===a?o.checked=!!n:(o.checked=!(!Array.isArray(n)||!~n.indexOf(a)),o.value=a):"radio"===i?(o.checked=n===a,o.value=a):"select"===s&&l&&(o.value=o.value||[],o.multiple=!0)}return o}),[U,N,x.values]),ee=(0,e.useMemo)((function(){return!u_()(p.current,x.values)}),[p.current,x.values]),te=(0,e.useMemo)((function(){return"undefined"!==typeof l?ee?x.errors&&0===Object.keys(x.errors).length:!1!==l&&aE(l)?l(h):l:x.errors&&0===Object.keys(x.errors).length}),[l,ee,x.errors,h]);return tE({},x,{initialValues:p.current,initialErrors:v.current,initialTouched:m.current,initialStatus:y.current,handleBlur:U,handleChange:N,handleReset:K,handleSubmit:H,resetForm:I,setErrors:R,setFormikState:G,setFieldTouched:B,setFieldValue:j,setFieldError:L,setStatus:q,setSubmitting:W,setTouched:z,setValues:D,submitForm:Z,validateForm:A,validateField:M,isValid:te,dirty:ee,unregisterField:O,registerField:P,getFieldProps:Q,getFieldMeta:Y,getFieldHelpers:J,validateOnBlur:i,validateOnChange:n,validateOnMount:s})}function xE(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||j_(e)?xE(e):""!==e?e:void 0})):j_(e[n])?t[n]=xE(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function wE(e,t,r){var n=e.slice();return t.forEach((function(t,o){if("undefined"===typeof n[o]){var i=!1!==r.clone&&r.isMergeableObject(t);n[o]=i?v_(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[o]=v_(e[o],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var kE="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;function EE(t){var r=(0,e.useRef)(t);return kE((function(){r.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.current.apply(void 0,t)}),[])}(0,e.forwardRef)((function(t,r){var n=t.action,o=nE(t,["action"]),i=null!=n?n:"#",a=mE(),s=a.handleReset,l=a.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:l,ref:r,onReset:s,action:i},o))})).displayName="Form";var TE=function(e,t,r){var n=SE(e);return n.splice(t,0,r),n},SE=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(tE({},e,{length:t+1}))}return[]},CE=function(t){function r(e){var r;return(r=t.call(this,e)||this).updateArrayField=function(e,t,n){var o=r.props,i=o.name;(0,o.formik.setFormikState)((function(r){var o="function"===typeof n?n:e,a="function"===typeof t?t:e,s=hE(r.values,i,e(dE(r.values,i))),l=n?o(dE(r.errors,i)):void 0,u=t?a(dE(r.touched,i)):void 0;return iE(l)&&(l=void 0),iE(u)&&(u=void 0),tE({},r,{values:s,errors:n?hE(r.errors,i,l):r.errors,touched:t?hE(r.touched,i,u):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(SE(t),[eE(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=SE(e),o=n[t];return n[t]=n[r],n[r]=o,n}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=SE(e),o=n[t];return n.splice(t,1),n.splice(r,0,o),n}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return TE(r,e,t)}),(function(t){return TE(t,e,null)}),(function(t){return TE(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=SE(e);return n[t]=r,n}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var n=r?[e].concat(r):[e];return t<0&&(t=n.length),n}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(oE(r)),r.pop=r.pop.bind(oE(r)),r}rE(r,t);var n=r.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!u_()(dE(e.formik.values,e.name),dE(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(r){var n=r?SE(r):[];return t||(t=n[e]),aE(n.splice)&&n.splice(e,1),n}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var r=t;return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},n.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},r=this.props,n=r.component,o=r.render,i=r.children,a=r.name,s=tE({},t,{form:nE(r.formik,["validate","validationSchema"]),name:a});return n?(0,e.createElement)(n,s):o?o(s):i?"function"===typeof i?i(s):cE(i)?null:e.Children.only(i):null},r}(e.Component);CE.defaultProps={validateOnChange:!0};var AE,IE;e.Component,e.Component;function ME(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OE(e,t,r){return t&&PE(e.prototype,t),r&&PE(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}try{AE=Map}catch(_t){}try{IE=Set}catch(_t){}function zE(e,t,r){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(RE);if(AE&&e instanceof AE)return new Map(Array.from(e.entries()));if(IE&&e instanceof IE)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var n=Object.create(e);for(var o in r.push(n),e){var i=t.findIndex((function(t){return t===e[o]}));n[o]=i>-1?r[i]:zE(e[o],t,r)}return n}return e}function RE(e){return zE(e,[],[])}var DE=Object.prototype.toString,LE=Error.prototype.toString,jE=RegExp.prototype.toString,FE="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},NE=/^Symbol\((.*)\)(.*)$/;function BE(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function VE(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var r=typeof e;if("number"===r)return BE(e);if("string"===r)return t?'"'.concat(e,'"'):e;if("function"===r)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===r)return FE.call(e).replace(NE,"Symbol($1)");var n=DE.call(e).slice(8,-1);return"Date"===n?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===n||e instanceof Error?"["+LE.call(e)+"]":"RegExp"===n?jE.call(e):null}function UE(e,t){var r=VE(e,t);return null!==r?r:JSON.stringify(e,(function(e,r){var n=VE(this[e],t);return null!==n?n:r}),2)}var GE={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,r=e.type,n=e.value,o=e.originalValue,i=null!=o&&o!==n,a="".concat(t," must be a `").concat(r,"` type, ")+"but the final value was: `".concat(UE(n,!0),"`")+(i?" (cast from the value `".concat(UE(o,!0),"`)."):".");return null===n&&(a+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),a},defined:"${path} must be defined"},qE={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},WE={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},ZE={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},HE={isValue:"${path} field must be ${value}"},XE={noUnknown:"${path} field has unspecified keys: ${unknown}"},$E={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},KE=(Object.assign(Object.create(null),{mixed:GE,string:qE,number:WE,date:ZE,object:XE,array:$E,boolean:HE}),r(7805)),YE=r.n(KE),JE=function(e){return e&&e.__isYupSchema__},QE=function(){function e(t,r){if(ME(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof r){if(!YE()(r,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var n=r.is,o=r.then,i=r.otherwise,a="function"===typeof n?n:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every((function(e){return e===n}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop(),s=t.pop(),l=a.apply(void 0,t)?o:i;if(l)return"function"===typeof l?l(s):s.concat(l.resolve(n))}}else this.fn=r}return OE(e,[{key:"resolve",value:function(e,t){var r=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),n=this.fn.apply(e,r.concat(e,t));if(void 0===n||n===e)return e;if(!JE(n))throw new TypeError("conditions must return a schema object");return n.resolve(t)}}]),e}(),eT=QE,tT=r(7326),rT=r(9611);function nT(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,rT.Z)(e,t)}function oT(e){return oT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oT(e)}function iT(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(vv){return!1}}function aT(e){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aT(e)}function sT(e,t){if(t&&("object"===aT(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,tT.Z)(e)}function lT(e){var t=iT();return function(){var r,n=oT(e);if(t){var o=oT(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sT(this,r)}}function uT(e,t,r){return uT=iT()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,rT.Z)(o,r.prototype),o},uT.apply(null,arguments)}function cT(e){var t="function"===typeof Map?new Map:void 0;return cT=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return uT(e,arguments,oT(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,rT.Z)(n,e)},cT(e)}function fT(e){return null==e?[]:[].concat(e)}function dT(){return dT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dT.apply(this,arguments)}var hT=/\$\{\s*(\w+)\s*\}/g,pT=function(e){nT(r,e);var t=lT(r);function r(e,n,o,i){var a;return ME(this,r),(a=t.call(this)).value=void 0,a.path=void 0,a.type=void 0,a.errors=void 0,a.params=void 0,a.inner=void 0,a.name="ValidationError",a.value=n,a.path=o,a.type=i,a.errors=[],a.inner=[],fT(e).forEach((function(e){var t;r.isError(e)?((t=a.errors).push.apply(t,be(e.errors)),a.inner=a.inner.concat(e.inner.length?e.inner:e)):a.errors.push(e)})),a.message=a.errors.length>1?"".concat(a.errors.length," errors occurred"):a.errors[0],Error.captureStackTrace&&Error.captureStackTrace((0,tT.Z)(a),r),a}return OE(r,null,[{key:"formatError",value:function(e,t){var r=t.label||t.path||"this";return r!==t.path&&(t=dT({},t,{path:r})),"string"===typeof e?e.replace(hT,(function(e,r){return UE(t[r])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),r}(cT(Error));function vT(e,t){var r=e.endEarly,n=e.tests,o=e.args,i=e.value,a=e.errors,s=e.sort,l=e.path,u=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),c=n.length,f=[];if(a=a||[],!c)return a.length?u(new pT(a,i,l)):u(null,i);for(var d=0;d<n.length;d++){(0,n[d])(o,(function(e){if(e){if(!pT.isError(e))return u(e,i);if(r)return e.value=i,u(e,i);f.push(e)}if(--c<=0){if(f.length&&(s&&f.sort(s),a.length&&f.push.apply(f,be(a)),a=f),a.length)return void u(new pT(a,i,l),i);u(null,i)}}))}}var mT=r(7702),yT=r.n(mT),gT=r(2758),bT="$",_T=".";var xT=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ME(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bT,this.isValue=this.key[0]===_T,this.isSibling=!this.isContext&&!this.isValue;var n=this.isContext?bT:this.isValue?_T:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,gT.getter)(this.path,!0),this.map=r.map}return OE(e,[{key:"getValue",value:function(e,t,r){var n=this.isContext?r:this.isValue?e:t;return this.getter&&(n=this.getter(n||{})),this.map&&(n=this.map(n)),n}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function wT(){return wT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wT.apply(this,arguments)}function kT(e){function t(t,r){var n=t.value,o=t.path,i=void 0===o?"":o,a=t.label,s=t.options,l=t.originalValue,u=t.sync,c=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["value","path","label","options","originalValue","sync"]),f=e.name,d=e.test,h=e.params,p=e.message,v=s.parent,m=s.context;function y(e){return xT.isRef(e)?e.getValue(n,v,m):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=yT()(wT({value:n,originalValue:l,label:a,path:e.path||i},h,e.params),y),r=new pT(pT.formatError(e.message||p,t),n,t.path,e.type||f);return r.params=t,r}var b=wT({path:i,parent:v,type:f,createError:g,resolve:y,options:s,originalValue:l},c);if(u){var _;try{var x;if("function"===typeof(null==(x=_=d.call(b,n,b))?void 0:x.then))throw new Error('Validation test of type: "'.concat(b.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(w){return void r(w)}pT.isError(_)?r(_):_?r(null,_):r(g())}else try{Promise.resolve(d.call(b,n,b)).then((function(e){pT.isError(e)?r(e):e?r(null,e):r(g())})).catch(r)}catch(w){r(w)}}return t.OPTIONS=e,t}xT.prototype.__isYupRef=!0;var ET=function(e){return e.substr(0,e.length-1).substr(1)};function TT(e,t,r){var n,o,i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;return t?((0,gT.forEach)(t,(function(s,l,u){var c=l?ET(s):s;if((e=e.resolve({context:a,parent:n,value:r})).innerType){var f=u?parseInt(c,10):0;if(r&&f>=r.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(s,", in the path: ").concat(t,". ")+"because there is no value at that index. ");n=r,r=r&&r[f],e=e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(i,' which is a type: "').concat(e._type,'")'));n=r,r=r&&r[c],e=e.fields[c]}o=c,i=l?"["+s+"]":"."+s})),{schema:e,parent:n,parentPath:o}):{parent:n,parentPath:t,schema:e}}var ST=function(){function e(){ME(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return OE(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],r=we(this.list);try{for(r.s();!(e=r.n()).done;){var n=e.value;t.push(n)}}catch(l){r.e(l)}finally{r.f()}var o,i=we(this.refs);try{for(i.s();!(o=i.n()).done;){var s=a(o.value,2)[1];t.push(s.describe())}}catch(l){i.e(l)}finally{i.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,r){return t.concat(xT.isRef(r)?e(r):r)}),[])}},{key:"add",value:function(e){xT.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){xT.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var r=this.clone();return e.list.forEach((function(e){return r.add(e)})),e.refs.forEach((function(e){return r.add(e)})),t.list.forEach((function(e){return r.delete(e)})),t.refs.forEach((function(e){return r.delete(e)})),r}}]),e}();function CT(){return CT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CT.apply(this,arguments)}var AT=function(){function e(t){var r=this;ME(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new ST,this._blacklist=new ST,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){r.typeError(GE.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=CT({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return OE(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=CT({},this.exclusiveTests),t.deps=be(this.deps),t.conditions=be(this.conditions),t.tests=be(this.tests),t.transforms=be(this.transforms),t.spec=RE(CT({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var r=e(this);return this._mutate=t,r}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,r=e.clone(),n=CT({},t.spec,r.spec);return r.spec=n,r._typeError||(r._typeError=t._typeError),r._whitelistError||(r._whitelistError=t._whitelistError),r._blacklistError||(r._blacklistError=t._blacklistError),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),r.transforms=[].concat(be(t.transforms),be(r.transforms)),r}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var r=t.conditions;(t=t.clone()).conditions=[],t=(t=r.reduce((function(t,r){return r.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.resolve(CT({value:e},t)),n=r._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==r.isType(n)){var o=UE(e),i=UE(n);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(r._type,'". \n\n')+"attempted value: ".concat(o," \n")+(i!==o?"result of cast: ".concat(i):""))}return n}},{key:"_cast",value:function(e,t){var r=this,n=void 0===e?e:this.transforms.reduce((function(t,n){return n.call(r,t,e,r)}),e);return void 0===n&&(n=this.getDefault()),n}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=r.sync,i=r.path,a=r.from,s=void 0===a?[]:a,l=r.originalValue,u=void 0===l?e:l,c=r.strict,f=void 0===c?this.spec.strict:c,d=r.abortEarly,h=void 0===d?this.spec.abortEarly:d,p=e;f||(p=this._cast(p,CT({assert:!1},r)));var v={value:p,path:i,options:r,originalValue:u,schema:this,label:this.spec.label,sync:o,from:s},m=[];this._typeError&&m.push(this._typeError);var y=[];this._whitelistError&&y.push(this._whitelistError),this._blacklistError&&y.push(this._blacklistError),vT({args:v,value:p,path:i,sync:o,tests:m,endEarly:h},(function(e){e?n(e,p):vT({tests:t.tests.concat(y),args:v,path:i,sync:o,value:p,endEarly:h},n)}))}},{key:"validate",value:function(e,t,r){var n=this.resolve(CT({},t,{value:e}));return"function"===typeof r?n._validate(e,t,r):new Promise((function(r,o){return n._validate(e,t,(function(e,t){e?o(e):r(t)}))}))}},{key:"validateSync",value:function(e,t){var r;return this.resolve(CT({},t,{value:e}))._validate(e,CT({},t,{sync:!0}),(function(e,t){if(e)throw e;r=t})),r}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(pT.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(r){if(pT.isError(r))return!1;throw r}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):RE(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:GE.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=GE.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),r=kT(e),n=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(n)return!1;if(t.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),t.tests.push(r),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var r=this.clone(),n=fT(e).map((function(e){return new xT(e)}));return n.forEach((function(e){e.isSibling&&r.deps.push(e.key)})),r.conditions.push(new eT(n,t)),r}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=kT({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GE.oneOf,r=this.clone();return e.forEach((function(e){r._whitelist.add(e),r._blacklist.delete(e)})),r._whitelistError=kT({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,r=t.resolveAll(this.resolve);return!!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:GE.notOneOf,r=this.clone();return e.forEach((function(e){r._blacklist.add(e),r._whitelist.delete(e)})),r._blacklistError=kT({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,r=t.resolveAll(this.resolve);return!r.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:r}})}}),r}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,r=t.label,n={meta:t.meta,label:r,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,r){return r.findIndex((function(t){return t.name===e.name}))===t}))};return n}}]),e}();AT.prototype.__isYupSchema__=!0;for(var IT=function(){var e=PT[MT];AT.prototype["".concat(e,"At")]=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=TT(this,t,r,n.context),i=o.parent,a=o.parentPath,s=o.schema;return s[e](i&&i[a],CT({},n,{parent:i,path:t}))}},MT=0,PT=["validate","validateSync"];MT<PT.length;MT++)IT();for(var OT=0,zT=["equals","is"];OT<zT.length;OT++){var RT=zT[OT];AT.prototype[RT]=AT.prototype.oneOf}for(var DT=0,LT=["not","nope"];DT<LT.length;DT++){var jT=LT[DT];AT.prototype[jT]=AT.prototype.notOneOf}AT.prototype.optional=AT.prototype.notRequired;var FT=AT;FT.prototype;var NT=function(e){return null==e};var BT=function(e){nT(r,e);var t=lT(r);function r(){var e;return ME(this,r),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return OE(r,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HE.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return NT(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HE.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return NT(e)||!1===e}})}}]),r}(AT);function VT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oT(e)););return e}function UT(){return UT="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=VT(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},UT.apply(this,arguments)}BT.prototype;var GT=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,qT=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,WT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ZT=function(e){return NT(e)||e===e.trim()},HT={}.toString();function XT(){return new $T}var $T=function(e){nT(r,e);var t=lT(r);function r(){var e;return ME(this,r),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===HT?e:t}))})),e}return OE(r,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return UT(oT(r.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qE.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return NT(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qE.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return NT(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qE.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return NT(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var r,n,o=!1;if(t)if("object"===typeof t){var i=t.excludeEmptyString;o=void 0!==i&&i,r=t.message,n=t.name}else r=t;return this.test({name:n||"matches",message:r||qE.matches,params:{regex:e},test:function(t){return NT(t)||""===t&&o||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.email;return this.matches(GT,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.url;return this.matches(qT,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.uuid;return this.matches(WT,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:ZT})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.lowercase;return this.transform((function(e){return NT(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return NT(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qE.uppercase;return this.transform((function(e){return NT(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return NT(e)||e===e.toUpperCase()}})}}]),r}(AT);XT.prototype=$T.prototype;var KT=function(e){nT(r,e);var t=lT(r);function r(){var e;return ME(this,r),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return OE(r,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WE.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return NT(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WE.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return NT(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WE.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return NT(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WE.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return NT(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WE.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WE.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WE.integer;return this.test({name:"integer",message:e,test:function(e){return NT(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return NT(e)?e:0|e}))}},{key:"round",value:function(e){var t,r=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===r.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform((function(t){return NT(t)?t:Math[e](t)}))}}]),r}(AT);KT.prototype;var YT=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var JT=new Date("");function QT(){return new eS}var eS=function(e){nT(r,e);var t=lT(r);function r(){var e;return ME(this,r),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,r,n=[1,4,5,6,7,10,11],o=0;if(r=YT.exec(e)){for(var i,a=0;i=n[a];++a)r[i]=+r[i]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,r[7]=r[7]?String(r[7]).substr(0,3):0,void 0!==r[8]&&""!==r[8]||void 0!==r[9]&&""!==r[9]?("Z"!==r[8]&&void 0!==r[9]&&(o=60*r[10]+r[11],"+"===r[9]&&(o=0-o)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+o,r[6],r[7])):t=+new Date(r[1],r[2],r[3],r[4],r[5],r[6],r[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?JT:new Date(e))}))})),e}return OE(r,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var r;if(xT.isRef(e))r=e;else{var n=this.cast(e);if(!this._typeCheck(n))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));r=n}return r}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZE.min,r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return NT(e)||e>=this.resolve(r)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZE.max,r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return NT(e)||e<=this.resolve(r)}})}}]),r}(AT);eS.INVALID_DATE=JT,QT.prototype=eS.prototype,QT.INVALID_DATE=JT;var tS=r(7499),rS=r.n(tS),nS=r(567),oS=r.n(nS),iS=r(9029),aS=r.n(iS),sS=r(6514),lS=r.n(sS);function uS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=new Set,o=new Set(t.map((function(e){var t=a(e,2),r=t[0],n=t[1];return"".concat(r,"-").concat(n)})));function i(e,t){var i=(0,gT.split)(e)[0];n.add(i),o.has("".concat(t,"-").concat(i))||r.push([t,i])}var s=function(t){if(YE()(e,t)){var r=e[t];n.add(t),xT.isRef(r)&&r.isSibling?i(r.path,t):JE(r)&&"deps"in r&&r.deps.forEach((function(e){return i(e,t)}))}};for(var l in e)s(l);return lS().array(Array.from(n),r).reverse()}function cS(e,t){var r=1/0;return e.some((function(e,n){var o;if(-1!==(null==(o=t.path)?void 0:o.indexOf(e)))return r=n,!0})),r}function fS(e){return function(t,r){return cS(e,t)-cS(e,r)}}function dS(){return dS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dS.apply(this,arguments)}var hS=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function pS(e,t){var r=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===r.indexOf(e)}))}var vS=fS([]),mS=function(e){nT(r,e);var t=lT(r);function r(e){var n;return ME(this,r),(n=t.call(this,{type:"object"})).fields=Object.create(null),n._sortErrors=vS,n._nodes=[],n._excludedEdges=[],n.withMutation((function(){n.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&n.shape(e)})),n}return OE(r,[{key:"_typeCheck",value:function(e){return hS(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=UT(oT(r.prototype),"_cast",this).call(this,e,o);if(void 0===i)return this.getDefault();if(!this._typeCheck(i))return i;var a,s=this.fields,l=null!=(t=o.stripUnknown)?t:this.spec.noUnknown,u=this._nodes.concat(Object.keys(i).filter((function(e){return-1===n._nodes.indexOf(e)}))),c={},f=dS({},o,{parent:c,__validating:o.__validating||!1}),d=!1,h=we(u);try{for(h.s();!(a=h.n()).done;){var p=a.value,v=s[p],m=YE()(i,p);if(v){var y=void 0,g=i[p];f.path=(o.path?"".concat(o.path,"."):"")+p;var b="spec"in(v=v.resolve({value:g,context:o.context,parent:c}))?v.spec:void 0,_=null==b?void 0:b.strict;if(null==b?void 0:b.strip){d=d||p in i;continue}void 0!==(y=o.__validating&&_?i[p]:v.cast(i[p],f))&&(c[p]=y)}else m&&!l&&(c[p]=i[p]);c[p]!==i[p]&&(d=!0)}}catch(x){h.e(x)}finally{h.f()}return d?c:i}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,i=[],a=n.sync,s=n.from,l=void 0===s?[]:s,u=n.originalValue,c=void 0===u?e:u,f=n.abortEarly,d=void 0===f?this.spec.abortEarly:f,h=n.recursive,p=void 0===h?this.spec.recursive:h;l=[{schema:this,value:c}].concat(be(l)),n.__validating=!0,n.originalValue=c,n.from=l,UT(oT(r.prototype),"_validate",this).call(this,e,n,(function(e,r){if(e){if(!pT.isError(e)||d)return void o(e,r);i.push(e)}if(p&&hS(r)){c=c||r;var s=t._nodes.map((function(e){return function(o,i){var a=-1===e.indexOf(".")?(n.path?"".concat(n.path,"."):"")+e:"".concat(n.path||"",'["').concat(e,'"]'),s=t.fields[e];s&&"validate"in s?s.validate(r[e],dS({},n,{path:a,from:l,strict:!0,parent:r,originalValue:c[e]}),i):i(null)}}));vT({sync:a,tests:s,value:r,errors:i,endEarly:d,sort:t._sortErrors,path:n.path},o)}else o(i[0]||null,r)}))}},{key:"clone",value:function(e){var t=UT(oT(r.prototype),"clone",this).call(this,e);return t.fields=dS({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,n=UT(oT(r.prototype),"concat",this).call(this,e),o=n.fields,i=0,s=Object.entries(this.fields);i<s.length;i++){var l=a(s[i],2),u=l[0],c=l[1],f=o[u];void 0===f?o[u]=c:f instanceof AT&&c instanceof AT&&(o[u]=c.concat(f))}return n.withMutation((function(){return n.shape(o,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(r){var n=e.fields[r];t[r]="default"in n?n.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?UT(oT(r.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this.clone(),n=Object.assign(r.fields,e);return r.fields=n,r._sortErrors=fS(Object.keys(n)),t.length&&(Array.isArray(t[0])||(t=[t]),r._excludedEdges=[].concat(be(r._excludedEdges),be(t))),r._nodes=uS(n,r._excludedEdges),r}},{key:"pick",value:function(e){var t,r={},n=we(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;this.fields[o]&&(r[o]=this.fields[o])}}catch(i){n.e(i)}finally{n.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(r)}))}},{key:"omit",value:function(e){var t=this.clone(),r=t.fields;t.fields={};var n,o=we(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;delete r[i]}}catch(a){o.e(a)}finally{o.f()}return t.withMutation((function(){return t.shape(r)}))}},{key:"from",value:function(e,t,r){var n=(0,gT.getter)(e,!0);return this.transform((function(o){if(null==o)return o;var i=o;return YE()(o,e)&&(i=dS({},o),r||delete i[e],i[t]=n(o)),i}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XE.noUnknown;"string"===typeof e&&(t=e,e=!0);var r=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var r=pS(this.schema,t);return!e||0===r.length||this.createError({params:{unknown:r.join(", ")}})}});return r.spec.noUnknown=e,r}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XE.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&aS()(t,(function(t,r){return e(r)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(oS())}},{key:"snakeCase",value:function(){return this.transformKeys(rS())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return rS()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=UT(oT(r.prototype),"describe",this).call(this);return e.fields=yT()(this.fields,(function(e){return e.describe()})),e}}]),r}(AT);function yS(e){return new mS(e)}function gS(){return gS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}yS.prototype=mS.prototype;var bS=function(e){nT(r,e);var t=lT(r);function r(e){var n;return ME(this,r),(n=t.call(this,{type:"array"})).innerType=void 0,n.innerType=e,n.withMutation((function(){n.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),n}return OE(r,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var n=this,o=UT(oT(r.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(o)||!this.innerType)return o;var i=!1,a=o.map((function(e,r){var o=n.innerType.cast(e,gS({},t,{path:"".concat(t.path||"","[").concat(r,"]")}));return o!==e&&(i=!0),o}));return i?a:o}},{key:"_validate",value:function(e){var t,n,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,s=[],l=i.sync,u=i.path,c=this.innerType,f=null!=(t=i.abortEarly)?t:this.spec.abortEarly,d=null!=(n=i.recursive)?n:this.spec.recursive,h=null!=i.originalValue?i.originalValue:e;UT(oT(r.prototype),"_validate",this).call(this,e,i,(function(e,t){if(e){if(!pT.isError(e)||f)return void a(e,t);s.push(e)}if(d&&c&&o._typeCheck(t)){h=h||t;for(var r=new Array(t.length),n=function(e){var n=t[e],o="".concat(i.path||"","[").concat(e,"]"),a=gS({},i,{path:o,strict:!0,parent:t,index:e,originalValue:h[e]});r[e]=function(e,t){return c.validate(n,a,t)}},p=0;p<t.length;p++)n(p);vT({sync:l,path:u,value:t,errors:s,endEarly:f,tests:r},a)}else a(s[0]||null,t)}))}},{key:"clone",value:function(e){var t=UT(oT(r.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=UT(oT(r.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!JE(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+UE(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$E.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return NT(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||$E.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return NT(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||$E.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return NT(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,r){return e._typeCheck(t)?t:null==r?[]:[].concat(r)}))}},{key:"compact",value:function(e){var t=e?function(t,r,n){return!e(t,r,n)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=UT(oT(r.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return UT(oT(r.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return UT(oT(r.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return UT(oT(r.prototype),"required",this).call(this,e)}}]),r}(AT);function _S(){var e=G().search;return new URLSearchParams(G().search,[e])}bS.prototype;var xS=function(){var t=Nb(),r=Fb(),n=a((0,e.useState)(null),2),o=n[0],i=n[1],s=q(),l=_S().get("redirect")||"/";(0,e.useEffect)((function(){r&&s(l)}),[r,l]);var u,c,f=_E({initialValues:{name:"",email:"",password:"",repassword:"",phoneNumber:""},onSubmit:function(e){(function(e){return Zb.post("/user/register",e)})({name:e.name,email:e.email,password:e.password,phoneNumber:e.phoneNumber}).then((function(e){t(e.data),localStorage.setItem("AuthUser",JSON.stringify(e.data)),i(e.status),s(l)})).catch((function(e){e.response&&e.response.data.message&&(i(e.response.data.message),console.log(e.response.data.message))}))},validationSchema:yS({name:XT().required("\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),phoneNumber:XT().required("\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),email:XT().email("\u0641\u0631\u0645\u062a \u0627\u06cc\u0645\u06cc\u0644 \u062f\u0631\u0633\u062a \u0646\u06cc\u0633\u062a"),password:XT().required("\u0644\u0637\u0641\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f").matches("^(?=.*[A-Za-z])(?=.*[0-9])","\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f \u0634\u0627\u0645\u0644 \u06cc\u06a9 \u062d\u0631\u0641 \u0628\u0627\u0634\u062f"),repassword:XT().required("\u0644\u0637\u0641\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u062a\u06a9\u0631\u0627\u0631 \u06a9\u0646\u06cc\u062f").oneOf([(u="password",new xT(u,c)),null],"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0647\u0645\u062e\u0648\u0627\u0646\u06cc \u0646\u062f\u0627\u0631\u062f")})});return(0,yb.jsxs)("div",{className:" container xl:max-w-screen-xl  absolute top-24 left-0 right-0",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),(0,yb.jsxs)("div",{className:" flex flex-col mx-auto px-4 sm:px-0   md:grid gap-0 md:grid-cols-6 absolute top-24 left-0 right-0     \r text-sky-900 ",children:[(0,yb.jsxs)("section",{className:"  col-span-6 md:col-span-4 xl:col-span-4  lg:mr-72   md:border-l-2 bg-gray-100  ",children:[(0,yb.jsx)("h1",{className:" text-center mt-3 pb-3 font-extrabold text-3xl border-b-4   ",children:"\u062b\u0628\u062a \u0646\u0627\u0645"}),(0,yb.jsxs)("form",{onSubmit:f.handleSubmit,className:"px-2 py-1 text-sky-900",children:[(0,yb.jsx)("p",{className:"".concat(o&&" font-bold text-pink-600 bg-slate-50 rounded py-1 text-center"),children:o}),(0,yb.jsx)("input",me(me({type:"text",placeholder:"\u0646\u0627\u0645",name:"name"},f.getFieldProps("name")),{},{className:"py-2 px-4  rounded w-full mt-2 outline-none "})),f.errors.name&&f.touched.name&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:f.errors.name}),(0,yb.jsx)("input",me(me({type:"text",placeholder:"\u0627\u06cc\u0645\u06cc\u0644",name:"email"},f.getFieldProps("email")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),f.errors.email&&f.touched.email&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:f.errors.email}),(0,yb.jsx)("input",me(me({type:"text",placeholder:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646",name:"phoneNumber"},f.getFieldProps("phoneNumber")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),f.errors.phoneNumber&&f.touched.phoneNumber&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:f.errors.phoneNumber}),(0,yb.jsx)("input",me(me({type:"password",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"password"},f.getFieldProps("password")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),f.errors.password&&f.touched.password&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:f.errors.password}),(0,yb.jsx)("input",me(me({type:"password",placeholder:"\u062a\u06a9\u0631\u0627\u0631 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"repassword"},f.getFieldProps("repassword")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),f.errors.repassword&&f.touched.repassword&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:f.errors.repassword}),(0,yb.jsx)("button",{type:"submit",className:" bg-pink-600 text-white text-lg sm:text-2xl font-bold  py-2 px-4 rounded w-full my-3 outline-none ",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})]})]}),(0,yb.jsx)("section",{className:" w-2/4 text-center mt-1 mx-auto md:mt-0 md:mx-0 overflow-hidden   md:grid md:col-span-2 xl:col-span-2 \r md:my-auto  rounded bg-gray-100 md:text-left  ",children:(0,yb.jsxs)("section",{className:" inline-block mt-5 w-full  text-center",children:[(0,yb.jsx)("h1",{className:"  font-bold pb-5 text-sm text-center  border-b-4",children:"\u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u06cc\u062f"}),(0,yb.jsx)(de,{to:"/Login?redirect=/CheckOut",className:" font-extrabold items-center  mx-auto flex justify-center hover:bg-sky-600 hover:text-white pb-4 ",children:(0,yb.jsxs)("span",{className:" flex items-center justify-center  text-2xl",children:[" ",(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})," ",(0,yb.jsx)("h1",{className:"mr-2 mt-2",children:"\u0648\u0631\u0648\u062f"})," "]})})]})})]})]})};var wS=function(){var t=_S().get("redirect")||"/",r=Nb(),n=Fb(),o=q(),i=a((0,e.useState)(null),2),s=i[0],l=i[1];(0,e.useEffect)((function(){n&&o(t)}),[n,t]);var u=_E({initialValues:{email:"",password:""},onSubmit:function(e){(function(e){return Zb.post("/user/login",e)})(e).then((function(e){r(e.data),localStorage.setItem("AuthUser",JSON.stringify(e.data)),o(t)})).catch((function(e){e.response&&e.response.data.message&&l(e.response.data.message)}))},validationSchema:yS({email:XT().required("*** \u0644\u0637\u0641\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"),password:XT().required("*** \u0644\u0637\u0641\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f")})});return(0,yb.jsxs)("div",{className:" absolute top-24 left-0 right-0   container xl:max-w-screen-xl ",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),(0,yb.jsxs)("div",{className:" flex flex-col mx-auto px-4 sm:px-0    md:grid gap-0 md:grid-cols-6   \r absolute top-24 left-0 right-0  text-sky-900 ",children:[(0,yb.jsxs)("section",{className:"  col-span-6 md:col-span-4 xl:col-span-4  lg:mr-72   md:border-l-2 bg-gray-100 rounded  ",children:[(0,yb.jsx)("h1",{className:" text-center mt-3 pb-3 font-extrabold text-3xl border-b-4   ",children:"\u0648\u0631\u0648\u062f"}),(0,yb.jsxs)("form",{onSubmit:u.handleSubmit,className:"px-2 py-1 text-sky-900",children:[(0,yb.jsx)("p",{className:"".concat(s&&" font-bold text-pink-600 bg-slate-50 rounded py-1 text-center"),children:s}),(0,yb.jsx)("input",me(me({type:"text",placeholder:"\u0627\u06cc\u0645\u06cc\u0644",name:"email"},u.getFieldProps("email")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),u.errors.email&&u.touched.email&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:u.errors.email}),(0,yb.jsx)("input",me(me({type:"password",placeholder:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631",name:"password"},u.getFieldProps("password")),{},{className:" py-2 px-4 rounded w-full mt-2  outline-none "})),u.errors.password&&u.touched.password&&(0,yb.jsx)("p",{className:" text-pink-600 text-sm mt-1 ",children:u.errors.password}),(0,yb.jsx)("button",{type:"submit",className:" bg-pink-600 text-white text-lg sm:text-2xl font-bold  py-2 px-4 rounded w-full my-3 outline-none ",children:"\u0648\u0631\u0648\u062f"})]})]}),(0,yb.jsx)("section",{className:"w-2/4 text-center mt-1 mx-auto md:mt-0 md:mx-0 overflow-hidden   md:grid md:col-span-2 xl:col-span-2 \r md:my-auto  rounded bg-gray-100 md:text-left  ",children:(0,yb.jsxs)("section",{className:" inline-block mt-5 w-full  text-center",children:[(0,yb.jsx)("h1",{className:"  font-bold pb-5 text-sm text-center  border-b-4",children:"\u0647\u0646\u0648\u0632 \u062b\u0628\u062a \u0646\u0627\u0645 \u0646\u06a9\u0631\u062f\u06cc\u062f!!!"}),(0,yb.jsx)(de,{to:"/Register?redirect=/CheckOut",className:" font-extrabold items-center mx-auto flex justify-center hover:bg-sky-600 hover:text-white pb-4",children:(0,yb.jsxs)("span",{className:" flex items-center justify-center  text-2xl",children:[" ",(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),(0,yb.jsx)("h1",{className:"mr-2 mt-2",children:"\u062b\u0628\u062a \u0646\u0627\u0645"})," "]})})]})})]})]})};var kS=function(){return kS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kS.apply(this,arguments)};var ES=function(e,t){return function(r){return Math.max(Math.min(r,t),e)}},TS=function(e){return e%1?Number(e.toFixed(5)):e},SS=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i,CS={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},AS=kS(kS({},CS),{transform:ES(0,1)}),IS=(kS(kS({},CS),{default:1}),function(e){return{test:function(t){return"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}}),MS=(IS("deg"),IS("%")),PS=(IS("px"),IS("vh"),IS("vw"),kS(kS({},MS),{parse:function(e){return MS.parse(e)/100},transform:function(e){return MS.transform(100*e)}}),ES(0,255)),OS=function(e){return void 0!==e.red},zS=function(e){return void 0!==e.hue};var RS=function(e){return function(t){if("string"!==typeof t)return t;for(var r={},n=function(e){return e.substring(e.indexOf("(")+1,e.lastIndexOf(")"))}(t).replace(/(,|\/)/g," ").split(/ \s*/),o=0;o<4;o++)r[e[o]]=void 0!==n[o]?parseFloat(n[o]):1;return r}},DS=kS(kS({},CS),{transform:function(e){return Math.round(PS(e))}});function LS(e,t){return e.startsWith(t)&&SS.test(e)}var jS={test:function(e){return"string"===typeof e?LS(e,"rgb"):OS(e)},parse:RS(["red","green","blue","alpha"]),transform:function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha,i=void 0===o?1:o;return function(e){var t=e.red,r=e.green,n=e.blue,o=e.alpha;return"rgba("+t+", "+r+", "+n+", "+(void 0===o?1:o)+")"}({red:DS.transform(t),green:DS.transform(r),blue:DS.transform(n),alpha:TS(AS.transform(i))})}},FS=(RS(["hue","saturation","lightness","alpha"]),kS(kS({},jS),{test:function(e){return"string"===typeof e&&LS(e,"#")},parse:function(e){var t="",r="",n="";return e.length>4?(t=e.substr(1,2),r=e.substr(3,2),n=e.substr(5,2)):(t=e.substr(1,1),r=e.substr(2,1),n=e.substr(3,1),t+=t,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:1}}}),0);"undefined"!==typeof window&&window.requestAnimationFrame;var NS=function(e){return function(t,r,n){return void 0!==n?e(t,r,n):function(n){return e(t,r,n)}}},BS=NS((function(e,t,r){return Math.min(Math.max(r,e),t)}));var VS=function(e){return e},US=function(e){return void 0===e&&(e=VS),NS((function(t,r,n){var o=r-n,i=-(0-t+1)*(0-e(Math.abs(o)));return o<=0?r+i:r-i}))},GS=(US(),US(Math.sqrt),NS((function(e,t,r){var n=t-e;return((r-e)%n+n)%n+e})),BS(0,1),[{img:"/images/slideimges/vertical/4.jpg",title:"\u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc \u0645\u0648\u0628\u0627\u06cc\u0644"},{img:"/images/slideimges/vertical/2.jpg",title:"\u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc \u0648\u0627\u0686"},{img:"/images/slideimges/vertical/1.jpg",title:"\u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc \u0627\u06cc\u0631\u067e\u0627\u062f"}]),qS=function(){var t=a((0,e.useState)(0),2),r=t[0],n=t[1],o=a((0,e.useState)(!1),2),i=o[0],s=(o[1],k({isExpanded:i}));s.getCollapseProps,s.getToggleProps;return(0,e.useEffect)((function(){var e=setTimeout((function(){n((function(e){return e==GS.length-1?0:e+1}))}),5e3);return function(){clearInterval(e)}}),[r]),(0,yb.jsxs)(de,{to:"product",className:" absolute left-0 right-0   ",children:[(0,yb.jsx)(Ep.section,{className:" flex overflow-hidden  ",exit:{opacity:0},children:GS.map((function(e,t){return(0,yb.jsx)(Ep.section,{className:" w-screen",initial:{opacity:0},animate:pe({scale:1,opacity:1},"scale",t===r?1:.8),exit:{opacity:0},children:(0,yb.jsx)(Ep.img,{src:e.img,alt:e.title,className:" w-screen absolute left-0 right-0"})},t)}))}),(0,yb.jsx)(Ep.section,{className:" flex overflow-hidden",exit:{opacity:0},children:GS.map((function(e,t){return(0,yb.jsx)(Ep.section,{className:" w-screen",initial:{opacity:0},animate:pe({scale:1,opacity:1},"scale",t===r?1:.8),exit:{opacity:0},children:(0,yb.jsxs)(Ep.h1,{className:"w-1/2 absolute mt-[15%] text-center font-extrabold block  right-0 sm:text-xl md:text-2xl lg:text-3xl",children:[e.title," ",(0,yb.jsx)("section",{className:"",children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6  mx-auto animate-pulse sm:text-xl md:text-2xl lg:text-3xl ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})})]})},t)}))})]})},WS=r(2043),ZS=r(6312),HS=r(8375),XS=r(8715),$S=r(6648),KS=function(){return Gb().init(),(0,yb.jsxs)("div",{className:" container xl:max-w-screen-xl mt-4 mb-4 absolute right-0 left-0","data-aos":"zoom-in","data-aos-duration":"2000",children:[(0,yb.jsx)("h1",{className:" font-extrabold  mb-7 text-center text-2xl",children:"\u062f\u0633\u062a\u0647 \u0628\u0646\u062f\u06cc \u0645\u062d\u0635\u0648\u0644"}),(0,yb.jsxs)("main",{className:" w-full h-[19rem] gap-4  grid grid-cols-1 text-white  sm:grid-cols-4  sm:grid-rows-2  mb-10",children:[(0,yb.jsxs)("section",{className:"  relative    sm:col-span-2 sm:row-span-2  cursor-pointer rounded",children:[(0,yb.jsxs)("section",{className:"  flex absolute items-center justify-center w-full  h-full rounded",children:[" ",(0,yb.jsx)("span",{className:"font-extrabold  text-4xl text-center   border-white   z-10 ",children:"\u0642\u0627\u0628 \u06af\u0648\u0634\u06cc"})]}),(0,yb.jsx)("img",{src:WS,className:"relative  h-full w-full rounded hover:scale-105 transition-all delay-75 duration-500  ease-in "})]}),(0,yb.jsxs)("section",{className:" cursor-pointer  relative  sm:col-span-1 sm:row-span-1  shadow rounded",children:[(0,yb.jsx)("section",{className:" flex absolute items-center w-full h-full",children:(0,yb.jsx)("span",{className:"font-extrabold text-xl text-center w-full  mx-auto  border-white   z-10 ",children:"\u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc \u0627\u067e\u0644 \u0648\u0627\u0686"})}),(0,yb.jsx)("img",{src:ZS,className:"relative  h-full w-full rounded hover:scale-105 transition-all delay-75 duration-500 ease-in "})]}),(0,yb.jsxs)("section",{className:"  relative sm:col-span-1 sm:row-span-1 cursor-pointer rounded",children:[(0,yb.jsx)("section",{className:" flex absolute items-center w-full h-full",children:(0,yb.jsx)("span",{className:"font-extrabold text-2xl text-center w-full mx-auto  border-white   z-10 ",children:"\u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc \u0627\u06cc\u0631\u067e\u0627\u062f"})}),(0,yb.jsx)("img",{src:HS,className:"relative  h-full w-full rounded hover:scale-105 transition-all delay-75 duration-500  ease-in"})]}),(0,yb.jsxs)("section",{className:"  relative sm:col-span-1 sm:row-span-1 cursor-pointer rounded",children:[(0,yb.jsx)("section",{className:" flex absolute items-center w-full h-full",children:(0,yb.jsx)("span",{className:"  bottom-0    font-extrabold text-2xl text-center w-full mx-auto  border-white   z-10 ",children:"\u0627\u0646\u0648\u0627\u0639 \u0644\u0648\u0627\u0632\u0645 \u062c\u0627\u0646\u0628\u06cc"})}),(0,yb.jsx)("img",{src:XS,className:"relative  h-full w-full rounded hover:scale-105 transition-all delay-75 duration-500  ease-in "})]}),(0,yb.jsxs)("section",{className:"  relative  sm:col-span-1 sm:row-span-1 cursor-pointer rounded",children:[(0,yb.jsx)("section",{className:" flex absolute items-center w-full h-full",children:(0,yb.jsx)("span",{className:" bottom-0    font-extrabold text-2xl text-center w-full mx-auto  border-white   z-10 ",children:"\u062d\u0631\u0627\u062c \u0634\u06af\u0641\u062a \u0627\u0646\u06af\u06cc\u0632"})}),(0,yb.jsx)("img",{src:$S,className:"relative  h-full w-full rounded hover:scale-105 transition-all delay-75 duration-500  ease-in "})]})]})]})},YS=function(){var t=a((0,e.useState)(!1),2),r=t[0],n=t[1],o=a((0,e.useState)(""),2),i=o[0],s=o[1],l=(Qb(),e_()),u=t_(),c=q(),f=a((0,e.useState)(!1),2),d=(f[0],f[1]);return(0,yb.jsxs)("div",{className:"  left-0 right-0 top-16 absolute ",children:[(0,yb.jsx)("section",{className:"",children:(0,yb.jsx)(qS,{})}),(0,yb.jsxs)("section",{className:" flex items-center relative  rounded  z-20 mx-auto  w-3/4 mt-[35%] ",children:[(0,yb.jsx)("section",{className:" bg-pink-600 px-2 py-1 rounded ",onClick:function(){if(""!==i){var e=l.filter((function(e){return e.title.includes(i)}));0===e.length?d(!0):(d(!1),u(e)),c({pathname:"/SearchResult",search:"?name=".concat(i)})}},children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6  text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,yb.jsx)("input",{type:" text",value:i,onKeyDown:function(e){return function(e){if(""===i&&"Enter"===e.key)n(!r);else if("Enter"===e.key&&(c({pathname:"/SearchResult",search:"?name=".concat(i)}),n(!r),""!==i)){var t=l.filter((function(e){return e.title.includes(i)}));0===t.length?d(!0):(d(!1),u(t))}}(e)},onChange:function(e){return function(e){s(e.target.value)}(e)},placeholder:"\u062c\u0633\u062a\u062c\u0648 ...",className:" px-2 py-1 z-10 w-full rounded outline-none border-gray-100 border-opacity-50 focus:border-gray-200 border-2 mr-3  "})]}),(0,yb.jsx)(KS,{})]})},JS=function(){W().id;return(0,yb.jsx)("div",{className:" ",children:(0,yb.jsx)("h1",{children:"\u0645\u0634\u062e\u0635\u0627\u062a \u06a9\u0627\u0644\u0627 \u0645\u06cc\u062a\u0648\u0646\u0647 \u0634\u0627\u0645\u0644 \u062c\u0646\u0633 \u0631\u0646\u06af \u0644\u0648\u0627\u0632\u0645 \u0647\u0645\u0631\u0627\u0647 \u0628\u0627\u0634\u062f!!!!!!!!!!!"})})};var QS=function(){var e=W().id;return(0,yb.jsx)("aside",{className:" mt-[14%] md:mt-[2%] ",children:(0,yb.jsxs)("section",{className:"flex border-b-2 pb-2",children:[(0,yb.jsx)(he,{to:"/".concat(e,"/properties"),className:function(e){return e.isActive?" border-b-4 px-4 py-2  border-b-pink-600 text-pink-600":"  px-4 py-2 "},children:"\u0645\u0634\u062e\u0635\u0627\u062a \u06a9\u0627\u0644\u0627"}),(0,yb.jsx)(he,{to:"UserComments",className:function(e){return e.isActive?" border-b-4 px-4 py-2  border-b-pink-600 text-pink-600":"  px-4 py-2 "},children:"\u0646\u0638\u0631\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646"})]})})},eC=function(){return(0,yb.jsx)("div",{className:"",children:"******\u0646\u0637\u0631\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0646\u0645\u0627\u06cc\u0634 \u0628\u062f\u0647 \u0627\u0645\u0627 \u06cc \u0642\u0633\u0645\u062a \u0647\u0645 \u0627\u0631\u0633\u0627\u0644 \u0646\u0638\u0631 \u0628\u0627\u0634\u0647"})},tC=r(2092),rC=function(){var t=W().id,r=a((0,e.useState)([]),2),n=r[0],o=r[1],i=a((0,e.useState)([]),2),s=i[0],l=i[1],u=a((0,e.useState)([]),2),c=u[0],f=u[1],d=a((0,e.useState)(!1),2),h=d[0],p=d[1],v=a((0,e.useState)(!1),2),m=v[0],y=v[1],g=a((0,e.useState)(),2),b=g[0],_=g[1],x=a((0,e.useState)({type:"",brand:"",price:"",model:"",title:"",id:""}),2),w=x[0],k=x[1],E=a((0,e.useState)(1),2),T=E[0],S=(E[1],a((0,e.useState)(),2)),C=S[0],A=S[1],I=Eb(),M=(I.cartList,I.warning,Tb()),P=a((0,e.useState)(!1),2),O=(P[0],P[1]),z=(zb().favoriteList,Rb()),R=a((0,e.useState)(!1),2),D=(R[0],R[1],(0,tC.e1)().addToast),L=q(),j=a((0,e.useState)(!1),2),N=j[0],V=j[1],U=(0,e.useRef)(),G=10,Z=a((0,e.useState)(1),2),H=Z[0],X=Z[1],$=a((0,e.useState)(0),2),K=$[0],Y=$[1];(0,e.useEffect)((function(){(function(e){return Zb.get("/product/".concat(e))})(t).then((function(e){o(e.data),l(e.data.byModel),f(e.data.thumbnailImage),console.log("useeffect",n)})).catch((function(e){return console.log(e)}))}),[]);var J=function(){V(!0)};return(0,yb.jsxs)("div",{className:"container xl:max-w-screen-xl left-0 right-0 gap-80 md:gap-36 flex flex-col   absolute top-28 ",children:[(0,yb.jsxs)("section",{className:N?" opacity-30 md:flex  ":" opacity-100 md:flex  ",children:[(0,yb.jsxs)("section",{className:" w-52   mx-auto md:mx-0 flex gap-2 flex-col",children:[(0,yb.jsx)("section",{className:"main w-full h-32 z-20",onClick:J,children:(0,yb.jsx)("img",{src:n.image,className:"h-full w-full rounded-md border-2  "})}),(0,yb.jsxs)("section",{className:" relative  flex items-center ",children:[(0,yb.jsx)("svg",{onClick:function(){H<c.length-1&&(X(H+1),G=U.current.offsetLeft-300,U.current.clientWidth)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-sky-900 text-white z-20 rounded-full absolute  bg-opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),(0,yb.jsx)("svg",{onClick:function(){H>1&&X(H-1)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-sky-900 text-white z-20 rounded-full absolute  bg-opacity-70 left-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),(0,yb.jsx)("div",{onClick:J,className:"App flex border-4 shadow-gray-700 shadow-2xl relative  bg-slate-50  text-white border-white\r w-full h-24 overflow-hidden m-0 p-0 justify-center items-center ",children:(0,yb.jsx)("section",{className:" row  relative   ",children:c.map((function(e,t){return(0,yb.jsx)(Ep.section,{initial:{rotation:-180},animate:{scale:1,right:"".concat((t-H)*(60+G),"vw"),left:"".concat((t-H)*(75-G),"vw")},transition:{type:"spring",duration:1,stiffness:360,damping:35},className:" container  overflow-hidden w-36 h-20 absolute -top-11 z-10 ",ref:U,children:(0,yb.jsx)("img",{src:e,className:"  rounded w-full h-full my-1 object-center z-10 "})},t)}))})})]}),(0,yb.jsxs)("section",{className:" flex justify-between  items-center z-10",children:[(0,yb.jsx)("svg",{onClick:function(){return function(e){z({type:"AddToFavorite",itms:e})}(n)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 cursor-pointer ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),(0,yb.jsx)("svg",{onClick:function(){return function(e){L("/CompareProduct",{state:{detailProduct:e}})}(n)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})]})]}),(0,yb.jsxs)("section",{className:" border-b-2  pb-4   absolute w-full right-0 left-0 pr-8 md:pr-64",children:[(0,yb.jsxs)("section",{className:"flex flex-col my-3 text-center md:text-right font-bold md:font-extrabold text-lg md:text-xl  ",children:[(0,yb.jsxs)("h1",{className:"  mb-3 ",children:[n.type," ",n.brand," ",n.title]}),(0,yb.jsxs)("h1",{className:"",children:[n.price,(0,yb.jsx)("span",{children:" \u062a\u0648\u0645\u0627\u0646"})]})]}),(0,yb.jsx)("section",{className:"flex pr-4  mb-3 items-center justify-start text-sm  ",children:(0,yb.jsxs)("h1",{className:"font-bold text-center   ",children:["\u0645\u0648\u062c\u0648\u062f\u06cc:"," ",h&&(0,yb.jsxs)("span",{className:"px-1 underline text-pink-600 outline-none  ",children:[b," ",(0,yb.jsx)("span",{children:"\u0639\u062f\u062f"})]})]})}),(0,yb.jsxs)("section",{className:"mb-3  ",children:[(0,yb.jsx)("h1",{className:" pr-4 mb-3 text-xs font-bold",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u062f\u0644 \u06af\u0648\u0634\u06cc:"}),s.map((function(e){return(0,yb.jsx)("button",{disabled:0===e.stock,className:0!==e.stock?"".concat(C===e._id&&"border-4 outline-none border-sky-900","  border-2 px-2 rounded mr-2 mb-2 py-1 bg-gray-100  outline-none focus:border-2 focus:border-sky-900 focus:outline-none"):"border px-2 rounded mr-2 py-1 mb-2 bg-gray-100 border-gray-400 outline-none decoration-red-600 decoration-double line-through text-opacity-25 bg-opacity-25 cursor-not-allowed opacity-30",onClick:function(){return function(e,t,r){O(!1),_(e),A(t),y(!1),p(!0),k(me(me({},w),{},{image:n.image,title:n.title,type:n.type,brand:n.brand,price:n.price,id:t,idmain:n._id,model:r,stockSelectedProduct:e,amountRequired:T}))}(e.stock,e._id,e.model)},children:e.model},e._id)}))]}),(0,yb.jsxs)("section",{className:" flex items-center  justify-start mt-2 md:justify-start  ",children:[(0,yb.jsx)("button",{onClick:function(){return function(){if(""===w.brand)y(!0);else{y(!1);var e=w.id;A(e),M({type:"addToCart",itm:w,amountRequired:T}),D("\u0642\u0627\u0628 ".concat(w.title," \u0645\u062f\u0644 ").concat(w.model," \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f \u0634\u0645\u0627 \u0627\u0636\u0627\u0641\u0647 \u0634\u062f"),{appearance:"success",autoDismiss:"true",placement:"top-center"})}}()},className:" ml-4 rounded px-4 py-2 text-md md:text-xl  font-extrabold bg-pink-600 text-white ",children:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0628\u0647 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f"}),m&&(0,yb.jsx)("span",{className:" text-pink-600 text-xs",children:"\u0644\u0637\u0641\u0627 \u06cc\u06a9 \u0645\u062f\u0644 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f!!!!"})]})]})]}),(0,yb.jsx)("section",{className:N?"flex items-start justify-center z-30 absolute left-0 w-full h-full  ":"hidden",children:(0,yb.jsxs)("section",{className:" w-96 h-80  rounded   bg-slate-50",children:[(0,yb.jsx)("section",{className:" w-full relative z-30 ",onClick:function(){return V(!1)},children:(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg ",className:"h-8 w-8 absolute left-0 ml-2 mt-2 text-pink-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,yb.jsxs)("section",{className:"App border-4 relative border-white w-full h-80 mx-auto  rounded  m-0 p-0 flex justify-center items-center overflow-hidden ",children:[(0,yb.jsx)("section",{className:"  w-full relative z-30",children:(0,yb.jsxs)("section",{className:"flex items-center justify-between ",children:[(0,yb.jsx)("svg",{onClick:function(){K<c.length-1&&(Y(K+1),G=U.current.offsetLeft)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-sky-900 text-white z-20 rounded-full   bg-opacity-70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),(0,yb.jsx)("svg",{onClick:function(){K>0&&Y(K-1)},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 bg-sky-900 text-white z-20 rounded-full   bg-opacity-70 left-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})]})}),(0,yb.jsx)("section",{className:" relative  ",children:c.map((function(e,t){return(0,yb.jsx)(Ep.section,{initial:{scale:0,rotation:-180},animate:pe({scale:1,left:"".concat(100*(t-K)-G+G,"vw")},"scale",t===K?1:.8),transition:{type:"spring",duration:1,stiffness:360,damping:35},className:"container  overflow-hidden max-w-md w-96 h-96  rounded absolute -top-32 z-10",children:(0,yb.jsx)("img",{src:e,className:"  rounded max-w-full w-full h-60 z-10"})},t)}))})]})]})}),(0,yb.jsxs)("section",{className:N?" opacity-50":" opacity-100",children:[(0,yb.jsx)(QS,{}),(0,yb.jsxs)(B,{children:[(0,yb.jsx)(F,{path:"properties",element:(0,yb.jsx)(JS,{})}),(0,yb.jsx)(F,{path:"UserComments",element:(0,yb.jsx)(eC,{})})]})]})]})},nC=r(337),oC=function(){var t=Eb(),r=t.cartList,n=t.totalCount,o=t.totalPrice,i=Tb(),s=a((0,e.useState)(1),2),l=s[0],u=s[1],c=(Nb(),Fb()),f=q();(0,e.useEffect)((function(){i({type:"LocalStorage"})}),[]);var d=function(e){u(l),i({type:"decrement",itm:e,amountRequired:l})},h=function(e,t){i({type:"delete",itm:e,amountRequired:t})};return(0,yb.jsxs)("div",{className:"container xl:max-w-screen-xl  flex  flex-col absolute top-24 right-0 left-0   ",children:[(0,yb.jsx)("section",{className:"",children:(0,yb.jsx)(i_,{})}),(0,yb.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 mt-[5%] ",children:[(0,yb.jsx)("section",{className:" md:col-span-8  border-2 rounded px-4 py-2 border-opacity-50 border-gray-100 shadow-md  ",children:r.map((function(e){return(0,yb.jsxs)("section",{className:"flex border-b-2 mb-2 py-2",children:[(0,yb.jsx)(de,{to:"/".concat(e.idmain),children:(0,yb.jsx)("img",{src:e.image,className:" w-28 h-24 rounded "})}),(0,yb.jsxs)("section",{className:" flex flex-col items-start  mx-2 text-xs",children:[(0,yb.jsxs)("h1",{className:" text-lg font-bold pb-1",children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{className:" text-center text-sm pb-1",children:[e.price.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),(0,yb.jsx)("span",{children:" \u062a\u0648\u0645\u0627\u0646"})]}),(0,yb.jsxs)("h1",{className:"pb-1",children:["\u0645\u062f\u0644 :",e.model]}),(0,yb.jsxs)("section",{className:" flex items-center ",children:[(0,yb.jsxs)("h1",{className:"",children:["\u062a\u0639\u062f\u0627\u062f: ",e.amountRequired]}),(0,yb.jsxs)("section",{className:" flex items-center mr-4",children:[(0,yb.jsxs)("section",{className:"flex items-center border-2  ml-1 mr-2 rounded ",children:[(0,yb.jsx)("button",{onClick:function(){return function(e){u(l),i({type:"addToCart",itm:e,amountRequired:l})}(e,e.amountRequired)},className:"px-2 py-0.5 text-sky-900  border-l-2 text-center",children:"+"}),(0,yb.jsx)("h1",{className:"px-2 py-0.5  text-center border-l-2 ",children:e.amountRequired}),1===e.amountRequired?(0,yb.jsx)("svg",{onClick:function(){return d(e)},xmlns:"http://www.w3.org/2000/svg",className:"h-full text-pink-600 w-3 mr-1 ml-1 py-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}):(0,yb.jsx)("button",{onClick:function(){return d(e)},className:"px-2 py-0.5 text-pink-600   text-center",children:"-"})]}),(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3  font-extrabold border-opacity-70 text-pink-600 border-pink-600 my-auto transition-all delay-75 hover:scale-150 hover:rotate-90 cursor-pointer  ",onClick:function(){return function(e){(0,nC._1)({message:"\u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",buttons:[{label:"\u0628\u0644\u0647",onClick:function(){return h(e)}},{label:"\u062e\u06cc\u0631",onClick:function(){return console.log("no")}}]})}(e)},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})]})]})]},e.id)}))}),(0,yb.jsx)("section",{className:"md:col-span-4",children:(0,yb.jsxs)("section",{className:"  border-opacity-50 border-2 border-gray-100 shadow-md px-4 py-2",children:[(0,yb.jsxs)("section",{className:" border-b-2",children:[(0,yb.jsxs)("h1",{className:" text-sm   py-2 text-gray-500 ",children:["\u062a\u0639\u062f\u0627\u062f \u0633\u0641\u0627\u0631\u0634\u0627\u062a :"," ",(0,yb.jsxs)("span",{children:[r.length," \u06a9\u0627\u0644\u0627 (",n,"\u0639\u062f\u062f)"]})]}),(0,yb.jsxs)("h1",{className:" text-sm py-2 text-gray-500 ",children:["\u0642\u06cc\u0645\u062a \u06a9\u0627\u0644\u0627\u0647\u0627 :",(0,yb.jsxs)("span",{children:[o.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"]})]}),(0,yb.jsxs)("h1",{className:" text-sm py-2 text-gray-500 ",children:["\u062a\u062e\u0641\u06cc\u0641 \u06a9\u0627\u0644\u0627\u0647\u0627 :",(0,yb.jsx)("span",{children:"0 \u062a\u0648\u0645\u0627\u0646"})]})]}),(0,yb.jsxs)("h1",{className:" font-bold  py-2",children:["\u062c\u0645\u0639 \u0633\u0628\u062f \u062e\u0631\u06cc\u062f:"," ",(0,yb.jsxs)("span",{children:[" ",o.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"]})]}),(0,yb.jsx)("button",{onClick:function(){f(c?"/CheckOut":"/Register?redirect=/CheckOut")},disabled:0==o,className:0!==o?"mt-4 rounded px-2 py-2 text-xl  font-extrabold bg-pink-600 text-white outline-none  w-full":"mt-4 rounded px-2 py-2 text-xl  font-extrabold bg-slate-300 text-white  w-full cursor-not-allowed",children:"\u0627\u062f\u0627\u0645\u0647 \u062e\u0631\u06cc\u062f"})]})})]})]})},iC=function(){var t=Fb(),r=Eb(),n=r.cartList,o=r.totalCount,i=r.totalPrice,a=Tb();G();return console.log(n),(0,e.useEffect)((function(){a({type:"LocalStorage"})}),[]),(0,yb.jsxs)("div",{className:" container xl:max-w-screen-xl absolute top-24 right-0 left-0",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),(0,yb.jsx)("h1",{className:" mt-10 text-center font-extrabold text-2xl border-b-sky-900 border-b-2 py-2",children:"\u0644\u06cc\u0633\u062a \u0633\u0641\u0627\u0631\u0634\u0627\u062a"}),(0,yb.jsx)("section",{className:" flex-col sm:grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 ",children:n.map((function(e){return(0,yb.jsxs)(de,{to:"/".concat(e.idmain),className:"flex items-center gap-4 m-4",children:[(0,yb.jsx)("img",{src:e.image,className:"h-16 w-14 rounded"}),(0,yb.jsxs)("section",{className:" text-sm",children:[(0,yb.jsxs)("h1",{children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{children:["\u0645\u062f\u0644: ",e.model]}),(0,yb.jsxs)("h1",{children:["\u0645\u0628\u0644\u063a: ",e.amountRequired," * ",e.price," ="," ",e.amountRequired*e.price," \u062a\u0648\u0645\u0627\u0646"]})]})]},e.id)}))}),(0,yb.jsxs)("section",{className:" flex flex-col md:flex-row px-4 py-2",children:[(0,yb.jsxs)("section",{className:" flex flex-col border-2 px-4 py-2 text-center md:w-2/4 rounded ml-2",children:[(0,yb.jsx)("h1",{className:"text-center font-extrabold mb-4 mt-2 border-b-2 border-b-sky-700 pb-2",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u0645\u0627"}),(0,yb.jsxs)("section",{className:" grid grid-cols-3 justify-items-start  gap-2",children:[(0,yb.jsx)("label",{className:" col-span-1 place-self-stretch ",children:"\u0646\u0627\u0645: "}),(0,yb.jsx)("input",{type:"text",value:t.name,className:"border-2 rounded px-4 py-2 w-full col-span-2 justify-self-stretch "}),(0,yb.jsx)("label",{className:"  col-span-1 place-self-stretch  ",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646: "}),(0,yb.jsx)("input",{type:"text",value:t.phoneNumber,className:"border-2 rounded px-4 py-2 w-full col-span-2 "}),(0,yb.jsx)("label",{className:" col-span-1 place-self-stretch",children:"\u0622\u062f\u0631\u0633 "}),(0,yb.jsx)("textarea",{value:"\u0622\u062f\u0631\u0633",className:"border-2 rounded px-4 py-2 w-full  mb-4 resize-none col-span-2"})]})]}),(0,yb.jsxs)("section",{className:"md:w-2/4 border-2 px-4 py-2 rounded ",children:[(0,yb.jsx)("h1",{className:" text-center font-extrabold mb-8 mt-2 border-b-2 border-b-sky-700 pb-2",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u067e\u0631\u062f\u0627\u062e\u062a\u06cc"}),(0,yb.jsxs)("h1",{className:" mb-4 font-extrabold",children:["\u0645\u062c\u0645\u0648\u0639 \u06a9\u0627\u0644\u0627\u06cc \u0633\u0641\u0627\u0631\u0634 \u0634\u062f\u0647: ",n.length,"\u06a9\u0627\u0644\u0627 (",o," \u0639\u062f\u062f)"]}),(0,yb.jsxs)("h1",{className:" mb-4 font-extrabold",children:["\u0645\u062c\u0645\u0648\u0639 \u067e\u0631\u062f\u0627\u062e\u062a\u06cc :"," ",i.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"]}),(0,yb.jsxs)("h1",{className:" mb-4 font-extrabold text-lg",children:["\u0645\u062c\u0645\u0648\u0639 \u067e\u0631\u062f\u0627\u062e\u062a\u06cc \u0628\u0639\u062f \u0627\u0632 \u062a\u062e\u0641\u06cc\u0641 :"," ",i.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"]}),(0,yb.jsx)("button",{className:"mt-4 rounded px-2 py-2 text-xl  font-extrabold bg-pink-600 text-white  w-full",children:"\u062a\u0633\u0648\u06cc\u0647 \u062d\u0633\u0627\u0628"})]})]}),(0,yb.jsx)("section",{})]})},aC=e.createContext(null);function sC(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function lC(e,t){var r=t.viewState||t,n=!1;if("longitude"in r&&"latitude"in r){var o=e.center;e.center=new o.constructor(r.longitude,r.latitude),n=n||o!==e.center}if("zoom"in r){var i=e.zoom;e.zoom=r.zoom,n=n||i!==e.zoom}if("bearing"in r){var a=e.bearing;e.bearing=r.bearing,n=n||a!==e.bearing}if("pitch"in r){var s=e.pitch;e.pitch=r.pitch,n=n||s!==e.pitch}return r.padding&&!e.isPaddingEqual(r.padding)&&(n=!0,e.padding=r.padding),n}var uC=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function cC(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;var t,r={},n=we(e.layers);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.id]=o}}catch(a){n.e(a)}finally{n.f()}var i=e.layers.map((function(e){var t=r[e.ref],n=null;if("interactive"in e&&delete(n=me({},e)).interactive,t){delete(n=n||me({},e)).ref;var o,i=we(uC);try{for(i.s();!(o=i.n()).done;){var s=o.value;s in t&&(n[s]=t[s])}}catch(a){i.e(a)}finally{i.f()}}return n||e}));return me(me({},e),{},{layers:i})}function fC(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!fC(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0,a=n;i<a.length;i++){var s=a[i];if(!t.hasOwnProperty(s))return!1;if(!fC(e[s],t[s]))return!1}return!0}return!1}var dC={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},hC={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},pC={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},vC=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],mC=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"],yC=function(){function e(t,r,n){var o=this;ME(this,e),this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=function(e){var t=o.props[pC[e.type]];t&&t(e)},this._onPointerEvent=function(e){"mousemove"!==e.type&&"mouseout"!==e.type||o._updateHover(e);var t=o.props[dC[e.type]];if(t){if(o.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){var r=o._hoveredFeatures||o._map.queryRenderedFeatures(e.point,{layers:o.props.interactiveLayerIds});if(!r.length)return;e.features=r}t(e),delete e.features}},this._onCameraEvent=function(e){if(!o._internalUpdate){var t=o.props[hC[e.type]];t&&t(e)}e.type in o._deferredEvents&&(o._deferredEvents[e.type]=!1)},this._MapClass=t,this.props=r,this._initialize(n)}return OE(e,[{key:"map",get:function(){return this._map}},{key:"transform",get:function(){return this._renderTransform}},{key:"setProps",value:function(e){var t=this.props;this.props=e;var r=this._updateSettings(e,t);r&&(this._renderTransform=this._map.transform.clone());var n=this._updateSize(e),o=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(r||n||o&&!this._map.isMoving())&&this.redraw()}},{key:"_initialize",value:function(e){var t=this,r=this.props,n=me(me(me({},r),r.initialViewState),{},{accessToken:r.mapboxAccessToken||gC()||null,container:e,style:cC(r.mapStyle)}),o=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),r.gl){var i=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=i,r.gl}}var a=new this._MapClass(n);o.padding&&a.setPadding(o.padding),r.cursor&&(a.getCanvas().style.cursor=r.cursor),this._renderTransform=a.transform.clone();var s=a._render;a._render=function(e){t._inRender=!0,s.call(a,e),t._inRender=!1};var l=a._renderTaskQueue.run;a._renderTaskQueue.run=function(e){l.call(a._renderTaskQueue,e),t._onBeforeRepaint()},a.on("render",(function(){return t._onAfterRepaint()}));var u=a.fire;for(var c in a.fire=this._fireEvent.bind(this,u),a.on("resize",(function(){t._renderTransform.resize(a.transform.width,a.transform.height)})),a.on("styledata",(function(){return t._updateStyleComponents(t.props,{})})),a.on("sourcedata",(function(){return t._updateStyleComponents(t.props,{})})),dC)a.on(c,this._onPointerEvent);for(var f in hC)a.on(f,this._onCameraEvent);for(var d in pC)a.on(d,this._onEvent);this._map=a}},{key:"recycle",value:function(){e.savedMaps.push(this)}},{key:"destroy",value:function(){this._map.remove()}},{key:"redraw",value:function(){var e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"_updateSize",value:function(e){var t=e.viewState;if(t){var r=this._map;if(t.width!==r.transform.width||t.height!==r.transform.height)return r.resize(),!0}return!1}},{key:"_updateViewState",value:function(e,t){if(this._internalUpdate)return!1;var r=this._map,n=this._renderTransform,o=n.zoom,i=n.pitch,a=n.bearing,s=lC(n,me(me({},sC(r.transform)),e));if(s&&t){var l=this._deferredEvents;l.move=!0,l.zoom||(l.zoom=o!==n.zoom),l.rotate||(l.rotate=a!==n.bearing),l.pitch||(l.pitch=i!==n.pitch)}return r.isMoving()||lC(r.transform,e),s}},{key:"_updateSettings",value:function(e,t){var r,n=this._map,o=!1,i=we(vC);try{for(i.s();!(r=i.n()).done;){var a=r.value;a in e&&!fC(e[a],t[a])&&(o=!0,n["set".concat(a[0].toUpperCase()).concat(a.slice(1))](e[a]))}}catch(s){i.e(s)}finally{i.f()}return o}},{key:"_updateStyle",value:function(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){var r={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(cC(e.mapStyle),r),!0}return!1}},{key:"_updateStyleComponents",value:function(e,t){var r=this._map,n=!1;return r.style.loaded()&&("light"in e&&!fC(e.light,t.light)&&(n=!0,r.setLight(e.light)),"fog"in e&&!fC(e.fog,t.fog)&&(n=!0,r.setFog(e.fog)),"terrain"in e&&!fC(e.terrain,t.terrain)&&(e.terrain&&!r.getSource(e.terrain.source)||(n=!0,r.setTerrain(e.terrain),this._renderTransform.elevation=r.transform.elevation))),n}},{key:"_updateHandlers",value:function(e,t){var r,n=this._map,o=!1,i=we(mC);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=e[a];fC(s,t[a])||(o=!0,s?n[a].enable(s):n[a].disable())}}catch(l){i.e(l)}finally{i.f()}return o}},{key:"_updateHover",value:function(e){var t=this.props;if(t.interactiveLayerIds&&(t.onMouseMove||t.onMouseEnter||t.onMouseLeave)){var r,n,o=e.type,i=(null===(r=this._hoveredFeatures)||void 0===r?void 0:r.length)>0;if("mousemove"===o)try{n=this._map.queryRenderedFeatures(e.point,{layers:t.interactiveLayerIds})}catch(s){n=[]}else n=[];var a=n.length>0;!a&&i&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=n,a&&!i&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}},{key:"_fireEvent",value:function(e,t,r){var n=this._map,o=n.transform,i="string"===typeof t?t:t.type;return"move"===i&&this._updateViewState(this.props,!1),i in hC&&("object"===typeof t&&(t.viewState=sC(o)),this._map.isMoving())?(n.transform=this._renderTransform,e.call(n,t,r),n.transform=o,n):(e.call(n,t,r),n)}},{key:"_onBeforeRepaint",value:function(){var e=this,t=this._map;for(var r in this._internalUpdate=!0,this._deferredEvents)this._deferredEvents[r]&&t.fire(r);this._internalUpdate=!1;var n=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=function(){e._map.transform=n}}}],[{key:"reuse",value:function(t,r){var n=e.savedMaps.pop();if(!n)return null;var o=n.map,i=o.getContainer();for(r.className=i.className;i.childNodes.length>0;)r.appendChild(i.childNodes[0]);return o._container=r,t.initialViewState&&n._updateViewState(t.initialViewState,!1),o.resize(),n.setProps(me(me({},t),{},{styleDiffing:!1})),o.isStyleLoaded()?o.fire("load"):o.once("styledata",(function(){return o.fire("load")})),n}}]),e}();function gC(){var e=null;if("undefined"!==typeof location){var t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MapboxAccessToken}catch(r){}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return e}yC.savedMaps=[];var bC=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function _C(e,t){if(!e)return null;var r,n=e.map,o={getMap:function(){return n},getCenter:function(){return e.transform.center},getZoom:function(){return e.transform.zoom},getBearing:function(){return e.transform.bearing},getPitch:function(){return e.transform.pitch},getPadding:function(){return e.transform.padding},getBounds:function(){return e.transform.getBounds()},project:function(r){return e.transform.locationPoint(t.LngLat.convert(r))},unproject:function(r){return e.transform.pointLocation(t.Point.convert(r))}},i=we(function(e){var t=new Set,r=e;for(;r;){var n,o=we(Object.getOwnPropertyNames(r));try{for(o.s();!(n=o.n()).done;){var i=n.value;"_"!==i[0]&&"function"===typeof e[i]&&"fire"!==i&&"setEventedParent"!==i&&t.add(i)}}catch(a){o.e(a)}finally{o.f()}r=Object.getPrototypeOf(r)}return Array.from(t)}(n));try{for(i.s();!(r=i.n()).done;){var a=r.value;a in o||bC.includes(a)||(o[a]=n[a].bind(n))}}catch(s){i.e(s)}finally{i.f()}return o}var xC="undefined"!==typeof document?e.useLayoutEffect:e.useEffect,wC=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];var kC=e.createContext(null),EC={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:function(e){return console.error(e.error)},RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},TC=(0,e.forwardRef)((function(t,n){var o=(0,e.useContext)(aC),i=a((0,e.useState)(null),2),s=i[0],l=i[1],u=(0,e.useRef)(),c=(0,e.useRef)({mapLib:null,map:null}).current;(0,e.useEffect)((function(){var e,n=t.mapLib,i=!0;return Promise.resolve(n||Promise.resolve().then(r.t.bind(r,5483,23))).then((function(r){if(i){if(r.Map||(r=r.default),!r||!r.Map)throw new Error("Invalid mapLib");if(!r.supported(t))throw new Error("Map is not supported by this browser");!function(e,t){var r,n=we(wC);try{for(n.s();!(r=n.n()).done;){var o=r.value;o in t&&(e[o]=t[o])}}catch(i){n.e(i)}finally{n.f()}t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(function(e){e&&console.error(e)}),!1)}(r,t),t.reuseMaps&&(e=yC.reuse(t,u.current)),e||(e=new yC(r.Map,t,u.current)),c.map=_C(e,r),c.mapLib=r,l(e),null===o||void 0===o||o.onMapMount(c.map,t.id)}})).catch((function(e){t.onError({type:"error",target:null,originalEvent:null,error:e})})),function(){i=!1,e&&(null===o||void 0===o||o.onMapUnmount(t.id),t.reuseMaps?e.recycle():e.destroy())}}),[]),xC((function(){s&&s.setProps(t)})),(0,e.useImperativeHandle)(n,(function(){return c.map}),[s]);var f=(0,e.useMemo)((function(){return me({position:"relative",width:"100%",height:"100%"},t.style)}),[t.style]);return e.createElement("div",{id:t.id,ref:u,style:f},s&&e.createElement(kC.Provider,{value:c},t.children))}));TC.displayName="Map",TC.defaultProps=EC;var SC=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function CC(e,t){if(e&&t){var r=e.style;for(var n in t){var o=t[n];Number.isFinite(o)&&!SC.test(n)?r[n]="".concat(o,"px"):r[n]=o}}}function AC(t){var r=(0,e.useContext)(kC),o=r.map,i=r.mapLib,a=(0,e.useRef)({props:t});a.current.props=t;var s=(0,e.useMemo)((function(){var r=!1;e.Children.forEach(t.children,(function(e){e&&(r=!0)}));var n=me(me({},t),{},{element:r?document.createElement("div"):null}),o=new i.Marker(n).setLngLat([t.longitude,t.latitude]);return o.getElement().addEventListener("click",(function(e){var t,r;null===(t=(r=a.current.props).onClick)||void 0===t||t.call(r,{type:"click",target:o,originalEvent:e})})),o.on("dragstart",(function(e){var t,r,n=e;n.lngLat=s.getLngLat(),null===(t=(r=a.current.props).onDragStart)||void 0===t||t.call(r,n)})),o.on("drag",(function(e){var t,r,n=e;n.lngLat=s.getLngLat(),null===(t=(r=a.current.props).onDrag)||void 0===t||t.call(r,n)})),o.on("dragend",(function(e){var t,r,n=e;n.lngLat=s.getLngLat(),null===(t=(r=a.current.props).onDragEnd)||void 0===t||t.call(r,n)})),o}),[]);return(0,e.useEffect)((function(){return s.addTo(o.getMap()),function(){s.remove()}}),[]),(0,e.useEffect)((function(){CC(s.getElement(),t.style)}),[t.style]),s.getLngLat().lng===t.longitude&&s.getLngLat().lat===t.latitude||s.setLngLat([t.longitude,t.latitude]),t.offset&&!function(e,t){var r=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,o=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return r===o&&n===i}(s.getOffset(),t.offset)&&s.setOffset(t.offset),s.isDraggable()!==t.draggable&&s.setDraggable(t.draggable),s.getRotation()!==t.rotation&&s.setRotation(t.rotation),s.getRotationAlignment()!==t.rotationAlignment&&s.setRotationAlignment(t.rotationAlignment),s.getPitchAlignment()!==t.pitchAlignment&&s.setPitchAlignment(t.pitchAlignment),s.getPopup()!==t.popup&&s.setPopup(t.popup),(0,n.createPortal)(t.children,s.getElement())}AC.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};e.memo(AC);function IC(e){return new Set(e?e.trim().split(/\s+/):[])}e.memo((function(t){var r=(0,e.useContext)(kC),o=r.map,i=r.mapLib,a=(0,e.useMemo)((function(){return document.createElement("div")}),[]),s=(0,e.useRef)({props:t});s.current.props=t;var l=(0,e.useMemo)((function(){var e=me({},t),r=new i.Popup(e).setLngLat([t.longitude,t.latitude]);return r.on("open",(function(e){var t,r;null===(t=(r=s.current.props).onOpen)||void 0===t||t.call(r,e)})),r.on("close",(function(e){var t,r;null===(t=(r=s.current.props).onClose)||void 0===t||t.call(r,e)})),r}),[]);if((0,e.useEffect)((function(){return l.setDOMContent(a).addTo(o.getMap()),function(){l.isOpen()&&l.remove()}}),[]),(0,e.useEffect)((function(){CC(l.getElement(),t.style)}),[t.style]),l.isOpen()&&(l.getLngLat().lng===t.longitude&&l.getLngLat().lat===t.latitude||l.setLngLat([t.longitude,t.latitude]),t.offset&&!fC(l.options.offset,t.offset)&&l.setOffset(t.offset),l.options.anchor===t.anchor&&l.options.maxWidth===t.maxWidth||(l.options.anchor=t.anchor,l.setMaxWidth(t.maxWidth)),l.options.className!==t.className)){var u,c=IC(l.options.className),f=IC(t.className),d=we(c);try{for(d.s();!(u=d.n()).done;){var h=u.value;f.has(h)||l.removeClassName(h)}}catch(y){d.e(y)}finally{d.f()}var p,v=we(f);try{for(v.s();!(p=v.n()).done;){var m=p.value;c.has(m)||l.addClassName(m)}}catch(y){v.e(y)}finally{v.f()}l.options.className=t.className}return(0,n.createPortal)(t.children,a)}));function MC(t,r,n){var o=(0,e.useContext)(kC),i=(0,e.useMemo)((function(){return t(o)}),[]);return(0,e.useEffect)((function(){var e,t=o.map;t.hasControl(i)||t.addControl(i,null===(e=n||r)||void 0===e?void 0:e.position);return function(){"function"===typeof r&&r(o),t.hasControl(i)&&t.removeControl(i)}}),[]),i}e.memo((function(t){var r=MC((function(e){return new e.mapLib.AttributionControl(t)}),{position:t.position});return(0,e.useEffect)((function(){CC(r._container,t.style)}),[t.style]),null}));e.memo((function(t){var r=MC((function(e){return new e.mapLib.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})}),{position:t.position});return(0,e.useEffect)((function(){CC(r._controlContainer,t.style)}),[t.style]),null}));var PC=(0,e.forwardRef)((function(t,r){var n=(0,e.useRef)({props:t}),o=MC((function(e){var r=new e.mapLib.GeolocateControl(t);return r.on("geolocate",(function(e){var t,r;null===(t=(r=n.current.props).onGeolocate)||void 0===t||t.call(r,e)})),r.on("error",(function(e){var t,r;null===(t=(r=n.current.props).onError)||void 0===t||t.call(r,e)})),r.on("outofmaxbounds",(function(e){var t,r;null===(t=(r=n.current.props).onOutOfMaxBounds)||void 0===t||t.call(r,e)})),r.on("trackuserlocationstart",(function(e){var t,r;null===(t=(r=n.current.props).onTrackUserLocationStart)||void 0===t||t.call(r,e)})),r.on("trackuserlocationend",(function(e){var t,r;null===(t=(r=n.current.props).onTrackUserLocationEnd)||void 0===t||t.call(r,e)})),r}),{position:t.position});return n.current.props=t,(0,e.useImperativeHandle)(r,(function(){return{trigger:function(){return o.trigger()}}}),[]),(0,e.useEffect)((function(){CC(o._container,t.style)}),[t.style]),null}));PC.displayName="GeolocateControl";e.memo(PC);e.memo((function(t){var r=MC((function(e){return new e.mapLib.NavigationControl(t)}),{position:t.position});return(0,e.useEffect)((function(){CC(r._container,t.style)}),[t.style]),null}));function OC(t){var r=MC((function(e){return new e.mapLib.ScaleControl(t)}),{position:t.position});return r.options.unit===t.unit&&r.options.maxWidth===t.maxWidth||(r.options.maxWidth=t.maxWidth,r.setUnit(t.unit)),(0,e.useEffect)((function(){CC(r._container,t.style)}),[t.style]),null}OC.defaultProps={unit:"metric",maxWidth:100};e.memo(OC);r(5483);var zC=function(){var t=a((0,e.useState)({width:"100vh",height:"100vh",latitude:35.69439,longitude:51.42151,zoom:14}),2);t[0],t[1];return(0,yb.jsxs)("section",{className:" container h-full absolute top-24 left-0 right-0 ",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),(0,yb.jsx)("h1",{className:" mt-14 mx-auto  text-center ",children:"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"})]})},RC=function(){return function(e,t){e>t?console.log(e):console.log(t)}(3,5),(0,yb.jsxs)("div",{className:" container  absolute top-24 left-0 right-0 ",children:[(0,yb.jsx)(i_,{}),(0,yb.jsx)("h1",{className:" mt-14 mx-auto  text-center",children:"AboutUs Page"})]})},DC=function(){var t=zb().favoriteList,r=Rb(),n=function(e){(0,nC._1)({message:"\u0622\u06cc\u0627 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062a\u06cc\u062f\u061f",buttons:[{label:"\u0628\u0644\u0647",onClick:function(){return function(e){r({type:"RemoveFromFavorite",itms:e})}(e)}},{label:"\u062e\u06cc\u0631",onClick:function(){return console.log("no")}}]})};return(0,e.useEffect)((function(){r({type:"GetFromLS"})}),[]),(0,yb.jsxs)("div",{className:" container xl:max-w-screen-xl absolute top-24 left-0 right-0",children:[(0,yb.jsx)("section",{className:"",children:(0,yb.jsx)(i_,{})}),(0,yb.jsx)("h1",{className:" mt-10 text-center font-extrabold text-2xl border-b-sky-900 border-b-2 py-2",children:"\u0644\u06cc\u0633\u062a \u0639\u0644\u0627\u0642\u0647 \u0645\u0646\u062f\u06cc \u0647\u0627"}),0===t.length&&(0,yb.jsx)("h1",{className:" text-center text-pink-600 rounded m-auto  font-extrabold px-10 py-4",children:"\u0647\u06cc\u0686 \u0645\u062d\u0635\u0648\u0644\u06cc \u062f\u0631 \u0644\u06cc\u0633\u062a \u0639\u0644\u0627\u0642\u0647 \u0645\u0646\u062f\u06cc \u0647\u0627\u06cc \u0634\u0645\u0627 \u0646\u06cc\u0633\u062a"}),(0,yb.jsx)("section",{className:"  grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 mt-8 container xl:max-w-screen-xl h-full ",children:t.map((function(e){return(0,yb.jsxs)("section",{className:"flex items-start justify-start m-auto gap-2 mb-4  ",children:[(0,yb.jsxs)(de,{to:"/".concat(e.idmain),children:[" ",(0,yb.jsx)("img",{src:e.image,className:"rounded w-28 h-28 "})]}),(0,yb.jsxs)("section",{className:"mr-6 flex flex-col items-start",children:[(0,yb.jsxs)("h1",{className:"py-1 text-sm",children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{className:"py-1 text-center text-md font-bold",children:[" ",e.price," \u062a\u0648\u0645\u0627\u0646"]}),(0,yb.jsxs)("section",{className:" flex items-center py-1",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 rounded-full border-2 font-extrabold border-opacity-70 text-pink-600 border-pink-600 my-auto transition-all delay-75 hover:scale-150 hover:rotate-90 cursor-pointer  ",onClick:function(){return n(e)},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,yb.jsx)("span",{className:" text-sm ",children:"\u062d\u0630\u0641 \u0627\u0632 \u0639\u0644\u0627\u0642\u0647 \u0645\u0646\u062f\u06cc \u0647\u0627"})]})]})]},e._id)}))})]})},LC=function(){var t=Fb(),r=a((0,e.useState)(!1),2),n=r[0],o=r[1],i=(Nb(),Fb(),a((0,e.useState)({name:"",email:"",phoneNumber:"",address:""}),2)),s=i[0],l=i[1];(0,e.useEffect)((function(){JSON.parse(localStorage.getItem("AuthUser"))}),[]);var u=function(e){l(me(me({},s),{},pe({},e.target.name,e.target.value)))};return(0,yb.jsxs)("div",{className:"absolute top-36 right-0 left-0 h-full   container xl:max-w-screen-xl m-auto ",children:[(0,yb.jsx)("h1",{className:" border-b-2  font-extrabold text-2xl text-center mb-10 py-2",children:"\u067e\u0631\u0641\u0627\u06cc\u0644 \u0634\u0645\u0627"}),(0,yb.jsxs)("section",{className:" ".concat(n?" opacity-40 grid grid-cols-8 grid-rows-3 ":"grid grid-cols-8 grid-rows-3"," "),children:[(0,yb.jsxs)("section",{className:"hidden  border-2 px-2  py-4 lg:inline-block row-span-1  lg:col-span-2 rounded-xl ml-4 cursor-pointer",children:[(0,yb.jsx)("h1",{className:"  border-b-2 text-center py-4  hover:bg-sky-600 hover:text-white px-4 hover:rounded-xl ",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc"}),(0,yb.jsx)("h1",{className:" text-center py-4  border-b-2  hover:bg-sky-600 hover:text-white px-4 hover:rounded-xl",children:"\u06a9\u06cc\u0641 \u067e\u0648\u0644 \u06a9\u0627\u0631\u0628\u0631\u06cc"}),(0,yb.jsx)("h1",{className:" text-center py-4  hover:bg-sky-600 hover:text-white px-4 rounded-xl",children:"\u062a\u0627\u0631\u06cc\u062e\u0686\u0647 \u062e\u0631\u06cc\u062f"})]}),(0,yb.jsxs)("section",{className:"relative px-2 border-2 rounded-xl text-center row-span-2    col-span-8 lg:col-span-6",children:[(0,yb.jsxs)("section",{className:"  border-b-2 py-4 text-center font-extrabold text-2xl",children:[" ",(0,yb.jsx)("h1",{className:"",children:"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0631\u0628\u0631\u06cc"})]}),(0,yb.jsxs)("section",{className:" flex items-center text-center ",children:[(0,yb.jsx)("h1",{className:" font-extrabold ml-1 my-3",children:"\u0646\u0627\u0645 : "}),(0,yb.jsxs)("span",{className:" ml-1",children:[" ",t.name]})]}),(0,yb.jsxs)("section",{className:" flex items-center ",children:[(0,yb.jsx)("h1",{className:" font-extrabold ml-1 my-3",children:"\u0627\u06cc\u0645\u06cc\u0644 : "}),(0,yb.jsxs)("span",{className:" ml-1",children:[" ",t.email]})]}),(0,yb.jsxs)("section",{className:" flex items-center",children:[(0,yb.jsx)("h1",{className:" font-extrabold ml-1 my-3",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 : "}),(0,yb.jsxs)("span",{className:" ml-1",children:[" ",t.phoneNumber]})]}),(0,yb.jsxs)("section",{className:" flex items-center",children:[(0,yb.jsx)("h1",{className:" font-extrabold ml-1 my-3",children:"\u0622\u062f\u0631\u0633 : "}),(0,yb.jsxs)("span",{className:" ml-1",children:[" ",t.address]})]}),(0,yb.jsx)("button",{className:" bg-pink-600 text-white px-4 py-2 rounded-xl my-3 w-full lg:absolute lg:bottom-0 lg:left-0 lg:right-0",onClick:function(){o(!n),l({name:t.name,email:t.email,phoneNumber:t.phoneNumber,address:t.address})},children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]})]}),n&&(0,yb.jsx)("div",{className:" bg-slate-100 flex-col rounded-xl absolute top-0 right-4 left-4 sm:left-28 sm:right-28 md:left-48 md:right-48 lg:left-10 lg:right-96 xl:w-2/4 xl:left-0 xl:right-96 h-auto shadow-lg px-4 \r ring-1 ring-black ring-opacity-5 \r focus:outline-none z-50",children:(0,yb.jsxs)("section",{children:[(0,yb.jsxs)("section",{className:" border-b-2 flex items-center",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:function(){return o(!1)},className:"h-6 w-6 text-pink-600 font-extrabold my-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,yb.jsx)("h1",{className:" w-full font-extrabold text-center",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0627\u0637\u0644\u0627\u0639\u0627\u062a"})]}),(0,yb.jsxs)("section",{className:" flex flex-col mt-4",children:[" ",(0,yb.jsx)("label",{className:"mb-2",children:"\u0646\u0627\u0645: "})," ",(0,yb.jsx)("input",{type:"text",name:"name",onChange:u,value:s.name,className:" rounded-xl px-4 py-2 mb-4"})]}),(0,yb.jsxs)("section",{className:" flex flex-col",children:[" ",(0,yb.jsx)("label",{className:"mb-2",children:"\u0627\u06cc\u0645\u06cc\u0644: "})," ",(0,yb.jsx)("input",{name:"email",onChange:u,type:"text",value:t.email,className:" rounded-xl px-4 py-2 mb-4"})]}),(0,yb.jsxs)("section",{className:" flex flex-col",children:[" ",(0,yb.jsx)("label",{className:"mb-2",children:"\u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646: "})," ",(0,yb.jsx)("input",{name:"phoneNumber",onChange:u,type:"text",value:t.phoneNumber,className:" rounded-xl px-4 py-2 mb-4"})]}),(0,yb.jsxs)("section",{className:" flex flex-col",children:[" ",(0,yb.jsx)("label",{className:"mb-2",children:"\u0622\u062f\u0631\u0633: "})," ",(0,yb.jsx)("textarea",{name:"address",onChange:u,value:t.address,className:" rounded-xl px-4 py-2 mb-4 resize-none"})]}),(0,yb.jsx)("button",{onClick:function(){console.log(s)},className:"bg-pink-600 text-white px-4 py-2 rounded-xl w-full mb-4",children:"\u0648\u06cc\u0631\u0627\u06cc\u0634"})]})})]})},jC=r(4245),FC=r(2530),NC=function(e,t){switch(t.type){case"notColseUserBox":return e.userMenu=!e.userMenu,{userMenu:e.userMenu};case"ColseUserBox":return e.userMenu=!1,{userMenu:e.userMenu}}},BC=(0,e.createContext)(),VC=(0,e.createContext)(),UC={userMenu:!1},GC=function(t){var r=t.children,n=a((0,e.useReducer)(NC,UC),2),o=n[0],i=n[1];return(0,yb.jsx)(BC.Provider,{value:o,children:(0,yb.jsx)(VC.Provider,{value:i,children:r})})},qC=function(){var t=G(),r=jC.parse(t.search).name,n=e_(),o=t_(),i=a((0,e.useState)(!1),2),s=i[0],l=i[1];(0,e.useContext)(BC).userMenu,(0,e.useContext)(VC);return(0,e.useEffect)((function(){if(""===r)l(!0);else{var e=n.filter((function(e){return Object.values(e).join(" ").includes(r)}));0===e.length?l(!0):(l(!1),o(e))}}),[r]),(0,yb.jsx)("div",{className:"container xl:max-w-screen absolute top-24 left-0 right-0",children:(0,yb.jsxs)("section",{className:" relative",children:[(0,yb.jsx)("section",{className:" ",children:(0,yb.jsx)(i_,{})}),s?(0,yb.jsxs)("section",{className:" absolute top-48 right-0 left-0 flex flex-col",children:[(0,yb.jsxs)("section",{className:"  border-b-2 mx-auto flex items-center text-center border-b-pink-600  ",children:[(0,yb.jsxs)("h1",{className:"     px-10   text-pink-600 font-extrabold text-2 xl  ",children:["\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0647\u06cc\u0686 \u0645\u062d\u0635\u0648\u0644\u06cc \u0628\u0647 \u0627\u0633\u0645 ",(0,yb.jsxs)("span",{children:['"',r,'"']})," \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f !!!"]}),(0,yb.jsx)("img",{src:FC,className:"w-24 h-24 "})]}),(0,yb.jsx)(de,{to:"/product",className:"text-center pt-5 pb-5   ",children:"\u0628\u0631\u0627\u06cc \u062f\u06cc\u062f\u0646 \u0645\u062d\u0635\u0648\u0644\u0627\u062a \u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0631\u0627 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"})]}):(0,yb.jsx)("div",{className:" relative",children:(0,yb.jsx)("div",{className:"    grid gap-3  gap-y-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 \r lg:grid-cols-4 absolute top-20 left-0 right-0 ",children:n?n.map((function(e){return(0,yb.jsxs)("section",{className:"flex flex-col relative  items-center  overflow-hidden cursor-pointer hover:scale-110 \r transition-all delay-200 ",children:[(0,yb.jsx)(de,{to:"/".concat(e._id),children:(0,yb.jsx)("img",{className:"rounded w-56 h-48",src:e.image})}),(0,yb.jsxs)(de,{to:"/".concat(e._id),className:" text-sky-900 w-full py-1 text-sm",children:[(0,yb.jsxs)("h1",{className:"text-center",children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{className:"text-center font-bold mt-1 text-xl",children:[e.price.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),(0,yb.jsx)("span",{className:"font-normal text-sm",children:" \u062a\u0648\u0645\u0627\u0646 "})]})]})]},e._id)})):(0,yb.jsxs)("section",{className:"  w-screen container xl:max-w-screen-xl h-screen absolute left-0 right-0",children:[(0,yb.jsx)("img",{src:r_,className:"rounded w-full h-3/4"}),(0,yb.jsx)("p",{className:" z-10 text-center absolute w-full top-20 font-extrabold  text-4xl animate-bounce",children:"...Loading"})]})})})]})})},WC=function(){var t=G().state.detailProduct,r=a((0,e.useState)([]),2),n=r[0],o=r[1],i=a((0,e.useState)(!1),2),s=i[0],l=i[1],u=e_(),c=Qb(),f=t_(),d=a((0,e.useState)(""),2),h=d[0],p=d[1],v=a((0,e.useState)(!1),2),m=v[0],y=v[1];(0,e.useEffect)((function(){o([me(me({},n),{},{id:t._id,image:t.image,type:t.type,title:t.title,brand:t.brand,price:t.price,properties:t.properties})])}),[]);var g=function(){l(!0),y(!1);var e=u.filter((function(e){return e._id!==t._id}));f(e)};return(0,yb.jsxs)("div",{className:"absolute container  left-0 right-0 h-full top-24 ",children:[(0,yb.jsx)(i_,{}),(0,yb.jsx)("h1",{className:" mt-5 border-b-2 font-extrabold text-2xl text-center pb-2 ",children:"\u0645\u0642\u0627\u06cc\u0633\u0647 \u0645\u062d\u0635\u0648\u0644"}),s&&(0,yb.jsx)("section",{className:" transition-all duration-500 h-4/5 overflow-scroll bg-slate-50  z-10 \r absolute top-24 left-0 right-0  w-4/5 md:w-2/4 mx-auto rounded ",children:(0,yb.jsxs)("section",{className:"",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:function(){l(!1),y(!1)},className:"h-8 absolute text-pink-600  left-0 px-4 font-extrabold text-2xl mt-2 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,yb.jsx)("section",{className:" absolute top-12 w-full px-2 md:px-10  ",children:(0,yb.jsx)("input",{type:"text",onKeyDown:function(e){return function(e){if("Enter"===e.key)if(""===h)f(c);else{var t=u.filter((function(e){return e.title.includes(h)}));0===t.length?y(!0):(f(t),y(!1))}}(e)},onChange:function(e){return function(e){p(e.target.value)}(e)},placeholder:" \u062c\u0633\u062a\u062c\u0648",className:" w-full outline-none  border-sky-900 rounded py-2 px-4"})}),m&&(0,yb.jsx)("p",{className:" absolute top-24 mt-2 left-0 right-0 text-center text-pink-600 font-bold ",children:"\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0645\u062d\u0635\u0648\u0644\u06cc \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f!!!"}),(0,yb.jsx)("section",{className:"   grid gap-2 grid-cols-2 md:grid-cols-3 left-0 right-0  absolute top-36 px-2 text-sm md:px-10",children:u.map((function(e){return(0,yb.jsxs)("section",{className:" text-center ",onClick:function(){return function(e){l(!1),n.push(me(me({},n),{},{id:e._id,image:e.image,brand:e.brand,type:e.type,title:e.title,price:e.price,properties:e.properties})),console.log(n)}(e)},children:[(0,yb.jsx)("img",{src:e.image,className:"h-24 w-full mx-auto rounded"}),(0,yb.jsxs)("h1",{children:[e.type," ",e.brand," ",e.title]}),(0,yb.jsxs)("h1",{children:[e.price.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")," ","\u062a\u0648\u0645\u0627\u0646"]})]},e._id)}))})]})}),(0,yb.jsxs)("section",{className:"".concat(s?" mt-5 opacity-50 flex justify-evenly items-center ":" text-sm  flex gap-2 justify-evenly items-center mt-5 "),children:[n.map((function(e){return(0,yb.jsx)("section",{className:" text-center",children:(0,yb.jsxs)("section",{children:[n.length>=2&&(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:function(){return function(e){var t=n.filter((function(t){return t.id!==e.id}));o(t)}(e)},className:"h-6 w-6 text-pink-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),(0,yb.jsxs)(de,{to:"/".concat(e.id),children:[" ",(0,yb.jsx)("img",{src:e.image,className:"h-32 w-48 rounded"})]}),(0,yb.jsxs)("h1",{className:" pt-2",children:[e.type," ",e.brand," ",e.title," "]}),(0,yb.jsxs)("h1",{className:" pt-1",children:[e.price.toFixed(0).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),(0,yb.jsx)("span",{children:" \u062a\u0648\u0645\u0627\u0646 "})]})]})},e.id)})),(0,yb.jsx)("section",{className:" hover:scale-125 hover:transition-all  hover:duration-500",children:1===n.length&&(0,yb.jsxs)("section",{className:"",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:g,className:"h-10  w-full  text-pink-600  ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),(0,yb.jsx)("span",{className:" font-bold  w-full text-center  ",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0627\u0644\u0627"})]})}),(0,yb.jsx)("section",{className:"".concat(2===n.length&&" hidden xl:block hover:scale-125 hover:transition-all  hover:duration-500 "),children:2===n.length&&(0,yb.jsxs)("section",{className:" hidden xl:block",children:[(0,yb.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:g,className:"h-10  w-full  text-pink-600  ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,yb.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),(0,yb.jsx)("h1",{className:"font-bold  w-full text-center  ",children:"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0627\u0644\u0627"})]})})]}),(0,yb.jsxs)("section",{className:"".concat(s?" opacity-50":"opacity-100"),children:[(0,yb.jsx)("h1",{className:" text-slate-400 border-b-2 py-1 px-1 md:px-4",children:"\u062c\u0646\u0633 \u06a9\u0627\u0644\u0627:"}),(0,yb.jsx)("section",{className:"grid  grid-cols-2 md:grid-cols-3 w-3/4 mx-auto  px-1 md:px-4 ",children:n.map((function(e){return(0,yb.jsx)("section",{className:"  ",children:e.properties.map((function(e){return(0,yb.jsx)("h1",{className:"py-1  px-1 text-sm",children:e.material},e._id)}))},e.id)}))}),(0,yb.jsx)("h1",{className:" text-slate-400 border-b-2 py-1 px-4",children:"\u0644\u0648\u0627\u0632\u0645 \u0647\u0645\u0631\u0627\u0647: "}),(0,yb.jsx)("section",{className:"  text-sm grid grid-cols-2 md:grid-cols-3 w-3/4 mx-auto  px-1 md:px-4 ",children:n.map((function(e){return(0,yb.jsx)("section",{className:"",children:e.properties.map((function(e){return(0,yb.jsx)("section",{children:e.accessories.map((function(e,t){return(0,yb.jsx)("p",{children:e},t)}))},e._id)}))},e.id)}))})]})]})},ZC=function(){return(0,yb.jsx)("div",{className:"bg-slate-50 container xl:max-w-screen h-full  text-sky-900",children:(0,yb.jsx)(fe,{children:(0,yb.jsx)(Jb,{children:(0,yb.jsx)(tC.VW,{children:(0,yb.jsx)(kb,{children:(0,yb.jsx)(jb,{children:(0,yb.jsx)(Ob,{children:(0,yb.jsxs)(GC,{children:[(0,yb.jsx)(Vb,{}),(0,yb.jsxs)(B,{children:[(0,yb.jsx)(F,{path:"/",element:(0,yb.jsx)(YS,{})}),(0,yb.jsx)(F,{path:"/CheckOut",element:(0,yb.jsx)(iC,{})}),(0,yb.jsx)(F,{path:"/product",element:(0,yb.jsx)(s_,{})}),(0,yb.jsx)(F,{path:"/:id/*",element:(0,yb.jsx)(rC,{})}),(0,yb.jsx)(F,{path:"/Register",element:(0,yb.jsx)(xS,{})}),(0,yb.jsx)(F,{path:"/Login",element:(0,yb.jsx)(wS,{})}),(0,yb.jsx)(F,{path:"/Profile",element:(0,yb.jsx)(LC,{})}),(0,yb.jsx)(F,{path:"/Cart",element:(0,yb.jsx)(oC,{})}),(0,yb.jsx)(F,{path:"/ContactUs",element:(0,yb.jsx)(zC,{})}),(0,yb.jsx)(F,{path:"/AboutUs",element:(0,yb.jsx)(RC,{})}),(0,yb.jsx)(F,{path:"/FavoritesList",element:(0,yb.jsx)(DC,{})}),(0,yb.jsx)(F,{path:"/SearchResult",element:(0,yb.jsx)(qC,{})}),(0,yb.jsx)(F,{path:"/CompareProduct",element:(0,yb.jsx)(WC,{})})]})]})})})})})})})})};n.render((0,yb.jsx)(ZC,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.01f9f611.js.map